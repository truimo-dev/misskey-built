import{b as g,a as n,z as k,l as o,C as m,i as t,f as d,h as r,F as v,A as C,s as _,g as A,p as x,B as q,D as B,E as I,T as F}from"./3iSoGi4ic-D0mTJ0Mu.js";import{aF as M,J as T,ba as f}from"./3iSoGi4ic-DV-GuiCp.js";import{M as N}from"./3iSoGi4ic-CXH-8M55.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-Dty8GuTz.js";import"./3iSoGi4ic-D98_HDRS.js";const b=["src"],w=g({__name:"statusbar-federation",props:{display:{},colored:{type:Boolean},marqueeDuration:{},marqueeReverse:{type:Boolean},oneByOneInterval:{},refreshIntervalSec:{}},setup(e){const y=e,l=n([]),i=n(!0),c=n(0);M(()=>{T("federation/instances",{sort:"+latestRequestReceivedAt",limit:30}).then(a=>{l.value=a,i.value=!1,c.value++})},Math.max(5e3,y.refreshIntervalSec*1e3),{immediate:!0,afterMounted:!0});function h(a){return f(a.iconUrl,"preview")??f(a.faviconUrl,"preview")??"/client-assets/dummy.png"}return(a,u)=>{const p=k("MkA");return i.value?m("",!0):(t(),o("span",{key:0,class:"xCGSV"},[e.display==="marquee"?(t(),d(F,{key:0,enterActiveClass:"xkJUE",leaveActiveClass:"xaIou",enterFromClass:"xs3lJ",leaveToClass:"xo6PN",mode:"default"},{default:r(()=>[(t(),d(N,{key:c.value,duration:e.marqueeDuration,reverse:e.marqueeReverse},{default:r(()=>[(t(!0),o(v,null,C(l.value,s=>(t(),o("span",{key:s.id,class:A(["x3ird",{xEZc6:e.colored}]),style:_({background:e.colored?s.themeColor??"":""})},[x("img",{class:"xym4q",src:h(s),alt:""},null,10,b),q(p,{to:`/instance-info/${s.host}`,class:"xjQPX _monospace"},{default:r(()=>[B(I(s.host),1)]),_:2},1032,["to","class"]),u[0]||(u[0]=x("span",null,null,-1))],6))),128))]),_:1},8,["duration","reverse"]))]),_:1},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass"])):e.display==="oneByOne"?(t(),o(v,{key:1},[],64)):m("",!0)],2))}}});export{w as default};
