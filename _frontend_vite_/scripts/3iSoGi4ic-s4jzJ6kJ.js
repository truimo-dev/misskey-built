import{T as i,c as u,A as l,y as f,j as c}from"./3iSoGi4ic-nJzNoieu.js";import{H as E,G as P,I as v,z as C,D as L,B as W,C as V}from"./3iSoGi4ic-nJzNoieu.js";import{S as m}from"./3iSoGi4ic-KYydmxIu.js";import{P as F}from"./3iSoGi4ic-KYydmxIu.js";import"./3iSoGi4ic-C0O4p9AH.js";import"./3iSoGi4ic-DV-GuiCp.js";import"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-Dty8GuTz.js";import"./3iSoGi4ic-D98_HDRS.js";import"./3iSoGi4ic-Ddz4upM5.js";import"./3iSoGi4ic-ke9ZaMpT.js";function g(t){let e=null;for(;t.is(i.NewLine);)t.next();for(;!t.is(i.EOF);){if(e==null)e=u(t,!0);else throw new l("AiSON only supports one top-level expression.",t.getPos());switch(t.getTokenKind()){case i.NewLine:case i.SemiColon:{for(;t.is(i.NewLine)||t.is(i.SemiColon);)t.next();break}case i.EOF:break;default:throw new l("Multiple statements cannot be placed on a single line.",t.getPos())}}if(e==null)throw new l("AiSON requires at least one top-level expression.",t.getPos());return e}class O{static parse(e){const r=new m(e),s=g(r);return f(s)}static stringifyWalk(e,r,s=""){switch(e.type){case"bool":return e.value?"true":"false";case"null":return"null";case"num":return e.value.toString();case"str":return JSON.stringify(e.value);case"arr":{if(e.value.length===0)return"[]";const o=e.value.map(a=>this.stringifyWalk(a,r,s+(r??"")));return r!=null&&r!==""?`[
${s+r}${o.join(`,
${s+r}`)}
${s}]`:`[${o.join(", ")}]`}case"obj":{const o=[...e.value.keys()];if(o.length===0)return"{}";const a=o.map(n=>{const p=e.value.get(n);return`${n}: ${this.stringifyWalk(p,r,s+(r??""))}`});return r!=null&&r!==""?`{
${s+r}${a.join(`,
${s+r}`)}
${s}}`:`{${a.join(", ")}}`}default:throw new Error(`Cannot stringify value of type: ${e.type}`)}}static stringify(e,r=null,s=0){let o=null;typeof s=="number"?s>0&&(o=" ".repeat(s)):s.length>0&&(o=s);const a=c(e);return this.stringifyWalk(a,o)}}export{E as AISCRIPT_VERSION,O as AiSON,P as Ast,v as Interpreter,F as Parser,C as Scope,L as errors,W as utils,V as values};
