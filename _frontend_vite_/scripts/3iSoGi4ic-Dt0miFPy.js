import{dg as p,dh as n,J as w,bj as h}from"./3iSoGi4ic-DV-GuiCp.js";import{i18n as x}from"./3iSoGi4ic-Dty8GuTz.js";import{b as D,a as M,c as C,e as A,z as F,k as z,l as t,i as o,g as b,C as k,F as v,A as f,p as s,t as a,s as T,E as c,j as N,D as Y,B}from"./3iSoGi4ic-D0mTJ0Mu.js";const H=["src"],I=["onClick"],G={key:1},j=D({__name:"MkAchievements",props:{user:{},withLocked:{type:Boolean,default:!0},withDescription:{type:Boolean,default:!0}},setup(l){const y=l,i=M(null),E=C(()=>p.filter(r=>!(i.value??[]).some(d=>d.name===r)));function _(){w("users/achievements",{userId:y.user.id}).then(r=>{i.value=[];for(const d of p){const m=r.find(u=>u.name===d);m&&i.value.push(m)}})}function g(){h("clickedClickHere"),_()}return A(()=>{_()}),(r,d)=>{const m=F("MkLoading"),u=z("tooltip");return o(),t("div",null,[i.value?(o(),t("div",{key:0,class:"x6E78"},[(o(!0),t(v,null,f(i.value,e=>(o(),t("div",{key:e.name,class:"xyxym _panel"},[s("div",{class:"x40XD"},[s("div",{class:b(["xwMrY",{x7uaq:a(n)[e.name].frame==="bronze",x2xoY:a(n)[e.name].frame==="silver",xzot3:a(n)[e.name].frame==="gold",xuUxH:a(n)[e.name].frame==="platinum"}])},[s("div",{class:"xkN3f",style:T({background:a(n)[e.name].bg??""})},[s("img",{class:"x9GYX",src:a(n)[e.name].img},null,10,H)],6)],2)],2),s("div",{class:"xwGME"},[s("div",{class:"x4EEP"},[s("span",{class:"xEK3R"},c(x.ts._achievements._types["_"+e.name].title),3),s("span",{class:"x2zOj"},[N((o(),t("time",null,[Y(c(new Date(e.unlockedAt).getFullYear())+"/"+c(new Date(e.unlockedAt).getMonth()+1)+"/"+c(new Date(e.unlockedAt).getDate()),1)])),[[u,new Date(e.unlockedAt).toLocaleString()]])],2)],2),s("div",{class:"xlKTC"},c(l.withDescription?x.ts._achievements._types["_"+e.name].description:"???"),3),x.ts._achievements._types["_"+e.name].flavor&&l.withDescription?(o(),t("div",{key:0,class:"xgaTc"},c(x.ts._achievements._types["_"+e.name].flavor),3)):k("",!0)],2)],2))),128)),l.withLocked?(o(!0),t(v,{key:0},f(E.value,e=>(o(),t("div",{key:e,class:"xyxym xdw7W _panel",onClick:K=>e==="clickedClickHere"?g():()=>{}},[s("div",{class:"x40XD"},null,2),s("div",{class:"xwGME"},[s("div",{class:"x4EEP"},[s("span",{class:"xEK3R"},"???",2)],2),s("div",{class:"xlKTC"},"???",2)],2)],10,I))),128)):k("",!0)],2)):(o(),t("div",G,[B(m)]))])}}});export{j as M};
