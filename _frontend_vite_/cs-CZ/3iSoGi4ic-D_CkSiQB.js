const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D6lvPj3q.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DV-GuiCp.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D0mTJ0Mu.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B1GPmOGN.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dty8GuTz.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D98_HDRS.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DZU1WGtr.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-9GwroBN9.css"])))=>i.map(i=>d[i]);
import{i as ee,a7 as te,M as V,e as se,L as p,br as c,aS as le,az as ae,ab as P,ag as ie,C as ne,J as oe}from"./3iSoGi4ic-DV-GuiCp.js";import{M as g}from"./3iSoGi4ic-Fx-BY70c.js";import{b as E,a as _,z as y,f as N,i as O,h as e,B as t,p as n,D as a,E as i,t as D,d as re,ab as de,c as ue,R as me}from"./3iSoGi4ic-D0mTJ0Mu.js";import{M as x}from"./3iSoGi4ic-BDF7xMl0.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const pe={class:"_gaps_m"},ce=["textContent"],ve=["onClick"],_e=E({__name:"server-rules",setup(z){const C=re(()=>se(()=>import("./3iSoGi4ic-D6lvPj3q.js").then(k=>k.v),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url).then(k=>k.default)),f=_(ee.serverRules),d=async()=>{await p("admin/update-meta",{serverRules:f.value}),c(!0)},H=k=>{f.value.splice(k,1)};return(k,o)=>{const U=y("SearchIcon"),I=y("SearchLabel"),w=y("SearchText"),W=y("SearchMarker");return O(),N(W,{markerId:"serverRules",keywords:["rules"]},{default:e(()=>[t(g,null,{icon:e(()=>[t(U,null,{default:e(()=>[...o[4]||(o[4]=[n("i",{class:"ti ti-checkbox"},null,-1)])]),_:1})]),label:e(()=>[t(I,null,{default:e(()=>[a(i("Pravidla serveru"),1)]),_:1})]),default:e(()=>[n("div",pe,[n("div",null,[t(w,null,{default:e(()=>[a(i("Soubor pravidel, která se zobrazí před registrací. Doporučuje se nastavit shrnutí podmínek služby."),1)]),_:1})]),t(D(C),{modelValue:f.value,"onUpdate:modelValue":o[0]||(o[0]=u=>f.value=u),class:"_gaps_m",itemKey:(u,b)=>b,animation:150,handle:".x1QGu",onStart:o[1]||(o[1]=u=>u.item.classList.add("active")),onEnd:o[2]||(o[2]=u=>u.item.classList.remove("active"))},{item:e(({element:u,index:b})=>[n("div",{class:"x33gF"},[n("div",{class:"xfnVt"},[n("div",{class:"xF3wW",textContent:i(String(b+1))},null,10,ce),n("span",{class:"x1QGu"},[...o[5]||(o[5]=[n("i",{class:"ti ti-menu"},null,-1)])],2),n("button",{class:"_button x9Bp2",onClick:F=>H(b)},[...o[6]||(o[6]=[n("i",{class:"ti ti-x"},null,-1)])],10,ve)],2),t(te,{modelValue:f.value[b],"onUpdate:modelValue":F=>f.value[b]=F},null,8,["modelValue","onUpdate:modelValue"])],2)]),_:1},8,["modelValue","itemKey","handle"]),n("div",{class:"xk5SH"},[t(V,{rounded:"",onClick:o[3]||(o[3]=u=>f.value.push(""))},{default:e(()=>[o[7]||(o[7]=n("i",{class:"ti ti-plus"},null,-1)),a(" "+i("Přidat"),1)]),_:1}),t(V,{primary:"",rounded:"",onClick:d},{default:e(()=>[o[8]||(o[8]=n("i",{class:"ti ti-check"},null,-1)),a(" "+i("Uložit"),1)]),_:1})],2)])]),_:1})]),_:1})}}});const fe={class:"_spacer",style:{"--MI_SPACER-w":"700px","--MI_SPACER-min":"16px","--MI_SPACER-max":"32px"}},be={class:"_gaps_m"},Ve={class:"_gaps"},ke={class:"_gaps"},ge={class:"_gaps"},ye={class:"_gaps"},Se={class:"_gaps"},he={class:"_gaps"},xe={class:"_gaps"},Ce={class:"_gaps"},De=E({__name:"moderation",async setup(z){let C,f;const d=([C,f]=de(()=>oe("admin/meta")),C=await C,f(),C),H=_(!d.disableRegistration),k=_(d.emailRequiredForSignup),{model:o,def:U}=le({items:[{label:"Everything is public",value:"all"},{label:"Only local content is published, remote content is kept private",value:"local"},{label:"Everything is private",value:"none"}],initialValue:d.ugcVisibilityForVisitor}),I=_(d.sensitiveWords.join(`
`)),w=_(d.prohibitedWords.join(`
`)),W=_(d.prohibitedWordsForNameOfUser.join(`
`)),u=_(d.hiddenTags.join(`
`)),b=_(d.preservedUsernames.join(`
`)),F=_(d.blockedHosts.join(`
`)),T=_(d.silencedHosts?.join(`
`)??""),M=_(d.mediaSilencedHosts.join(`
`));async function j(S){if(S){const{canceled:s}=await ne({type:"warning",text:"Turn on after understanding the precautions."});if(s)return}H.value=S,p("admin/update-meta",{disableRegistration:!S}).then(()=>{c(!0)})}function B(S){p("admin/update-meta",{emailRequiredForSignup:S}).then(()=>{c(!0)})}function q(S){p("admin/update-meta",{ugcVisibilityForVisitor:S}).then(()=>{c(!0)})}function A(){p("admin/update-meta",{preservedUsernames:b.value.split(`
`)}).then(()=>{c(!0)})}function G(){p("admin/update-meta",{sensitiveWords:I.value.split(`
`)}).then(()=>{c(!0)})}function Y(){p("admin/update-meta",{prohibitedWords:w.value.split(`
`)}).then(()=>{c(!0)})}function L(){p("admin/update-meta",{prohibitedWordsForNameOfUser:W.value.split(`
`)}).then(()=>{c(!0)})}function Q(){p("admin/update-meta",{hiddenTags:u.value.split(`
`)}).then(()=>{c(!0)})}function $(){p("admin/update-meta",{blockedHosts:F.value.split(`
`)||[]}).then(()=>{c(!0)})}function J(){p("admin/update-meta",{silencedHosts:T.value.split(`
`)||[]}).then(()=>{c(!0)})}function X(){p("admin/update-meta",{mediaSilencedHosts:M.value.split(`
`)||[]}).then(()=>{c(!0)})}const K=ue(()=>[]);return ae(()=>({title:"Moderování",icon:"ti ti-shield"})),(S,s)=>{const v=y("SearchLabel"),R=y("SearchText"),m=y("SearchMarker"),h=y("SearchIcon"),Z=y("PageWithHeader");return O(),N(Z,{tabs:K.value},{default:e(()=>[n("div",fe,[t(m,{path:"/admin/moderation",label:"Moderování",keywords:["moderation"],icon:"ti ti-shield",inlining:["serverRules"],markerId:"52l4V9NHP","data-in-app-search-marker-id":"52l4V9NHP",children:["8FF1JDiar","4TvP9phlp","cjzWXco6u","7xyFHwqDg","6P1TzwEh1","CYVpdPbBH","nPOrTVt5r","z3d6UTP68","8QvMlybVI","80Dxrtnl4","sYORVrYSk"]},{default:e(()=>[n("div",be,[t(m,{keywords:["open","registration"],markerId:"8FF1JDiar","data-in-app-search-marker-id":"8FF1JDiar"},{default:e(()=>[t(P,{modelValue:H.value,"onUpdate:modelValue":j},{label:e(()=>[t(v,null,{default:e(()=>[a(i("Make the account creation open"),1)]),_:1})]),caption:e(()=>[n("div",null,[t(R,null,{default:e(()=>[a(i("If no moderator activity is detected for a while, this setting will be automatically turned off to prevent spam."),1)]),_:1})]),n("div",null,[s[10]||(s[10]=n("i",{class:"ti ti-alert-triangle",style:{color:"var(--MI_THEME-warn)"}},null,-1)),s[11]||(s[11]=a()),t(R,null,{default:e(()=>[a(i("Opening registration carries risks. It is recommended to only enable it if you have a system in place to continuously monitor the server and respond immediately in case of any issues."),1)]),_:1})])]),_:1},8,["modelValue"])]),_:1}),t(m,{keywords:["email","required","signup"],markerId:"4TvP9phlp","data-in-app-search-marker-id":"4TvP9phlp"},{default:e(()=>[t(P,{modelValue:k.value,"onUpdate:modelValue":s[0]||(s[0]=r=>k.value=r),onChange:B},{label:e(()=>[t(v,null,{default:e(()=>[a(i("Vyžadovat email pro registraci"),1)]),_:1}),a(" ("+i("Doporučeno")+")",1)]),_:1},8,["modelValue"])]),_:1}),t(m,{keywords:["ugc","content","visibility","visitor","guest"],markerId:"cjzWXco6u","data-in-app-search-marker-id":"cjzWXco6u"},{default:e(()=>[t(ie,{modelValue:D(o),"onUpdate:modelValue":[s[1]||(s[1]=r=>me(o)?o.value=r:null),q],items:D(U)},{label:e(()=>[t(v,null,{default:e(()=>[a(i("Visibility of user-generated content to guests"),1)]),_:1})]),caption:e(()=>[n("div",null,[t(R,null,{default:e(()=>[a(i("This is useful for preventing problems caused by inappropriate remote content that is not well moderated from being unintentionally published on the Internet via your own server."),1)]),_:1})]),n("div",null,[s[12]||(s[12]=n("i",{class:"ti ti-alert-triangle",style:{color:"var(--MI_THEME-warn)"}},null,-1)),s[13]||(s[13]=a()),t(R,null,{default:e(()=>[a(i("Unconditionally publishing all content on the server to the Internet, including remote content received by the server is risky. This is especially important for guests who are unaware of the distributed nature of the content, as they may mistakenly believe that even remote content is content created by users on the server."),1)]),_:1})])]),_:1},8,["modelValue","items"])]),_:1}),t(_e),t(m,{keywords:["preserved","usernames"],markerId:"7xyFHwqDg","data-in-app-search-marker-id":"7xyFHwqDg"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[14]||(s[14]=[n("i",{class:"ti ti-lock-star"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("Rezervované uživatelské jména"),1)]),_:1})]),default:e(()=>[n("div",Ve,[t(x,{modelValue:b.value,"onUpdate:modelValue":s[2]||(s[2]=r=>b.value=r)},{caption:e(()=>[a(i("Seznam uživatelských jmén na rezervaci oddělené mezerama. Tyhle jména se potom nebudou moc použít při normálním procesu vytvoření účtu ale můžou být použiti manuálně administratorém. Existujících účtů se to nedotkne."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:A},{default:e(()=>[a(i("Uložit"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["sensitive","words"],markerId:"6P1TzwEh1","data-in-app-search-marker-id":"6P1TzwEh1"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[15]||(s[15]=[n("i",{class:"ti ti-message-exclamation"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("Citlivá slova"),1)]),_:1})]),default:e(()=>[n("div",ke,[t(x,{modelValue:I.value,"onUpdate:modelValue":s[3]||(s[3]=r=>I.value=r)},{caption:e(()=>[a(i("Viditelnost všech poznámek obsahujících některé z nakonfigurovaných slov bude automaticky nastavena na \"Domů\". Můžete jich uvést více tak, že je oddělíte pomocí řádků."),1),s[16]||(s[16]=n("br",null,null,-1)),a(i("Použití mezer vytvoří výrazy AND a obklopení klíčových slov lomítky je změní na regulární výraz."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:G},{default:e(()=>[a(i("Uložit"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["prohibited","words"],markerId:"CYVpdPbBH","data-in-app-search-marker-id":"CYVpdPbBH"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[17]||(s[17]=[n("i",{class:"ti ti-message-x"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("Prohibited words"),1)]),_:1})]),default:e(()=>[n("div",ge,[t(x,{modelValue:w.value,"onUpdate:modelValue":s[4]||(s[4]=r=>w.value=r)},{caption:e(()=>[a(i("Enables an error when attempting to post a note containing the set word(s). Multiple words can be set, separated by a new line."),1),s[18]||(s[18]=n("br",null,null,-1)),a(i("Použití mezer vytvoří výrazy AND a obklopení klíčových slov lomítky je změní na regulární výraz."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:Y},{default:e(()=>[a(i("Uložit"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["prohibited","name","user"],markerId:"nPOrTVt5r","data-in-app-search-marker-id":"nPOrTVt5r"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[19]||(s[19]=[n("i",{class:"ti ti-user-x"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("Prohibited words for usernames"),1)]),_:1})]),default:e(()=>[n("div",ye,[t(x,{modelValue:W.value,"onUpdate:modelValue":s[5]||(s[5]=r=>W.value=r)},{caption:e(()=>[a(i("If any of the strings in this list are included in the user's name, the name will be denied. Users with moderator privileges are not affected by this restriction."),1),s[20]||(s[20]=n("br",null,null,-1)),a(i("Použití mezer vytvoří výrazy AND a obklopení klíčových slov lomítky je změní na regulární výraz."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:L},{default:e(()=>[a(i("Uložit"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["hidden","tags","hashtags"],markerId:"z3d6UTP68","data-in-app-search-marker-id":"z3d6UTP68"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[21]||(s[21]=[n("i",{class:"ti ti-eye-off"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("Hidden hashtags"),1)]),_:1})]),default:e(()=>[n("div",Se,[t(x,{modelValue:u.value,"onUpdate:modelValue":s[6]||(s[6]=r=>u.value=r)},{caption:e(()=>[a(i("Select tags which will not shown on trend list.\nMultiple tags could be registered by lines."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:Q},{default:e(()=>[a(i("Uložit"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["silenced","servers","hosts"],markerId:"8QvMlybVI","data-in-app-search-marker-id":"8QvMlybVI"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[22]||(s[22]=[n("i",{class:"ti ti-eye-off"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("Silenced instances"),1)]),_:1})]),default:e(()=>[n("div",he,[t(x,{modelValue:T.value,"onUpdate:modelValue":s[7]||(s[7]=r=>T.value=r)},{caption:e(()=>[a(i("List the host names of the servers that you want to silence, separated by a new line. All accounts belonging to the listed servers will be treated as silenced, and can only make follow requests, and cannot mention local accounts if not followed. This will not affect the blocked servers."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:J},{default:e(()=>[a(i("Uložit"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["media","silenced","servers","hosts"],markerId:"80Dxrtnl4","data-in-app-search-marker-id":"80Dxrtnl4"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[23]||(s[23]=[n("i",{class:"ti ti-eye-off"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("Media-silenced servers"),1)]),_:1})]),default:e(()=>[n("div",xe,[t(x,{modelValue:M.value,"onUpdate:modelValue":s[8]||(s[8]=r=>M.value=r)},{caption:e(()=>[a(i("List the host names of the servers that you want to media-silence, separated by a new line. All accounts belonging to the listed servers will be treated as sensitive, and can't use custom emojis. This will not affect the blocked servers."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:X},{default:e(()=>[a(i("Uložit"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["blocked","servers","hosts"],markerId:"sYORVrYSk","data-in-app-search-marker-id":"sYORVrYSk"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[24]||(s[24]=[n("i",{class:"ti ti-ban"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("Blokované instance"),1)]),_:1})]),default:e(()=>[n("div",Ce,[t(x,{modelValue:F.value,"onUpdate:modelValue":s[9]||(s[9]=r=>F.value=r)},{caption:e(()=>[a(i("Vypište názvy hostitelů instancí, které chcete blokovat odděleně řádkovými zlomky. Uvedené instance již nebudou moci s touto instancí komunikovat."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:$},{default:e(()=>[a(i("Uložit"),1)]),_:1})])]),_:1})]),_:1})])]),_:1},8,["label"])])]),_:1},8,["tabs"])}}});export{De as default};
