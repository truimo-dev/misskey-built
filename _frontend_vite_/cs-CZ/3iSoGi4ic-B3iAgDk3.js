import{M as p}from"./3iSoGi4ic-DAdd3LFH.js";import{M as _}from"./3iSoGi4ic-CdSqfJMx.js";import{ak as S,P as m,az as z,a7 as D,M as b}from"./3iSoGi4ic-DV-GuiCp.js";import{b as H,a as v,Z as I,m as f,c as C,z as T,f as u,i as e,h as i,p as r,l,C as M,B as d,D as U,E as W,t as k,F as h,A as y}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-Dv7rS4og.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const q={class:"_spacer",style:{"--MI_SPACER-w":"700px"}},K={key:0},L={class:"_gaps"},Q={class:"_gaps_s"},Z={key:1},$={class:"_gaps_s"},j={key:2},G={class:"_gaps"},J={class:"_gaps_s"},O={key:3},X={class:"_gaps_s"},ue=H({__name:"flash-index",setup(Y){const x=S(),o=v("featured"),c=v(""),g=I(null),P=v(0),V=f(new m("flash/featured",{limit:5,offsetMode:!0})),B=f(new m("flash/my",{limit:5})),F=f(new m("flash/my-likes",{limit:5,canSearch:!0,searchParamName:"search"}));function w(){x.push("/play/new")}function N(){c.value.trim()!==""&&(g.value=f(new m("flash/search",{params:{query:c.value}})),P.value++)}const R=C(()=>[{icon:"ti ti-plus",text:"Vytvořit",handler:w}]),A=C(()=>[{key:"search",title:"Vyhledávání",icon:"ti ti-search"},{key:"featured",title:"Populární",icon:"ti ti-flare"},{key:"my",title:"Moje Plays",icon:"ti ti-edit"},{key:"liked",title:"To se mi líbí Plays",icon:"ti ti-heart"}]);return z(()=>({title:"Play",icon:"ti ti-player-play"})),(ee,s)=>{const E=T("PageWithHeader");return e(),u(E,{tab:o.value,"onUpdate:tab":s[2]||(s[2]=a=>o.value=a),actions:R.value,tabs:A.value,swipable:!0},{default:i(()=>[r("div",q,[o.value==="search"?(e(),l("div",K,[r("div",L,[d(D,{modelValue:c.value,"onUpdate:modelValue":s[0]||(s[0]=a=>c.value=a),large:!0,type:"search"},{prefix:i(()=>[...s[3]||(s[3]=[r("i",{class:"ti ti-search"},null,-1)])]),_:1},8,["modelValue"]),d(b,{large:"",primary:"",gradate:"",rounded:"",style:{margin:"0 auto"},onClick:N},{default:i(()=>[U(W("Vyhledávání"),1)]),_:1}),g.value?(e(),u(_,{key:P.value,paginator:g.value},{default:i(({items:a})=>[r("div",Q,[(e(!0),l(h,null,y(a,t=>(e(),u(p,{key:t.id,flash:t},null,8,["flash"]))),128))])]),_:1},8,["paginator"])):M("",!0)])])):o.value==="featured"?(e(),l("div",Z,[d(_,{paginator:k(V)},{default:i(({items:a})=>[r("div",$,[(e(!0),l(h,null,y(a,t=>(e(),u(p,{key:t.id,flash:t},null,8,["flash"]))),128))])]),_:1},8,["paginator"])])):o.value==="my"?(e(),l("div",j,[r("div",G,[d(b,{gradate:"",rounded:"",style:{margin:"0 auto"},onClick:s[1]||(s[1]=a=>w())},{default:i(()=>[...s[4]||(s[4]=[r("i",{class:"ti ti-plus"},null,-1)])]),_:1}),d(_,{paginator:k(B)},{default:i(({items:a})=>[r("div",J,[(e(!0),l(h,null,y(a,t=>(e(),u(p,{key:t.id,flash:t},null,8,["flash"]))),128))])]),_:1},8,["paginator"])])])):o.value==="liked"?(e(),l("div",O,[d(_,{paginator:k(F),withControl:""},{default:i(({items:a})=>[r("div",X,[(e(!0),l(h,null,y(a,t=>(e(),u(p,{key:t.flash.id,flash:t.flash},null,8,["flash"]))),128))])]),_:1},8,["paginator"])])):M("",!0)])]),_:1},8,["tab","actions","tabs"])}}});export{ue as default};
