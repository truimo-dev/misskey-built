import{M as w}from"./3iSoGi4ic-DtDbNQ4_.js";import{M as u}from"./3iSoGi4ic-CdSqfJMx.js";import{M as d}from"./3iSoGi4ic-Dsx90Xmd.js";import{ak as S,P as g,az as T}from"./3iSoGi4ic-DV-GuiCp.js";import{b as D,a as b,m,w as G,c as M,z as h,f as c,i as t,h as s,p as i,l as r,C as H,B as n,t as k,F as y,A as _,D as f,E as P}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-Dv7rS4og.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const W={class:"_spacer",style:{"--MI_SPACER-w":"1400px"}},L={key:0},U={key:1},$={key:2},at=D({__name:"index",props:{tag:{}},setup(C){const I=S(),v=C,p=b("explore"),x=b(),A=m(new g("gallery/posts",{limit:6})),B=m(new g("gallery/featured",{noPaging:!0})),N=m(new g("i/gallery/posts",{limit:5})),R=m(new g("i/gallery/likes",{limit:5}));G(()=>v.tag,()=>{x.value&&x.value.tags.toggleContent(v.tag==null)});const V=M(()=>[{icon:"ti ti-plus",text:"Создать",handler:()=>{I.push("/gallery/new")}}]),z=M(()=>[{key:"explore",title:"Галерея",icon:"ti ti-icons"},{key:"liked",title:"Понравившееся",icon:"ti ti-heart"},{key:"my",title:"Личная",icon:"ti ti-edit"}]);return T(()=>({title:"Галерея",icon:"ti ti-icons"})),(j,o)=>{const E=h("MkA"),F=h("PageWithHeader");return t(),c(F,{tab:p.value,"onUpdate:tab":o[0]||(o[0]=a=>p.value=a),actions:V.value,tabs:z.value,swipable:!0},{default:s(()=>[i("div",W,[p.value==="explore"?(t(),r("div",L,[n(w,{class:"_margin"},{header:s(()=>[o[1]||(o[1]=i("i",{class:"ti ti-clock"},null,-1)),f(P("Недавние публикации"),1)]),default:s(()=>[n(u,{paginator:k(A)},{default:s(({items:a})=>[i("div",{class:"xrkI1"},[(t(!0),r(y,null,_(a,e=>(t(),c(d,{key:e.id,post:e,class:"post"},null,8,["post"]))),128))],2)]),_:1},8,["paginator"])]),_:1}),n(w,{class:"_margin"},{header:s(()=>[o[2]||(o[2]=i("i",{class:"ti ti-comet"},null,-1)),f(P("Популярные публикации"),1)]),default:s(()=>[n(u,{paginator:k(B)},{default:s(({items:a})=>[i("div",{class:"xrkI1"},[(t(!0),r(y,null,_(a,e=>(t(),c(d,{key:e.id,post:e,class:"post"},null,8,["post"]))),128))],2)]),_:1},8,["paginator"])]),_:1})])):p.value==="liked"?(t(),r("div",U,[n(u,{paginator:k(R)},{default:s(({items:a})=>[i("div",{class:"xrkI1"},[(t(!0),r(y,null,_(a,e=>(t(),c(d,{key:e.id,post:e.post,class:"post"},null,8,["post"]))),128))],2)]),_:1},8,["paginator"])])):p.value==="my"?(t(),r("div",$,[n(E,{to:"/gallery/new",class:"_link",style:{margin:"16px"}},{default:s(()=>[o[3]||(o[3]=i("i",{class:"ti ti-plus"},null,-1)),f(" "+P("Опубликовать в галерею"),1)]),_:1}),n(u,{paginator:k(N)},{default:s(({items:a})=>[i("div",{class:"xrkI1"},[(t(!0),r(y,null,_(a,e=>(t(),c(d,{key:e.id,post:e,class:"post"},null,8,["post"]))),128))],2)]),_:1},8,["paginator"])])):H("",!0)])]),_:1},8,["tab","actions","tabs"])}}});export{at as default};
