import{az as b,M as C,J as x,v as B,L as F,ct as A}from"./3iSoGi4ic-DV-GuiCp.js";import{F as P}from"./3iSoGi4ic-CaDkpGcu.js";import{F as S}from"./3iSoGi4ic-BBsRrkiB.js";import{b as w,a as D,c as _,z as E,f as c,i as t,h as a,p as y,B as M,l,C as N,D as p,E as m,F as d,A as f}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const V={class:"_spacer",style:{"--MI_SPACER-w":"600px","--MI_SPACER-min":"16px"}},W={key:0,class:"_gaps_m"},j={class:"_gaps_s"},U=w({__name:"registry",setup(K){const i=D(null);function u(){x("i/registry/scopes-with-domain").then(r=>{i.value=r})}async function g(){const{canceled:r,result:o}=await B("Новый ключ",{key:{type:"string",label:"Ключ"},value:{type:"string",multiline:!0,label:"Значения"},scope:{type:"string",label:"Область"}});r||F("i/registry/set",{scope:o.scope.split("/"),key:o.key,value:A.parse(o.value)}).then(()=>{u()})}u();const h=_(()=>[]),k=_(()=>[]);return b(()=>({title:"Реестр",icon:"ti ti-adjustments"})),(r,o)=>{const v=E("PageWithHeader");return t(),c(v,{actions:h.value,tabs:k.value},{default:a(()=>[y("div",V,[M(C,{primary:"",onClick:g},{default:a(()=>[p(m("Новый ключ"),1)]),_:1}),i.value?(t(),l("div",W,[(t(!0),l(d,null,f(i.value,s=>(t(),c(S,{key:s.domain??"system"},{label:a(()=>[p(m(s.domain?s.domain.toUpperCase():"Система"),1)]),default:a(()=>[y("div",j,[(t(!0),l(d,null,f(s.scopes,n=>(t(),c(P,{to:`/registry/keys/${s.domain??"@"}/${n.join("/")}`,class:"_monospace"},{default:a(()=>[p(m(n.length===0?"(root)":n.join("/")),1)]),_:2},1032,["to"]))),256))])]),_:2},1024))),128))])):N("",!0)])]),_:1},8,["actions","tabs"])}}});export{U as default};
