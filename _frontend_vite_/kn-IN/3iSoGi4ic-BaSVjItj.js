import{c4 as W,M as S,az as A,C as D,J as M}from"./3iSoGi4ic-DV-GuiCp.js";import{M as I}from"./3iSoGi4ic-Fx-BY70c.js";import{b as E,N,z as k,f as y,i as a,a2 as F,h as t,t as o,D as n,E as c,p as r,B as l,l as d,a as H,c as T,e as P,F as V,A as $}from"./3iSoGi4ic-D0mTJ0Mu.js";import{F as L}from"./3iSoGi4ic-BBsRrkiB.js";import{s as B}from"./3iSoGi4ic-DI0ojuRL.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const q={key:0,class:"ti ti-player-pause"},z={key:1,class:"ti ti-circle"},J={key:2,class:"ti ti-check",style:{color:"var(--MI_THEME-success)"}},R={key:3,class:"ti ti-alert-triangle",style:{color:"var(--MI_THEME-error)"}},K={key:1},X={class:"_buttons"},j={class:"_gaps"},G=E({__name:"system-webhook.item",props:{entity:{}},emits:["edit","delete"],setup(g,{emit:u}){const _=u,f=g,{entity:e}=N(f);function h(){_("edit",e.value)}function b(){_("delete",e.value)}return(m,s)=>{const i=k("MkTime");return a(),y(I,null,F({label:t(()=>[n(c(o(e).name||o(e).url),1)]),icon:t(()=>[o(e).isActive?o(e).latestStatus===null?(a(),d("i",z)):[200,201,204].includes(o(e).latestStatus)?(a(),d("i",J)):(a(),d("i",R)):(a(),d("i",q))]),suffix:t(()=>[o(e).latestSentAt?(a(),y(i,{key:0,time:o(e).latestSentAt,style:{"margin-right":"8px"}},null,8,["time"])):(a(),d("span",K,"-"))]),footer:t(()=>[r("div",X,[l(S,{onClick:h},{default:t(()=>[s[0]||(s[0]=r("i",{class:"ti ti-settings"},null,-1)),n(" "+c("Edit"),1)]),_:1}),l(S,{danger:"",onClick:b},{default:t(()=>[s[1]||(s[1]=r("i",{class:"ti ti-trash"},null,-1)),n(" "+c("ಅಳಿಸು"),1)]),_:1})])]),default:t(()=>[r("div",j,[l(W,null,{key:t(()=>[...s[2]||(s[2]=[n("latestStatus",-1)])]),value:t(()=>[n(c(o(e).latestStatus??"-"),1)]),_:1})])]),_:2},[o(e).name!=null&&o(e).name!=""?{name:"caption",fn:t(()=>[n(c(o(e).url),1)]),key:"0"}:void 0]),1024)}}});const O={class:"_spacer",style:{"--MI_SPACER-w":"900px"}},Q={class:"_gaps_m"},U={class:"_gaps"},lt=E({__name:"system-webhook",setup(g){const u=H([]),_=T(()=>[]),f=T(()=>[]);async function e(){await B({mode:"create"}),await m()}async function h(s){await B({mode:"edit",id:s.id}),await m()}async function b(s){(await D({type:"warning",title:"Are you sure you want to delete the Webhook?"})).canceled||(await M("admin/system-webhook/delete",{id:s.id}),await m())}async function m(){const s=await M("admin/system-webhook/list",{});u.value=s.sort((i,w)=>i.id.localeCompare(w.id))}return P(async()=>{await m()}),A(()=>({title:"SystemWebhook",icon:"ti ti-webhook"})),(s,i)=>{const w=k("SearchLabel"),v=k("SearchMarker"),x=k("PageWithHeader");return a(),y(x,{actions:_.value,tabs:f.value},{default:t(()=>[r("div",O,[l(v,{path:"/admin/system-webhook",label:"SystemWebhook",keywords:["webhook"],icon:"ti ti-webhook",markerId:"nlSq07Nfk","data-in-app-search-marker-id":"nlSq07Nfk",children:["s5TBgTlmy"]},{default:t(()=>[r("div",Q,[l(v,{markerId:"s5TBgTlmy","data-in-app-search-marker-id":"s5TBgTlmy"},{default:t(()=>[l(S,{primary:"",onClick:e},{default:t(()=>[i[0]||(i[0]=r("i",{class:"ti ti-plus"},null,-1)),i[1]||(i[1]=n()),l(w,null,{default:t(()=>[n(c("Create Webhook"),1)]),_:1})]),_:1})]),_:1}),l(L,null,{default:t(()=>[r("div",U,[(a(!0),d(V,null,$(u.value,C=>(a(),y(G,{key:C.id,entity:C,onEdit:h,onDelete:b},null,8,["entity"]))),128))])]),_:1})])]),_:1})])]),_:1},8,["actions","tabs"])}}});export{lt as default};
