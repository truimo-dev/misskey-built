const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D4c9btWc.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DV-GuiCp.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D0mTJ0Mu.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B1GPmOGN.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dty8GuTz.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D98_HDRS.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DZU1WGtr.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-9GwroBN9.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BDF7xMl0.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-8Z3zIVAA.css"])))=>i.map(i=>d[i]);
import{c as a,b as r,bz as o,k as d,J as s,bc as c,A as l,d as p,e as m,C as u,L as v,b8 as y}from"./3iSoGi4ic-DV-GuiCp.js";function h(t){d({title:"Renommer le fichier",placeholder:"Entrez un nouveau nom de fichier",default:t.name}).then(({canceled:i,result:n})=>{i||s("drive/files/update",{fileId:t.id,name:n})})}async function x(t){const{dispose:i}=await p(m(()=>import("./3iSoGi4ic-D4c9btWc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]),import.meta.url).then(n=>n.default),{default:t.comment??"",file:t},{done:n=>{s("drive/files/update",{fileId:t.id,comment:n.length===0?null:n})},closed:()=>i()})}function f(t){c(null).then(i=>{s("drive/files/update",{fileId:t.id,folderId:i[0]?i[0].id:null})})}function g(t){s("drive/files/update",{fileId:t.id,isSensitive:!t.isSensitive}).catch(i=>{l({type:"error",title:"Erreur",text:i.message})})}function F(t){o(t.url)}async function b(t){const{canceled:i}=await u({type:"warning",text:(({name})=>("Êtes-vous sûr·e de vouloir supprimer le fichier « "+name+" » ? Les notes avec ce fichier joint seront aussi supprimées."))({name:t.name})});i||(await v("drive/files/delete",{fileId:t.id}),y.emit("driveFilesDeleted",[t]))}function _(t,i){t.type.startsWith("image/");const n=[];return n.push({type:"link",to:`/my/drive/file/${t.id}`,text:"Détails du fichier",icon:"ti ti-info-circle"},{type:"divider"},{text:"Renommer",icon:"ti ti-forms",action:()=>h(t)},{text:"Déplacer",icon:"ti ti-folder-symlink",action:()=>f(t)},{text:t.isSensitive?"Supprimer le marquage comme sensible":"Marquer comme sensible",icon:t.isSensitive?"ti ti-eye":"ti ti-eye-exclamation",action:()=>g(t)},{text:"Ajouter une description d'image",icon:"ti ti-text-caption",action:()=>x(t)}),n.push({type:"divider"},{text:"Rédiger une note de ce fichier",icon:"ti ti-pencil",action:()=>a({initialFiles:[t]})},{text:"Copier l’URL",icon:"ti ti-link",action:()=>F(t)},{type:"a",href:t.url,target:"_blank",text:"Télécharger",icon:"ti ti-download",download:t.name},{type:"divider"},{text:"Supprimer",icon:"ti ti-trash",danger:!0,action:()=>b(t)}),r.s.devMode&&n.push({type:"divider"},{icon:"ti ti-hash",text:"Copier l'identifiant du fichier",action:()=>{o(t.id)}}),n}export{_ as g};
