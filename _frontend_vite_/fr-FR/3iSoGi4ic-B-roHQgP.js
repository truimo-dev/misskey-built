import{I as y}from"./3iSoGi4ic-nJzNoieu.js";import{P as w}from"./3iSoGi4ic-KYydmxIu.js";import{u as k}from"./3iSoGi4ic-DCTAa4Sx.js";import{M as x,$ as _,A as i}from"./3iSoGi4ic-DV-GuiCp.js";import{c as b,a as h}from"./3iSoGi4ic-CCt4ZT5M.js";import{b as B,l as P,i as S,B as E,h as M,D as v,E as C,t as s}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-C0O4p9AH.js";import"./3iSoGi4ic-Ddz4upM5.js";import"./3iSoGi4ic-ke9ZaMpT.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const D={"data-cy-mkw-button":"",class:"mkw-button"},n="button",z=B({__name:"WidgetButton",props:{widget:{}},emits:["updateProps"],setup(p,{expose:c,emit:l}){const m={label:{type:"string",default:"BUTTON"},colored:{type:"boolean",default:!0},script:{type:"string",multiline:!0,default:'Mk:dialog("hello" "world")'}},e=p,u=l,{widgetProps:r,configure:d}=k(n,m,e,u),f=new w;async function g(){const a=new y(b({storageKey:"widget",token:_?.token}),{in:h,out:t=>{},log:(t,N)=>{}});let o;try{o=f.parse(r.script)}catch{i({type:"error",text:"Syntax error :("});return}try{await a.exec(o)}catch(t){i({type:"error",text:t instanceof Error?t.message:String(t)})}}return c({name:n,configure:d,id:e.widget?e.widget.id:null}),(a,o)=>(S(),P("div",D,[E(x,{primary:s(r).colored,full:"",onClick:g},{default:M(()=>[v(C(s(r).label),1)]),_:1},8,["primary"])]))}});export{z as default};
