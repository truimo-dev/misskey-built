import{az as w,ab as S,a7 as m,M as R,L as h,br as z,J as K}from"./3iSoGi4ic-DV-GuiCp.js";import{F as L}from"./3iSoGi4ic-D8X1N6Gw.js";import{b as O,ab as N,a as n,c as H,z as j,f as Y,i as E,h as e,p,B as a,l as T,C as W,D as l,E as s,F as Q}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const Z={class:"_spacer",style:{"--MI_SPACER-w":"700px","--MI_SPACER-min":"16px","--MI_SPACER-max":"32px"}},J={class:"_gaps_m"},$={class:"_spacer",style:{"--MI_SPACER-w":"700px","--MI_SPACER-min":"16px","--MI_SPACER-max":"16px"}},ue=O({__name:"object-storage",async setup(q){let b,B;const d=([b,B]=N(()=>K("admin/meta")),b=await b,B(),b),g=n(d.useObjectStorage),f=n(d.objectStorageBaseUrl),k=n(d.objectStorageBucket),V=n(d.objectStoragePrefix),_=n(d.objectStorageEndpoint),v=n(d.objectStorageRegion),F=n(d.objectStoragePort),x=n(d.objectStorageAccessKey),y=n(d.objectStorageSecretKey),P=n(d.objectStorageUseSSL),U=n(d.objectStorageUseProxy),I=n(d.objectStorageSetPublicRead),C=n(d.objectStorageS3ForcePathStyle);function A(){h("admin/update-meta",{useObjectStorage:g.value,objectStorageBaseUrl:f.value,objectStorageBucket:k.value,objectStoragePrefix:V.value,objectStorageEndpoint:_.value,objectStorageRegion:v.value,objectStoragePort:F.value,objectStorageAccessKey:x.value,objectStorageSecretKey:y.value,objectStorageUseSSL:P.value,objectStorageUseProxy:U.value,objectStorageSetPublicRead:I.value,objectStorageS3ForcePathStyle:C.value}).then(()=>{z(!0)})}const D=H(()=>[]);return w(()=>({title:"Stockage d'objets",icon:"ti ti-cloud"})),(G,t)=>{const i=j("SearchLabel"),u=j("SearchMarker"),c=j("SearchText"),M=j("PageWithHeader");return E(),Y(M,{tabs:D.value},{footer:e(()=>[p("div",{class:"xpN9M"},[p("div",$,[a(R,{primary:"",rounded:"",onClick:A},{default:e(()=>[t[18]||(t[18]=p("i",{class:"ti ti-check"},null,-1)),l(" "+s("Enregistrer"),1)]),_:1})])],2)]),default:e(()=>[p("div",Z,[a(u,{path:"/admin/object-storage",label:"Stockage d'objets",keywords:["objectStorage"],icon:"ti ti-cloud",markerId:"3yCAUaSDP","data-in-app-search-marker-id":"3yCAUaSDP",children:["BswelAaid","851KDFs2Y","Clex0N9lb","5HhbolE6a","tZeuVham","ejMeyF6EI","zkxsVgzd1","e9FPKCdEx","dksOmFLV2","wzCDrwBYI","A20g8Os1g","8His22VdQ"]},{default:e(()=>[p("div",J,[a(u,{markerId:"BswelAaid","data-in-app-search-marker-id":"BswelAaid"},{default:e(()=>[a(S,{modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=o=>g.value=o)},{default:e(()=>[a(i,null,{default:e(()=>[l(s("Utiliser le stockage d'objets"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),g.value?(E(),T(Q,{key:0},[a(u,{markerId:"851KDFs2Y","data-in-app-search-marker-id":"851KDFs2Y"},{default:e(()=>[a(m,{modelValue:f.value,"onUpdate:modelValue":t[1]||(t[1]=o=>f.value=o),placeholder:"https://example.com",type:"url"},{label:e(()=>[a(i,null,{default:e(()=>[l(s("URL de base"),1)]),_:1})]),caption:e(()=>[a(c,null,{default:e(()=>[l(s("Préfixe d’URL utilisé pour construire l’URL vers le référencement d’objet (média). Spécifiez son URL si vous utilisez un CDN ou un proxy, sinon spécifiez l’adresse accessible au public selon le guide de service que vous allez utiliser. P.ex. 'https://<bucket>.s3.amazonaws.com' pour AWS S3 et 'https://storage.googleapis.com/<bucket>' pour GCS."),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(u,{markerId:"Clex0N9lb","data-in-app-search-marker-id":"Clex0N9lb"},{default:e(()=>[a(m,{modelValue:k.value,"onUpdate:modelValue":t[2]||(t[2]=o=>k.value=o)},{label:e(()=>[a(i,null,{default:e(()=>[l(s("Bucket"),1)]),_:1})]),caption:e(()=>[a(c,null,{default:e(()=>[l(s("Veuillez spécifier le nom du compartiment utilisé sur le service configuré."),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(u,{markerId:"5HhbolE6a","data-in-app-search-marker-id":"5HhbolE6a"},{default:e(()=>[a(m,{modelValue:V.value,"onUpdate:modelValue":t[3]||(t[3]=o=>V.value=o)},{label:e(()=>[a(i,null,{default:e(()=>[l(s("Prefix"),1)]),_:1})]),caption:e(()=>[a(c,null,{default:e(()=>[l(s("Les fichiers seront stockés sous le répertoire de ce préfixe."),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(u,{markerId:"tZeuVham","data-in-app-search-marker-id":"tZeuVham"},{default:e(()=>[a(m,{modelValue:_.value,"onUpdate:modelValue":t[4]||(t[4]=o=>_.value=o),placeholder:"example.com"},{label:e(()=>[a(i,null,{default:e(()=>[l(s("Endpoint"),1)]),_:1})]),prefix:e(()=>[...t[12]||(t[12]=[l("https://",-1)])]),caption:e(()=>[a(c,null,{default:e(()=>[l(s("Laissez ce champ vide si vous utilisez AWS S3, sinon spécifiez le point de terminaison comme '<host>' ou '<host>: <port>' selon le guide de service que vous allez utiliser."),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(u,{markerId:"ejMeyF6EI","data-in-app-search-marker-id":"ejMeyF6EI"},{default:e(()=>[a(m,{modelValue:v.value,"onUpdate:modelValue":t[5]||(t[5]=o=>v.value=o)},{label:e(()=>[a(i,null,{default:e(()=>[l(s("Région"),1)]),_:1})]),caption:e(()=>[a(c,null,{default:e(()=>[l(s("Spécifiez une région comme 'xx-east-1'. Si votre service ne fait pas de distinction entre les régions, laissez-le vide ou remplissez 'us-east-1'."),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(L,{minWidth:280},{default:e(()=>[a(u,{markerId:"zkxsVgzd1","data-in-app-search-marker-id":"zkxsVgzd1"},{default:e(()=>[a(m,{modelValue:x.value,"onUpdate:modelValue":t[6]||(t[6]=o=>x.value=o)},{prefix:e(()=>[...t[13]||(t[13]=[p("i",{class:"ti ti-key"},null,-1)])]),label:e(()=>[a(i,null,{default:e(()=>[...t[14]||(t[14]=[l("Access key",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(u,{markerId:"e9FPKCdEx","data-in-app-search-marker-id":"e9FPKCdEx"},{default:e(()=>[a(m,{modelValue:y.value,"onUpdate:modelValue":t[7]||(t[7]=o=>y.value=o),type:"password"},{prefix:e(()=>[...t[15]||(t[15]=[p("i",{class:"ti ti-key"},null,-1)])]),label:e(()=>[a(i,null,{default:e(()=>[...t[16]||(t[16]=[l("Secret key",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(u,{markerId:"dksOmFLV2","data-in-app-search-marker-id":"dksOmFLV2"},{default:e(()=>[a(S,{modelValue:P.value,"onUpdate:modelValue":t[8]||(t[8]=o=>P.value=o)},{label:e(()=>[a(i,null,{default:e(()=>[l(s("Utiliser SSL"),1)]),_:1})]),caption:e(()=>[a(c,null,{default:e(()=>[l(s("Désactivez cette option si vous n'utilisez pas HTTPS pour la connexion API"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(u,{markerId:"wzCDrwBYI","data-in-app-search-marker-id":"wzCDrwBYI"},{default:e(()=>[a(S,{modelValue:U.value,"onUpdate:modelValue":t[9]||(t[9]=o=>U.value=o)},{label:e(()=>[a(i,null,{default:e(()=>[l(s("Se connecter via proxy"),1)]),_:1})]),caption:e(()=>[a(c,null,{default:e(()=>[l(s("Désactivez cette option si vous n'utilisez pas de proxy pour la connexion API"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(u,{markerId:"A20g8Os1g","data-in-app-search-marker-id":"A20g8Os1g"},{default:e(()=>[a(S,{modelValue:I.value,"onUpdate:modelValue":t[10]||(t[10]=o=>I.value=o)},{label:e(()=>[a(i,null,{default:e(()=>[l(s("Régler sur « public » lors de l'envoi"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(u,{markerId:"8His22VdQ","data-in-app-search-marker-id":"8His22VdQ"},{default:e(()=>[a(S,{modelValue:C.value,"onUpdate:modelValue":t[11]||(t[11]=o=>C.value=o)},{label:e(()=>[a(i,null,{default:e(()=>[...t[17]||(t[17]=[l("s3ForcePathStyle",-1)])]),_:1})]),caption:e(()=>[a(c,null,{default:e(()=>[l(s("Si s3ForcePathStyle est activé, le nom du compartiment doit être spécifié comme une partie du chemin de l'URL plutôt que le nom d'hôte. Il faudra peut-être l'activer lors de l'utilisation d'une instance de Minio autohébergée, etc."),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})],64)):W("",!0)])]),_:1},8,["label"])])]),_:1},8,["tabs"])}}});export{ue as default};
