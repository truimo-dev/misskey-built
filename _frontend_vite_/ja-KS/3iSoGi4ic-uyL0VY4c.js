import{b as le}from"./3iSoGi4ic-DUrJvqB4.js";import{U as ie,ct as D,c4 as c,cE as J,M as $,d6 as _,C as A,L as V,bz as ae,b4 as se,aF as ne,az as oe,bd as z,a7 as ue,J as W}from"./3iSoGi4ic-DV-GuiCp.js";import{i as re,u as de,C as me,c as ye}from"./3iSoGi4ic-CqmhgU-Q.js";import{a as X}from"./3iSoGi4ic-BPp9MNgd.js";import{b as G,u as fe,w as L,e as pe,l as r,i as n,a as T,c as Y,z as h,f as E,h as t,C as x,p as s,B as o,D as i,E as u,t as g,F as O,A as K}from"./3iSoGi4ic-D0mTJ0Mu.js";import{M as U}from"./3iSoGi4ic-Fx-BY70c.js";import{M as ve}from"./3iSoGi4ic--zoJC9Uy.js";import{M as ee}from"./3iSoGi4ic--Jsa_HFX.js";import{k as R}from"./3iSoGi4ic-DbGnjMgs.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";import"./3iSoGi4ic-DAn693fE.js";import"https://esm.sh/shiki@3.19.0/langs";import"https://esm.sh/shiki@3.19.0/themes";const Z=G({__name:"job-queue.chart",props:{dataSet:{},aspectRatio:{}},setup(a){re();const d=a,j=fe("chartEl"),{handler:v}=de();let M;function k(){if(M!=null){M.data.labels=[];for(let m=0;m<Math.max(d.dataSet.completed.length,d.dataSet.failed.length);m++)M.data.labels.push("");M.data.datasets[0].data=d.dataSet.completed,M.data.datasets[1].data=d.dataSet.failed,M.update()}}return L(()=>d.dataSet,()=>{k()}),pe(()=>{if(j.value==null)return;const m=ie.s.darkMode?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2)";M=new me(j.value,{type:"line",data:{labels:[],datasets:[{label:"Completed",pointRadius:0,tension:.3,borderWidth:2,borderJoinStyle:"round",borderColor:"#4caf50",backgroundColor:X("#4caf50",.2),fill:!0,data:[]},{label:"Failed",pointRadius:0,tension:.3,borderWidth:2,borderJoinStyle:"round",borderColor:"#ff0000",backgroundColor:X("#ff0000",.2),fill:!0,data:[]}]},options:{aspectRatio:d.aspectRatio??2.5,layout:{padding:{left:0,right:0,top:0,bottom:0}},scales:{x:{grid:{display:!0},ticks:{display:!1,maxTicksLimit:10}},y:{min:0,grid:{}}},interaction:{intersect:!1},plugins:{legend:{display:!1},tooltip:{enabled:!1,mode:"index",animation:{duration:0},external:v}}},plugins:[ye(m)]}),k()}),(m,S)=>(n(),r("canvas",{ref_key:"chartEl",ref:j},null,512))}}),be={key:0,style:{"margin-right":"1em"}},ce={key:1,style:{"margin-right":"1em"}},ke={key:0,style:{"margin-left":"1em"}},ge={key:1,style:{"margin-left":"1em",color:"var(--MI_THEME-warn)","font-variant-numeric":"diagonal-fractions"}},je={key:2,style:{"margin-left":"1em",color:"var(--MI_THEME-error)"}},Me={key:3,style:{"margin-left":"1em",color:"var(--MI_THEME-warn)"}},xe={key:4,style:{"margin-left":"1em",color:"var(--MI_THEME-success)"}},Ce={key:5,style:{"margin-left":"1em"}},we={key:6,style:{"margin-left":"1em",color:"var(--MI_THEME-success)"}},Ee={class:"_buttons"},qe={key:0,class:"_gaps_s"},Oe={style:{display:"grid","grid-template-columns":"repeat(auto-fill, minmax(250px, 1fr))",gap:"12px"}},Te={key:1},$e={style:{margin:"8px 0"}},Se={key:0},Ie={style:{"font-size":"90%",opacity:"0.7"}},Re={key:2},Fe={key:3,class:"_gaps_s"},He={key:4},Ve={key:5,class:"_gaps_s"},Ae={key:6},Pe=!0,De=G({__name:"job-queue.job",props:{job:{},queueType:{}},emits:["needRefresh"],setup(a,{emit:d}){function j(b){if(b==null)return"N/A";if(b===0)return"0";const e=["ms","s","m","h"],q=b<0;q&&(b=-b);const y=Math.floor(Math.log(b)/Math.log(1e3)),p=b/Math.pow(1e3,y),l=e[y];return`${q?"-":""}${p.toFixed(1)}${l}`}const v=a,M=d,k=T("info"),m=T(D.stringify(v.job.data,null,"	")),S=T([]),P=Y(()=>{const b=[{id:"created",timestamp:v.job.timestamp,data:{type:"created"}}];if(v.job.attempts>1)for(let e=1;e<v.job.attempts;e++)b.push({id:`attempt-${e}`,timestamp:v.job.timestamp+e,data:{type:"attempt",attempt:e}});return v.job.processedOn!=null&&b.push({id:"processed",timestamp:v.job.processedOn,data:{type:"processed"}}),v.job.finishedOn!=null&&b.push({id:"finished",timestamp:v.job.finishedOn,data:{type:"finished"}}),b});async function H(){const{canceled:b}=await A({type:"warning",title:"いいん？"});b||V("admin/queue/retry-job",{queue:v.queueType,jobId:v.job.id})}async function I(){const{canceled:b}=await A({type:"warning",title:"いいん？"});b||V("admin/queue/remove-job",{queue:v.queueType,jobId:v.job.id})}async function B(){S.value=await V("admin/queue/show-job-logs",{queue:v.queueType,jobId:v.job.id})}function N(){M("needRefresh")}function Q(){const b=JSON.stringify(v.job,null,"	");ae(b)}return(b,e)=>{const q=h("MkTime");return n(),E(U,null,{label:t(()=>[a.job.opts.repeat!=null?(n(),r("span",be,"<repeat>")):(n(),r("span",ce,"#"+u(a.job.id),1)),s("span",null,u(a.job.name),1)]),suffix:t(()=>[o(q,{time:a.job.finishedOn??a.job.processedOn??a.job.timestamp,mode:"relative"},null,8,["time"]),a.job.progress!=null&&typeof a.job.progress=="number"&&a.job.progress>0?(n(),r("span",ke,u(Math.floor(a.job.progress))+"%",1)):x("",!0),a.job.opts.attempts!=null&&a.job.opts.attempts>0&&a.job.attempts>1?(n(),r("span",ge,u(a.job.attempts)+"/"+u(a.job.opts.attempts),1)):x("",!0),a.job.isFailed&&a.job.finishedOn!=null?(n(),r("span",je,[...e[7]||(e[7]=[s("i",{class:"ti ti-circle-x"},null,-1)])])):a.job.isFailed?(n(),r("span",Me,[...e[8]||(e[8]=[s("i",{class:"ti ti-alert-triangle"},null,-1)])])):a.job.finishedOn!=null?(n(),r("span",xe,[...e[9]||(e[9]=[s("i",{class:"ti ti-check"},null,-1)])])):a.job.delay!=null&&a.job.delay!=0?(n(),r("span",Ce,[...e[10]||(e[10]=[s("i",{class:"ti ti-clock"},null,-1)])])):a.job.processedOn!=null?(n(),r("span",we,[...e[11]||(e[11]=[s("i",{class:"ti ti-player-play"},null,-1)])])):x("",!0)]),header:t(()=>[o(_,{tab:k.value,"onUpdate:tab":e[0]||(e[0]=y=>k.value=y),tabs:[{key:"info",title:"Info",icon:"ti ti-info-circle"},{key:"timeline",title:"Timeline",icon:"ti ti-timeline-event"},{key:"data",title:"Data",icon:"ti ti-package"},...Pe?[{key:"dataEdit",title:"Data (edit)",icon:"ti ti-package"}]:[],...a.job.returnValue!=null?[{key:"result",title:"Result",icon:"ti ti-check"}]:[],...a.job.stacktrace.length>0?[{key:"error",title:"Error",icon:"ti ti-alert-triangle"}]:[],{key:"logs",title:"Logs",icon:"ti ti-logs"}]},null,8,["tab","tabs"])]),footer:t(()=>[s("div",Ee,[o($,{rounded:"",onClick:e[1]||(e[1]=y=>Q())},{default:t(()=>[...e[12]||(e[12]=[s("i",{class:"ti ti-copy"},null,-1),i(" Copy raw",-1)])]),_:1}),o($,{rounded:"",onClick:e[2]||(e[2]=y=>N())},{default:t(()=>[...e[13]||(e[13]=[s("i",{class:"ti ti-reload"},null,-1),i(" Refresh view",-1)])]),_:1}),o($,{rounded:"",onClick:e[3]||(e[3]=y=>H())},{default:t(()=>[...e[14]||(e[14]=[s("i",{class:"ti ti-player-track-next"},null,-1),i(" Promote",-1)])]),_:1}),o($,{danger:"",rounded:"",style:{"margin-left":"auto"},onClick:e[4]||(e[4]=y=>I())},{default:t(()=>[...e[15]||(e[15]=[s("i",{class:"ti ti-trash"},null,-1),i(" Remove",-1)])]),_:1})])]),default:t(()=>[k.value==="info"?(n(),r("div",qe,[s("div",Oe,[o(c,null,{key:t(()=>[...e[16]||(e[16]=[i("ID",-1)])]),value:t(()=>[i(u(a.job.id),1)]),_:1}),o(c,null,{key:t(()=>[...e[17]||(e[17]=[i("Created at",-1)])]),value:t(()=>[o(q,{time:a.job.timestamp,mode:"detail"},null,8,["time"])]),_:1}),a.job.processedOn!=null?(n(),E(c,{key:0},{key:t(()=>[...e[18]||(e[18]=[i("Processed at",-1)])]),value:t(()=>[o(q,{time:a.job.processedOn,mode:"detail"},null,8,["time"])]),_:1})):x("",!0),a.job.finishedOn!=null?(n(),E(c,{key:1},{key:t(()=>[...e[19]||(e[19]=[i("Finished at",-1)])]),value:t(()=>[o(q,{time:a.job.finishedOn,mode:"detail"},null,8,["time"])]),_:1})):x("",!0),a.job.processedOn!=null&&a.job.finishedOn!=null?(n(),E(c,{key:2},{key:t(()=>[...e[20]||(e[20]=[i("Spent",-1)])]),value:t(()=>[i(u(a.job.finishedOn-a.job.processedOn)+"ms",1)]),_:1})):x("",!0),a.job.failedReason!=null?(n(),E(c,{key:3},{key:t(()=>[...e[21]||(e[21]=[i("Failed reason",-1)])]),value:t(()=>[e[22]||(e[22]=s("i",{style:{color:"var(--MI_THEME-error)"},class:"ti ti-alert-triangle"},null,-1)),i(" "+u(a.job.failedReason),1)]),_:1})):x("",!0),a.job.opts.attempts!=null&&a.job.opts.attempts>0?(n(),E(c,{key:4},{key:t(()=>[...e[23]||(e[23]=[i("Attempts",-1)])]),value:t(()=>[i(u(a.job.attempts)+" of "+u(a.job.opts.attempts),1)]),_:1})):x("",!0),a.job.progress!=null&&typeof a.job.progress=="number"&&a.job.progress>0?(n(),E(c,{key:5},{key:t(()=>[...e[24]||(e[24]=[i("Progress",-1)])]),value:t(()=>[i(u(Math.floor(a.job.progress))+"%",1)]),_:1})):x("",!0)]),o(U,{withSpacer:!1},{label:t(()=>[...e[25]||(e[25]=[i("Options",-1)])]),default:t(()=>[o(J,{code:g(D).stringify(a.job.opts,null,"	"),lang:"js"},null,8,["code"])]),_:1})])):k.value==="timeline"?(n(),r("div",Te,[o(ee,{events:P.value,groupBy:"h"},{left:t(({event:y})=>[s("div",null,[y.type==="finished"?(n(),r(O,{key:0},[a.job.isFailed?(n(),r(O,{key:0},[e[26]||(e[26]=s("b",null,"Finished",-1)),e[27]||(e[27]=i()),e[28]||(e[28]=s("i",{class:"ti ti-circle-x",style:{color:"var(--MI_THEME-error)"}},null,-1))],64)):(n(),r(O,{key:1},[e[29]||(e[29]=s("b",null,"Finished",-1)),e[30]||(e[30]=i()),e[31]||(e[31]=s("i",{class:"ti ti-check",style:{color:"var(--MI_THEME-success)"}},null,-1))],64))],64)):y.type==="processed"?(n(),r(O,{key:1},[e[32]||(e[32]=s("b",null,"Processed",-1)),e[33]||(e[33]=i()),e[34]||(e[34]=s("i",{class:"ti ti-player-play"},null,-1))],64)):y.type==="attempt"?(n(),r(O,{key:2},[s("b",null,"Attempt #"+u(y.attempt),1),e[35]||(e[35]=i()),e[36]||(e[36]=s("i",{class:"ti ti-alert-triangle",style:{color:"var(--MI_THEME-warn)"}},null,-1))],64)):y.type==="created"?(n(),r(O,{key:3},[e[37]||(e[37]=s("b",null,"Created",-1)),e[38]||(e[38]=i()),e[39]||(e[39]=s("i",{class:"ti ti-plus"},null,-1))],64)):x("",!0)])]),right:t(({event:y,timestamp:p,delta:l})=>[s("div",$e,[y.type==="attempt"?(n(),r("div",Se,"at ?")):(n(),r(O,{key:1},[s("div",null,[e[40]||(e[40]=i("at ",-1)),o(q,{time:p,mode:"detail"},null,8,["time"])]),s("div",Ie,u(p)+" (+"+u(j(l))+")",1)],64))])]),_:1},8,["events"])])):k.value==="data"?(n(),r("div",Re,[o(J,{code:g(D).stringify(a.job.data,null,"	"),lang:"js"},null,8,["code"])])):k.value==="dataEdit"?(n(),r("div",Fe,[o(ve,{modelValue:m.value,"onUpdate:modelValue":e[5]||(e[5]=y=>m.value=y),lang:"json5"},null,8,["modelValue"]),o($,null,{default:t(()=>[...e[41]||(e[41]=[s("i",{class:"ti ti-device-floppy"},null,-1),i(" Update",-1)])]),_:1})])):k.value==="result"?(n(),r("div",He,[o(J,{code:g(D).stringify(a.job.returnValue,null,"	"),lang:"json5"},null,8,["code"])])):k.value==="error"?(n(),r("div",Ve,[(n(!0),r(O,null,K(a.job.stacktrace,y=>(n(),E(J,{code:y,lang:"stacktrace"},null,8,["code"]))),256))])):k.value==="logs"?(n(),r("div",Ae,[o($,{primary:"",rounded:"",onClick:e[6]||(e[6]=y=>B())},{default:t(()=>[...e[42]||(e[42]=[s("i",{class:"ti ti-refresh"},null,-1),i(" Load logs",-1)])]),_:1}),(n(!0),r(O,null,K(S.value,y=>(n(),r("div",null,u(y),1))),256))])):x("",!0)]),_:1})}}}),Je={class:"_spacer"},We={key:0,class:"_gaps"},Le=["onClick"],Ue={style:{display:"flex","align-items":"center","font-weight":"bold"}},Be={key:0,style:{color:"var(--MI_THEME-success)","margin-left":"auto"},class:"ti ti-player-play"},Ne={key:1,class:"_gaps"},Qe={class:"_buttons"},ze={class:"_gaps"},Ye={style:{display:"grid","grid-template-columns":"repeat(auto-fill, minmax(200px, 1fr))",gap:"12px"}},he={style:{display:"grid","grid-template-columns":"repeat(auto-fill, minmax(200px, 1fr))",gap:"12px"}},Ke={class:"_buttons"},Ge={class:"_spacer"},pt=G({__name:"job-queue",setup(a){const d=T("-"),j=T("all"),v=T([]),M=T(!0),k=T([]),m=T(null),S=T("");async function P(){d.value==="-"&&(k.value=await W("admin/queue/queues"))}async function H(){d.value!=="-"&&(m.value=await W("admin/queue/queue-stats",{queue:d.value}))}async function I(){if(d.value==="-")return;M.value=!0;const p=j.value;v.value=await W("admin/queue/jobs",{queue:d.value,state:p==="all"?["completed","failed","active","delayed","wait"]:p==="latest"?["completed","failed"]:[p],search:S.value.trim()===""?void 0:S.value}).then(l=>(p==="all"?l.sort((C,w)=>(C.processedOn??C.timestamp)>(w.processedOn??w.timestamp)?-1:1):p==="latest"?l.sort((C,w)=>C.processedOn>w.processedOn?-1:1):p==="delayed"&&l.sort((C,w)=>(C.processedOn??C.timestamp)>(w.processedOn??w.timestamp)?-1:1),l)),M.value=!1}L([d],async()=>{d.value==="-"?P():(H(),I())},{immediate:!0}),L([j],()=>{I()});const B=se(1e3,()=>{I()});L([S],()=>{B()}),ne(()=>{d.value==="-"?P():H()},1e3*10,{immediate:!1,afterMounted:!0});async function N(){if(d.value==="-")return;const{canceled:p}=await A({type:"warning",title:"いいん？"});p||(V("admin/queue/clear",{queue:d.value,state:"*"}),H(),I())}async function Q(){if(d.value==="-")return;const{canceled:p}=await A({type:"warning",title:"いいん？"});p||(V("admin/queue/promote-jobs",{queue:d.value}),H(),I())}async function b(){if(d.value==="-"||j.value==="latest")return;const{canceled:p}=await A({type:"warning",title:"いいん？"});p||(V("admin/queue/clear",{queue:d.value,state:j.value==="all"?"*":j.value}),H(),I())}async function e(p){if(d.value==="-")return;const l=await W("admin/queue/show-job",{queue:d.value,jobId:p}),C=v.value.findIndex(w=>w.id===p);C!==-1&&(v.value[C]=l)}const q=Y(()=>[]),y=Y(()=>[{key:"-",title:"ジョブキュー",icon:"ti ti-list-check"},...le.map(p=>({key:p,title:p}))]);return oe(()=>({title:"ジョブキュー",icon:"ti ti-clock-play",needWideArea:!0})),(p,l)=>{const C=h("MkLoading"),w=h("PageWithHeader");return n(),E(w,{tab:d.value,"onUpdate:tab":l[3]||(l[3]=f=>d.value=f),actions:q.value,tabs:y.value},{default:t(()=>[s("div",Je,[d.value==="-"?(n(),r("div",We,[s("div",{class:"x7Pe6"},[(n(!0),r(O,null,K(k.value,f=>(n(),r("div",{key:f.name,class:"xUQ0d",onClick:te=>d.value=f.name},[s("div",Ue,[l[4]||(l[4]=s("i",{class:"ti ti-http-que",style:{"margin-right":"0.5em"}},null,-1)),i(u(f.name),1),f.isPaused?x("",!0):(n(),r("i",Be))]),s("div",{class:"xEoeW"},[o(c,null,{key:t(()=>[...l[5]||(l[5]=[i("Active",-1)])]),value:t(()=>[i(u(g(R)(f.counts.active,2)),1)]),_:2},1024),o(c,null,{key:t(()=>[...l[6]||(l[6]=[i("Delayed",-1)])]),value:t(()=>[i(u(g(R)(f.counts.delayed,2)),1)]),_:2},1024),o(c,null,{key:t(()=>[...l[7]||(l[7]=[i("Waiting",-1)])]),value:t(()=>[i(u(g(R)(f.counts.waiting,2)),1)]),_:2},1024)],2),o(Z,{dataSet:{completed:f.metrics.completed.data,failed:f.metrics.failed.data}},null,8,["dataSet"])],10,Le))),128))],2)])):m.value?(n(),r("div",Ne,[o(U,{defaultOpen:!0},{label:t(()=>[i("Overview: "+u(d.value),1)]),icon:t(()=>[...l[8]||(l[8]=[s("i",{class:"ti ti-http-que"},null,-1)])]),suffix:t(()=>[i("#"+u(m.value.db.processId)+":"+u(m.value.db.port)+" / "+u(m.value.db.runId),1)]),caption:t(()=>[i(u(m.value.qualifiedName),1)]),footer:t(()=>[s("div",Qe,[o($,{rounded:"",onClick:Q},{default:t(()=>[...l[9]||(l[9]=[s("i",{class:"ti ti-player-track-next"},null,-1),i(" Promote all jobs",-1)])]),_:1}),o($,{rounded:"",danger:"",onClick:N},{default:t(()=>[...l[10]||(l[10]=[s("i",{class:"ti ti-trash"},null,-1),i(" Empty queue",-1)])]),_:1})])]),default:t(()=>[s("div",ze,[o(Z,{dataSet:{completed:m.value.metrics.completed.data,failed:m.value.metrics.failed.data},aspectRatio:5},null,8,["dataSet"]),s("div",Ye,[o(c,null,{key:t(()=>[...l[11]||(l[11]=[i("Active",-1)])]),value:t(()=>[i(u(g(R)(m.value.counts.active,2)),1)]),_:1}),o(c,null,{key:t(()=>[...l[12]||(l[12]=[i("Delayed",-1)])]),value:t(()=>[i(u(g(R)(m.value.counts.delayed,2)),1)]),_:1}),o(c,null,{key:t(()=>[...l[13]||(l[13]=[i("Waiting",-1)])]),value:t(()=>[i(u(g(R)(m.value.counts.waiting,2)),1)]),_:1})]),l[20]||(l[20]=s("hr",null,null,-1)),s("div",he,[o(c,null,{key:t(()=>[...l[14]||(l[14]=[i("Clients: Connected",-1)])]),value:t(()=>[i(u(m.value.db.clients.connected),1)]),_:1}),o(c,null,{key:t(()=>[...l[15]||(l[15]=[i("Clients: Blocked",-1)])]),value:t(()=>[i(u(m.value.db.clients.blocked),1)]),_:1}),o(c,null,{key:t(()=>[...l[16]||(l[16]=[i("Memory: Peak",-1)])]),value:t(()=>[i(u(g(z)(m.value.db.memory.peak,1)),1)]),_:1}),o(c,null,{key:t(()=>[...l[17]||(l[17]=[i("Memory: Total",-1)])]),value:t(()=>[i(u(g(z)(m.value.db.memory.total,1)),1)]),_:1}),o(c,null,{key:t(()=>[...l[18]||(l[18]=[i("Memory: Used",-1)])]),value:t(()=>[i(u(g(z)(m.value.db.memory.used,1)),1)]),_:1}),o(c,null,{key:t(()=>[...l[19]||(l[19]=[i("Uptime",-1)])]),value:t(()=>[i(u(m.value.db.uptime),1)]),_:1})])])]),_:1}),o(U,{defaultOpen:!0,withSpacer:!1},{label:t(()=>[i("Jobs: "+u(d.value),1)]),icon:t(()=>[...l[21]||(l[21]=[s("i",{class:"ti ti-list-check"},null,-1)])]),suffix:t(()=>[i("<A:"+u(g(R)(m.value.counts.active,2))+"> <D:"+u(g(R)(m.value.counts.delayed,2))+"> <W:"+u(g(R)(m.value.counts.waiting,2))+">",1)]),header:t(()=>[o(_,{tab:j.value,"onUpdate:tab":l[0]||(l[0]=f=>j.value=f),class:"",tabs:[{key:"all",title:"All",icon:"ti ti-code-asterisk"},{key:"latest",title:"Latest",icon:"ti ti-logs"},{key:"completed",title:"Completed",icon:"ti ti-check"},{key:"failed",title:"Failed",icon:"ti ti-circle-x"},{key:"active",title:"Active",icon:"ti ti-player-play"},{key:"delayed",title:"Delayed",icon:"ti ti-clock"},{key:"wait",title:"Waiting",icon:"ti ti-hourglass-high"},{key:"paused",title:"Paused",icon:"ti ti-player-pause"}]},null,8,["tab","class"])]),footer:t(()=>[s("div",Ke,[o($,{rounded:"",onClick:l[1]||(l[1]=f=>I())},{default:t(()=>[...l[22]||(l[22]=[s("i",{class:"ti ti-reload"},null,-1),i(" Refresh view",-1)])]),_:1}),o($,{rounded:"",danger:"",style:{"margin-left":"auto"},onClick:b},{default:t(()=>[...l[23]||(l[23]=[s("i",{class:"ti ti-trash"},null,-1),i(" Remove jobs",-1)])]),_:1})])]),default:t(()=>[s("div",Ge,[o(ue,{modelValue:S.value,"onUpdate:modelValue":l[2]||(l[2]=f=>S.value=f),placeholder:"探す",type:"search",style:{"margin-bottom":"16px"}},{prefix:t(()=>[...l[24]||(l[24]=[s("i",{class:"ti ti-search"},null,-1)])]),_:1},8,["modelValue","placeholder"]),M.value?(n(),E(C,{key:0})):(n(),E(ee,{key:1,events:v.value.map(f=>({id:f.id,timestamp:f.finishedOn??f.processedOn??f.timestamp,data:f})),groupBy:"h",class:"_monospace"},{right:t(({event:f})=>[o(De,{job:f,queueType:d.value,style:{margin:"4px 0"},onNeedRefresh:te=>e(f.id)},null,8,["job","queueType","onNeedRefresh"])]),_:1},8,["events"]))])]),_:1})])):x("",!0)])]),_:1},8,["tab","actions","tabs"])}}});export{pt as default};
