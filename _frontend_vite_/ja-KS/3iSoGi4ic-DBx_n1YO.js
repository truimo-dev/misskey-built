import{aS as w,P as k,az as C,ag as I,a7 as c,C as P,L as D}from"./3iSoGi4ic-DV-GuiCp.js";import{M as F}from"./3iSoGi4ic-B1V085rU.js";import{b as S}from"./3iSoGi4ic-_4H1QviN.js";import{b as U,a as u,m as B,c as v,z as R,f as A,i as E,h as i,p as d,B as n,t as m,R as H,D as p,E as b}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";import"./3iSoGi4ic-CdSqfJMx.js";import"./3iSoGi4ic-Dv7rS4og.js";import"./3iSoGi4ic-y3_HjM0O.js";const N={class:"_spacer",style:{"--MI_SPACER-w":"900px"}},W={class:"_gaps"},z={class:"inputs",style:{display:"flex",gap:"var(--MI-margin)","flex-wrap":"wrap"}},L={class:"inputs",style:{display:"flex",gap:"var(--MI-margin)","flex-wrap":"wrap"}},$=U({__name:"files",setup(T){const{model:r,def:y}=w({items:[{label:"みんな",value:"combined"},{label:"ローカル",value:"local"},{label:"リモート",value:"remote"}],initialValue:"local"}),t=u(null),s=u(""),o=u(""),x=u("grid"),f=B(new k("admin/drive/files",{limit:10,computedParams:v(()=>({type:t.value&&t.value!==""?t.value:null,userId:o.value&&o.value!==""?o.value:null,origin:r.value,hostname:s.value&&s.value!==""?s.value:null}))}));function V(){P({type:"warning",text:"キャッシュされとるリモートファイルを全部ほかしてええか？"}).then(({canceled:g})=>{g||D("admin/drive/clean-remote-files",{})})}const _=v(()=>[{text:"見てきて",icon:"ti ti-search",handler:S},{text:"キャッシュをほかす",icon:"ti ti-trash",handler:V}]),h=v(()=>[]);return C(()=>({title:"ファイル",icon:"ti ti-cloud"})),(g,e)=>{const M=R("PageWithHeader");return E(),A(M,{actions:_.value,tabs:h.value},{default:i(()=>[d("div",N,[d("div",W,[d("div",z,[n(I,{modelValue:m(r),"onUpdate:modelValue":e[0]||(e[0]=l=>H(r)?r.value=l:null),items:m(y),style:{margin:"0",flex:"1"}},{label:i(()=>[p(b("サーバー"),1)]),_:1},8,["modelValue","items"]),n(c,{modelValue:s.value,"onUpdate:modelValue":e[1]||(e[1]=l=>s.value=l),debounce:!0,type:"search",style:{margin:"0",flex:"1"},disabled:m(f).computedParams?.value?.origin==="local"},{label:i(()=>[p(b("ホスト"),1)]),_:1},8,["modelValue","disabled"])]),d("div",L,[n(c,{modelValue:o.value,"onUpdate:modelValue":e[2]||(e[2]=l=>o.value=l),debounce:!0,type:"search",style:{margin:"0",flex:"1"}},{label:i(()=>[...e[4]||(e[4]=[p("User ID",-1)])]),_:1},8,["modelValue"]),n(c,{modelValue:t.value,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value=l),debounce:!0,type:"search",style:{margin:"0",flex:"1"}},{label:i(()=>[...e[5]||(e[5]=[p("MIME type",-1)])]),_:1},8,["modelValue"])]),n(F,{paginator:m(f),viewMode:x.value},null,8,["paginator","viewMode"])])])]),_:1},8,["actions","tabs"])}}});export{$ as default};
