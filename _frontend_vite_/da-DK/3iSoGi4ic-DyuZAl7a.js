import{b as w,u as y,a as u,f as M,i as m,h as a,p as c,l as _,t as b,q as x,B as i,D as s,E as t}from"./3iSoGi4ic-D0mTJ0Mu.js";import{i as V,a7 as v,M as E,R as P,ad as B,L as C}from"./3iSoGi4ic-DV-GuiCp.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const A={class:"_spacer",style:{"--MI_SPACER-min":"20px","--MI_SPACER-max":"28px"}},S={class:"_gaps_m"},h={key:1},U=w({__name:"MkForgotPassword",emits:["done","closed"],setup(q,{emit:g}){const p=g,r=y("dialog"),n=u(""),d=u(""),f=u(!1);async function k(){f.value=!0,await C("request-reset-password",{username:n.value,email:d.value}),p("done"),r.value?.close()}return(I,e)=>(m(),M(B,{ref_key:"dialog",ref:r,width:370,height:400,onClose:e[2]||(e[2]=l=>r.value?.close()),onClosed:e[3]||(e[3]=l=>p("closed"))},{header:a(()=>[s(t("Forgot password"),1)]),default:a(()=>[c("div",A,[b(V).enableEmail?(m(),_("form",{key:0,onSubmit:x(k,["prevent"])},[c("div",S,[i(v,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),type:"text",pattern:"^[a-zA-Z0-9_]+$",spellcheck:!1,autofocus:"",required:""},{label:a(()=>[s(t("Username"),1)]),prefix:a(()=>[...e[4]||(e[4]=[s("@",-1)])]),_:1},8,["modelValue"]),i(v,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=l=>d.value=l),type:"email",spellcheck:!1,required:""},{label:a(()=>[s(t("Email address"),1)]),caption:a(()=>[s(t("Enter the email address you used to register. A link with which you can reset your password will then be sent to it."),1)]),_:1},8,["modelValue"]),i(E,{type:"submit",rounded:"",disabled:f.value,primary:"",style:{margin:"0 auto"}},{default:a(()=>[s(t("Send"),1)]),_:1},8,["disabled"]),i(P,null,{default:a(()=>[s(t("If you did not use an email during registration, please contact the instance administrator instead."),1)]),_:1})])],32)):(m(),_("div",h,t("This instance does not support using email addresses, please contact the instance administrator to reset your password instead."),1))])]),_:1},512))}});export{U as default};
