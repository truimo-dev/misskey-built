import{aS as v,P as x,az as P,a7 as B,ag as $}from"./3iSoGi4ic-DV-GuiCp.js";import{M as C}from"./3iSoGi4ic-CdSqfJMx.js";import{M as D}from"./3iSoGi4ic-Cv8Ag6ce.js";import{F as N}from"./3iSoGi4ic-D8X1N6Gw.js";import{b as z,a as F,m as E,c as b,z as k,k as I,f,i as p,h as l,p as r,B as d,D as g,E as m,t as n,R as S,l as T,F as U,A as H,j as W}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";import"./3iSoGi4ic-Dv7rS4og.js";import"./3iSoGi4ic-CS6W3O_2.js";const j={class:"_spacer",style:{"--MI_SPACER-w":"900px"}},G={class:"_gaps"},ne=z({__name:"federation",setup(L){const o=F(""),{model:s,def:_}=v({items:[{label:"All",value:"all"},{label:"Federating",value:"federating"},{label:"Subscribing",value:"subscribing"},{label:"Publishing",value:"publishing"},{label:"Suspended",value:"suspended"},{label:"Blocked",value:"blocked"},{label:"Silence",value:"silenced"},{label:"Not responding",value:"notResponding"}],initialValue:"federating"}),{model:u,def:M}=v({items:[{label:`${"Pub/Sub Accounts"} (${"Descending"})`,value:"+pubSub"},{label:`${"Pub/Sub Accounts"} (${"Ascending"})`,value:"-pubSub"},{label:`${"Notes"} (${"Descending"})`,value:"+notes"},{label:`${"Notes"} (${"Ascending"})`,value:"-notes"},{label:`${"Users"} (${"Descending"})`,value:"+users"},{label:`${"Users"} (${"Ascending"})`,value:"-users"},{label:`${"Following"} (${"Descending"})`,value:"+following"},{label:`${"Following"} (${"Ascending"})`,value:"-following"},{label:`${"Followers"} (${"Descending"})`,value:"+followers"},{label:`${"Followers"} (${"Ascending"})`,value:"-followers"},{label:`${"Registered at"} (${"Descending"})`,value:"+firstRetrievedAt"},{label:`${"Registered at"} (${"Ascending"})`,value:"-firstRetrievedAt"}],initialValue:"+pubSub"}),w=E(new x("federation/instances",{limit:10,offsetMode:!0,computedParams:b(()=>({sort:u.value,host:o.value!==""?o.value:null,...s.value==="federating"?{federating:!0,suspended:!1,blocked:!1}:s.value==="subscribing"?{subscribing:!0,suspended:!1,blocked:!1}:s.value==="publishing"?{publishing:!0,suspended:!1,blocked:!1}:s.value==="suspended"?{suspended:!0}:s.value==="blocked"?{blocked:!0}:s.value==="silenced"?{silenced:!0}:s.value==="notResponding"?{notResponding:!0}:{}}))}));function V(i){switch(i.suspensionState){case"manuallySuspended":return"Manually Suspended";case"goneSuspended":return"Automatically Suspended (Gone)";case"autoSuspendedForNotResponding":return"Automatically Suspended (Not Responding)"}return i.isBlocked?"Blocked":i.isSilenced?"Silenced":i.isNotResponding?"Error":"Alive"}const h=b(()=>[]),y=b(()=>[]);return P(()=>({title:"Federation",icon:"ti ti-whirl"})),(i,t)=>{const R=k("MkA"),A=k("PageWithHeader"),O=I("tooltip");return p(),f(A,{actions:h.value,tabs:y.value},{default:l(()=>[r("div",j,[r("div",G,[r("div",null,[d(B,{modelValue:o.value,"onUpdate:modelValue":t[0]||(t[0]=a=>o.value=a),debounce:!0,class:""},{prefix:l(()=>[...t[3]||(t[3]=[r("i",{class:"ti ti-search"},null,-1)])]),label:l(()=>[g(m("Host"),1)]),_:1},8,["modelValue"]),d(N,{style:{"margin-top":"var(--MI-margin)"}},{default:l(()=>[d($,{modelValue:n(s),"onUpdate:modelValue":t[1]||(t[1]=a=>S(s)?s.value=a:null),items:n(_)},{label:l(()=>[g(m("State"),1)]),_:1},8,["modelValue","items"]),d($,{modelValue:n(u),"onUpdate:modelValue":t[2]||(t[2]=a=>S(u)?u.value=a:null),items:n(M)},{label:l(()=>[g(m("Sorting order"),1)]),_:1},8,["modelValue","items"])]),_:1})]),(p(),f(C,{key:o.value+n(s),paginator:n(w)},{default:l(({items:a})=>[r("div",{class:"xyTeM"},[(p(!0),T(U,null,H(a,c=>W((p(),f(R,{key:c.id,class:"xkouz",to:`/instance-info/${c.host}`},{default:l(()=>[d(D,{instance:c},null,8,["instance"])]),_:2},1032,["class","to"])),[[O,`Status: ${V(c)}`,void 0,{mfm:!0}]])),128))],2)]),_:1},8,["paginator"]))])])]),_:1},8,["actions","tabs"])}}});export{ne as default};
