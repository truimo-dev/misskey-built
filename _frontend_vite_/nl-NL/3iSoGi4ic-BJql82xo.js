import{u as v}from"./3iSoGi4ic-DCTAa4Sx.js";import{b as w,u as g,e as h,o as k,z as y,f as _,i as C,h as x,p as M,t as b}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-DV-GuiCp.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const a="ai",L=w({__name:"WidgetAichan",props:{widget:{}},emits:["updateProps"],setup(i,{expose:r,emit:c}){const d={transparent:{type:"boolean",default:!1}},t=i,l=c,{widgetProps:m,configure:p}=v(a,d,t,l),e=g("live2d"),u=()=>{},n=o=>{if(!e.value||!e.value.contentWindow)return;const s=e.value.getBoundingClientRect();e.value.contentWindow.postMessage({type:"moveCursor",body:{x:o.clientX-s.left,y:o.clientY-s.top}},"*")};return h(()=>{window.addEventListener("mousemove",n,{passive:!0})}),k(()=>{window.removeEventListener("mousemove",n)}),r({name:a,configure:p,id:t.widget?t.widget.id:null}),(o,s)=>{const f=y("MkContainer");return C(),_(f,{naked:b(m).transparent,showHeader:!1,"data-cy-mkw-aichan":"",class:"mkw-aichan"},{default:x(()=>[M("iframe",{ref_key:"live2d",ref:e,class:"x4zXo",src:"https://misskey-dev.github.io/mascot-web/?scale=1.5&y=1.1&eyeY=100",onClick:u},null,2)]),_:1},8,["naked"])}}});export{L as default};
