import{df as N,M as u}from"./3iSoGi4ic-DV-GuiCp.js";import{r as i,c as f,w as S,b,l as F,C as B,i as M,p as a,E as c,B as m,h as k,D as v}from"./3iSoGi4ic-D0mTJ0Mu.js";function r(t){return JSON.parse(JSON.stringify(t))}function O(t){return JSON.parse(JSON.stringify(t))}function D(t,l){const o=i(r(t)),s=i(r(t)),n=i((()=>{const e={};for(const g in t)e[g]=!1;return e})()),y=f(()=>Object.values(n).some(e=>e)),p=f(()=>Object.values(n).filter(e=>e).length);S([o,s],()=>{for(const e in n)n[e]=!N(o[e],s[e])},{deep:!0});async function x(){await l(O(o));for(const e in o)s[e]=r(o[e])}function C(){for(const e in o)o[e]=r(s[e])}return{state:o,savedState:s,modifiedStates:n,modified:y,modifiedCount:p,save:x,discard:C}}const h={style:{"margin-left":"auto"},class:"_buttons"},q=b({__name:"MkFormFooter",props:{form:{},canSaving:{type:Boolean,default:!0}},setup(t){return(l,o)=>t.form.modified.value?(M(),F("div",{key:0,class:"xC8l7"},[a("div",{class:"xdLjF"},c((({n})=>("Ci sono "+n+" cambiamenti"))({n:t.form.modifiedCount.value})),3),a("div",h,[m(u,{danger:"",rounded:"",onClick:t.form.discard},{default:k(()=>[o[0]||(o[0]=a("i",{class:"ti ti-x"},null,-1)),v(" "+c("Scarta"),1)]),_:1},8,["onClick"]),m(u,{primary:"",rounded:"",disabled:!t.canSaving,onClick:t.form.save},{default:k(()=>[o[1]||(o[1]=a("i",{class:"ti ti-check"},null,-1)),v(" "+c("Salva"),1)]),_:1},8,["disabled","onClick"])])],2)):B("",!0)}});export{q as M,D as u};
