const w=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,L=globalThis,Bt="10.29.0";function At(){return Ar(L),L}function Ar(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Bt,t[Bt]=t[Bt]||{}}function Zn(e,t,n=L){const r=n.__SENTRY__=n.__SENTRY__||{},o=r[Bt]=r[Bt]||{};return o[e]||(o[e]=t())}const ta=["debug","info","warn","error","log","assert","trace"],kh="Sentry Logger ",Mo={};function gt(e){if(!("console"in L))return e();const t=L.console,n={},r=Object.keys(Mo);r.forEach(o=>{const s=Mo[o];n[o]=t[o],t[o]=s});try{return e()}finally{r.forEach(o=>{t[o]=n[o]})}}function Ch(){ra().enabled=!0}function Rh(){ra().enabled=!1}function Gl(){return ra().enabled}function Ah(...e){na("log",...e)}function xh(...e){na("warn",...e)}function Mh(...e){na("error",...e)}function na(e,...t){w&&Gl()&&gt(()=>{L.console[e](`${kh}[${e}]:`,...t)})}function ra(){return w?Zn("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const m={enable:Ch,disable:Rh,isEnabled:Gl,log:Ah,warn:xh,error:Mh},Vl=50,dt="?",Sc=/\(error: (.*)\)/,bc=/captureMessage|captureException/;function Jl(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,o=0)=>{const s=[],i=n.split(`
`);for(let a=r;a<i.length;a++){let c=i[a];c.length>1024&&(c=c.slice(0,1024));const u=Sc.test(c)?c.replace(Sc,"$1"):c;if(!u.match(/\S*Error: /)){for(const d of t){const l=d(u);if(l){s.push(l);break}}if(s.length>=Vl+o)break}}return Oh(s.slice(o))}}function Nh(e){return Array.isArray(e)?Jl(...e):e}function Oh(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(Jr(t).function||"")&&t.pop(),t.reverse(),bc.test(Jr(t).function||"")&&(t.pop(),bc.test(Jr(t).function||"")&&t.pop()),t.slice(0,Vl).map(n=>({...n,filename:n.filename||Jr(t).filename,function:n.function||dt}))}function Jr(e){return e[e.length-1]||{}}const Fs="<anonymous>";function It(e){try{return!e||typeof e!="function"?Fs:e.name||Fs}catch{return Fs}}function _i(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}function Kl(e){return"__v_isVNode"in e&&e.__v_isVNode?"[VueVNode]":"[VueViewModel]"}const ho={},Ec={};function Jt(e,t){ho[e]=ho[e]||[],ho[e].push(t)}function Kt(e,t){if(!Ec[e]){Ec[e]=!0;try{t()}catch(n){w&&m.error(`Error while instrumenting ${e}`,n)}}}function Ke(e,t){const n=e&&ho[e];if(n)for(const r of n)try{r(t)}catch(o){w&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${It(r)}
Error:`,o)}}let Bs=null;function Yl(e){const t="error";Jt(t,e),Kt(t,Ph)}function Ph(){Bs=L.onerror,L.onerror=function(e,t,n,r,o){return Ke("error",{column:r,error:o,line:n,msg:e,url:t}),Bs?Bs.apply(this,arguments):!1},L.onerror.__SENTRY_INSTRUMENTED__=!0}let Us=null;function Xl(e){const t="unhandledrejection";Jt(t,e),Kt(t,Lh)}function Lh(){Us=L.onunhandledrejection,L.onunhandledrejection=function(e){return Ke("unhandledrejection",e),Us?Us.apply(this,arguments):!0},L.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const Ql=Object.prototype.toString;function Ut(e){switch(Ql.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return wt(e,Error)}}function er(e,t){return Ql.call(e)===`[object ${t}]`}function Zl(e){return er(e,"ErrorEvent")}function Tc(e){return er(e,"DOMError")}function Dh(e){return er(e,"DOMException")}function et(e){return er(e,"String")}function cs(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function zt(e){return e===null||cs(e)||typeof e!="object"&&typeof e!="function"}function ut(e){return er(e,"Object")}function us(e){return typeof Event<"u"&&wt(e,Event)}function $h(e){return typeof Element<"u"&&wt(e,Element)}function Fh(e){return er(e,"RegExp")}function tr(e){return!!(e?.then&&typeof e.then=="function")}function Bh(e){return ut(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function wt(e,t){try{return e instanceof t}catch{return!1}}function ed(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue||e.__v_isVNode))}function td(e){return typeof Request<"u"&&wt(e,Request)}const oa=L,Uh=80;function Ue(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,o=[];let s=0,i=0;const a=" > ",c=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||Uh;for(;n&&s++<r&&(u=Hh(n,d),!(u==="html"||s>1&&i+o.length*c+u.length>=l));)o.push(u),i+=u.length,n=n.parentNode;return o.reverse().join(a)}catch{return"<unknown>"}}function Hh(e,t){const n=e,r=[];if(!n?.tagName)return"";if(oa.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const o=t?.length?t.filter(i=>n.getAttribute(i)).map(i=>[i,n.getAttribute(i)]):null;if(o?.length)o.forEach(i=>{r.push(`[${i[0]}="${i[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const i=n.className;if(i&&et(i)){const a=i.split(/\s+/);for(const c of a)r.push(`.${c}`)}}const s=["aria-label","type","name","title","alt"];for(const i of s){const a=n.getAttribute(i);a&&r.push(`[${i}="${a}"]`)}return r.join("")}function vn(){try{return oa.document.location.href}catch{return""}}function nd(e){if(!oa.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function Ce(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const o=n(r);typeof o=="function"&&rd(o,r);try{e[t]=o}catch{w&&m.log(`Failed to replace method "${t}" in object`,e)}}function Le(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{w&&m.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function rd(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Le(e,"__sentry_original__",t)}catch{}}function sa(e){return e.__sentry_original__}function od(e){if(Ut(e))return{message:e.message,name:e.name,stack:e.stack,...Ic(e)};if(us(e)){const t={type:e.type,target:vc(e.target),currentTarget:vc(e.currentTarget),...Ic(e)};return typeof CustomEvent<"u"&&wt(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function vc(e){try{return $h(e)?Ue(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ic(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function Wh(e){const t=Object.keys(od(e));return t.sort(),t[0]?t.join(", "):"[object has no keys]"}function br(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Hs(e,t){let n=e;const r=n.length;if(r<=150)return n;t>r&&(t=r);let o=Math.max(t-60,0);o<5&&(o=0);let s=Math.min(o+140,r);return s>r-5&&(s=r),s===r&&(o=Math.max(s-140,0)),n=n.slice(o,s),o>0&&(n=`'{snip} ${n}`),s<r&&(n+=" {snip}"),n}function No(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const o=e[r];try{ed(o)?n.push(Kl(o)):n.push(String(o))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function mo(e,t,n=!1){return et(e)?Fh(t)?t.test(e):et(t)?n?e===t:e.includes(t):!1:!1}function tt(e,t=[],n=!1){return t.some(r=>mo(e,r,n))}function jh(){const e=L;return e.crypto||e.msCrypto}let Ws;function zh(){return Math.random()*16}function Te(e=jh()){try{if(e?.randomUUID)return e.randomUUID().replace(/-/g,"")}catch{}return Ws||(Ws="10000000100040008000"+1e11),Ws.replace(/[018]/g,t=>(t^(zh()&15)>>t/4).toString(16))}function sd(e){return e.exception?.values?.[0]}function rn(e){const{message:t,event_id:n}=e;if(t)return t;const r=sd(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function yi(e,t,n){const r=e.exception=e.exception||{},o=r.values=r.values||[],s=o[0]=o[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function kt(e,t){const n=sd(e);if(!n)return;const r={type:"generic",handled:!0},o=n.mechanism;if(n.mechanism={...r,...o,...t},t&&"data"in t){const s={...o?.data,...t.data};n.mechanism.data=s}}function qh(e,t,n=5){if(t.lineno===void 0)return;const r=e.length,o=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,o-n),o).map(i=>Hs(i,0));const s=Math.min(r-1,o);t.context_line=Hs(e[s],t.colno||0),t.post_context=e.slice(Math.min(o+1,r),o+1+n).map(i=>Hs(i,0))}function wc(e){if(Gh(e))return!0;try{Le(e,"__sentry_captured__",!0)}catch{}return!1}function Gh(e){try{return e.__sentry_captured__}catch{}}const id=1e3;function In(){return Date.now()/id}function Vh(){const{performance:e}=L;if(!e?.now||!e.timeOrigin)return In;const t=e.timeOrigin;return()=>(t+e.now())/id}let kc;function fe(){return(kc??(kc=Vh()))()}let js;function Jh(){const{performance:e}=L;if(!e?.now)return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),o=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=o<t,i=e.timing?.navigationStart,c=typeof i=="number"?Math.abs(i+n-r):t,u=c<t;return s||u?o<=c?[e.timeOrigin,"timeOrigin"]:[i,"navigationStart"]:[r,"dateNow"]}function Ae(){return js||(js=Jh()),js[0]}function Kh(e){const t=fe(),n={sid:Te(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>Xh(n)};return e&&Bn(n,e),n}function Bn(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||fe(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Te()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Yh(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),Bn(e,n)}function Xh(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function xr(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=xr(r[o],t[o],n-1));return r}function ft(){return Te()}function Tt(){return Te().substring(16)}const Si="_sentrySpan";function pt(e,t){t?Le(e,Si,t):delete e[Si]}function Un(e){return e[Si]}const Qh=100;class ht{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._attributes={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:ft(),sampleRand:Math.random()}}clone(){const t=new ht;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._attributes={...this._attributes},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,pt(t,Un(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Bn(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this.setTags({[t]:n})}setAttributes(t){return this._attributes={...this._attributes,...t},this._notifyScopeListeners(),this}setAttribute(t,n){return this.setAttributes({[t]:n})}removeAttribute(t){return t in this._attributes&&(delete this._attributes[t],this._notifyScopeListeners()),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof ht?n.getScopeData():ut(n)?t:void 0,{tags:o,attributes:s,extra:i,user:a,contexts:c,level:u,fingerprint:d=[],propagationContext:l}=r||{};return this._tags={...this._tags,...o},this._attributes={...this._attributes,...s},this._extra={...this._extra,...i},this._contexts={...this._contexts,...c},a&&Object.keys(a).length&&(this._user=a),u&&(this._level=u),d.length&&(this._fingerprint=d),l&&(this._propagationContext=l),this}clear(){return this._breadcrumbs=[],this._tags={},this._attributes={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,pt(this,void 0),this._attachments=[],this.setPropagationContext({traceId:ft(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Qh;if(r<=0)return this;const o={timestamp:In(),...t,message:t.message?br(t.message,2048):t.message};return this._breadcrumbs.push(o),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),this._client?.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,attributes:this._attributes,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Un(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=xr(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n?.event_id||Te();if(!this._client)return w&&m.warn("No client configured on scope - will not capture exception!"),r;const o=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:o,...n,event_id:r},this),r}captureMessage(t,n,r){const o=r?.event_id||Te();if(!this._client)return w&&m.warn("No client configured on scope - will not capture message!"),o;const s=r?.syntheticException??new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:o},this),o}captureEvent(t,n){const r=n?.event_id||Te();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(w&&m.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Zh(){return Zn("defaultCurrentScope",()=>new ht)}function em(){return Zn("defaultIsolationScope",()=>new ht)}class tm{constructor(t,n){let r;t?r=t:r=new ht;let o;n?o=n:o=new ht,this._stack=[{scope:r}],this._isolationScope=o}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(o){throw this._popScope(),o}return tr(r)?r.then(o=>(this._popScope(),o),o=>{throw this._popScope(),o}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Hn(){const e=At(),t=Ar(e);return t.stack=t.stack||new tm(Zh(),em())}function nm(e){return Hn().withScope(e)}function rm(e,t){const n=Hn();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Cc(e){return Hn().withScope(()=>e(Hn().getIsolationScope()))}function om(){return{withIsolationScope:Cc,withScope:nm,withSetScope:rm,withSetIsolationScope:(e,t)=>Cc(t),getCurrentScope:()=>Hn().getScope(),getIsolationScope:()=>Hn().getIsolationScope()}}function Yt(e){const t=Ar(e);return t.acs?t.acs:om()}function z(){const e=At();return Yt(e).getCurrentScope()}function ve(){const e=At();return Yt(e).getIsolationScope()}function Ht(){return Zn("globalScope",()=>new ht)}function rt(...e){const t=At(),n=Yt(t);if(e.length===2){const[r,o]=e;return r?n.withSetScope(r,o):n.withScope(o)}return n.withScope(e[0])}function zR(...e){const t=At(),n=Yt(t);if(e.length===2){const[r,o]=e;return r?n.withSetIsolationScope(r,o):n.withIsolationScope(o)}return n.withIsolationScope(e[0])}function R(){return z().getClient()}function ad(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:o}=t,s={trace_id:n,span_id:o||Tt()};return r&&(s.parent_span_id=r),s}const Pe="sentry.source",ia="sentry.sample_rate",cd="sentry.previous_trace_sample_rate",Ie="sentry.op",te="sentry.origin",Er="sentry.idle_span_finish_reason",Mr="sentry.measurement_unit",Nr="sentry.measurement_value",bi="sentry.custom_span_name",aa="sentry.profile_id",nr="sentry.exclusive_time",sm="http.request.method",im="url.full",am="sentry.link.type",cm=0,ls=1,Z=2;function um(e){if(e<400&&e>=100)return{code:ls};if(e>=400&&e<500)switch(e){case 401:return{code:Z,message:"unauthenticated"};case 403:return{code:Z,message:"permission_denied"};case 404:return{code:Z,message:"not_found"};case 409:return{code:Z,message:"already_exists"};case 413:return{code:Z,message:"failed_precondition"};case 429:return{code:Z,message:"resource_exhausted"};case 499:return{code:Z,message:"cancelled"};default:return{code:Z,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Z,message:"unimplemented"};case 503:return{code:Z,message:"unavailable"};case 504:return{code:Z,message:"deadline_exceeded"};default:return{code:Z,message:"internal_error"}}return{code:Z,message:"internal_error"}}function Oo(e,t){e.setAttribute("http.response.status_code",t);const n=um(t);n.message!=="unknown_error"&&e.setStatus(n)}const ud="_sentryScope",ld="_sentryIsolationScope";function lm(e){try{const t=L.WeakRef;if(typeof t=="function")return new t(e)}catch{}return e}function dm(e){if(e){if(typeof e=="object"&&"deref"in e&&typeof e.deref=="function")try{return e.deref()}catch{return}return e}}function fm(e,t,n){e&&(Le(e,ld,lm(n)),Le(e,ud,t))}function Po(e){const t=e;return{scope:t[ud],isolationScope:dm(t[ld])}}const ca="sentry-",pm=/^sentry-/,hm=8192;function ua(e){const t=mm(e);if(!t)return;const n=Object.entries(t).reduce((r,[o,s])=>{if(o.match(pm)){const i=o.slice(ca.length);r[i]=s}return r},{});if(Object.keys(n).length>0)return n}function dd(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,o])=>(o&&(n[`${ca}${r}`]=o),n),{});return gm(t)}function mm(e){if(!(!e||!et(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=Rc(n);return Object.entries(r).forEach(([o,s])=>{t[o]=s}),t},{}):Rc(e)}function Rc(e){return e.split(",").map(t=>{const n=t.indexOf("=");if(n===-1)return[];const r=t.slice(0,n),o=t.slice(n+1);return[r,o].map(s=>{try{return decodeURIComponent(s.trim())}catch{return}})}).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function gm(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],o)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,i=o===0?s:`${t},${s}`;return i.length>hm?(w&&m.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):i},"")}const _m=/^o(\d+)\./,ym=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Sm(e){return e==="http"||e==="https"}function xt(e,t=!1){const{host:n,path:r,pass:o,port:s,projectId:i,protocol:a,publicKey:c}=e;return`${a}://${c}${t&&o?`:${o}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${i}`}function fd(e){const t=ym.exec(e);if(!t){gt(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,o="",s="",i="",a=""]=t.slice(1);let c="",u=a;const d=u.split("/");if(d.length>1&&(c=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return pd({host:s,pass:o,path:c,projectId:u,port:i,protocol:n,publicKey:r})}function pd(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function bm(e){if(!w)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(i=>e[i]?!1:(m.error(`Invalid Sentry Dsn: ${i} missing`),!0))?!1:n.match(/^\d+$/)?Sm(r)?t&&isNaN(parseInt(t,10))?(m.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(m.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(m.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function Em(e){return e.match(_m)?.[1]}function hd(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=Em(n)),r}function md(e){const t=typeof e=="string"?fd(e):pd(e);if(!(!t||!bm(t)))return t}function hn(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const gd=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Tm(e){if(!e)return;const t=e.match(gd);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function _d(e,t){const n=Tm(e),r=ua(t);if(!n?.traceId)return{traceId:ft(),sampleRand:Math.random()};const o=vm(n,r);r&&(r.sample_rand=o.toString());const{traceId:s,parentSpanId:i,parentSampled:a}=n;return{traceId:s,parentSpanId:i,sampled:a,dsc:r||{},sampleRand:o}}function yd(e=ft(),t=Tt(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function Sd(e=ft(),t=Tt(),n){return`00-${e}-${t}-${n?"01":"00"}`}function vm(e,t){const n=hn(t?.sample_rand);if(n!==void 0)return n;const r=hn(t?.sample_rate);return r&&e?.parentSampled!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}function Im(e,t){const n=hd(e);return t&&n&&t!==n?(m.log(`Won't continue trace because org IDs don't match (incoming baggage: ${t}, SDK options: ${n})`),!1):(e.getOptions().strictTraceContinuation||!1)&&(t&&!n||!t&&n)?(m.log(`Starting a new trace because strict trace continuation is enabled but one org ID is missing (incoming baggage: ${t}, Sentry client: ${n})`),!1):!0}const bd=0,la=1;let Ac=!1;function wm(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:o,parent_span_id:s,status:i,origin:a,links:c}=W(e);return{parent_span_id:s,span_id:t,trace_id:n,data:r,op:o,status:i,origin:a,links:c}}function Ed(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),o=r?t:W(e).parent_span_id,s=Po(e).scope,i=r?s?.getPropagationContext().propagationSpanId||Tt():t;return{parent_span_id:o,span_id:i,trace_id:n}}function km(e){const{traceId:t,spanId:n}=e.spanContext(),r=Xt(e);return yd(t,n,r)}function Cm(e){const{traceId:t,spanId:n}=e.spanContext(),r=Xt(e);return Sd(t,n,r)}function Td(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...o},attributes:s})=>({span_id:t,trace_id:n,sampled:r===la,attributes:s,...o}))}function un(e){return typeof e=="number"?xc(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?xc(e.getTime()):fe()}function xc(e){return e>9999999999?e/1e3:e}function W(e){if(Am(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(Rm(e)){const{attributes:r,startTime:o,name:s,endTime:i,status:a,links:c}=e,u="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?e.parentSpanContext?.spanId:void 0;return{span_id:t,trace_id:n,data:r,description:s,parent_span_id:u,start_timestamp:un(o),timestamp:un(i)||void 0,status:vd(a),op:r[Ie],origin:r[te],links:Td(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function Rm(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function Am(e){return typeof e.getSpanJSON=="function"}function Xt(e){const{traceFlags:t}=e.spanContext();return t===la}function vd(e){if(!(!e||e.code===cm))return e.code===ls?"ok":e.message||"internal_error"}const ln="_sentryChildSpans",Ei="_sentryRootSpan";function Id(e,t){const n=e[Ei]||e;Le(t,Ei,n),e[ln]?e[ln].add(t):Le(e,ln,new Set([t]))}function xm(e,t){e[ln]&&e[ln].delete(t)}function go(e){const t=new Set;function n(r){if(!t.has(r)&&Xt(r)){t.add(r);const o=r[ln]?Array.from(r[ln]):[];for(const s of o)n(s)}}return n(e),Array.from(t)}function be(e){return e[Ei]||e}function ye(){const e=At(),t=Yt(e);return t.getActiveSpan?t.getActiveSpan():Un(z())}function Ti(){Ac||(gt(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly or use `ignoreSpans`.")}),Ac=!0)}function qR(e,t){e.updateName(t),e.setAttributes({[Pe]:"custom",[bi]:t})}let Mc=!1;function Mm(){if(Mc)return;function e(){const t=ye(),n=t&&be(t);if(n){const r="internal_error";w&&m.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:Z,message:r})}}e.tag="sentry_tracingErrorCallback",Mc=!0,Yl(e),Xl(e)}function Ge(e){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||R()?.getOptions();return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}function Nc(e){m.log(`Ignoring span ${e.op} - ${e.description} because it matches \`ignoreSpans\`.`)}function Lo(e,t){if(!t?.length||!e.description)return!1;for(const n of t){if(Om(n)){if(mo(e.description,n))return w&&Nc(e),!0;continue}if(!n.name&&!n.op)continue;const r=n.name?mo(e.description,n.name):!0,o=n.op?e.op&&mo(e.op,n.op):!0;if(r&&o)return w&&Nc(e),!0}return!1}function Nm(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const o of e)o.parent_span_id===r&&(o.parent_span_id=n)}function Om(e){return typeof e=="string"||e instanceof RegExp}const ds="production",wd="_frozenDsc";function _o(e,t){Le(e,wd,t)}function kd(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},o={environment:n.environment||ds,release:n.release,public_key:r,trace_id:e,org_id:hd(t)};return t.emit("createDsc",o),o}function da(e,t){const n=t.getPropagationContext();return n.dsc||kd(n.traceId,e)}function nt(e){const t=R();if(!t)return{};const n=be(e),r=W(n),o=r.data,s=n.spanContext().traceState,i=s?.get("sentry.sample_rate")??o[ia]??o[cd];function a(h){return(typeof i=="number"||typeof i=="string")&&(h.sample_rate=`${i}`),h}const c=n[wd];if(c)return a(c);const u=s?.get("sentry.dsc"),d=u&&ua(u);if(d)return a(d);const l=kd(e.spanContext().traceId,t),f=o[Pe],p=r.description;return f!=="url"&&p&&(l.transaction=p),Ge()&&(l.sampled=String(Xt(n)),l.sample_rand=s?.get("sentry.sample_rand")??Po(n).scope?.getPropagationContext().sampleRand.toString()),a(l),t.emit("createDsc",l,n),l}function GR(e){const t=nt(e);return dd(t)}class Ct{constructor(t={}){this._traceId=t.traceId||ft(),this._spanId=t.spanId||Tt()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:bd}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function je(e,t=100,n=1/0){try{return vi("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Cd(e,t=3,n=100*1024){const r=je(e,t);return $m(r)>n?Cd(e,t-1,n):r}function vi(e,t,n=1/0,r=1/0,o=Fm()){const[s,i]=o;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=Pm(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const c=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(c===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const p=u.toJSON();return vi("",p,c-1,r,o)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const f=od(t);for(const p in f){if(!Object.prototype.hasOwnProperty.call(f,p))continue;if(l>=r){d[p]="[MaxProperties ~]";break}const h=f[p];d[p]=vi(p,h,c-1,r,o),l++}return i(t),d}function Pm(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(ed(t))return Kl(t);if(Bh(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${It(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=Lm(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function Lm(e){const t=Object.getPrototypeOf(e);return t?.constructor?t.constructor.name:"null prototype"}function Dm(e){return~-encodeURI(e).split(/%..|./).length}function $m(e){return Dm(JSON.stringify(e))}function Fm(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function ot(e,t=[]){return[e,t]}function Bm(e,t){const[n,r]=e;return[n,[...r,t]]}function mn(e,t){const n=e[1];for(const r of n){const o=r[0].type;if(t(r,o))return!0}return!1}function Oc(e,t){return mn(e,(n,r)=>t.includes(r))}function Do(e){const t=Ar(L);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function Um(e){const t=Ar(L);return t.decodePolyfill?t.decodePolyfill(e):new TextDecoder().decode(e)}function $o(e){const[t,n]=e;let r=JSON.stringify(t);function o(s){typeof r=="string"?r=typeof s=="string"?r+s:[Do(r),s]:r.push(typeof s=="string"?Do(s):s)}for(const s of n){const[i,a]=s;if(o(`
${JSON.stringify(i)}
`),typeof a=="string"||a instanceof Uint8Array)o(a);else{let c;try{c=JSON.stringify(a)}catch{c=JSON.stringify(je(a))}o(c)}}return typeof r=="string"?r:Hm(r)}function Hm(e){const t=e.reduce((o,s)=>o+s.length,0),n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}function Wm(e){let t=typeof e=="string"?Do(e):e;function n(i){const a=t.subarray(0,i);return t=t.subarray(i+1),a}function r(){let i=t.indexOf(10);return i<0&&(i=t.length),JSON.parse(Um(n(i)))}const o=r(),s=[];for(;t.length;){const i=r(),a=typeof i.length=="number"?i.length:void 0;s.push([i,a?n(a):r()])}return[o,s]}function jm(e){return[{type:"span"},e]}function zm(e){const t=typeof e.data=="string"?Do(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const qm={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item",metric:"metric",trace_metric:"metric"};function Pc(e){return qm[e]}function fs(e){if(!e?.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Rd(e,t,n,r){const o=e.sdkProcessingMetadata?.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:xt(r)},...o&&{trace:o}}}function Gm(e,t){if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...e.sdk?.integrations||[],...t.integrations||[]],packages:[...e.sdk?.packages||[],...t.packages||[]],settings:e.sdk?.settings||t.settings?{...e.sdk?.settings,...t.settings}:void 0},e}function Vm(e,t,n,r){const o=fs(n),s={sent_at:new Date().toISOString(),...o&&{sdk:o},...!!r&&t&&{dsn:xt(t)}},i="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return ot(s,[i])}function Jm(e,t,n,r){const o=fs(n),s=e.type&&e.type!=="replay_event"?e.type:"event";Gm(e,n?.sdk);const i=Rd(e,o,r,t);return delete e.sdkProcessingMetadata,ot(i,[[{type:s},e]])}function Km(e,t){function n(p){return!!p.trace_id&&!!p.public_key}const r=nt(e[0]),o=t?.getDsn(),s=t?.getOptions().tunnel,i={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&o&&{dsn:xt(o)}},{beforeSendSpan:a,ignoreSpans:c}=t?.getOptions()||{},u=c?.length?e.filter(p=>!Lo(W(p),c)):e,d=e.length-u.length;d&&t?.recordDroppedEvent("before_send","span",d);const l=a?p=>{const h=W(p),g=a(h);return g||(Ti(),h)}:W,f=[];for(const p of u){const h=l(p);h&&f.push(jm(h))}return ot(i,f)}function Ym(e){if(!w)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=W(e),{spanId:o}=e.spanContext(),s=Xt(e),i=be(e),a=i===e,c=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${o}`];if(r&&u.push(`parent ID: ${r}`),!a){const{op:d,description:l}=W(i);u.push(`root ID: ${i.spanContext().spanId}`),d&&u.push(`root op: ${d}`),l&&u.push(`root description: ${l}`)}m.log(`${c}
  ${u.join(`
  `)}`)}function Xm(e){if(!w)return;const{description:t="< unknown name >",op:n="< unknown op >"}=W(e),{spanId:r}=e.spanContext(),s=be(e)===e,i=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;m.log(i)}function Qm(e,t,n,r=ye()){const o=r&&be(r);o&&(w&&m.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),o.addEvent(e,{[Nr]:t,[Mr]:n}))}function Lc(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},o=r[Mr],s=r[Nr];typeof o=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:o})}),t}const Dc=1e3;class ps{constructor(t={}){this._traceId=t.traceId||ft(),this._spanId=t.spanId||Tt(),this._startTime=t.startTimestamp||fe(),this._links=t.links,this._attributes={},this.setAttributes({[te]:"manual",[Ie]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?la:bd}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=un(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(Pe,"custom"),this}end(t){this._endTime||(this._endTime=un(t),Xm(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Ie],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:vd(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[te],profile_id:this._attributes[aa],exclusive_time:this._attributes[nr],measurements:Lc(this._events),is_segment:this._isStandaloneSpan&&be(this)===this||void 0,segment_id:this._isStandaloneSpan?be(this).spanContext().spanId:void 0,links:Td(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){w&&m.log("[Tracing] Adding an event to span:",t);const o=$c(n)?n:r||fe(),s=$c(n)?{}:n||{},i={name:t,time:un(o),attributes:s};return this._events.push(i),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=R();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===be(this)))return;if(this._isStandaloneSpan){this._sampled?eg(Km([this],t)):(w&&m.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Po(this).scope||z()).captureEvent(r)}_convertSpanToTransaction(){if(!Fc(W(this)))return;this._name||(w&&m.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Po(this),r=t?.getScopeData().sdkProcessingMetadata?.normalizedRequest;if(this._sampled!==!0)return;const s=go(this).filter(d=>d!==this&&!Zm(d)).map(d=>W(d)).filter(Fc),i=this._attributes[Pe];delete this._attributes[bi],s.forEach(d=>{delete d.data[bi]});const a={contexts:{trace:wm(this)},spans:s.length>Dc?s.sort((d,l)=>d.start_timestamp-l.start_timestamp).slice(0,Dc):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:nt(this)},request:r,...i&&{transaction_info:{source:i}}},c=Lc(this._events);return c&&Object.keys(c).length&&(w&&m.log("[Measurements] Adding measurements to transaction event",JSON.stringify(c,void 0,2)),a.measurements=c),a}}function $c(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Fc(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function Zm(e){return e instanceof ps&&e.isStandaloneSpan()}function eg(e){const t=R();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function hs(e,t,n=()=>{},r=()=>{}){let o;try{o=e()}catch(s){throw t(s),n(),s}return tg(o,t,n,r)}function tg(e,t,n,r){return tr(e)?e.then(o=>(n(),r(o),o),o=>{throw t(o),n(),o}):(n(),r(e),e)}function ng(e,t,n){if(!Ge(e))return[!1];let r,o;typeof e.tracesSampler=="function"?(o=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?o=t.parentSampled:typeof e.tracesSampleRate<"u"&&(o=e.tracesSampleRate,r=!0);const s=hn(o);if(s===void 0)return w&&m.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(o)} of type ${JSON.stringify(typeof o)}.`),[!1];if(!s)return w&&m.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,r];const i=n<s;return i||w&&m.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(o)})`),[i,s,r]}const Fo="__SENTRY_SUPPRESS_TRACING__";function Qt(e,t){const n=Or();if(n.startSpan)return n.startSpan(e,t);const r=pa(e),{forceTransaction:o,parentSpan:s,scope:i}=e,a=i?.clone();return rt(a,()=>Ad(s)(()=>{const u=z(),d=ha(u,s),f=e.onlyIfParent&&!d?new Ct:fa({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return pt(u,f),hs(()=>t(f),()=>{const{status:p}=W(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:Z,message:"internal_error"})},()=>{f.end()})}))}function $t(e,t){const n=Or();if(n.startSpanManual)return n.startSpanManual(e,t);const r=pa(e),{forceTransaction:o,parentSpan:s,scope:i}=e,a=i?.clone();return rt(a,()=>Ad(s)(()=>{const u=z(),d=ha(u,s),f=e.onlyIfParent&&!d?new Ct:fa({parentSpan:d,spanArguments:r,forceTransaction:o,scope:u});return pt(u,f),hs(()=>t(f,()=>f.end()),()=>{const{status:p}=W(f);f.isRecording()&&(!p||p==="ok")&&f.setStatus({code:Z,message:"internal_error"})})}))}function qt(e){const t=Or();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=pa(e),{forceTransaction:r,parentSpan:o}=e;return(e.scope?i=>rt(e.scope,i):o!==void 0?i=>ms(o,i):i=>i())(()=>{const i=z(),a=ha(i,o);return e.onlyIfParent&&!a?new Ct:fa({parentSpan:a,spanArguments:n,forceTransaction:r,scope:i})})}const VR=(e,t)=>{const n=At(),r=Yt(n);if(r.continueTrace)return r.continueTrace(e,t);const{sentryTrace:o,baggage:s}=e,i=R(),a=ua(s);return i&&!Im(i,a?.org_id)?og(t):rt(c=>{const u=_d(o,s);return c.setPropagationContext(u),pt(c,void 0),t()})};function ms(e,t){const n=Or();return n.withActiveSpan?n.withActiveSpan(e,t):rt(r=>(pt(r,e||void 0),t(r)))}function rg(e){const t=Or();return t.suppressTracing?t.suppressTracing(e):rt(n=>{n.setSDKProcessingMetadata({[Fo]:!0});const r=e();return n.setSDKProcessingMetadata({[Fo]:void 0}),r})}function og(e){return rt(t=>(t.setPropagationContext({traceId:ft(),sampleRand:Math.random()}),w&&m.log(`Starting a new trace with id ${t.getPropagationContext().traceId}`),ms(null,e)))}function fa({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Ge()){const i=new Ct;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...nt(i)};_o(i,a)}return i}const o=ve();let s;if(e&&!n)s=sg(e,r,t),Id(e,s);else if(e){const i=nt(e),{traceId:a,spanId:c}=e.spanContext(),u=Xt(e);s=Bc({traceId:a,parentSpanId:c,...t},r,u),_o(s,i)}else{const{traceId:i,dsc:a,parentSpanId:c,sampled:u}={...o.getPropagationContext(),...r.getPropagationContext()};s=Bc({traceId:i,parentSpanId:c,...t},r,u),a&&_o(s,a)}return Ym(s),fm(s,r,o),s}function pa(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=un(e.startTime),delete r.startTime,r}return n}function Or(){const e=At();return Yt(e)}function Bc(e,t,n){const r=R(),o=r?.getOptions()||{},{name:s=""}=e,i={spanAttributes:{...e.attributes},spanName:s,parentSampled:n};r?.emit("beforeSampling",i,{decision:!1});const a=i.parentSampled??n,c=i.spanAttributes,u=t.getPropagationContext(),[d,l,f]=t.getScopeData().sdkProcessingMetadata[Fo]?[!1]:ng(o,{name:s,parentSampled:a,attributes:c,parentSampleRate:hn(u.dsc?.sample_rate)},u.sampleRand),p=new ps({...e,attributes:{[Pe]:"custom",[ia]:l!==void 0&&f?l:void 0,...c},sampled:d});return!d&&r&&(w&&m.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function sg(e,t,n){const{spanId:r,traceId:o}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[Fo]?!1:Xt(e),i=s?new ps({...n,parentSpanId:r,traceId:o,sampled:s}):new Ct({traceId:o});Id(e,i);const a=R();return a&&(a.emit("spanStart",i),n.endTimestamp&&a.emit("spanEnd",i)),i}function ha(e,t){if(t)return t;if(t===null)return;const n=Un(e);if(!n)return;const r=R();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?be(n):n}function Ad(e){return e!==void 0?t=>ms(e,t):t=>t()}const yo={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},ig="heartbeatFailed",ag="idleTimeout",cg="finalTimeout",ug="externalFinish";function xd(e,t={}){const n=new Map;let r=!1,o,s=ug,i=!t.disableAutoFinish;const a=[],{idleTimeout:c=yo.idleTimeout,finalTimeout:u=yo.finalTimeout,childSpanTimeout:d=yo.childSpanTimeout,beforeSpanEnd:l,trimIdleSpanEndTimestamp:f=!0}=t,p=R();if(!p||!Ge()){const S=new Ct,C={sample_rate:"0",sampled:"false",...nt(S)};return _o(S,C),S}const h=z(),g=ye(),_=lg(e);_.end=new Proxy(_.end,{apply(S,C,$){if(l&&l(_),C instanceof Ct)return;const[E,...A]=$,k=E||fe(),M=un(k),P=go(_).filter(I=>I!==_),Y=W(_);if(!P.length||!f)return O(M),Reflect.apply(S,C,[M,...A]);const K=p.getOptions().ignoreSpans,oe=P?.reduce((I,G)=>{const se=W(G);return!se.timestamp||K&&Lo(se,K)?I:I?Math.max(I,se.timestamp):se.timestamp},void 0),T=Y.start_timestamp,q=Math.min(T?T+u/1e3:1/0,Math.max(T||-1/0,Math.min(M,oe||1/0)));return O(q),Reflect.apply(S,C,[q,...A])}});function y(){o&&(clearTimeout(o),o=void 0)}function b(S){y(),o=setTimeout(()=>{!r&&n.size===0&&i&&(s=ag,_.end(S))},c)}function N(S){o=setTimeout(()=>{!r&&i&&(s=ig,_.end(S))},d)}function x(S){y(),n.set(S,!0);const C=fe();N(C+d/1e3)}function H(S){if(n.has(S)&&n.delete(S),n.size===0){const C=fe();b(C+c/1e3)}}function O(S){r=!0,n.clear(),a.forEach(P=>P()),pt(h,g);const C=W(_),{start_timestamp:$}=C;if(!$)return;C.data[Er]||_.setAttribute(Er,s);const A=C.status;(!A||A==="unknown")&&_.setStatus({code:ls}),m.log(`[Tracing] Idle span "${C.op}" finished`);const k=go(_).filter(P=>P!==_);let M=0;k.forEach(P=>{P.isRecording()&&(P.setStatus({code:Z,message:"cancelled"}),P.end(S),w&&m.log("[Tracing] Cancelling span since span ended early",JSON.stringify(P,void 0,2)));const Y=W(P),{timestamp:K=0,start_timestamp:oe=0}=Y,T=oe<=S,q=(u+c)/1e3,I=K-oe<=q;if(w){const G=JSON.stringify(P,void 0,2);T?I||m.log("[Tracing] Discarding span since it finished after idle span final timeout",G):m.log("[Tracing] Discarding span since it happened after idle span was finished",G)}(!I||!T)&&(xm(_,P),M++)}),M>0&&_.setAttribute("sentry.idle_span_discarded_spans",M)}return a.push(p.on("spanStart",S=>{if(r||S===_||W(S).timestamp||S instanceof ps&&S.isStandaloneSpan())return;go(_).includes(S)&&x(S.spanContext().spanId)})),a.push(p.on("spanEnd",S=>{r||H(S.spanContext().spanId)})),a.push(p.on("idleSpanEnableAutoFinish",S=>{S===_&&(i=!0,b(),n.size&&N())})),t.disableAutoFinish||b(),setTimeout(()=>{r||(_.setStatus({code:Z,message:"deadline_exceeded"}),s=cg,_.end())},u),_}function lg(e){const t=qt(e);return pt(z(),t),w&&m.log("[Tracing] Started span is an idle span"),t}const zs=0,Uc=1,Hc=2;function gs(e){return new Tr(t=>{t(e)})}function ma(e){return new Tr((t,n)=>{n(e)})}class Tr{constructor(t){this._state=zs,this._handlers=[],this._runExecutor(t)}then(t,n){return new Tr((r,o)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(i){o(i)}},s=>{if(!n)o(s);else try{r(n(s))}catch(i){o(i)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Tr((n,r)=>{let o,s;return this.then(i=>{s=!1,o=i,t&&t()},i=>{s=!0,o=i,t&&t()}).then(()=>{if(s){r(o);return}n(o)})})}_executeHandlers(){if(this._state===zs)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Uc&&n[1](this._value),this._state===Hc&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(s,i)=>{if(this._state===zs){if(tr(i)){i.then(r,o);return}this._state=s,this._value=i,this._executeHandlers()}},r=s=>{n(Uc,s)},o=s=>{n(Hc,s)};try{t(r,o)}catch(s){o(s)}}}function dg(e,t,n,r=0){try{const o=Ii(t,n,e,r);return tr(o)?o:gs(o)}catch(o){return ma(o)}}function Ii(e,t,n,r){const o=n[r];if(!e||!o)return e;const s=o({...e},t);return w&&s===null&&m.log(`Event processor "${o.id||"?"}" dropped event`),tr(s)?s.then(i=>Ii(i,t,n,r+1)):Ii(s,t,n,r+1)}function fg(e,t){const{fingerprint:n,span:r,breadcrumbs:o,sdkProcessingMetadata:s}=t;pg(e,t),r&&gg(e,r),_g(e,n),hg(e,o),mg(e,s)}function Wn(e,t){const{extra:n,tags:r,user:o,contexts:s,level:i,sdkProcessingMetadata:a,breadcrumbs:c,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:f,transactionName:p,span:h}=t;Kr(e,"extra",n),Kr(e,"tags",r),Kr(e,"user",o),Kr(e,"contexts",s),e.sdkProcessingMetadata=xr(e.sdkProcessingMetadata,a,2),i&&(e.level=i),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...f}}function Kr(e,t,n){e[t]=xr(e[t],n,1)}function pg(e,t){const{extra:n,tags:r,user:o,contexts:s,level:i,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(o).length&&(e.user={...o,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),i&&(e.level=i),a&&e.type!=="transaction"&&(e.transaction=a)}function hg(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function mg(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function gg(e,t){e.contexts={trace:Ed(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:nt(t),...e.sdkProcessingMetadata};const n=be(t),r=W(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function _g(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let tn,Wc,jc,Ot;function Md(e){const t=L._sentryDebugIds,n=L._debugIds;if(!t&&!n)return{};const r=t?Object.keys(t):[],o=n?Object.keys(n):[];if(Ot&&r.length===Wc&&o.length===jc)return Ot;Wc=r.length,jc=o.length,Ot={},tn||(tn={});const s=(i,a)=>{for(const c of i){const u=a[c],d=tn?.[c];if(d&&Ot&&u)Ot[d[0]]=u,tn&&(tn[c]=[d[0],u]);else if(u){const l=e(c);for(let f=l.length-1;f>=0;f--){const h=l[f]?.filename;if(h&&Ot&&tn){Ot[h]=u,tn[c]=[h,u];break}}}}};return t&&s(r,t),n&&s(o,n),Ot}function yg(e,t){const n=Md(e);if(!n)return[];const r=[];for(const o of t)o&&n[o]&&r.push({type:"sourcemap",code_file:o,debug_id:n[o]});return r}function Nd(e,t,n,r,o,s){const{normalizeDepth:i=3,normalizeMaxBreadth:a=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Te(),timestamp:t.timestamp||In()},u=n.integrations||e.integrations.map(_=>_.name);Sg(c,e),Tg(c,u),o&&o.emit("applyFrameMetadata",t),t.type===void 0&&bg(c,e.stackParser);const d=Ig(r,n.captureContext);n.mechanism&&kt(c,n.mechanism);const l=o?o.getEventProcessors():[],f=Ht().getScopeData();if(s){const _=s.getScopeData();Wn(f,_)}if(d){const _=d.getScopeData();Wn(f,_)}const p=[...n.attachments||[],...f.attachments];p.length&&(n.attachments=p),fg(c,f);const h=[...l,...f.eventProcessors];return dg(h,c,n).then(_=>(_&&Eg(_),typeof i=="number"&&i>0?vg(_,i,a):_))}function Sg(e,t){const{environment:n,release:r,dist:o,maxValueLength:s}=t;e.environment=e.environment||n||ds,!e.release&&r&&(e.release=r),!e.dist&&o&&(e.dist=o);const i=e.request;i?.url&&s&&(i.url=br(i.url,s)),s&&e.exception?.values?.forEach(a=>{a.value&&(a.value=br(a.value,s))})}function bg(e,t){const n=Md(t);e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.filename&&(o.debug_id=n[o.filename])})})}function Eg(e){const t={};if(e.exception?.values?.forEach(r=>{r.stacktrace?.frames?.forEach(o=>{o.debug_id&&(o.abs_path?t[o.abs_path]=o.debug_id:o.filename&&(t[o.filename]=o.debug_id),delete o.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([r,o])=>{n.push({type:"sourcemap",code_file:r,debug_id:o})})}function Tg(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function vg(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:je(o.data,t,n)}}))},...e.user&&{user:je(e.user,t,n)},...e.contexts&&{contexts:je(e.contexts,t,n)},...e.extra&&{extra:je(e.extra,t,n)}};return e.contexts?.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=je(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:je(o.data,t,n)}}))),e.contexts?.flags&&r.contexts&&(r.contexts.flags=je(e.contexts.flags,3,n)),r}function Ig(e,t){if(!t)return e;const n=e?e.clone():new ht;return n.update(t),n}function wg(e){if(e)return kg(e)?{captureContext:e}:Rg(e)?{captureContext:e}:e}function kg(e){return e instanceof ht||typeof e=="function"}const Cg=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function Rg(e){return Object.keys(e).some(t=>Cg.includes(t))}function pe(e,t){return z().captureException(e,wg(t))}function Ag(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return z().captureMessage(e,n,r)}function Pr(e,t){return z().captureEvent(e,t)}function xg(e,t){ve().setContext(e,t)}function JR(e){ve().setExtras(e)}function KR(e,t){ve().setExtra(e,t)}function YR(e){ve().setTags(e)}function XR(e,t){ve().setTag(e,t)}function QR(e){ve().setUser(e)}function Mg(){return ve().lastEventId()}async function ZR(e){const t=R();return t?t.flush(e):(w&&m.warn("Cannot flush events. No client defined."),Promise.resolve(!1))}async function eA(e){const t=R();return t?t.close(e):(w&&m.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1))}function tA(){return!!R()}function Ng(){const e=R();return e?.getOptions().enabled!==!1&&!!e?.getTransport()}function Og(e){ve().addEventProcessor(e)}function zc(e){const t=ve(),n=z(),{userAgent:r}=L.navigator||{},o=Kh({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),s=t.getSession();return s?.status==="ok"&&Bn(s,{status:"exited"}),Od(),t.setSession(o),o}function Od(){const e=ve(),n=z().getSession()||e.getSession();n&&Yh(n),Pd(),e.setSession()}function Pd(){const e=ve(),t=R(),n=e.getSession();n&&t&&t.captureSession(n)}function qc(e=!1){if(e){Od();return}Pd()}const Pg="7";function Ld(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Lg(e){return`${Ld(e)}${e.projectId}/envelope/`}function Dg(e,t){const n={sentry_version:Pg};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function Dd(e,t,n){return t||`${Lg(e)}?${Dg(e,n)}`}function $g(e,t){const n=md(e);if(!n)return"";const r=`${Ld(n)}embed/error-page/`;let o=`dsn=${xt(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const i=t.user;if(!i)continue;i.name&&(o+=`&name=${encodeURIComponent(i.name)}`),i.email&&(o+=`&email=${encodeURIComponent(i.email)}`)}else o+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${o}`}const Gc=[];function Fg(e){const t={};return e.forEach(n=>{const{name:r}=n,o=t[r];o&&!o.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function Bg(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(o=>{o.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const o=n(t);r=Array.isArray(o)?o:[o]}else r=t;return Fg(r)}function Ug(e,t){const n={};return t.forEach(r=>{r&&$d(e,r,n)}),n}function Vc(e,t){for(const n of t)n?.afterAllSetup&&n.afterAllSetup(e)}function $d(e,t,n){if(n[t.name]){w&&m.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,!Gc.includes(t.name)&&typeof t.setupOnce=="function"&&(t.setupOnce(),Gc.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(o,s)=>r(o,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),o=Object.assign((s,i)=>r(s,i,e),{id:t.name});e.addEventProcessor(o)}w&&m.log(`Integration installed: ${t.name}`)}function Jc(e){const t=R();if(!t){w&&m.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);return}t.addIntegration(e)}function Fd(e,t){return t?rt(t,()=>{const n=ye(),r=n?Ed(n):ad(t);return[n?nt(n):da(e,t),r]}):[void 0,void 0]}const Hg={trace:1,debug:5,info:9,warn:13,error:17,fatal:21};function Wg(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function jg(e,t,n,r){const o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=xt(r)),ot(o,[Wg(e)])}const zg=100;function qg(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function at(e,t,n,r=!0){n&&(!e[t]||r)&&(e[t]=n)}function Gg(e,t){const n=_a(),r=Bd(e);r===void 0?n.set(e,[t]):r.length>=zg?(ga(e,r),n.set(e,[t])):n.set(e,[...r,t])}function Bo(e,t=z(),n=Gg){const r=t?.getClient()??R();if(!r){w&&m.warn("No client available to capture log.");return}const{release:o,environment:s,enableLogs:i=!1,beforeSendLog:a}=r.getOptions();if(!i){w&&m.warn("logging option not enabled, log will not be captured.");return}const[,c]=Fd(r,t),u={...e.attributes},{user:{id:d,email:l,username:f}}=Vg(t);at(u,"user.id",d,!1),at(u,"user.email",l,!1),at(u,"user.name",f,!1),at(u,"sentry.release",o),at(u,"sentry.environment",s);const{name:p,version:h}=r.getSdkMetadata()?.sdk??{};at(u,"sentry.sdk.name",p),at(u,"sentry.sdk.version",h);const g=r.getIntegrationByName("Replay"),_=g?.getReplayId(!0);at(u,"sentry.replay_id",_),_&&g?.getRecordingMode()==="buffer"&&at(u,"sentry._internal.replay_is_buffering",!0);const y=e.message;if(cs(y)){const{__sentry_template_string__:E,__sentry_template_values__:A=[]}=y;A?.length&&(u["sentry.message.template"]=E),A.forEach((k,M)=>{u[`sentry.message.parameter.${M}`]=k})}const b=Un(t);at(u,"sentry.trace.parent_span_id",b?.spanContext().spanId);const N={...e,attributes:u};r.emit("beforeCaptureLog",N);const x=a?gt(()=>a(N)):N;if(!x){r.recordDroppedEvent("before_send","log_item",1),w&&m.warn("beforeSendLog returned null, log will not be captured.");return}const{level:H,message:O,attributes:S={},severityNumber:C}=x,$={timestamp:fe(),level:H,body:O,trace_id:c?.trace_id,severity_number:C??Hg[H],attributes:Object.keys(S).reduce((E,A)=>(E[A]=qg(S[A]),E),{})};n(r,$),r.emit("afterCaptureLog",x)}function ga(e,t){const n=t??Bd(e)??[];if(n.length===0)return;const r=e.getOptions(),o=jg(n,r._metadata,r.tunnel,e.getDsn());_a().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(o)}function Bd(e){return _a().get(e)}function Vg(e){const t=Ht().getScopeData();return Wn(t,ve().getScopeData()),Wn(t,e.getScopeData()),t}function _a(){return Zn("clientToLogBufferMap",()=>new WeakMap)}function Jg(e){return[{type:"trace_metric",item_count:e.length,content_type:"application/vnd.sentry.items.trace-metric+json"},{items:e}]}function Kg(e,t,n,r){const o={};return t?.sdk&&(o.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(o.dsn=xt(r)),ot(o,[Jg(e)])}const Yg=1e3;function Xg(e){switch(typeof e){case"number":return Number.isInteger(e)?{value:e,type:"integer"}:{value:e,type:"double"};case"boolean":return{value:e,type:"boolean"};case"string":return{value:e,type:"string"};default:{let t="";try{t=JSON.stringify(e)??""}catch{}return{value:t,type:"string"}}}}function yt(e,t,n,r=!0){n&&(r||!(t in e))&&(e[t]=n)}function Qg(e,t){const n=Sa(),r=Ud(e);r===void 0?n.set(e,[t]):r.length>=Yg?(ya(e,r),n.set(e,[t])):n.set(e,[...r,t])}function Zg(e,t,n){const{release:r,environment:o}=t.getOptions(),s={...e.attributes},{user:{id:i,email:a,username:c}}=n_(n);yt(s,"user.id",i,!1),yt(s,"user.email",a,!1),yt(s,"user.name",c,!1),yt(s,"sentry.release",r),yt(s,"sentry.environment",o);const{name:u,version:d}=t.getSdkMetadata()?.sdk??{};yt(s,"sentry.sdk.name",u),yt(s,"sentry.sdk.version",d);const l=t.getIntegrationByName("Replay"),f=l?.getReplayId(!0);return yt(s,"sentry.replay_id",f),f&&l?.getRecordingMode()==="buffer"&&yt(s,"sentry._internal.replay_is_buffering",!0),{...e,attributes:s}}function e_(e,t,n){const r={};for(const c in e.attributes)e.attributes[c]!==void 0&&(r[c]=Xg(e.attributes[c]));const[,o]=Fd(t,n),s=Un(n),i=s?s.spanContext().traceId:o?.trace_id,a=s?s.spanContext().spanId:void 0;return{timestamp:fe(),trace_id:i??"",span_id:a,name:e.name,type:e.type,unit:e.unit,value:e.value,attributes:r}}function t_(e,t){const n=t?.scope??z(),r=t?.captureSerializedMetric??Qg,o=n?.getClient()??R();if(!o){w&&m.warn("No client available to capture metric.");return}const{_experiments:s,enableMetrics:i,beforeSendMetric:a}=o.getOptions();if(!(i??s?.enableMetrics??!0)){w&&m.warn("metrics option not enabled, metric will not be captured.");return}const u=Zg(e,o,n);o.emit("processMetric",u);const d=a||s?.beforeSendMetric,l=d?d(u):u;if(!l){w&&m.log("`beforeSendMetric` returned `null`, will not send metric.");return}const f=e_(l,o,n);w&&m.log("[Metric]",f),r(o,f),o.emit("afterCaptureMetric",l)}function ya(e,t){const n=t??Ud(e)??[];if(n.length===0)return;const r=e.getOptions(),o=Kg(n,r._metadata,r.tunnel,e.getDsn());Sa().set(e,[]),e.emit("flushMetrics"),e.sendEnvelope(o)}function Ud(e){return Sa().get(e)}function n_(e){const t=Ht().getScopeData();return Wn(t,ve().getScopeData()),Wn(t,e.getScopeData()),t}function Sa(){return Zn("clientToMetricBufferMap",()=>new WeakMap)}const ba=Symbol.for("SentryBufferFullError");function Ea(e=100){const t=new Set;function n(){return t.size<e}function r(i){t.delete(i)}function o(i){if(!n())return ma(ba);const a=i();return t.add(a),a.then(()=>r(a),()=>r(a)),a}function s(i){if(!t.size)return gs(!0);const a=Promise.allSettled(Array.from(t)).then(()=>!0);if(!i)return a;const c=[a,new Promise(u=>setTimeout(()=>u(!1),i))];return Promise.race(c)}return{get $(){return Array.from(t)},add:o,drain:s}}const r_=60*1e3;function Hd(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?r_:r-t}function o_(e,t){return e[t]||e.all||0}function Wd(e,t,n=Date.now()){return o_(e,t)>n}function jd(e,{statusCode:t,headers:n},r=Date.now()){const o={...e},s=n?.["x-sentry-rate-limits"],i=n?.["retry-after"];if(s)for(const a of s.trim().split(",")){const[c,u,,,d]=a.split(":",5),l=parseInt(c,10),f=(isNaN(l)?60:l)*1e3;if(!u)o.all=r+f;else for(const p of u.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(o[p]=r+f):o[p]=r+f}else i?o.all=r+Hd(i,r):t===429&&(o.all=r+60*1e3);return o}const zd=64;function s_(e,t,n=Ea(e.bufferSize||zd)){let r={};const o=i=>n.drain(i);function s(i){const a=[];if(mn(i,(l,f)=>{const p=Pc(f);Wd(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(l)}),a.length===0)return Promise.resolve({});const c=ot(i[0],a),u=l=>{mn(c,(f,p)=>{e.recordDroppedEvent(l,Pc(p))})},d=()=>t({body:$o(c)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&w&&m.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=jd(r,l),l),l=>{throw u("network_error"),w&&m.error("Encountered error running transport request:",l),l});return n.add(d).then(l=>l,l=>{if(l===ba)return w&&m.error("Skipped sending event because buffer is full."),u("queue_overflow"),Promise.resolve({});throw l})}return{send:s,flush:o}}function i_(e,t,n){const r=[{type:"client_report"},{timestamp:In(),discarded_events:e}];return ot(t?{dsn:t}:{},[r])}function qd(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n?.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function a_(e){const{trace_id:t,parent_span_id:n,span_id:r,status:o,origin:s,data:i,op:a}=e.contexts?.trace??{};return{data:i??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:o,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:i?.[aa],exclusive_time:i?.[nr],measurements:e.measurements,is_segment:!0}}function c_(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[aa]:e.profile_id},...e.exclusive_time&&{[nr]:e.exclusive_time}}}},measurements:e.measurements}}const Kc="Not capturing exception because it's already been captured.",Yc="Discarded session because of missing or non-string release",Gd=Symbol.for("SentryInternalError"),Vd=Symbol.for("SentryDoNotSendEventError"),u_=5e3;function So(e){return{message:e,[Gd]:!0}}function qs(e){return{message:e,[Vd]:!0}}function Xc(e){return!!e&&typeof e=="object"&&Gd in e}function Qc(e){return!!e&&typeof e=="object"&&Vd in e}function Zc(e,t,n,r,o){let s=0,i,a=!1;e.on(n,()=>{s=0,clearTimeout(i),a=!1}),e.on(t,c=>{s+=r(c),s>=8e5?o(e):a||(a=!0,i=setTimeout(()=>{o(e)},u_))}),e.on("flush",()=>{o(e)})}class l_{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],this._promiseBuffer=Ea(t.transportOptions?.bufferSize??zd),t.dsn?this._dsn=md(t.dsn):w&&m.warn("No DSN provided, client will not send events."),this._dsn){const r=Dd(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:r})}this._options.enableLogs=this._options.enableLogs??this._options._experiments?.enableLogs,this._options.enableLogs&&Zc(this,"afterCaptureLog","flushLogs",h_,ga),(this._options.enableMetrics??this._options._experiments?.enableMetrics??!0)&&Zc(this,"afterCaptureMetric","flushMetrics",p_,ya)}captureException(t,n,r){const o=Te();if(wc(t))return w&&m.log(Kc),o;const s={event_id:o,...n};return this._process(()=>this.eventFromException(t,s).then(i=>this._captureEvent(i,s,r)).then(i=>i),"error"),s.event_id}captureMessage(t,n,r,o){const s={event_id:Te(),...r},i=cs(t)?t:String(t),a=zt(t),c=a?this.eventFromMessage(i,n,s):this.eventFromException(t,s);return this._process(()=>c.then(u=>this._captureEvent(u,s,o)),a?"unknown":"error"),s.event_id}captureEvent(t,n,r){const o=Te();if(n?.originalException&&wc(n.originalException))return w&&m.log(Kc),o;const s={event_id:o,...n},i=t.sdkProcessingMetadata||{},a=i.capturedSpanScope,c=i.capturedSpanIsolationScope,u=eu(t.type);return this._process(()=>this._captureEvent(t,s,a||r,c),u),s.event_id}captureSession(t){this.sendSession(t),Bn(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}async flush(t){const n=this._transport;if(!n)return!0;this.emit("flush");const r=await this._isClientDoneProcessing(t),o=await n.flush(t);return r&&o}async close(t){const n=await this.flush(t);return this.getOptions().enabled=!1,this.emit("close"),n}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];$d(this,t,this._integrations),n||Vc(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Jm(t,this._dsn,this._options._metadata,this._options.tunnel);for(const o of n.attachments||[])r=Bm(r,zm(o));this.sendEnvelope(r).then(o=>this.emit("afterSendEvent",t,o))}sendSession(t){const{release:n,environment:r=ds}=this._options;if("aggregates"in t){const s=t.attrs||{};if(!s.release&&!n){w&&m.warn(Yc);return}s.release=s.release||n,s.environment=s.environment||r,t.attrs=s}else{if(!t.release&&!n){w&&m.warn(Yc);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const o=Vm(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(o)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const o=`${t}:${n}`;w&&m.log(`Recording outcome: "${o}"${r>1?` (${r} times)`:""}`),this._outcomes[o]=(this._outcomes[o]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||new Set,o=(...s)=>n(...s);return r.add(o),()=>{r.delete(o)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(o=>o(...n))}async sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)try{return await this._transport.send(t)}catch(n){return w&&m.error("Error while sending envelope:",n),{}}return w&&m.error("Transport disabled"),{}}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Ug(this,t),Vc(this,t)}_updateSessionFromEvent(t,n){let r=n.level==="fatal",o=!1;const s=n.exception?.values;if(s){o=!0,r=!1;for(const c of s)if(c.mechanism?.handled===!1){r=!0;break}}const i=t.status==="ok";(i&&t.errors===0||i&&r)&&(Bn(t,{...r&&{status:"crashed"},errors:t.errors||Number(o||r)}),this.captureSession(t))}async _isClientDoneProcessing(t){let n=0;for(;!t||n<t;){if(await new Promise(r=>setTimeout(r,1)),!this._numProcessing)return!0;n++}return!1}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,o){const s=this.getOptions(),i=Object.keys(this._integrations);return!n.integrations&&i?.length&&(n.integrations=i),this.emit("preprocessEvent",t,n),t.type||o.setLastEventId(t.event_id||n.event_id),Nd(s,t,n,r,this,o).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:ad(r),...a.contexts};const c=da(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:c,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=z(),o=ve()){return w&&wi(t)&&m.log(`Captured error event \`${qd(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,o).then(s=>s.event_id,s=>{w&&(Qc(s)?m.log(s.message):Xc(s)?m.warn(s.message):m.warn(s))})}_processEvent(t,n,r,o){const s=this.getOptions(),{sampleRate:i}=s,a=Jd(t),c=wi(t),d=`before send for type \`${t.type||"error"}\``,l=typeof i>"u"?void 0:hn(i);if(c&&typeof l=="number"&&Math.random()>l)return this.recordDroppedEvent("sample_rate","error"),ma(qs(`Discarding event because it's not included in the random sample (sampling rate = ${i})`));const f=eu(t.type);return this._prepareEvent(t,n,r,o).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",f),qs("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;const g=f_(this,s,p,n);return d_(g,d)}).then(p=>{if(p===null){if(this.recordDroppedEvent("before_send",f),a){const y=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",y)}throw qs(`${d} returned \`null\`, will not send event.`)}const h=r.getSession()||o.getSession();if(c&&h&&this._updateSessionFromEvent(h,p),a){const _=p.sdkProcessingMetadata?.spanCountBeforeProcessing||0,y=p.spans?p.spans.length:0,b=_-y;b>0&&this.recordDroppedEvent("before_send","span",b)}const g=p.transaction_info;if(a&&g&&p.transaction!==t.transaction){const _="custom";p.transaction_info={...g,source:_}}return this.sendEvent(p,n),p}).then(null,p=>{throw Qc(p)||Xc(p)?p:(this.captureException(p,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:p}),So(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t,n){this._numProcessing++,this._promiseBuffer.add(t).then(r=>(this._numProcessing--,r),r=>(this._numProcessing--,r===ba&&this.recordDroppedEvent("queue_overflow",n),r))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[o,s]=n.split(":");return{reason:o,category:s,quantity:r}})}_flushOutcomes(){w&&m.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){w&&m.log("No outcomes to send");return}if(!this._dsn){w&&m.log("No dsn provided, will not send outcomes");return}w&&m.log("Sending outcomes:",t);const n=i_(t,this._options.tunnel&&xt(this._dsn));this.sendEnvelope(n)}}function eu(e){return e==="replay_event"?"replay":e||"error"}function d_(e,t){const n=`${t} must return \`null\` or a valid event.`;if(tr(e))return e.then(r=>{if(!ut(r)&&r!==null)throw So(n);return r},r=>{throw So(`${t} rejected with ${r}`)});if(!ut(e)&&e!==null)throw So(n);return e}function f_(e,t,n,r){const{beforeSend:o,beforeSendTransaction:s,beforeSendSpan:i,ignoreSpans:a}=t;let c=n;if(wi(c)&&o)return o(c,r);if(Jd(c)){if(i||a){const u=a_(c);if(a?.length&&Lo(u,a))return null;if(i){const d=i(u);d?c=xr(n,c_(d)):Ti()}if(c.spans){const d=[],l=c.spans;for(const p of l){if(a?.length&&Lo(p,a)){Nm(l,p);continue}if(i){const h=i(p);h?d.push(h):(Ti(),d.push(p))}else d.push(p)}const f=c.spans.length-d.length;f&&e.recordDroppedEvent("before_send","span",f),c.spans=d}}if(s){if(c.spans){const u=c.spans.length;c.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:u}}return s(c,r)}}return c}function wi(e){return e.type===void 0}function Jd(e){return e.type==="transaction"}function p_(e){let t=0;return e.name&&(t+=e.name.length*2),t+=8,t+Kd(e.attributes)}function h_(e){let t=0;return e.message&&(t+=e.message.length*2),t+Kd(e.attributes)}function Kd(e){if(!e)return 0;let t=0;return Object.values(e).forEach(n=>{Array.isArray(n)?t+=n.length*tu(n[0]):zt(n)?t+=tu(n):t+=100}),t}function tu(e){return typeof e=="string"?e.length*2:typeof e=="number"?8:typeof e=="boolean"?4:0}function m_(e,t){t.debug===!0&&(w?m.enable():gt(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),z().update(t.initialScope);const r=new e(t);return g_(r),r.init(),r}function g_(e){z().setClient(e)}const Gs=100,Vs=5e3,__=36e5;function y_(e){function t(...n){w&&m.log("[Offline]:",...n)}return n=>{const r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");const o=n.createStore(n);let s=Vs,i;function a(l,f,p){return Oc(l,["client_report"])?!1:n.shouldStore?n.shouldStore(l,f,p):!0}function c(l){i&&clearTimeout(i),i=setTimeout(async()=>{i=void 0;const f=await o.shift();f&&(t("Attempting to send previously queued event"),f[0].sent_at=new Date().toISOString(),d(f,!0).catch(p=>{t("Failed to retry sending",p)}))},l),typeof i!="number"&&i.unref&&i.unref()}function u(){i||(c(s),s=Math.min(s*2,__))}async function d(l,f=!1){if(!f&&Oc(l,["replay_event","replay_recording"]))return await o.push(l),c(Gs),{};try{if(n.shouldSend&&await n.shouldSend(l)===!1)throw new Error("Envelope not sent because `shouldSend` callback returned false");const p=await r.send(l);let h=Gs;if(p){if(p.headers?.["retry-after"])h=Hd(p.headers["retry-after"]);else if(p.headers?.["x-sentry-rate-limits"])h=6e4;else if((p.statusCode||0)>=400)return p}return c(h),s=Vs,p}catch(p){if(await a(l,p,s))return f?await o.unshift(l):await o.push(l),u(),t("Error sending. Event queued.",p),{};throw p}}return n.flushAtStartup&&u(),{send:d,flush:l=>(l===void 0&&(s=Vs,c(Gs)),r.flush(l))}}}const Js="MULTIPLEXED_TRANSPORT_EXTRA_KEY";function Yd(e,t){let n;return mn(e,(r,o)=>(t.includes(o)&&(n=Array.isArray(r)?r[1]:void 0),!!n)),n}function S_(e,t){return n=>{const r=e(n);return{...r,send:async o=>{const s=Yd(o,["event","transaction","profile","replay_event"]);return s&&(s.release=t),r.send(o)}}}}function b_(e,t){return ot(t?{...e[0],dsn:t}:e[0],e[1])}function nA(e,t){return n=>{const r=e(n),o=new Map,s=t||(u=>{const d=u.getEvent();return d?.extra?.[Js]&&Array.isArray(d.extra[Js])?d.extra[Js]:[]});function i(u,d){const l=d?`${u}:${d}`:u;let f=o.get(l);if(!f){const p=fd(u);if(!p)return;const h=Dd(p,n.tunnel);f=d?S_(e,d)({...n,url:h}):e({...n,url:h}),o.set(l,f)}return[u,f]}async function a(u){function d(h){const g=h?.length?h:["event"];return Yd(u,g)}const l=s({envelope:u,getEvent:d}).map(h=>typeof h=="string"?i(h,void 0):i(h.dsn,h.release)).filter(h=>!!h),f=l.length?l:[["",r]];return(await Promise.all(f.map(([h,g])=>g.send(b_(u,h)))))[0]}async function c(u){const d=[...o.values(),r];return(await Promise.all(d.map(f=>f.flush(u)))).every(f=>f)}return{send:a,flush:c}}}const E_="thismessage:/";function Ta(e){return"isRelative"in e}function va(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?E_:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const o=new URL(e,r);return n?{isRelative:n,pathname:o.pathname,search:o.search,hash:o.hash}:o}catch{}}function T_(e){if(Ta(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function dn(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function Xd(e){return e.split(/[?#]/,1)[0]}function Qd(e,t){const n=t?.getDsn(),r=t?.getOptions().tunnel;return I_(e,n)||v_(e,r)}function v_(e,t){return t?nu(e)===nu(t):!1}function I_(e,t){const n=va(e);return!n||Ta(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function nu(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function w_(e,...t){const n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n}const k_=w_;function C_(e){"aggregates"in e?e.attrs?.ip_address===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function Zd(e,t,n=[t],r="npm"){const o=e._metadata||{};o.sdk||(o.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Bt})),version:Bt}),e._metadata=o}function ef(e={}){const t=e.client||R();if(!Ng()||!t)return{};const n=At(),r=Yt(n);if(r.getTraceData)return r.getTraceData(e);const o=e.scope||z(),s=e.span||ye(),i=s?km(s):R_(o),a=s?nt(s):da(t,o),c=dd(a);if(!gd.test(i))return m.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const d={"sentry-trace":i,baggage:c};if(e.propagateTraceparent){const l=s?Cm(s):A_(o);l&&(d.traceparent=l)}return d}function R_(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return yd(t,r,n)}function A_(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Sd(t,r,n)}function x_(e,t,n){let r,o,s;const i=n?.maxWait?Math.max(n.maxWait,t):0,a=n?.setTimeoutImpl||setTimeout;function c(){return u(),r=e(),r}function u(){o!==void 0&&clearTimeout(o),s!==void 0&&clearTimeout(s),o=s=void 0}function d(){return o!==void 0||s!==void 0?c():r}function l(){return o&&clearTimeout(o),o=a(c,t),i&&s===void 0&&(s=a(c,i)),r}return l.cancel=u,l.flush=d,l}const M_=100;function mt(e,t){const n=R(),r=ve();if(!n)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:s=M_}=n.getOptions();if(s<=0)return;const a={timestamp:In(),...e},c=o?gt(()=>o(a,t)):a;c!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",c,t),r.addBreadcrumb(c,s))}let ru;const N_="FunctionToString",ou=new WeakMap,O_=()=>({name:N_,setupOnce(){ru=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=sa(this),n=ou.has(R())&&t!==void 0?t:this;return ru.apply(n,e)}}catch{}},setup(e){ou.set(e,!0)}}),P_=O_,L_=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],D_="EventFilters",$_=(e={})=>{let t;return{name:D_,setup(n){const r=n.getOptions();t=su(e,r)},processEvent(n,r,o){if(!t){const s=o.getOptions();t=su(e,s)}return B_(n,t)?null:n}}},F_=(e={})=>({...$_(e),name:"InboundFilters"});function su(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:L_],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function B_(e,t){if(e.type){if(e.type==="transaction"&&H_(e,t.ignoreTransactions))return w&&m.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${rn(e)}`),!0}else{if(U_(e,t.ignoreErrors))return w&&m.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${rn(e)}`),!0;if(q_(e))return w&&m.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${rn(e)}`),!0;if(W_(e,t.denyUrls))return w&&m.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${rn(e)}.
Url: ${Uo(e)}`),!0;if(!j_(e,t.allowUrls))return w&&m.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${rn(e)}.
Url: ${Uo(e)}`),!0}return!1}function U_(e,t){return t?.length?qd(e).some(n=>tt(n,t)):!1}function H_(e,t){if(!t?.length)return!1;const n=e.transaction;return n?tt(n,t):!1}function W_(e,t){if(!t?.length)return!1;const n=Uo(e);return n?tt(n,t):!1}function j_(e,t){if(!t?.length)return!0;const n=Uo(e);return n?tt(n,t):!0}function z_(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Uo(e){try{const n=[...e.exception?.values??[]].reverse().find(r=>r.mechanism?.parent_id===void 0&&r.stacktrace?.frames?.length)?.stacktrace?.frames;return n?z_(n):null}catch{return w&&m.error(`Cannot extract url for event ${rn(e)}`),null}}function q_(e){return e.exception?.values?.length?!e.message&&!e.exception.values.some(t=>t.stacktrace||t.type&&t.type!=="Error"||t.value):!1}function G_(e,t,n,r,o,s){if(!o.exception?.values||!s||!wt(s.originalException,Error))return;const i=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;i&&(o.exception.values=ki(e,t,r,s.originalException,n,o.exception.values,i,0))}function ki(e,t,n,r,o,s,i,a){if(s.length>=n+1)return s;let c=[...s];if(wt(r[o],Error)){iu(i,a);const u=e(t,r[o]),d=c.length;au(u,o,d,a),c=ki(e,t,n,r[o],o,[u,...c],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(wt(u,Error)){iu(i,a);const l=e(t,u),f=c.length;au(l,`errors[${d}]`,f,a),c=ki(e,t,n,u,o,[l,...c],l,f)}}),c}function iu(e,t){e.mechanism={handled:!0,type:"auto.core.linked_errors",...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function au(e,t,n,r){e.mechanism={handled:!0,...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}const tf=new Map,cu=new Set;function V_(e){if(L._sentryModuleMetadata)for(const t of Object.keys(L._sentryModuleMetadata)){const n=L._sentryModuleMetadata[t];if(cu.has(t))continue;cu.add(t);const r=e(t);for(const o of r.reverse())if(o.filename){tf.set(o.filename,n);break}}}function J_(e,t){return V_(e),tf.get(t)}function nf(e,t){t.exception?.values?.forEach(n=>{n.stacktrace?.frames?.forEach(r=>{if(!r.filename||r.module_metadata)return;const o=J_(e,r.filename);o&&(r.module_metadata=o)})})}function rf(e){e.exception?.values?.forEach(t=>{t.stacktrace?.frames?.forEach(n=>{delete n.module_metadata})})}const rA=()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",t=>{mn(t,(n,r)=>{if(r==="event"){const o=Array.isArray(n)?n[1]:void 0;o&&(rf(o),n[1]=o)}})}),e.on("applyFrameMetadata",t=>{if(t.type)return;const n=e.getOptions().stackParser;nf(n,t)})}});function Ia(e){const t="console";Jt(t,e),Kt(t,K_)}function K_(){"console"in L&&ta.forEach(function(e){e in L.console&&Ce(L.console,e,function(t){return Mo[e]=t,function(...n){Ke("console",{args:n,level:e}),Mo[e]?.apply(L.console,n)}})})}function Ho(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const Y_="CaptureConsole",X_=(e={})=>{const t=e.levels||ta,n=e.handled??!0;return{name:Y_,setup(r){"console"in L&&Ia(({args:o,level:s})=>{R()!==r||!t.includes(s)||Q_(o,s,n)})}}},oA=X_;function Q_(e,t,n){const r=Ho(t),o=new Error,s={level:Ho(t),extra:{arguments:e}};rt(i=>{if(i.addEventProcessor(u=>(u.logger="console",kt(u,{handled:n,type:"auto.core.capture_console"}),u)),t==="assert"){if(!e[0]){const u=`Assertion failed: ${No(e.slice(1)," ")||"console.assert"}`;i.setExtra("arguments",e.slice(1)),i.captureMessage(u,r,{captureContext:s,syntheticException:o})}return}const a=e.find(u=>u instanceof Error);if(a){pe(a,s);return}const c=No(e," ");i.captureMessage(c,r,{captureContext:s,syntheticException:o})})}const Z_="Dedupe",ey=()=>{let e;return{name:Z_,processEvent(t){if(t.type)return t;try{if(ny(t,e))return w&&m.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},ty=ey;function ny(e,t){return t?!!(ry(e,t)||oy(e,t)):!1}function ry(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!sf(e,t)||!of(e,t))}function oy(e,t){const n=uu(t),r=uu(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!sf(e,t)||!of(e,t))}function of(e,t){let n=_i(e),r=_i(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let o=0;o<r.length;o++){const s=r[o],i=n[o];if(s.filename!==i.filename||s.lineno!==i.lineno||s.colno!==i.colno||s.function!==i.function)return!1}return!0}function sf(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function uu(e){return e.exception?.values?.[0]}const sy="ExtraErrorData",iy=(e={})=>{const{depth:t=3,captureErrorCause:n=!0}=e;return{name:sy,processEvent(r,o,s){const{maxValueLength:i}=s.getOptions();return ay(r,o,t,n,i)}}},sA=iy;function ay(e,t={},n,r,o){if(!t.originalException||!Ut(t.originalException))return e;const s=t.originalException.name||t.originalException.constructor.name,i=af(t.originalException,r,o);if(i){const a={...e.contexts},c=je(i,n);return ut(c)&&(Le(c,"__sentry_skip_normalization__",!0),a[s]=c),{...e,contexts:a}}return e}function af(e,t,n){try{const r=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],o={};for(const s of Object.keys(e)){if(r.indexOf(s)!==-1)continue;const i=e[s];o[s]=Ut(i)||typeof i=="string"?n?br(`${i}`,n):`${i}`:i}if(t&&e.cause!==void 0)if(Ut(e.cause)){const s=e.cause.name||e.cause.constructor.name;o.cause={[s]:af(e.cause,!1,n)}}else o.cause=e.cause;if(typeof e.toJSON=="function"){const s=e.toJSON();for(const i of Object.keys(s)){const a=s[i];o[i]=Ut(a)?a.toString():a}}return o}catch(r){w&&m.error("Unable to extract extra data from the Error object:",r)}return null}function cy(e,t){let n=0;for(let r=e.length-1;r>=0;r--){const o=e[r];o==="."?e.splice(r,1):o===".."?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}const uy=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function ly(e){const t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=uy.exec(t);return n?n.slice(1):[]}function lu(...e){let t="",n=!1;for(let r=e.length-1;r>=-1&&!n;r--){const o=r>=0?e[r]:"/";o&&(t=`${o}/${t}`,n=o.charAt(0)==="/")}return t=cy(t.split("/").filter(r=>!!r),!n).join("/"),(n?"/":"")+t||"."}function du(e){let t=0;for(;t<e.length&&e[t]==="";t++);let n=e.length-1;for(;n>=0&&e[n]==="";n--);return t>n?[]:e.slice(t,n-t+1)}function dy(e,t){e=lu(e).slice(1),t=lu(t).slice(1);const n=du(e.split("/")),r=du(t.split("/")),o=Math.min(n.length,r.length);let s=o;for(let a=0;a<o;a++)if(n[a]!==r[a]){s=a;break}let i=[];for(let a=s;a<n.length;a++)i.push("..");return i=i.concat(r.slice(s)),i.join("/")}function fy(e,t){return ly(e)[2]||""}const py="RewriteFrames",iA=(e={})=>{const t=e.root,n=e.prefix||"app:///",r="window"in L&&!!L.window,o=e.iteratee||hy({isBrowser:r,root:t,prefix:n});function s(a){try{return{...a,exception:{...a.exception,values:a.exception.values.map(c=>({...c,...c.stacktrace&&{stacktrace:i(c.stacktrace)}}))}}}catch{return a}}function i(a){return{...a,frames:a?.frames?.map(c=>o(c))}}return{name:py,processEvent(a){let c=a;return a.exception&&Array.isArray(a.exception.values)&&(c=s(c)),c}}};function hy({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;const o=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),s=/^\//.test(r.filename);if(e){if(t){const i=r.filename;i.indexOf(t)===0&&(r.filename=i.replace(t,n))}}else if(o||s){const i=o?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,a=t?dy(t,i):fy(i);r.filename=`${n}${a}`}return r}}const my=["reauthenticate","signInAnonymously","signInWithOAuth","signInWithIdToken","signInWithOtp","signInWithPassword","signInWithSSO","signOut","signUp","verifyOtp"],gy=["createUser","deleteUser","listUsers","getUserById","updateUserById","inviteUserByEmail"],_y={eq:"eq",neq:"neq",gt:"gt",gte:"gte",lt:"lt",lte:"lte",like:"like","like(all)":"likeAllOf","like(any)":"likeAnyOf",ilike:"ilike","ilike(all)":"ilikeAllOf","ilike(any)":"ilikeAnyOf",is:"is",in:"in",cs:"contains",cd:"containedBy",sr:"rangeGt",nxl:"rangeGte",sl:"rangeLt",nxr:"rangeLte",adj:"rangeAdjacent",ov:"overlaps",fts:"",plfts:"plain",phfts:"phrase",wfts:"websearch",not:"not"},cf=["select","insert","upsert","update","delete"];function _s(e){try{e.__SENTRY_INSTRUMENTED__=!0}catch{}}function ys(e){try{return e.__SENTRY_INSTRUMENTED__}catch{return!1}}function yy(e,t={}){switch(e){case"GET":return"select";case"POST":return t.Prefer?.includes("resolution=")?"upsert":"insert";case"PATCH":return"update";case"DELETE":return"delete";default:return"<unknown-op>"}}function Sy(e,t){if(t===""||t==="*")return"select(*)";if(e==="select")return`select(${t})`;if(e==="or"||e.endsWith(".or"))return`${e}${t}`;const[n,...r]=t.split(".");let o;return n?.startsWith("fts")?o="textSearch":n?.startsWith("plfts")?o="textSearch[plain]":n?.startsWith("phfts")?o="textSearch[phrase]":n?.startsWith("wfts")?o="textSearch[websearch]":o=n&&_y[n]||"filter",`${o}(${e}, ${r.join(".")})`}function fu(e,t=!1){return new Proxy(e,{apply(n,r,o){return Qt({name:`auth ${t?"(admin) ":""}${e.name}`,attributes:{[te]:"auto.db.supabase",[Ie]:"db","db.system":"postgresql","db.operation":`auth.${t?"admin.":""}${e.name}`}},s=>Reflect.apply(n,r,o).then(i=>(i&&typeof i=="object"&&"error"in i&&i.error?(s.setStatus({code:Z}),pe(i.error,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}})):s.setStatus({code:ls}),s.end(),i)).catch(i=>{throw s.setStatus({code:Z}),s.end(),pe(i,{mechanism:{handled:!1,type:"auto.db.supabase.auth"}}),i}).then(...o))}})}function by(e){const t=e.auth;if(!(!t||ys(e.auth))){for(const n of my){const r=t[n];r&&typeof e.auth[n]=="function"&&(e.auth[n]=fu(r))}for(const n of gy){const r=t.admin[n];r&&typeof e.auth.admin[n]=="function"&&(e.auth.admin[n]=fu(r,!0))}_s(e.auth)}}function Ey(e){ys(e.prototype.from)||(e.prototype.from=new Proxy(e.prototype.from,{apply(t,n,r){const o=Reflect.apply(t,n,r),s=o.constructor;return vy(s),o}}),_s(e.prototype.from))}function Ty(e){ys(e.prototype.then)||(e.prototype.then=new Proxy(e.prototype.then,{apply(t,n,r){const o=cf,s=n,i=yy(s.method,s.headers);if(!o.includes(i)||!s?.url?.pathname||typeof s.url.pathname!="string")return Reflect.apply(t,n,r);const a=s.url.pathname.split("/"),c=a.length>0?a[a.length-1]:"",u=[];for(const[p,h]of s.url.searchParams.entries())u.push(Sy(p,h));const d=Object.create(null);if(ut(s.body))for(const[p,h]of Object.entries(s.body))d[p]=h;const l=`${i==="select"?"":`${i}${d?"(...) ":""}`}${u.join(" ")} from(${c})`,f={"db.table":c,"db.schema":s.schema,"db.url":s.url.origin,"db.sdk":s.headers["X-Client-Info"],"db.system":"postgresql","db.operation":i,[te]:"auto.db.supabase",[Ie]:"db"};return u.length&&(f["db.query"]=u),Object.keys(d).length&&(f["db.body"]=d),Qt({name:l,attributes:f},p=>Reflect.apply(t,n,[]).then(h=>{if(p&&(h&&typeof h=="object"&&"status"in h&&Oo(p,h.status||500),p.end()),h.error){const y=new Error(h.error.message);h.error.code&&(y.code=h.error.code),h.error.details&&(y.details=h.error.details);const b={};u.length&&(b.query=u),Object.keys(d).length&&(b.body=d),pe(y,N=>(N.addEventProcessor(x=>(kt(x,{handled:!1,type:"auto.db.supabase.postgres"}),x)),N.setContext("supabase",b),N))}const g={type:"supabase",category:`db.${i}`,message:l},_={};return u.length&&(_.query=u),Object.keys(d).length&&(_.body=d),Object.keys(_).length&&(g.data=_),mt(g),h},h=>{throw p&&(Oo(p,500),p.end()),h}).then(...r))}}),_s(e.prototype.then))}function vy(e){for(const t of cf)ys(e.prototype[t])||(e.prototype[t]=new Proxy(e.prototype[t],{apply(n,r,o){const s=Reflect.apply(n,r,o),i=s.constructor;return w&&m.log(`Instrumenting ${t} operation's PostgRESTFilterBuilder`),Ty(i),s}}),_s(e.prototype[t]))}const Iy=e=>{if(!e){w&&m.warn("Supabase integration was not installed because no Supabase client was provided.");return}const t=e.constructor===Function?e:e.constructor;Ey(t),by(e)},wy="Supabase",ky=e=>({setupOnce(){Iy(e)},name:wy}),aA=e=>ky(e.supabaseClient),Cy=10,Ry="ZodErrors";function Ay(e){return Ut(e)&&e.name==="ZodError"&&Array.isArray(e.issues)}function xy(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0}}function My(e){return e.map(t=>typeof t=="number"?"<array>":t).join(".")}function Ny(e){const t=new Set;for(const r of e.issues){const o=My(r.path);o.length>0&&t.add(o)}const n=Array.from(t);if(n.length===0){let r="variable";if(e.issues.length>0){const o=e.issues[0];o!==void 0&&"expected"in o&&typeof o.expected=="string"&&(r=o.expected)}return`Failed to validate ${r}`}return`Failed to validate keys: ${br(n.join(", "),100)}`}function Oy(e,t=!1,n,r){if(!n.exception?.values||!r.originalException||!Ay(r.originalException)||r.originalException.issues.length===0)return n;try{const s=(t?r.originalException.issues:r.originalException.issues.slice(0,e)).map(xy);return t&&(Array.isArray(r.attachments)||(r.attachments=[]),r.attachments.push({filename:"zod_issues.json",data:JSON.stringify({issues:s})})),{...n,exception:{...n.exception,values:[{...n.exception.values[0],value:Ny(r.originalException)},...n.exception.values.slice(1)]},extra:{...n.extra,"zoderror.issues":s.slice(0,e)}}}catch(o){return{...n,extra:{...n.extra,"zoderrors sentry integration parse error":{message:"an exception was thrown while processing ZodError within applyZodErrorsToEvent()",error:o instanceof Error?`${o.name}: ${o.message}
${o.stack}`:"unknown"}}}}}const Py=(e={})=>{const t=e.limit??Cy;return{name:Ry,processEvent(n,r){return Oy(t,e.saveZodIssuesAsAttachment,n,r)}}},cA=Py,uA=e=>({name:"ThirdPartyErrorsFilter",setup(t){t.on("beforeEnvelope",n=>{mn(n,(r,o)=>{if(o==="event"){const s=Array.isArray(r)?r[1]:void 0;s&&(rf(s),r[1]=s)}})}),t.on("applyFrameMetadata",n=>{if(n.type)return;const r=t.getOptions().stackParser;nf(r,n)})},processEvent(t){const n=Ly(t);if(n){const r=e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="apply-tag-if-contains-third-party-frames"?"some":"every";if(n[r](s=>!s.some(i=>e.filterKeys.includes(i)))){if(e.behaviour==="drop-error-if-contains-third-party-frames"||e.behaviour==="drop-error-if-exclusively-contains-third-party-frames")return null;t.tags={...t.tags,third_party_code:!0}}}return t}});function Ly(e){const t=_i(e);if(t)return t.filter(n=>!!n.filename&&(n.lineno??n.colno)!=null).map(n=>n.module_metadata?Object.keys(n.module_metadata).filter(r=>r.startsWith(pu)).map(r=>r.slice(pu.length)):[])}const pu="_sentryBundlerPluginAppKey:",Dy=100,$y=10,Yr="flag.evaluation.";function rr(e){const n=z().getScopeData().contexts.flags,r=n?n.values:[];return r.length&&(e.contexts===void 0&&(e.contexts={}),e.contexts.flags={values:[...r]}),e}function gn(e,t,n=Dy){const r=z().getScopeData().contexts;r.flags||(r.flags={values:[]});const o=r.flags.values;Fy(o,e,t,n)}function Fy(e,t,n,r){if(typeof n!="boolean")return;if(e.length>r){w&&m.error(`[Feature Flags] insertToFlagBuffer called on a buffer larger than maxSize=${r}`);return}const o=e.findIndex(s=>s.flag===t);o!==-1&&e.splice(o,1),e.length===r&&e.shift(),e.push({flag:t,result:n})}function _n(e,t,n=$y){if(typeof t!="boolean")return;const r=ye();if(!r)return;const o=W(r).data;if(`${Yr}${e}`in o){r.setAttribute(`${Yr}${e}`,t);return}Object.keys(o).filter(i=>i.startsWith(Yr)).length<n&&r.setAttribute(`${Yr}${e}`,t)}const lA=()=>({name:"FeatureFlags",processEvent(e,t,n){return rr(e)},addFeatureFlag(e,t){gn(e,t),_n(e,t)}}),By=({growthbookClass:e})=>({name:"GrowthBook",setupOnce(){const t=e.prototype;typeof t.isOn=="function"&&Ce(t,"isOn",hu),typeof t.getFeatureValue=="function"&&Ce(t,"getFeatureValue",hu)},processEvent(t,n,r){return rr(t)}});function hu(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"&&(gn(n,r),_n(n,r)),r}}function Uy(e,t,n,r,o){if(!e.fetchData)return;const{method:s,url:i}=e.fetchData,a=Ge()&&t(i);if(e.endTimestamp&&a){const p=e.fetchData.__span;if(!p)return;const h=r[p];h&&(jy(h,e),Hy(h,e,o),delete r[p]);return}const{spanOrigin:c="auto.http.browser",propagateTraceparent:u=!1}=typeof o=="object"?o:{spanOrigin:o},d=!!ye(),l=a&&d?qt(qy(i,s,c)):new Ct;if(e.fetchData.__span=l.spanContext().spanId,r[l.spanContext().spanId]=l,n(e.fetchData.url)){const p=e.args[0],h=e.args[1]||{},g=Wy(p,h,Ge()&&d?l:void 0,u);g&&(e.args[1]=h,h.headers=g)}const f=R();if(f){const p={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};f.emit("beforeOutgoingRequestSpan",l,p)}return l}function Hy(e,t,n){(typeof n=="object"&&n!==null?n.onRequestSpanEnd:void 0)?.(e,{headers:t.response?.headers,error:t.error})}function Wy(e,t,n,r){const o=ef({span:n,propagateTraceparent:r}),s=o["sentry-trace"],i=o.baggage,a=o.traceparent;if(!s)return;const c=t.headers||(td(e)?e.headers:void 0);if(c)if(zy(c)){const u=new Headers(c);if(u.get("sentry-trace")||u.set("sentry-trace",s),r&&a&&!u.get("traceparent")&&u.set("traceparent",a),i){const d=u.get("baggage");d?Xr(d)||u.set("baggage",`${d},${i}`):u.set("baggage",i)}return u}else if(Array.isArray(c)){const u=[...c];c.find(l=>l[0]==="sentry-trace")||u.push(["sentry-trace",s]),r&&a&&!c.find(l=>l[0]==="traceparent")&&u.push(["traceparent",a]);const d=c.find(l=>l[0]==="baggage"&&Xr(l[1]));return i&&!d&&u.push(["baggage",i]),u}else{const u="sentry-trace"in c?c["sentry-trace"]:void 0,d="traceparent"in c?c.traceparent:void 0,l="baggage"in c?c.baggage:void 0,f=l?Array.isArray(l)?[...l]:[l]:[],p=l&&(Array.isArray(l)?l.find(g=>Xr(g)):Xr(l));i&&!p&&f.push(i);const h={...c,"sentry-trace":u??s,baggage:f.length>0?f.join(","):void 0};return r&&a&&!d&&(h.traceparent=a),h}else return{...o}}function jy(e,t){if(t.response){Oo(e,t.response.status);const n=t.response?.headers?.get("content-length");if(n){const r=parseInt(n);r>0&&e.setAttribute("http.response_content_length",r)}}else t.error&&e.setStatus({code:Z,message:"internal_error"});e.end()}function Xr(e){return e.split(",").some(t=>t.trim().startsWith(ca))}function zy(e){return typeof Headers<"u"&&wt(e,Headers)}function qy(e,t,n){const r=va(e);return{name:r?`${t} ${T_(r)}`:t,attributes:Gy(e,r,t,n)}}function Gy(e,t,n,r){const o={url:e,type:"fetch","http.method":n,[te]:r,[Ie]:"http.client"};return t&&(Ta(t)||(o["http.url"]=t.href,o["server.address"]=t.host),t.search&&(o["http.query"]=t.search),t.hash&&(o["http.fragment"]=t.hash)),o}function Vy(e,t={},n=z()){const{message:r,name:o,email:s,url:i,source:a,associatedEventId:c,tags:u}=e,d={contexts:{feedback:{contact_email:s,name:o,message:r,url:i,source:a,associated_event_id:c}},type:"feedback",level:"info",tags:u},l=n?.getClient()||R();return l&&l.emit("beforeSendFeedback",d,t),n.captureEvent(d,t)}function or(e,t,n,r,o){Bo({level:e,message:t,attributes:n,severityNumber:o},r)}function Jy(e,t,{scope:n}={}){or("trace",e,t,n)}function Ky(e,t,{scope:n}={}){or("debug",e,t,n)}function Yy(e,t,{scope:n}={}){or("info",e,t,n)}function Xy(e,t,{scope:n}={}){or("warn",e,t,n)}function Qy(e,t,{scope:n}={}){or("error",e,t,n)}function Zy(e,t,{scope:n}={}){or("fatal",e,t,n)}const dA=Object.freeze(Object.defineProperty({__proto__:null,debug:Ky,error:Qy,fatal:Zy,fmt:k_,info:Yy,trace:Jy,warn:Xy},Symbol.toStringTag,{value:"Module"}));function Ci(e,t,n){return"util"in L&&typeof L.util.format=="function"?L.util.format(...e):eS(e,t,n)}function eS(e,t,n){return e.map(r=>zt(r)?String(r):JSON.stringify(je(r,t,n))).join(" ")}function tS(e){return/%[sdifocO]/.test(e)}function nS(e,t){const n={},r=new Array(t.length).fill("{}").join(" ");return n["sentry.message.template"]=`${e} ${r}`,t.forEach((o,s)=>{n[`sentry.message.parameter.${s}`]=o}),n}const rS="ConsoleLogs",mu={[te]:"auto.log.console"},oS=(e={})=>{const t=e.levels||ta;return{name:rS,setup(n){const{enableLogs:r,normalizeDepth:o=3,normalizeMaxBreadth:s=1e3}=n.getOptions();if(!r){w&&m.warn("`enableLogs` is not enabled, ConsoleLogs integration disabled");return}Ia(({args:i,level:a})=>{if(R()!==n||!t.includes(a))return;const c=i[0],u=i.slice(1);if(a==="assert"){if(!c){const p=u.length>0?`Assertion failed: ${Ci(u,o,s)}`:"Assertion failed";Bo({level:"error",message:p,attributes:mu})}return}const d=a==="log",l=i.length>1&&typeof i[0]=="string"&&!tS(i[0]),f={...mu,...l?nS(c,u):{}};Bo({level:d?"info":a,message:Ci(i,o,s),severityNumber:d?10:void 0,attributes:f})})}}},fA=oS;function wa(e,t,n,r){t_({type:e,name:t,value:n,unit:r?.unit,attributes:r?.attributes},{scope:r?.scope})}function sS(e,t=1,n){wa("counter",e,t,n)}function iS(e,t,n){wa("gauge",e,t,n)}function aS(e,t,n){wa("distribution",e,t,n)}const pA=Object.freeze(Object.defineProperty({__proto__:null,count:sS,distribution:aS,gauge:iS},Symbol.toStringTag,{value:"Module"})),cS=["trace","debug","info","warn","error","fatal"];function hA(e={}){const t=new Set(e.levels??cS),n=e.client;return{log(r){const{type:o,level:s,message:i,args:a,tag:c,date:u,...d}=r,l=n||R();if(!l)return;const f=dS(o,s);if(!t.has(f))return;const{normalizeDepth:p=3,normalizeMaxBreadth:h=1e3}=l.getOptions(),g=[];i&&g.push(i),a&&a.length>0&&g.push(Ci(a,p,h));const _=g.join(" ");d["sentry.origin"]="auto.log.consola",c&&(d["consola.tag"]=c),o&&(d["consola.type"]=o),s!=null&&typeof s=="number"&&(d["consola.level"]=s),Bo({level:f,message:_,attributes:d})}}}const uS={silent:"trace",fatal:"fatal",error:"error",warn:"warn",log:"info",info:"info",success:"info",fail:"error",ready:"info",start:"info",box:"info",debug:"debug",trace:"trace",verbose:"debug",critical:"fatal",notice:"info"},lS={0:"fatal",1:"warn",2:"info",3:"info",4:"debug",5:"trace"};function dS(e,t){if(e==="verbose")return"debug";if(e==="silent")return"trace";if(e){const n=uS[e];if(n)return n}if(typeof t=="number"){const n=lS[t];if(n)return n}return"info"}const fS="gen_ai.prompt",Ss="gen_ai.system",Be="gen_ai.request.model",ka="gen_ai.request.stream",bs="gen_ai.request.temperature",Ca="gen_ai.request.max_tokens",Es="gen_ai.request.frequency_penalty",Ra="gen_ai.request.presence_penalty",Ts="gen_ai.request.top_p",uf="gen_ai.request.top_k",pS="gen_ai.request.encoding_format",hS="gen_ai.request.dimensions",Zt="gen_ai.response.finish_reasons",en="gen_ai.response.model",sr="gen_ai.response.id",mS="gen_ai.response.stop_reason",yn="gen_ai.usage.input_tokens",Sn="gen_ai.usage.output_tokens",bn="gen_ai.usage.total_tokens",Gt="gen_ai.operation.name",lt="gen_ai.request.messages",Ye="gen_ai.response.text",vs="gen_ai.request.available_tools",Is="gen_ai.response.streaming",_t="gen_ai.response.tool_calls",lf="gen_ai.agent.name",gS="gen_ai.pipeline.name",_S="gen_ai.usage.cache_creation_input_tokens",yS="gen_ai.usage.cache_read_input_tokens",SS="gen_ai.invoke_agent",bS="openai.response.id",df="openai.response.model",ES="openai.response.timestamp",TS="openai.usage.completion_tokens",vS="openai.usage.prompt_tokens",Ks={CHAT:"chat",RESPONSES:"responses",EMBEDDINGS:"embeddings"},gu="anthropic.response.timestamp",ff=2e4,Wo=e=>new TextEncoder().encode(e).length,jo=e=>Wo(JSON.stringify(e));function Aa(e,t){if(Wo(e)<=t)return e;let n=0,r=e.length,o="";for(;n<=r;){const s=Math.floor((n+r)/2),i=e.slice(0,s);Wo(i)<=t?(o=i,n=s+1):r=s-1}return o}function IS(e){return typeof e=="string"?e:e.text}function _u(e,t){return typeof e=="string"?t:{...e,text:t}}function wS(e){return e!==null&&typeof e=="object"&&"content"in e&&typeof e.content=="string"}function kS(e){return e!==null&&typeof e=="object"&&"parts"in e&&Array.isArray(e.parts)&&e.parts.length>0}function CS(e,t){const n={...e,content:""},r=jo(n),o=t-r;if(o<=0)return[];const s=Aa(e.content,o);return[{...e,content:s}]}function RS(e,t){const{parts:n}=e,r=n.map(a=>_u(a,"")),o=jo({...e,parts:r});let s=t-o;if(s<=0)return[];const i=[];for(const a of n){const c=IS(a),u=Wo(c);if(u<=s)i.push(a),s-=u;else if(i.length===0){const d=Aa(c,s);d&&i.push(_u(a,d));break}else break}return i.length>0?[{...e,parts:i}]:[]}function AS(e,t){return!e||typeof e!="object"?[]:wS(e)?CS(e,t):kS(e)?RS(e,t):[]}function xS(e,t){if(!Array.isArray(e)||e.length===0||jo(e)<=t)return e;const r=e.map(jo);let o=0,s=e.length;for(let i=e.length-1;i>=0;i--){const a=r[i];if(a&&o+a>t)break;a&&(o+=a),s=i}if(s===e.length){const i=e[e.length-1];return AS(i,t)}return e.slice(s)}function xa(e){return xS(e,ff)}function MS(e){return Aa(e,ff)}function Lr(e){return e.includes("messages")?"messages":e.includes("completions")?"completions":e.includes("models")?"models":e.includes("chat")?"chat":e.split(".").pop()||"unknown"}function zo(e){return`gen_ai.${Lr(e)}`}function pf(e,t){return e?`${e}.${t}`:t}function Ma(e,t,n,r,o){if(t!==void 0&&e.setAttributes({[yn]:t}),n!==void 0&&e.setAttributes({[Sn]:n}),t!==void 0||n!==void 0||r!==void 0||o!==void 0){const s=(t??0)+(n??0)+(r??0)+(o??0);e.setAttributes({[bn]:s})}}function fn(e){if(typeof e=="string")return MS(e);if(Array.isArray(e)){const t=xa(e);return JSON.stringify(t)}return JSON.stringify(e)}const NS=["responses.create","chat.completions.create","embeddings.create"],OS=["response.output_item.added","response.function_call_arguments.delta","response.function_call_arguments.done","response.output_item.done"],PS=["response.created","response.in_progress","response.failed","response.completed","response.incomplete","response.queued","response.output_text.delta",...OS];function Na(e){return e.includes("chat.completions")?Ks.CHAT:e.includes("responses")?Ks.RESPONSES:e.includes("embeddings")?Ks.EMBEDDINGS:e.split(".").pop()||"unknown"}function yu(e){return`gen_ai.${Na(e)}`}function LS(e){return NS.includes(e)}function DS(e,t){return e?`${e}.${t}`:t}function $S(e){return e!==null&&typeof e=="object"&&"object"in e&&e.object==="chat.completion"}function FS(e){return e!==null&&typeof e=="object"&&"object"in e&&e.object==="response"}function BS(e){if(e===null||typeof e!="object"||!("object"in e))return!1;const t=e;return t.object==="list"&&typeof t.model=="string"&&t.model.toLowerCase().includes("embedding")}function US(e){return e!==null&&typeof e=="object"&&"type"in e&&typeof e.type=="string"&&e.type.startsWith("response.")}function HS(e){return e!==null&&typeof e=="object"&&"object"in e&&e.object==="chat.completion.chunk"}function WS(e,t,n){if(Oa(e,t.id,t.model,t.created),t.usage&&ws(e,t.usage.prompt_tokens,t.usage.completion_tokens,t.usage.total_tokens),Array.isArray(t.choices)){const r=t.choices.map(o=>o.finish_reason).filter(o=>o!==null);if(r.length>0&&e.setAttributes({[Zt]:JSON.stringify(r)}),n){const o=t.choices.map(s=>s.message?.tool_calls).filter(s=>Array.isArray(s)&&s.length>0).flat();o.length>0&&e.setAttributes({[_t]:JSON.stringify(o)})}}}function jS(e,t,n){if(Oa(e,t.id,t.model,t.created_at),t.status&&e.setAttributes({[Zt]:JSON.stringify([t.status])}),t.usage&&ws(e,t.usage.input_tokens,t.usage.output_tokens,t.usage.total_tokens),n){const r=t;if(Array.isArray(r.output)&&r.output.length>0){const o=r.output.filter(s=>typeof s=="object"&&s!==null&&s.type==="function_call");o.length>0&&e.setAttributes({[_t]:JSON.stringify(o)})}}}function zS(e,t){e.setAttributes({[df]:t.model,[en]:t.model}),t.usage&&ws(e,t.usage.prompt_tokens,void 0,t.usage.total_tokens)}function ws(e,t,n,r){t!==void 0&&e.setAttributes({[vS]:t,[yn]:t}),n!==void 0&&e.setAttributes({[TS]:n,[Sn]:n}),r!==void 0&&e.setAttributes({[bn]:r})}function Oa(e,t,n,r){e.setAttributes({[bS]:t,[sr]:t}),e.setAttributes({[df]:n,[en]:n}),e.setAttributes({[ES]:new Date(r*1e3).toISOString()})}function qS(e,t){for(const n of e){const r=n.index;if(!(r===void 0||!n.function))if(!(r in t.chatCompletionToolCalls))t.chatCompletionToolCalls[r]={...n,function:{name:n.function.name,arguments:n.function.arguments||""}};else{const o=t.chatCompletionToolCalls[r];n.function.arguments&&o?.function&&(o.function.arguments+=n.function.arguments)}}}function GS(e,t,n){t.responseId=e.id??t.responseId,t.responseModel=e.model??t.responseModel,t.responseTimestamp=e.created??t.responseTimestamp,e.usage&&(t.promptTokens=e.usage.prompt_tokens,t.completionTokens=e.usage.completion_tokens,t.totalTokens=e.usage.total_tokens);for(const r of e.choices??[])n&&(r.delta?.content&&t.responseTexts.push(r.delta.content),r.delta?.tool_calls&&qS(r.delta.tool_calls,t)),r.finish_reason&&t.finishReasons.push(r.finish_reason)}function VS(e,t,n,r){if(!(e&&typeof e=="object")){t.eventTypes.push("unknown:non-object");return}if(e instanceof Error){r.setStatus({code:Z,message:"internal_error"}),pe(e,{mechanism:{handled:!1,type:"auto.ai.openai.stream-response"}});return}if(!("type"in e))return;const o=e;if(!PS.includes(o.type)){t.eventTypes.push(o.type);return}if(n&&(o.type==="response.output_item.done"&&"item"in o&&t.responsesApiToolCalls.push(o.item),o.type==="response.output_text.delta"&&"delta"in o&&o.delta)){t.responseTexts.push(o.delta);return}if("response"in o){const{response:s}=o;t.responseId=s.id??t.responseId,t.responseModel=s.model??t.responseModel,t.responseTimestamp=s.created_at??t.responseTimestamp,s.usage&&(t.promptTokens=s.usage.input_tokens,t.completionTokens=s.usage.output_tokens,t.totalTokens=s.usage.total_tokens),s.status&&t.finishReasons.push(s.status),n&&s.output_text&&t.responseTexts.push(s.output_text)}}async function*JS(e,t,n){const r={eventTypes:[],responseTexts:[],finishReasons:[],responseId:"",responseModel:"",responseTimestamp:0,promptTokens:void 0,completionTokens:void 0,totalTokens:void 0,chatCompletionToolCalls:{},responsesApiToolCalls:[]};try{for await(const o of e)HS(o)?GS(o,r,n):US(o)&&VS(o,r,n,t),yield o}finally{Oa(t,r.responseId,r.responseModel,r.responseTimestamp),ws(t,r.promptTokens,r.completionTokens,r.totalTokens),t.setAttributes({[Is]:!0}),r.finishReasons.length&&t.setAttributes({[Zt]:JSON.stringify(r.finishReasons)}),n&&r.responseTexts.length&&t.setAttributes({[Ye]:r.responseTexts.join("")});const s=[...Object.values(r.chatCompletionToolCalls),...r.responsesApiToolCalls];s.length>0&&t.setAttributes({[_t]:JSON.stringify(s)}),t.end()}}function KS(e,t){const n={[Ss]:"openai",[Gt]:Na(t),[te]:"auto.ai.openai"};if(e.length>0&&typeof e[0]=="object"&&e[0]!==null){const r=e[0],o=Array.isArray(r.tools)?r.tools:[],i=r.web_search_options&&typeof r.web_search_options=="object"?[{type:"web_search_options",...r.web_search_options}]:[],a=[...o,...i];a.length>0&&(n[vs]=JSON.stringify(a))}if(e.length>0&&typeof e[0]=="object"&&e[0]!==null){const r=e[0];n[Be]=r.model??"unknown","temperature"in r&&(n[bs]=r.temperature),"top_p"in r&&(n[Ts]=r.top_p),"frequency_penalty"in r&&(n[Es]=r.frequency_penalty),"presence_penalty"in r&&(n[Ra]=r.presence_penalty),"stream"in r&&(n[ka]=r.stream),"encoding_format"in r&&(n[pS]=r.encoding_format),"dimensions"in r&&(n[hS]=r.dimensions)}else n[Be]="unknown";return n}function YS(e,t,n){if(!t||typeof t!="object")return;const r=t;if($S(r)){if(WS(e,r,n),n&&r.choices?.length){const o=r.choices.map(s=>s.message?.content||"");e.setAttributes({[Ye]:JSON.stringify(o)})}}else FS(r)?(jS(e,r,n),n&&r.output_text&&e.setAttributes({[Ye]:r.output_text})):BS(r)&&zS(e,r)}function Su(e,t){if("messages"in t){const n=fn(t.messages);e.setAttributes({[lt]:n})}if("input"in t){const n=fn(t.input);e.setAttributes({[lt]:n})}}function XS(e,t,n,r){return async function(...s){const i=KS(s,t),a=i[Be]||"unknown",c=Na(t),u=s[0];return u&&typeof u=="object"&&u.stream===!0?$t({name:`${c} ${a} stream-response`,op:yu(t),attributes:i},async l=>{try{r.recordInputs&&u&&Su(l,u);const f=await e.apply(n,s);return JS(f,l,r.recordOutputs??!1)}catch(f){throw l.setStatus({code:Z,message:"internal_error"}),pe(f,{mechanism:{handled:!1,type:"auto.ai.openai.stream",data:{function:t}}}),l.end(),f}}):Qt({name:`${c} ${a}`,op:yu(t),attributes:i},async l=>{try{r.recordInputs&&u&&Su(l,u);const f=await e.apply(n,s);return YS(l,f,r.recordOutputs),f}catch(f){throw pe(f,{mechanism:{handled:!1,type:"auto.ai.openai",data:{function:t}}}),f}})}}function hf(e,t="",n){return new Proxy(e,{get(r,o){const s=r[o],i=DS(t,String(o));return typeof s=="function"&&LS(i)?XS(s,i,r,n):typeof s=="function"?s.bind(r):s&&typeof s=="object"?hf(s,i,n):s}})}function mA(e,t){const n=!!R()?.getOptions().sendDefaultPii,r={recordInputs:n,recordOutputs:n,...t};return hf(e,"",r)}function QS(e,t){return"type"in e&&typeof e.type=="string"&&e.type==="error"?(t.setStatus({code:Z,message:e.error?.type??"internal_error"}),pe(e.error,{mechanism:{handled:!1,type:"auto.ai.anthropic.anthropic_error"}}),!0):!1}function ZS(e,t){if(e.type==="message_delta"&&e.usage&&"output_tokens"in e.usage&&typeof e.usage.output_tokens=="number"&&(t.completionTokens=e.usage.output_tokens),e.message){const n=e.message;n.id&&(t.responseId=n.id),n.model&&(t.responseModel=n.model),n.stop_reason&&t.finishReasons.push(n.stop_reason),n.usage&&(typeof n.usage.input_tokens=="number"&&(t.promptTokens=n.usage.input_tokens),typeof n.usage.cache_creation_input_tokens=="number"&&(t.cacheCreationInputTokens=n.usage.cache_creation_input_tokens),typeof n.usage.cache_read_input_tokens=="number"&&(t.cacheReadInputTokens=n.usage.cache_read_input_tokens))}}function eb(e,t){e.type!=="content_block_start"||typeof e.index!="number"||!e.content_block||(e.content_block.type==="tool_use"||e.content_block.type==="server_tool_use")&&(t.activeToolBlocks[e.index]={id:e.content_block.id,name:e.content_block.name,inputJsonParts:[]})}function tb(e,t,n){if(!(e.type!=="content_block_delta"||!e.delta)){if(typeof e.index=="number"&&"partial_json"in e.delta&&typeof e.delta.partial_json=="string"){const r=t.activeToolBlocks[e.index];r&&r.inputJsonParts.push(e.delta.partial_json)}n&&typeof e.delta.text=="string"&&t.responseTexts.push(e.delta.text)}}function nb(e,t){if(e.type!=="content_block_stop"||typeof e.index!="number")return;const n=t.activeToolBlocks[e.index];if(!n)return;const r=n.inputJsonParts.join("");let o;try{o=r?JSON.parse(r):{}}catch{o={__unparsed:r}}t.toolCalls.push({type:"tool_use",id:n.id,name:n.name,input:o}),delete t.activeToolBlocks[e.index]}function mf(e,t,n,r){!(e&&typeof e=="object")||QS(e,r)||(ZS(e,t),eb(e,t),tb(e,t,n),nb(e,t))}function rb(e,t,n){t.isRecording()&&(e.responseId&&t.setAttributes({[sr]:e.responseId}),e.responseModel&&t.setAttributes({[en]:e.responseModel}),Ma(t,e.promptTokens,e.completionTokens,e.cacheCreationInputTokens,e.cacheReadInputTokens),t.setAttributes({[Is]:!0}),e.finishReasons.length>0&&t.setAttributes({[Zt]:JSON.stringify(e.finishReasons)}),n&&e.responseTexts.length>0&&t.setAttributes({[Ye]:e.responseTexts.join("")}),n&&e.toolCalls.length>0&&t.setAttributes({[_t]:JSON.stringify(e.toolCalls)}),t.end())}async function*ob(e,t,n){const r={responseTexts:[],finishReasons:[],responseId:"",responseModel:"",promptTokens:void 0,completionTokens:void 0,cacheCreationInputTokens:void 0,cacheReadInputTokens:void 0,toolCalls:[],activeToolBlocks:{}};try{for await(const o of e)mf(o,r,n,t),yield o}finally{r.responseId&&t.setAttributes({[sr]:r.responseId}),r.responseModel&&t.setAttributes({[en]:r.responseModel}),Ma(t,r.promptTokens,r.completionTokens,r.cacheCreationInputTokens,r.cacheReadInputTokens),t.setAttributes({[Is]:!0}),r.finishReasons.length>0&&t.setAttributes({[Zt]:JSON.stringify(r.finishReasons)}),n&&r.responseTexts.length>0&&t.setAttributes({[Ye]:r.responseTexts.join("")}),n&&r.toolCalls.length>0&&t.setAttributes({[_t]:JSON.stringify(r.toolCalls)}),t.end()}}function sb(e,t,n){const r={responseTexts:[],finishReasons:[],responseId:"",responseModel:"",promptTokens:void 0,completionTokens:void 0,cacheCreationInputTokens:void 0,cacheReadInputTokens:void 0,toolCalls:[],activeToolBlocks:{}};return e.on("streamEvent",o=>{mf(o,r,n,t)}),e.on("message",()=>{rb(r,t,n)}),e.on("error",o=>{pe(o,{mechanism:{handled:!1,type:"auto.ai.anthropic.stream_error"}}),t.isRecording()&&(t.setStatus({code:Z,message:"stream_error"}),t.end())}),e}const ib=["messages.create","messages.stream","messages.countTokens","models.get","completions.create","models.retrieve","beta.messages.create"];function ab(e){return ib.includes(e)}function cb(e,t){t.error&&(e.setStatus({code:Z,message:t.error.type||"internal_error"}),pe(t.error,{mechanism:{handled:!1,type:"auto.ai.anthropic.anthropic_error"}}))}function ub(e){const{system:t,messages:n}=e,r=typeof t=="string"?[{role:"system",content:e.system}]:[],o=Array.isArray(n)?n:n!=null?[n]:[];return[...r,...o]}function lb(e,t){const n={[Ss]:"anthropic",[Gt]:Lr(t),[te]:"auto.ai.anthropic"};if(e.length>0&&typeof e[0]=="object"&&e[0]!==null){const r=e[0];r.tools&&Array.isArray(r.tools)&&(n[vs]=JSON.stringify(r.tools)),n[Be]=r.model??"unknown","temperature"in r&&(n[bs]=r.temperature),"top_p"in r&&(n[Ts]=r.top_p),"stream"in r&&(n[ka]=r.stream),"top_k"in r&&(n[uf]=r.top_k),"frequency_penalty"in r&&(n[Es]=r.frequency_penalty),"max_tokens"in r&&(n[Ca]=r.max_tokens)}else t==="models.retrieve"||t==="models.get"?n[Be]=e[0]:n[Be]="unknown";return n}function Ri(e,t){const n=ub(t);if(n.length){const r=fn(n);e.setAttributes({[lt]:r})}if("input"in t){const r=fn(t.input);e.setAttributes({[lt]:r})}"prompt"in t&&e.setAttributes({[fS]:JSON.stringify(t.prompt)})}function db(e,t){if("content"in t&&Array.isArray(t.content)){e.setAttributes({[Ye]:t.content.map(r=>r.text).filter(r=>!!r).join("")});const n=[];for(const r of t.content)(r.type==="tool_use"||r.type==="server_tool_use")&&n.push(r);n.length>0&&e.setAttributes({[_t]:JSON.stringify(n)})}"completion"in t&&e.setAttributes({[Ye]:t.completion}),"input_tokens"in t&&e.setAttributes({[Ye]:JSON.stringify(t.input_tokens)})}function fb(e,t){"id"in t&&"model"in t&&(e.setAttributes({[sr]:t.id,[en]:t.model}),"created"in t&&typeof t.created=="number"&&e.setAttributes({[gu]:new Date(t.created*1e3).toISOString()}),"created_at"in t&&typeof t.created_at=="number"&&e.setAttributes({[gu]:new Date(t.created_at*1e3).toISOString()}),"usage"in t&&t.usage&&Ma(e,t.usage.input_tokens,t.usage.output_tokens,t.usage.cache_creation_input_tokens,t.usage.cache_read_input_tokens))}function pb(e,t,n){if(!(!t||typeof t!="object")){if("type"in t&&t.type==="error"){cb(e,t);return}n&&db(e,t),fb(e,t)}}function bu(e,t,n){throw pe(e,{mechanism:{handled:!1,type:"auto.ai.anthropic",data:{function:n}}}),t.isRecording()&&(t.setStatus({code:Z,message:"internal_error"}),t.end()),e}function hb(e,t,n,r,o,s,i,a,c,u,d){const l=o[Be]??"unknown",f={name:`${s} ${l} stream-response`,op:zo(i),attributes:o};return u&&!d?$t(f,async p=>{try{c.recordInputs&&a&&Ri(p,a);const h=await e.apply(n,r);return ob(h,p,c.recordOutputs??!1)}catch(h){return bu(h,p,i)}}):$t(f,p=>{try{c.recordInputs&&a&&Ri(p,a);const h=t.apply(n,r);return sb(h,p,c.recordOutputs??!1)}catch(h){return bu(h,p,i)}})}function mb(e,t,n,r){return new Proxy(e,{apply(o,s,i){const a=lb(i,t),c=a[Be]??"unknown",u=Lr(t),d=typeof i[0]=="object"?i[0]:void 0,l=!!d?.stream,f=t==="messages.stream";return l||f?hb(e,o,n,i,a,u,t,d,r,l,f):Qt({name:`${u} ${c}`,op:zo(t),attributes:a},p=>(r.recordInputs&&d&&Ri(p,d),hs(()=>o.apply(n,i),h=>{pe(h,{mechanism:{handled:!1,type:"auto.ai.anthropic",data:{function:t}}})},()=>{},h=>pb(p,h,r.recordOutputs))))}})}function gf(e,t="",n){return new Proxy(e,{get(r,o){const s=r[o],i=pf(t,String(o));return typeof s=="function"&&ab(i)?mb(s,i,r,n):typeof s=="function"?s.bind(r):s&&typeof s=="object"?gf(s,i,n):s}})}function gA(e,t){const n=!!R()?.getOptions().sendDefaultPii,r={recordInputs:n,recordOutputs:n,...t};return gf(e,"",r)}const Eu=["models.generateContent","models.generateContentStream","chats.create","sendMessage","sendMessageStream"],gb="google_genai",_f="chats.create",_b="chat";function yb(e,t){const n=e?.promptFeedback;if(n?.blockReason){const r=n.blockReasonMessage??n.blockReason;return t.setStatus({code:Z,message:`Content blocked: ${r}`}),pe(`Content blocked: ${r}`,{mechanism:{handled:!1,type:"auto.ai.google_genai"}}),!0}return!1}function Sb(e,t){typeof e.responseId=="string"&&(t.responseId=e.responseId),typeof e.modelVersion=="string"&&(t.responseModel=e.modelVersion);const n=e.usageMetadata;n&&(typeof n.promptTokenCount=="number"&&(t.promptTokens=n.promptTokenCount),typeof n.candidatesTokenCount=="number"&&(t.completionTokens=n.candidatesTokenCount),typeof n.totalTokenCount=="number"&&(t.totalTokens=n.totalTokenCount))}function bb(e,t,n){Array.isArray(e.functionCalls)&&t.toolCalls.push(...e.functionCalls);for(const r of e.candidates??[]){r?.finishReason&&!t.finishReasons.includes(r.finishReason)&&t.finishReasons.push(r.finishReason);for(const o of r?.content?.parts??[])n&&o.text&&t.responseTexts.push(o.text),o.functionCall&&t.toolCalls.push({type:"function",id:o.functionCall.id,name:o.functionCall.name,arguments:o.functionCall.args})}}function Eb(e,t,n,r){!e||yb(e,r)||(Sb(e,t),bb(e,t,n))}async function*Tb(e,t,n){const r={responseTexts:[],finishReasons:[],toolCalls:[]};try{for await(const o of e)Eb(o,r,n,t),yield o}finally{const o={[Is]:!0};r.responseId&&(o[sr]=r.responseId),r.responseModel&&(o[en]=r.responseModel),r.promptTokens!==void 0&&(o[yn]=r.promptTokens),r.completionTokens!==void 0&&(o[Sn]=r.completionTokens),r.totalTokens!==void 0&&(o[bn]=r.totalTokens),r.finishReasons.length&&(o[Zt]=JSON.stringify(r.finishReasons)),n&&r.responseTexts.length&&(o[Ye]=r.responseTexts.join("")),n&&r.toolCalls.length&&(o[_t]=JSON.stringify(r.toolCalls)),t.setAttributes(o),t.end()}}function vb(e){if(Eu.includes(e))return!0;const t=e.split(".").pop();return Eu.includes(t)}function Ib(e){return e.includes("Stream")||e.endsWith("generateContentStream")||e.endsWith("sendMessageStream")}function Tu(e,t){if("model"in e&&typeof e.model=="string")return e.model;if(t&&typeof t=="object"){const n=t;if("model"in n&&typeof n.model=="string")return n.model;if("modelVersion"in n&&typeof n.modelVersion=="string")return n.modelVersion}return"unknown"}function wb(e){const t={};return"temperature"in e&&typeof e.temperature=="number"&&(t[bs]=e.temperature),"topP"in e&&typeof e.topP=="number"&&(t[Ts]=e.topP),"topK"in e&&typeof e.topK=="number"&&(t[uf]=e.topK),"maxOutputTokens"in e&&typeof e.maxOutputTokens=="number"&&(t[Ca]=e.maxOutputTokens),"frequencyPenalty"in e&&typeof e.frequencyPenalty=="number"&&(t[Es]=e.frequencyPenalty),"presencePenalty"in e&&typeof e.presencePenalty=="number"&&(t[Ra]=e.presencePenalty),t}function kb(e,t,n){const r={[Ss]:gb,[Gt]:Lr(e),[te]:"auto.ai.google_genai"};if(t){if(r[Be]=Tu(t,n),"config"in t&&typeof t.config=="object"&&t.config){const o=t.config;if(Object.assign(r,wb(o)),"tools"in o&&Array.isArray(o.tools)){const s=o.tools.flatMap(i=>i.functionDeclarations);r[vs]=JSON.stringify(s)}}}else r[Be]=Tu({},n);return r}function vu(e,t){if("contents"in t){const n=t.contents,r=fn(n);e.setAttributes({[lt]:r})}if("message"in t){const n=t.message,r=fn(n);e.setAttributes({[lt]:r})}if("history"in t){const n=t.history,r=fn(n);e.setAttributes({[lt]:r})}}function Cb(e,t,n){if(!(!t||typeof t!="object")){if(t.usageMetadata&&typeof t.usageMetadata=="object"){const r=t.usageMetadata;typeof r.promptTokenCount=="number"&&e.setAttributes({[yn]:r.promptTokenCount}),typeof r.candidatesTokenCount=="number"&&e.setAttributes({[Sn]:r.candidatesTokenCount}),typeof r.totalTokenCount=="number"&&e.setAttributes({[bn]:r.totalTokenCount})}if(n&&Array.isArray(t.candidates)&&t.candidates.length>0){const r=t.candidates.map(o=>o.content?.parts&&Array.isArray(o.content.parts)?o.content.parts.map(s=>typeof s.text=="string"?s.text:"").filter(s=>s.length>0).join(""):"").filter(o=>o.length>0);r.length>0&&e.setAttributes({[Ye]:r.join("")})}if(n&&t.functionCalls){const r=t.functionCalls;Array.isArray(r)&&r.length>0&&e.setAttributes({[_t]:JSON.stringify(r)})}}}function Iu(e,t,n,r){const o=t===_f;return new Proxy(e,{apply(s,i,a){const c=a[0],u=kb(t,c,n),d=u[Be]??"unknown",l=Lr(t);return Ib(t)?$t({name:`${l} ${d} stream-response`,op:zo(t),attributes:u},async f=>{try{r.recordInputs&&c&&vu(f,c);const p=await s.apply(n,a);return Tb(p,f,!!r.recordOutputs)}catch(p){throw f.setStatus({code:Z,message:"internal_error"}),pe(p,{mechanism:{handled:!1,type:"auto.ai.google_genai",data:{function:t}}}),f.end(),p}}):Qt({name:o?`${l} ${d} create`:`${l} ${d}`,op:zo(t),attributes:u},f=>(r.recordInputs&&c&&vu(f,c),hs(()=>s.apply(n,a),p=>{pe(p,{mechanism:{handled:!1,type:"auto.ai.google_genai",data:{function:t}}})},()=>{},p=>{o||Cb(f,p,r.recordOutputs)})))}})}function Ai(e,t="",n){return new Proxy(e,{get:(r,o,s)=>{const i=Reflect.get(r,o,s),a=pf(t,String(o));if(typeof i=="function"&&vb(a)){if(a===_f){const c=Iu(i,a,r,n);return function(...d){const l=c(...d);return l&&typeof l=="object"?Ai(l,_b,n):l}}return Iu(i,a,r,n)}return typeof i=="function"?i.bind(r):i&&typeof i=="object"?Ai(i,a,n):i}})}function _A(e,t){const n=!!R()?.getOptions().sendDefaultPii,r={recordInputs:n,recordOutputs:n,...t};return Ai(e,"",r)}const pr="auto.ai.langchain",Rb={human:"user",ai:"assistant",assistant:"assistant",system:"system",function:"function",tool:"tool"},bt=(e,t,n)=>{n!=null&&(e[t]=n)},We=(e,t,n)=>{const r=Number(n);Number.isNaN(r)||(e[t]=r)};function Fe(e){if(typeof e=="string")return e;try{return JSON.stringify(e)}catch{return String(e)}}function dr(e){const t=e.toLowerCase();return Rb[t]??t}function wu(e){return e.includes("System")?"system":e.includes("Human")?"user":e.includes("AI")||e.includes("Assistant")?"assistant":e.includes("Function")?"function":e.includes("Tool")?"tool":"user"}function ku(e){if(!(!e||Array.isArray(e)))return e.invocation_params}function Pa(e){return e.map(t=>{const n=t._getType;if(typeof n=="function"){const o=n.call(t);return{role:dr(o),content:Fe(t.content)}}const r=t.constructor?.name;if(r)return{role:dr(wu(r)),content:Fe(t.content)};if(t.type){const o=String(t.type).toLowerCase();return{role:dr(o),content:Fe(t.content)}}if(t.role)return{role:dr(String(t.role)),content:Fe(t.content)};if(t.lc===1&&t.kwargs){const o=t.id,s=Array.isArray(o)&&o.length>0?o[o.length-1]:"",i=typeof s=="string"?wu(s):"user";return{role:dr(i),content:Fe(t.kwargs?.content)}}return{role:"user",content:Fe(t.content)}})}function Ab(e,t,n){const r={},o="kwargs"in e?e.kwargs:void 0,s=t?.temperature??n?.ls_temperature??o?.temperature;We(r,bs,s);const i=t?.max_tokens??n?.ls_max_tokens??o?.max_tokens;We(r,Ca,i);const a=t?.top_p??o?.top_p;We(r,Ts,a);const c=t?.frequency_penalty;We(r,Es,c);const u=t?.presence_penalty;return We(r,Ra,u),t&&"stream"in t&&bt(r,ka,!!t.stream),r}function yf(e,t,n,r,o,s){return{[Ss]:Fe(e??"langchain"),[Gt]:n,[Be]:Fe(t),[te]:pr,...Ab(r,o,s)}}function xb(e,t,n,r,o){const s=o?.ls_provider,i=r?.model??o?.ls_model_name??"unknown",a=yf(s,i,"pipeline",e,r,o);if(n&&Array.isArray(t)&&t.length>0){const c=t.map(u=>({role:"user",content:u}));bt(a,lt,Fe(c))}return a}function Mb(e,t,n,r,o){const s=o?.ls_provider??e.id?.[2],i=r?.model??o?.ls_model_name??"unknown",a=yf(s,i,"chat",e,r,o);if(n&&Array.isArray(t)&&t.length>0){const c=Pa(t.flat()),u=xa(c);bt(a,lt,Fe(u))}return a}function Nb(e,t){const n=[],r=e.flat();for(const o of r){const s=o.message?.content;if(Array.isArray(s))for(const i of s){const a=i;a.type==="tool_use"&&n.push(a)}}n.length>0&&bt(t,_t,Fe(n))}function Ob(e,t){if(!e)return;const n=e.tokenUsage,r=e.usage;if(n)We(t,yn,n.promptTokens),We(t,Sn,n.completionTokens),We(t,bn,n.totalTokens);else if(r){We(t,yn,r.input_tokens),We(t,Sn,r.output_tokens);const o=Number(r.input_tokens),s=Number(r.output_tokens),i=(Number.isNaN(o)?0:o)+(Number.isNaN(s)?0:s);i>0&&We(t,bn,i),r.cache_creation_input_tokens!==void 0&&We(t,_S,r.cache_creation_input_tokens),r.cache_read_input_tokens!==void 0&&We(t,yS,r.cache_read_input_tokens)}}function Pb(e,t){if(!e)return;const n={};if(Array.isArray(e.generations)){const u=e.generations.flat().map(d=>d.generationInfo?.finish_reason?d.generationInfo.finish_reason:d.generation_info?.finish_reason?d.generation_info.finish_reason:null).filter(d=>typeof d=="string");if(u.length>0&&bt(n,Zt,Fe(u)),Nb(e.generations,n),t){const d=e.generations.flat().map(l=>l.text??l.message?.content).filter(l=>typeof l=="string");d.length>0&&bt(n,Ye,Fe(d))}}Ob(e.llmOutput,n);const r=e.llmOutput,s=e.generations?.[0]?.[0]?.message,i=r?.model_name??r?.model??s?.response_metadata?.model_name;i&&bt(n,en,i);const a=r?.id??s?.id;a&&bt(n,sr,a);const c=r?.stop_reason??s?.response_metadata?.finish_reason;return c&&bt(n,mS,Fe(c)),n}function yA(e={}){const t=e.recordInputs??!1,n=e.recordOutputs??!1,r=new Map,o=i=>{const a=r.get(i);a?.isRecording()&&(a.end(),r.delete(i))},s={lc_serializable:!1,lc_namespace:["langchain_core","callbacks","sentry"],lc_secrets:void 0,lc_attributes:void 0,lc_aliases:void 0,lc_serializable_keys:void 0,lc_id:["langchain_core","callbacks","sentry"],lc_kwargs:{},name:"SentryCallbackHandler",ignoreLLM:!1,ignoreChain:!1,ignoreAgent:!1,ignoreRetriever:!1,ignoreCustomEvent:!1,raiseError:!1,awaitHandlers:!0,handleLLMStart(i,a,c,u,d,l,f,p){const h=ku(l),g=xb(i,a,t,h,f),_=g[Be],y=g[Gt];$t({name:`${y} ${_}`,op:"gen_ai.pipeline",attributes:{...g,[Ie]:"gen_ai.pipeline"}},b=>(r.set(c,b),b))},handleChatModelStart(i,a,c,u,d,l,f,p){const h=ku(l),g=Mb(i,a,t,h,f),_=g[Be],y=g[Gt];$t({name:`${y} ${_}`,op:"gen_ai.chat",attributes:{...g,[Ie]:"gen_ai.chat"}},b=>(r.set(c,b),b))},handleLLMEnd(i,a,c,u,d){const l=r.get(a);if(l?.isRecording()){const f=Pb(i,n);f&&l.setAttributes(f),o(a)}},handleLLMError(i,a){const c=r.get(a);c?.isRecording()&&(c.setStatus({code:Z,message:"llm_error"}),o(a)),pe(i,{mechanism:{handled:!1,type:`${pr}.llm_error_handler`}})},handleChainStart(i,a,c,u){const d=i.name||"unknown_chain",l={[te]:"auto.ai.langchain","langchain.chain.name":d};t&&(l["langchain.chain.inputs"]=JSON.stringify(a)),$t({name:`chain ${d}`,op:"gen_ai.invoke_agent",attributes:{...l,[Ie]:"gen_ai.invoke_agent"}},f=>(r.set(c,f),f))},handleChainEnd(i,a){const c=r.get(a);c?.isRecording()&&(n&&c.setAttributes({"langchain.chain.outputs":JSON.stringify(i)}),o(a))},handleChainError(i,a){const c=r.get(a);c?.isRecording()&&(c.setStatus({code:Z,message:"chain_error"}),o(a)),pe(i,{mechanism:{handled:!1,type:`${pr}.chain_error_handler`}})},handleToolStart(i,a,c,u){const d=i.name||"unknown_tool",l={[te]:pr,"gen_ai.tool.name":d};t&&(l["gen_ai.tool.input"]=a),$t({name:`execute_tool ${d}`,op:"gen_ai.execute_tool",attributes:{...l,[Ie]:"gen_ai.execute_tool"}},f=>(r.set(c,f),f))},handleToolEnd(i,a){const c=r.get(a);c?.isRecording()&&(n&&c.setAttributes({"gen_ai.tool.output":JSON.stringify(i)}),o(a))},handleToolError(i,a){const c=r.get(a);c?.isRecording()&&(c.setStatus({code:Z,message:"tool_error"}),o(a)),pe(i,{mechanism:{handled:!1,type:`${pr}.tool_error_handler`}})},copy(){return s},toJSON(){return{lc:1,type:"not_implemented",id:s.lc_id}},toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:s.lc_id}}};return s}const Sf="auto.ai.langgraph";function Lb(e){if(!e||e.length===0)return null;const t=[];for(const n of e)if(n&&typeof n=="object"){const r=n.tool_calls;r&&Array.isArray(r)&&t.push(...r)}return t.length>0?t:null}function Db(e){const t=e;let n=0,r=0,o=0;if(t.usage_metadata&&typeof t.usage_metadata=="object"){const s=t.usage_metadata;return typeof s.input_tokens=="number"&&(n=s.input_tokens),typeof s.output_tokens=="number"&&(r=s.output_tokens),typeof s.total_tokens=="number"&&(o=s.total_tokens),{inputTokens:n,outputTokens:r,totalTokens:o}}if(t.response_metadata&&typeof t.response_metadata=="object"){const s=t.response_metadata;if(s.tokenUsage&&typeof s.tokenUsage=="object"){const i=s.tokenUsage;typeof i.promptTokens=="number"&&(n=i.promptTokens),typeof i.completionTokens=="number"&&(r=i.completionTokens),typeof i.totalTokens=="number"&&(o=i.totalTokens)}}return{inputTokens:n,outputTokens:r,totalTokens:o}}function $b(e,t){const n=t;if(n.response_metadata&&typeof n.response_metadata=="object"){const r=n.response_metadata;r.model_name&&typeof r.model_name=="string"&&e.setAttribute(en,r.model_name),r.finish_reason&&typeof r.finish_reason=="string"&&e.setAttribute(Zt,[r.finish_reason])}}function Fb(e){if(!e.builder?.nodes?.tools?.runnable?.tools)return null;const t=e.builder?.nodes?.tools?.runnable?.tools;return!t||!Array.isArray(t)||t.length===0?null:t.map(n=>({name:n.lc_kwargs?.name,description:n.lc_kwargs?.description,schema:n.lc_kwargs?.schema}))}function Bb(e,t,n){const o=n?.messages;if(!o||!Array.isArray(o))return;const s=t?.length??0,i=o.length>s?o.slice(s):[];if(i.length===0)return;const a=Lb(i);a&&e.setAttribute(_t,JSON.stringify(a));const c=Pa(i);e.setAttribute(Ye,JSON.stringify(c));let u=0,d=0,l=0;for(const f of i){const p=Db(f);u+=p.inputTokens,d+=p.outputTokens,l+=p.totalTokens,$b(e,f)}u>0&&e.setAttribute(yn,u),d>0&&e.setAttribute(Sn,d),l>0&&e.setAttribute(bn,l)}function Ub(e,t){return new Proxy(e,{apply(n,r,o){return Qt({op:"gen_ai.create_agent",name:"create_agent",attributes:{[te]:Sf,[Ie]:"gen_ai.create_agent",[Gt]:"create_agent"}},s=>{try{const i=Reflect.apply(n,r,o),a=o.length>0?o[0]:{};a?.name&&typeof a.name=="string"&&(s.setAttribute(lf,a.name),s.updateName(`create_agent ${a.name}`));const c=i.invoke;return c&&typeof c=="function"&&(i.invoke=Hb(c.bind(i),i,a,t)),i}catch(i){throw s.setStatus({code:Z,message:"internal_error"}),pe(i,{mechanism:{handled:!1,type:"auto.ai.langgraph.error"}}),i}})}})}function Hb(e,t,n,r){return new Proxy(e,{apply(o,s,i){return Qt({op:"gen_ai.invoke_agent",name:"invoke_agent",attributes:{[te]:Sf,[Ie]:SS,[Gt]:"invoke_agent"}},async a=>{try{const c=n?.name;c&&typeof c=="string"&&(a.setAttribute(gS,c),a.setAttribute(lf,c),a.updateName(`invoke_agent ${c}`));const u=Fb(t);u&&a.setAttribute(vs,JSON.stringify(u));const d=r.recordInputs,l=r.recordOutputs,f=i.length>0?i[0].messages??[]:[];if(f&&d){const h=Pa(f),g=xa(h);a.setAttribute(lt,JSON.stringify(g))}const p=await Reflect.apply(o,s,i);return l&&Bb(a,f??null,p),p}catch(c){throw a.setStatus({code:Z,message:"internal_error"}),pe(c,{mechanism:{handled:!1,type:"auto.ai.langgraph.error"}}),c}})}})}function SA(e,t){const n=t||{};return e.compile=Ub(e.compile.bind(e),n),e}function bf(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const jn=L;function Wb(){return"history"in jn&&!!jn.history}function jb(){if(!("fetch"in jn))return!1;try{return new Headers,new Request("data:,"),new Response,!0}catch{return!1}}function xi(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function Ef(){if(typeof EdgeRuntime=="string")return!0;if(!jb())return!1;if(xi(jn.fetch))return!0;let e=!1;const t=jn.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow?.fetch&&(e=xi(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){w&&m.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function zb(){return"ReportingObserver"in jn}function La(e,t){const n="fetch";Jt(n,e),Kt(n,()=>Tf(void 0,t))}function qb(e){const t="fetch-body-resolved";Jt(t,e),Kt(t,()=>Tf(Vb))}function Tf(e,t=!1){t&&!Ef()||Ce(L,"fetch",function(n){return function(...r){const o=new Error,{method:s,url:i}=Jb(r),a={args:r,fetchData:{method:s,url:i},startTimestamp:fe()*1e3,virtualError:o,headers:Kb(r)};return e||Ke("fetch",{...a}),n.apply(L,r).then(async c=>(e?e(c):Ke("fetch",{...a,endTimestamp:fe()*1e3,response:c}),c),c=>{if(Ke("fetch",{...a,endTimestamp:fe()*1e3,error:c}),Ut(c)&&c.stack===void 0&&(c.stack=o.stack,Le(c,"framesToPop",1)),c instanceof TypeError&&(c.message==="Failed to fetch"||c.message==="Load failed"||c.message==="NetworkError when attempting to fetch resource."))try{const u=new URL(a.fetchData.url);c.message=`${c.message} (${u.host})`}catch{}throw c})}})}async function Gb(e,t){if(e?.body){const n=e.body,r=n.getReader(),o=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let i;try{i=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(i),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(i)}}clearTimeout(o),r.releaseLock(),n.cancel().then(null,()=>{})}}function Vb(e){let t;try{t=e.clone()}catch{return}Gb(t,()=>{Ke("fetch-body-resolved",{endTimestamp:fe()*1e3,response:e})})}function Mi(e,t){return!!e&&typeof e=="object"&&!!e[t]}function Cu(e){return typeof e=="string"?e:e?Mi(e,"url")?e.url:e.toString?e.toString():"":""}function Jb(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:Cu(n),method:Mi(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:Cu(t),method:Mi(t,"method")?String(t.method).toUpperCase():"GET"}}function Kb(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(td(t))return new Headers(t.headers)}catch{}}function Yb(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function Xb(){return"npm"}function Qb(){return!Yb()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function qo(){return typeof window<"u"&&(!Qb()||Zb())}function Zb(){return L.process?.type==="renderer"}const Ze=L,ae=Ze.document,hr=Ze.navigator,vf="Report a Bug",eE="Cancel",tE="Send Bug Report",nE="Confirm",rE="Report a Bug",oE="your.email@example.org",sE="Email",iE="What's the bug? What did you expect?",aE="Description",cE="Your Name",uE="Name",lE="Thank you for your report!",dE="(required)",fE="Add a screenshot",pE="Remove screenshot",hE="Highlight",mE="Hide",gE="Remove",_E="widget",yE="api",SE=5e3,bE=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");const n=R();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&z().setTags(e.tags);const r=Vy({source:yE,url:vn(),...e},t);return new Promise((o,s)=>{const i=setTimeout(()=>s("Unable to determine if Feedback was correctly sent."),3e4),a=n.on("afterSendEvent",(c,u)=>{if(c.event_id===r)return clearTimeout(i),a(),u?.statusCode&&u.statusCode>=200&&u.statusCode<300?o(r):u?.statusCode===403?s("Unable to send feedback. This could be because this domain is not in your list of allowed domains."):s("Unable to send feedback. This could be because of network issues, or because you are using an ad-blocker.")})})},bo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function EE(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(hr.userAgent)||/Macintosh/i.test(hr.userAgent)&&hr.maxTouchPoints&&hr.maxTouchPoints>1||!isSecureContext)}function Qr(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen?.(),e.onFormOpen?.()},onFormClose:()=>{t.onFormClose?.(),e.onFormClose?.()},onSubmitSuccess:(n,r)=>{t.onSubmitSuccess?.(n,r),e.onSubmitSuccess?.(n,r)},onSubmitError:n=>{t.onSubmitError?.(n),e.onSubmitError?.(n)},onFormSubmitted:()=>{t.onFormSubmitted?.(),e.onFormSubmitted?.()},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}}}function TE(e){const t=ae.createElement("style");return t.textContent=`
.widget__actor {
  position: fixed;
  z-index: var(--z-index);
  margin: var(--page-margin);
  inset: var(--actor-inset);

  display: flex;
  align-items: center;
  gap: 8px;
  padding: 16px;

  font-family: inherit;
  font-size: var(--font-size);
  font-weight: 600;
  line-height: 1.14em;
  text-decoration: none;

  background: var(--actor-background, var(--background));
  border-radius: var(--actor-border-radius, 1.7em/50%);
  border: var(--actor-border, var(--border));
  box-shadow: var(--actor-box-shadow, var(--box-shadow));
  color: var(--actor-color, var(--foreground));
  fill: var(--actor-color, var(--foreground));
  cursor: pointer;
  opacity: 1;
  transition: transform 0.2s ease-in-out;
  transform: translate(0, 0) scale(1);
}
.widget__actor[aria-hidden="true"] {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
  transform: translate(0, 16px) scale(0.98);
}

.widget__actor:hover {
  background: var(--actor-hover-background, var(--background));
  filter: var(--interactive-filter);
}

.widget__actor svg {
  width: 1.14em;
  height: 1.14em;
}

@media (max-width: 600px) {
  .widget__actor span {
    display: none;
  }
}
`,e&&t.setAttribute("nonce",e),t}function qe(e,t){return Object.entries(t).forEach(([n,r])=>{e.setAttributeNS(null,n,r)}),e}const kn=20,vE="http://www.w3.org/2000/svg";function IE(){const e=a=>Ze.document.createElementNS(vE,a),t=qe(e("svg"),{width:`${kn}`,height:`${kn}`,viewBox:`0 0 ${kn} ${kn}`,fill:"var(--actor-color, var(--foreground))"}),n=qe(e("g"),{clipPath:"url(#clip0_57_80)"}),r=qe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);const o=e("defs"),s=qe(e("clipPath"),{id:"clip0_57_80"}),i=qe(e("rect"),{width:`${kn}`,height:`${kn}`,fill:"white"});return s.appendChild(i),o.appendChild(s),t.appendChild(o).appendChild(s).appendChild(i),t}function wE({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){const o=ae.createElement("button");if(o.type="button",o.className="widget__actor",o.ariaHidden="false",o.ariaLabel=t||e||vf,o.appendChild(IE()),e){const i=ae.createElement("span");i.appendChild(ae.createTextNode(e)),o.appendChild(i)}const s=TE(r);return{el:o,appendToDom(){n.appendChild(s),n.appendChild(o)},removeFromDom(){o.remove(),s.remove()},show(){o.ariaHidden="false"},hide(){o.ariaHidden="true"}}}const If="rgba(88, 74, 192, 1)",kE={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:If,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},Ru={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:If,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function Au(e){return`
  --foreground: ${e.foreground};
  --background: ${e.background};
  --accent-foreground: ${e.accentForeground};
  --accent-background: ${e.accentBackground};
  --success-color: ${e.successColor};
  --error-color: ${e.errorColor};
  --border: ${e.border};
  --box-shadow: ${e.boxShadow};
  --outline: ${e.outline};
  --interactive-filter: ${e.interactiveFilter};
  `}function CE({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){const o=ae.createElement("style");return o.textContent=`
:host {
  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;
  --font-size: 14px;
  --z-index: 100000;

  --page-margin: 16px;
  --inset: auto 0 0 auto;
  --actor-inset: var(--inset);

  font-family: var(--font-family);
  font-size: var(--font-size);

  ${e!=="system"?"color-scheme: only light;":""}

  ${Au(e==="dark"?{...Ru,...t}:{...kE,...n})}
}

${e==="system"?`
@media (prefers-color-scheme: dark) {
  :host {
    ${Au({...Ru,...t})}
  }
}`:""}
}
`,r&&o.setAttribute("nonce",r),o}const wf=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:o="sentry-feedback",autoInject:s=!0,showBranding:i=!0,isEmailRequired:a=!1,isNameRequired:c=!1,showEmail:u=!0,showName:d=!0,enableScreenshot:l=!0,useSentryUser:f={email:"email",name:"username"},tags:p,styleNonce:h,scriptNonce:g,colorScheme:_="system",themeLight:y={},themeDark:b={},addScreenshotButtonLabel:N=fE,cancelButtonLabel:x=eE,confirmButtonLabel:H=nE,emailLabel:O=sE,emailPlaceholder:S=oE,formTitle:C=rE,isRequiredLabel:$=dE,messageLabel:E=aE,messagePlaceholder:A=iE,nameLabel:k=uE,namePlaceholder:M=cE,removeScreenshotButtonLabel:P=pE,submitButtonLabel:Y=tE,successMessageText:K=lE,triggerLabel:oe=vf,triggerAriaLabel:T="",highlightToolText:q=hE,hideToolText:I=mE,removeHighlightText:G=gE,onFormOpen:se,onFormClose:ne,onSubmitSuccess:Se,onSubmitError:xe,onFormSubmitted:Mt}={})=>{const Me={id:o,autoInject:s,showBranding:i,isEmailRequired:a,isNameRequired:c,showEmail:u,showName:d,enableScreenshot:l,useSentryUser:f,tags:p,styleNonce:h,scriptNonce:g,colorScheme:_,themeDark:b,themeLight:y,triggerLabel:oe,triggerAriaLabel:T,cancelButtonLabel:x,submitButtonLabel:Y,confirmButtonLabel:H,formTitle:C,emailLabel:O,emailPlaceholder:S,messageLabel:E,messagePlaceholder:A,nameLabel:k,namePlaceholder:M,successMessageText:K,isRequiredLabel:$,addScreenshotButtonLabel:N,removeScreenshotButtonLabel:P,highlightToolText:q,hideToolText:I,removeHighlightText:G,onFormClose:ne,onFormOpen:se,onSubmitError:xe,onSubmitSuccess:Se,onFormSubmitted:Mt};let De=null,st=[];const Nt=ie=>{if(!De){const he=ae.createElement("div");he.id=String(ie.id),ae.body.appendChild(he),De=he.attachShadow({mode:"open"}),De.appendChild(CE(ie))}return De},cr=async ie=>{const he=ie.enableScreenshot&&EE();let Ve,we;try{Ve=(t?t():await e("feedbackModalIntegration",g))(),Jc(Ve)}catch{throw bo&&m.error("[Feedback] Error when trying to load feedback integrations. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!")}try{const it=he?n?n():await e("feedbackScreenshotIntegration",g):void 0;it&&(we=it(),Jc(we))}catch{bo&&m.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.")}const Re=Ve.createDialog({options:{...ie,onFormClose:()=>{Re?.close(),ie.onFormClose?.()},onFormSubmitted:()=>{Re?.close(),ie.onFormSubmitted?.()}},screenshotIntegration:we,sendFeedback:bE,shadow:Nt(ie)});return Re},Vr=(ie,he={})=>{const Ve=Qr(Me,he),we=typeof ie=="string"?ae.querySelector(ie):typeof ie.addEventListener=="function"?ie:null;if(!we)throw bo&&m.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");let Re=null;const it=async()=>{Re||(Re=await cr({...Ve,onFormSubmitted:()=>{Re?.removeFromDom(),Ve.onFormSubmitted?.()}})),Re.appendToDom(),Re.open()};we.addEventListener("click",it);const X=()=>{st=st.filter(He=>He!==X),Re?.removeFromDom(),Re=null,we.removeEventListener("click",it)};return st.push(X),X},ur=(ie={})=>{const he=Qr(Me,ie),Ve=Nt(he),we=wE({triggerLabel:he.triggerLabel,triggerAriaLabel:he.triggerAriaLabel,shadow:Ve,styleNonce:h});return Vr(we.el,{...he,onFormOpen(){we.hide()},onFormClose(){we.show()},onFormSubmitted(){we.show()}}),we};return{name:"Feedback",setupOnce(){!qo()||!Me.autoInject||(ae.readyState==="loading"?ae.addEventListener("DOMContentLoaded",()=>ur().appendToDom()):ur().appendToDom())},attachTo:Vr,createWidget(ie={}){const he=ur(Qr(Me,ie));return he.appendToDom(),he},async createForm(ie={}){return cr(Qr(Me,ie))},remove(){De&&(De.parentElement?.remove(),De=null),st.forEach(ie=>ie()),st=[]}}};function bA(){return R()?.getIntegrationByName("Feedback")}var ks,ue,kf,on,xu,Cf,Ni,vr={},Da=[],RE=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,$a=Array.isArray;function Ft(e,t){for(var n in t)e[n]=t[n];return e}function Rf(e){var t=e.parentNode;t&&t.removeChild(e)}function J(e,t,n){var r,o,s,i={};for(s in t)s=="key"?r=t[s]:s=="ref"?o=t[s]:i[s]=t[s];if(arguments.length>2&&(i.children=arguments.length>3?ks.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)i[s]===void 0&&(i[s]=e.defaultProps[s]);return Eo(e,i,r,o,null)}function Eo(e,t,n,r,o){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:o??++kf,__i:-1,__u:0};return o==null&&ue.vnode!=null&&ue.vnode(s),s}function Dr(e){return e.children}function To(e,t){this.props=e,this.context=t}function zn(e,t){if(t==null)return e.__?zn(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?zn(e):null}function AE(e,t,n){var r,o=e.__v,s=o.__e,i=e.__P;if(i)return(r=Ft({},o)).__v=o.__v+1,ue.vnode&&ue.vnode(r),Fa(i,r,o,e.__n,i.ownerSVGElement!==void 0,32&o.__u?[s]:null,t,s??zn(o),!!(32&o.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=s&&Af(r),r}function Af(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Af(e)}}function Mu(e){(!e.__d&&(e.__d=!0)&&on.push(e)&&!Go.__r++||xu!==ue.debounceRendering)&&((xu=ue.debounceRendering)||Cf)(Go)}function Go(){var e,t,n,r=[],o=[];for(on.sort(Ni);e=on.shift();)e.__d&&(n=on.length,t=AE(e,r,o)||t,n===0||on.length>n?(Oi(r,t,o),o.length=r.length=0,t=void 0,on.sort(Ni)):t&&ue.__c&&ue.__c(t,Da));t&&Oi(r,t,o),Go.__r=0}function xf(e,t,n,r,o,s,i,a,c,u,d){var l,f,p,h,g,_=r&&r.__k||Da,y=t.length;for(n.__d=c,xE(n,t,_),c=n.__d,l=0;l<y;l++)(p=n.__k[l])!=null&&typeof p!="boolean"&&typeof p!="function"&&(f=p.__i===-1?vr:_[p.__i]||vr,p.__i=l,Fa(e,p,f,o,s,i,a,c,u,d),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&Ba(f.ref,null,p),d.push(p.ref,p.__c||h,p)),g==null&&h!=null&&(g=h),65536&p.__u||f.__k===p.__k?c=Mf(p,c,e):typeof p.type=="function"&&p.__d!==void 0?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=g}function xE(e,t,n){var r,o,s,i,a,c=t.length,u=n.length,d=u,l=0;for(e.__k=[],r=0;r<c;r++)(o=e.__k[r]=(o=t[r])==null||typeof o=="boolean"||typeof o=="function"?null:typeof o=="string"||typeof o=="number"||typeof o=="bigint"||o.constructor==String?Eo(null,o,null,null,o):$a(o)?Eo(Dr,{children:o},null,null,null):o.constructor===void 0&&o.__b>0?Eo(o.type,o.props,o.key,o.ref?o.ref:null,o.__v):o)!=null?(o.__=e,o.__b=e.__b+1,a=ME(o,n,i=r+l,d),o.__i=a,s=null,a!==-1&&(d--,(s=n[a])&&(s.__u|=131072)),s==null||s.__v===null?(a==-1&&l--,typeof o.type!="function"&&(o.__u|=65536)):a!==i&&(a===i+1?l++:a>i?d>c-i?l+=a-i:l--:l=a<i&&a==i-1?a-i:0,a!==r+l&&(o.__u|=65536))):(s=n[r])&&s.key==null&&s.__e&&(s.__e==e.__d&&(e.__d=zn(s)),Pi(s,s,!1),n[r]=null,d--);if(d)for(r=0;r<u;r++)(s=n[r])!=null&&(131072&s.__u)==0&&(s.__e==e.__d&&(e.__d=zn(s)),Pi(s,s))}function Mf(e,t,n){var r,o;if(typeof e.type=="function"){for(r=e.__k,o=0;r&&o<r.length;o++)r[o]&&(r[o].__=e,t=Mf(r[o],t,n));return t}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType===8);return t}function ME(e,t,n,r){var o=e.key,s=e.type,i=n-1,a=n+1,c=t[n];if(c===null||c&&o==c.key&&s===c.type)return n;if(r>(c!=null&&(131072&c.__u)==0?1:0))for(;i>=0||a<t.length;){if(i>=0){if((c=t[i])&&(131072&c.__u)==0&&o==c.key&&s===c.type)return i;i--}if(a<t.length){if((c=t[a])&&(131072&c.__u)==0&&o==c.key&&s===c.type)return a;a++}}return-1}function Nu(e,t,n){t[0]==="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||RE.test(t)?n:n+"px"}function Zr(e,t,n,r,o){var s;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||Nu(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||Nu(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")s=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,s?Pu:Ou,s)):e.removeEventListener(t,s?Pu:Ou,s);else{if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="width"&&t!=="height"&&t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t!=="rowSpan"&&t!=="colSpan"&&t!=="role"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!=="-"?e.removeAttribute(t):e.setAttribute(t,n))}}function Ou(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(ue.event?ue.event(e):e)}}function Pu(e){if(this.l)return this.l[e.type+!0](ue.event?ue.event(e):e)}function Fa(e,t,n,r,o,s,i,a,c,u){var d,l,f,p,h,g,_,y,b,N,x,H,O,S,C,$=t.type;if(t.constructor!==void 0)return null;128&n.__u&&(c=!!(32&n.__u),s=[a=t.__e=n.__e]),(d=ue.__b)&&d(t);e:if(typeof $=="function")try{if(y=t.props,b=(d=$.contextType)&&r[d.__c],N=d?b?b.props.value:d.__:r,n.__c?_=(l=t.__c=n.__c).__=l.__E:("prototype"in $&&$.prototype.render?t.__c=l=new $(y,N):(t.__c=l=new To(y,N),l.constructor=$,l.render=OE),b&&b.sub(l),l.props=y,l.state||(l.state={}),l.context=N,l.__n=r,f=l.__d=!0,l.__h=[],l._sb=[]),l.__s==null&&(l.__s=l.state),$.getDerivedStateFromProps!=null&&(l.__s==l.state&&(l.__s=Ft({},l.__s)),Ft(l.__s,$.getDerivedStateFromProps(y,l.__s))),p=l.props,h=l.state,l.__v=t,f)$.getDerivedStateFromProps==null&&l.componentWillMount!=null&&l.componentWillMount(),l.componentDidMount!=null&&l.__h.push(l.componentDidMount);else{if($.getDerivedStateFromProps==null&&y!==p&&l.componentWillReceiveProps!=null&&l.componentWillReceiveProps(y,N),!l.__e&&(l.shouldComponentUpdate!=null&&l.shouldComponentUpdate(y,l.__s,N)===!1||t.__v===n.__v)){for(t.__v!==n.__v&&(l.props=y,l.state=l.__s,l.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(E){E&&(E.__=t)}),x=0;x<l._sb.length;x++)l.__h.push(l._sb[x]);l._sb=[],l.__h.length&&i.push(l);break e}l.componentWillUpdate!=null&&l.componentWillUpdate(y,l.__s,N),l.componentDidUpdate!=null&&l.__h.push(function(){l.componentDidUpdate(p,h,g)})}if(l.context=N,l.props=y,l.__P=e,l.__e=!1,H=ue.__r,O=0,"prototype"in $&&$.prototype.render){for(l.state=l.__s,l.__d=!1,H&&H(t),d=l.render(l.props,l.state,l.context),S=0;S<l._sb.length;S++)l.__h.push(l._sb[S]);l._sb=[]}else do l.__d=!1,H&&H(t),d=l.render(l.props,l.state,l.context),l.state=l.__s;while(l.__d&&++O<25);l.state=l.__s,l.getChildContext!=null&&(r=Ft(Ft({},r),l.getChildContext())),f||l.getSnapshotBeforeUpdate==null||(g=l.getSnapshotBeforeUpdate(p,h)),xf(e,$a(C=d!=null&&d.type===Dr&&d.key==null?d.props.children:d)?C:[C],t,n,r,o,s,i,a,c,u),l.base=t.__e,t.__u&=-161,l.__h.length&&i.push(l),_&&(l.__E=l.__=null)}catch(E){t.__v=null,c||s!=null?(t.__e=a,t.__u|=c?160:32,s[s.indexOf(a)]=null):(t.__e=n.__e,t.__k=n.__k),ue.__e(E,t,n)}else s==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=NE(n.__e,t,n,r,o,s,i,c,u);(d=ue.diffed)&&d(t)}function Oi(e,t,n){for(var r=0;r<n.length;r++)Ba(n[r],n[++r],n[++r]);ue.__c&&ue.__c(t,e),e.some(function(o){try{e=o.__h,o.__h=[],e.some(function(s){s.call(o)})}catch(s){ue.__e(s,o.__v)}})}function NE(e,t,n,r,o,s,i,a,c){var u,d,l,f,p,h,g,_=n.props,y=t.props,b=t.type;if(b==="svg"&&(o=!0),s!=null){for(u=0;u<s.length;u++)if((p=s[u])&&"setAttribute"in p==!!b&&(b?p.localName===b:p.nodeType===3)){e=p,s[u]=null;break}}if(e==null){if(b===null)return document.createTextNode(y);e=o?document.createElementNS("http://www.w3.org/2000/svg",b):document.createElement(b,y.is&&y),s=null,a=!1}if(b===null)_===y||a&&e.data===y||(e.data=y);else{if(s=s&&ks.call(e.childNodes),_=n.props||vr,!a&&s!=null)for(_={},u=0;u<e.attributes.length;u++)_[(p=e.attributes[u]).name]=p.value;for(u in _)p=_[u],u=="children"||(u=="dangerouslySetInnerHTML"?l=p:u==="key"||u in y||Zr(e,u,null,p,o));for(u in y)p=y[u],u=="children"?f=p:u=="dangerouslySetInnerHTML"?d=p:u=="value"?h=p:u=="checked"?g=p:u==="key"||a&&typeof p!="function"||_[u]===p||Zr(e,u,p,_[u],o);if(d)a||l&&(d.__html===l.__html||d.__html===e.innerHTML)||(e.innerHTML=d.__html),t.__k=[];else if(l&&(e.innerHTML=""),xf(e,$a(f)?f:[f],t,n,r,o&&b!=="foreignObject",s,i,s?s[0]:n.__k&&zn(n,0),a,c),s!=null)for(u=s.length;u--;)s[u]!=null&&Rf(s[u]);a||(u="value",h!==void 0&&(h!==e[u]||b==="progress"&&!h||b==="option"&&h!==_[u])&&Zr(e,u,h,_[u],!1),u="checked",g!==void 0&&g!==e[u]&&Zr(e,u,g,_[u],!1))}return e}function Ba(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){ue.__e(r,n)}}function Pi(e,t,n){var r,o;if(ue.unmount&&ue.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Ba(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){ue.__e(s,t)}r.base=r.__P=null,e.__c=void 0}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Pi(r[o],t,n||typeof e.type!="function");n||e.__e==null||Rf(e.__e),e.__=e.__e=e.__d=void 0}function OE(e,t,n){return this.constructor(e,n)}function PE(e,t,n){var r,o,s,i;ue.__&&ue.__(e,t),o=(r=!1)?null:t.__k,s=[],i=[],Fa(t,e=t.__k=J(Dr,null,[e]),o||vr,vr,t.ownerSVGElement!==void 0,o?null:t.firstChild?ks.call(t.childNodes):null,s,o?o.__e:t.firstChild,r,i),e.__d=void 0,Oi(s,e,i)}ks=Da.slice,ue={__e:function(e,t,n,r){for(var o,s,i;t=t.__;)if((o=t.__c)&&!o.__)try{if((s=o.constructor)&&s.getDerivedStateFromError!=null&&(o.setState(s.getDerivedStateFromError(e)),i=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),i=o.__d),i)return o.__E=o}catch(a){e=a}throw e}},kf=0,To.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ft({},this.state),typeof e=="function"&&(e=e(Ft({},n),this.props)),e&&Ft(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),Mu(this))},To.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),Mu(this))},To.prototype.render=Dr,on=[],Cf=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ni=function(e,t){return e.__v.__b-t.__v.__b},Go.__r=0;var Rt,ce,Ys,Lu,qn=0,Nf=[],vo=[],me=ue,Du=me.__b,$u=me.__r,Fu=me.diffed,Bu=me.__c,Uu=me.unmount,Hu=me.__;function wn(e,t){me.__h&&me.__h(ce,e,qn||t),qn=0;var n=ce.__H||(ce.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:vo}),n.__[e]}function sn(e){return qn=1,Of(Lf,e)}function Of(e,t,n){var r=wn(Rt++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):Lf(void 0,t),function(a){var c=r.__N?r.__N[0]:r.__[0],u=r.t(c,a);c!==u&&(r.__N=[u,r.__[1]],r.__c.setState({}))}],r.__c=ce,!ce.u)){var o=function(a,c,u){if(!r.__c.__H)return!0;var d=r.__c.__H.__.filter(function(f){return!!f.__c});if(d.every(function(f){return!f.__N}))return!s||s.call(this,a,c,u);var l=!1;return d.forEach(function(f){if(f.__N){var p=f.__[0];f.__=f.__N,f.__N=void 0,p!==f.__[0]&&(l=!0)}}),!(!l&&r.__c.props===a)&&(!s||s.call(this,a,c,u))};ce.u=!0;var s=ce.shouldComponentUpdate,i=ce.componentWillUpdate;ce.componentWillUpdate=function(a,c,u){if(this.__e){var d=s;s=void 0,o(a,c,u),s=d}i&&i.call(this,a,c,u)},ce.shouldComponentUpdate=o}return r.__N||r.__}function LE(e,t){var n=wn(Rt++,3);!me.__s&&Ua(n.__H,t)&&(n.__=e,n.i=t,ce.__H.__h.push(n))}function Pf(e,t){var n=wn(Rt++,4);!me.__s&&Ua(n.__H,t)&&(n.__=e,n.i=t,ce.__h.push(n))}function DE(e){return qn=5,$r(function(){return{current:e}},[])}function $E(e,t,n){qn=6,Pf(function(){return typeof e=="function"?(e(t()),function(){return e(null)}):e?(e.current=t(),function(){return e.current=null}):void 0},n==null?n:n.concat(e))}function $r(e,t){var n=wn(Rt++,7);return Ua(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__}function $n(e,t){return qn=8,$r(function(){return e},t)}function FE(e){var t=ce.context[e.__c],n=wn(Rt++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(ce)),t.props.value):e.__}function BE(e,t){me.useDebugValue&&me.useDebugValue(t?t(e):e)}function UE(e){var t=wn(Rt++,10),n=sn();return t.__=e,ce.componentDidCatch||(ce.componentDidCatch=function(r,o){t.__&&t.__(r,o),n[1](r)}),[n[0],function(){n[1](void 0)}]}function HE(){var e=wn(Rt++,11);if(!e.__){for(var t=ce.__v;t!==null&&!t.__m&&t.__!==null;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++}return e.__}function WE(){for(var e;e=Nf.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Io),e.__H.__h.forEach(Li),e.__H.__h=[]}catch(t){e.__H.__h=[],me.__e(t,e.__v)}}me.__b=function(e){ce=null,Du&&Du(e)},me.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Hu&&Hu(e,t)},me.__r=function(e){$u&&$u(e),Rt=0;var t=(ce=e.__c).__H;t&&(Ys===ce?(t.__h=[],ce.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=vo,n.__N=n.i=void 0})):(t.__h.forEach(Io),t.__h.forEach(Li),t.__h=[],Rt=0)),Ys=ce},me.diffed=function(e){Fu&&Fu(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Nf.push(t)!==1&&Lu===me.requestAnimationFrame||((Lu=me.requestAnimationFrame)||jE)(WE)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==vo&&(n.__=n.__V),n.i=void 0,n.__V=vo})),Ys=ce=null},me.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Io),n.__h=n.__h.filter(function(r){return!r.__||Li(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],me.__e(r,n.__v)}}),Bu&&Bu(e,t)},me.unmount=function(e){Uu&&Uu(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Io(r)}catch(o){t=o}}),n.__H=void 0,t&&me.__e(t,n.__v))};var Wu=typeof requestAnimationFrame=="function";function jE(e){var t,n=function(){clearTimeout(r),Wu&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);Wu&&(t=requestAnimationFrame(n))}function Io(e){var t=ce,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),ce=t}function Li(e){var t=ce;e.__c=e.__(),ce=t}function Ua(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function Lf(e,t){return typeof t=="function"?t(e):t}const zE=Object.defineProperty({__proto__:null,useCallback:$n,useContext:FE,useDebugValue:BE,useEffect:LE,useErrorBoundary:UE,useId:HE,useImperativeHandle:$E,useLayoutEffect:Pf,useMemo:$r,useReducer:Of,useRef:DE,useState:sn},Symbol.toStringTag,{value:"Module"}),qE="http://www.w3.org/2000/svg";function GE(){const e=r=>ae.createElementNS(qE,r),t=qe(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=qe(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t}function VE({options:e}){const t=$r(()=>({__html:GE().outerHTML}),[]);return J("h2",{class:"dialog__header"},J("span",{class:"dialog__title"},e.formTitle),e.showBranding?J("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t}):null)}function JE(e,t){const n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n}function Xs(e,t){const n=e.get(t);return typeof n=="string"?n.trim():""}function KE({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:o,onSubmitSuccess:s,onSubmitError:i,showEmail:a,showName:c,screenshotInput:u}){const{tags:d,addScreenshotButtonLabel:l,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:g,isEmailRequired:_,isNameRequired:y,messageLabel:b,messagePlaceholder:N,nameLabel:x,namePlaceholder:H,submitButtonLabel:O,isRequiredLabel:S}=e,[C,$]=sn(!1),[E,A]=sn(null),[k,M]=sn(!1),P=u?.input,[Y,K]=sn(null),oe=$n(I=>{K(I),M(!1)},[]),T=$n(I=>{const G=JE(I,{emailLabel:h,isEmailRequired:_,isNameRequired:y,messageLabel:b,nameLabel:x});return G.length>0?A(`Please enter in the following required fields: ${G.join(", ")}`):A(null),G.length===0},[h,_,y,b,x]),q=$n(async I=>{$(!0);try{if(I.preventDefault(),!(I.target instanceof HTMLFormElement))return;const G=new FormData(I.target),se=await(u&&k?u.value():void 0),ne={name:Xs(G,"name"),email:Xs(G,"email"),message:Xs(G,"message"),attachments:se?[se]:void 0};if(!T(ne))return;try{const Se=await o({name:ne.name,email:ne.email,message:ne.message,source:_E,tags:d},{attachments:ne.attachments});s(ne,Se)}catch(Se){bo&&m.error(Se),A(Se),i(Se)}}finally{$(!1)}},[u&&k,s,i]);return J("form",{class:"form",onSubmit:q},P&&k?J(P,{onError:oe}):null,J("fieldset",{class:"form__right","data-sentry-feedback":!0,disabled:C},J("div",{class:"form__top"},E?J("div",{class:"form__error-container"},E):null,c?J("label",{for:"name",class:"form__label"},J(Qs,{label:x,isRequiredLabel:S,isRequired:y}),J("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:H,required:y,type:"text"})):J("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden"}),a?J("label",{for:"email",class:"form__label"},J(Qs,{label:h,isRequiredLabel:S,isRequired:_}),J("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:g,required:_,type:"email"})):J("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden"}),J("label",{for:"message",class:"form__label"},J(Qs,{label:b,isRequiredLabel:S,isRequired:!0}),J("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:N,required:!0,rows:5})),P?J("label",{for:"screenshot",class:"form__label"},J("button",{class:"btn btn--default",disabled:C,type:"button",onClick:()=>{K(null),M(I=>!I)}},k?f:l),Y?J("div",{class:"form__error-container"},Y.message):null):null),J("div",{class:"btn-group"},J("button",{class:"btn btn--primary",disabled:C,type:"submit"},O),J("button",{class:"btn btn--default",disabled:C,type:"button",onClick:r},p))))}function Qs({label:e,isRequired:t,isRequiredLabel:n}){return J("span",{class:"form__label__text"},e,t&&J("span",{class:"form__label__text--required"},n))}const eo=16,ju=17,YE="http://www.w3.org/2000/svg";function XE(){const e=c=>Ze.document.createElementNS(YE,c),t=qe(e("svg"),{width:`${eo}`,height:`${ju}`,viewBox:`0 0 ${eo} ${ju}`,fill:"inherit"}),n=qe(e("g"),{clipPath:"url(#clip0_57_156)"}),r=qe(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),o=qe(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(o,r);const s=e("defs"),i=qe(e("clipPath"),{id:"clip0_57_156"}),a=qe(e("rect"),{width:`${eo}`,height:`${eo}`,fill:"white",transform:"translate(0 0.5)"});return i.appendChild(a),s.appendChild(i),t.appendChild(s).appendChild(i).appendChild(a),t}function QE({open:e,onFormSubmitted:t,...n}){const r=n.options,o=$r(()=>({__html:XE().outerHTML}),[]),[s,i]=sn(null),a=$n(()=>{s&&(clearTimeout(s),i(null)),t()},[s]),c=$n((u,d)=>{n.onSubmitSuccess(u,d),i(setTimeout(()=>{t(),i(null)},SE))},[t]);return J(Dr,null,s?J("div",{class:"success__position",onClick:a},J("div",{class:"success__content"},r.successMessageText,J("span",{class:"success__icon",dangerouslySetInnerHTML:o}))):J("dialog",{class:"dialog",onClick:r.onFormClose,open:e},J("div",{class:"dialog__position"},J("div",{class:"dialog__content",onClick:u=>{u.stopPropagation()}},J(VE,{options:r}),J(KE,{...n,onSubmitSuccess:c})))))}const ZE=`
.dialog {
  position: fixed;
  z-index: var(--z-index);
  margin: 0;
  inset: 0;

  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  height: 100vh;
  width: 100vw;

  color: var(--dialog-color, var(--foreground));
  fill: var(--dialog-color, var(--foreground));
  line-height: 1.75em;

  background-color: rgba(0, 0, 0, 0.05);
  border: none;
  inset: 0;
  opacity: 1;
  transition: opacity 0.2s ease-in-out;
}

.dialog__position {
  position: fixed;
  z-index: var(--z-index);
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  display: flex;
  max-height: calc(100vh - (2 * var(--page-margin)));
}
@media (max-width: 600px) {
  .dialog__position {
    inset: var(--page-margin);
    padding: 0;
  }
}

.dialog__position:has(.editor) {
  inset: var(--page-margin);
  padding: 0;
}

.dialog:not([open]) {
  opacity: 0;
  pointer-events: none;
  visibility: hidden;
}
.dialog:not([open]) .dialog__content {
  transform: translate(0, -16px) scale(0.98);
}

.dialog__content {
  display: flex;
  flex-direction: column;
  gap: 16px;
  padding: var(--dialog-padding, 24px);
  max-width: 100%;
  width: 100%;
  max-height: 100%;
  overflow: auto;

  background: var(--dialog-background, var(--background));
  border-radius: var(--dialog-border-radius, 20px);
  border: var(--dialog-border, var(--border));
  box-shadow: var(--dialog-box-shadow, var(--box-shadow));
  transform: translate(0, 0) scale(1);
  transition: transform 0.2s ease-in-out;
}

`,eT=`
.dialog__header {
  display: flex;
  gap: 4px;
  justify-content: space-between;
  font-weight: var(--dialog-header-weight, 600);
  margin: 0;
}
.dialog__title {
  align-self: center;
  width: var(--form-width, 272px);
}

@media (max-width: 600px) {
  .dialog__title {
    width: auto;
  }
}

.dialog__position:has(.editor) .dialog__title {
  width: auto;
}


.brand-link {
  display: inline-flex;
}
.brand-link:focus-visible {
  outline: var(--outline);
}
`,tT=`
.form {
  display: flex;
  overflow: auto;
  flex-direction: row;
  gap: 16px;
  flex: 1 0;
}

.form fieldset {
  border: none;
  margin: 0;
  padding: 0;
}

.form__right {
  flex: 0 0 auto;
  display: flex;
  overflow: auto;
  flex-direction: column;
  justify-content: space-between;
  gap: 20px;
  width: var(--form-width, 100%);
}

.dialog__position:has(.editor) .form__right {
  width: var(--form-width, 272px);
}

.form__top {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.form__error-container {
  color: var(--error-color);
  fill: var(--error-color);
}

.form__label {
  display: flex;
  flex-direction: column;
  gap: 4px;
  margin: 0px;
}

.form__label__text {
  display: flex;
  gap: 4px;
  align-items: center;
}

.form__label__text--required {
  font-size: 0.85em;
}

.form__input {
  font-family: inherit;
  line-height: inherit;
  background: transparent;
  box-sizing: border-box;
  border: var(--input-border, var(--border));
  border-radius: var(--input-border-radius, 6px);
  color: var(--input-color, inherit);
  fill: var(--input-color, inherit);
  font-size: var(--input-font-size, inherit);
  font-weight: var(--input-font-weight, 500);
  padding: 6px 12px;
}

.form__input::placeholder {
  opacity: 0.65;
  color: var(--input-placeholder-color, inherit);
  filter: var(--interactive-filter);
}

.form__input:focus-visible {
  outline: var(--input-focus-outline, var(--outline));
}

.form__input--textarea {
  font-family: inherit;
  resize: vertical;
}

.error {
  color: var(--error-color);
  fill: var(--error-color);
}
`,nT=`
.btn-group {
  display: grid;
  gap: 8px;
}

.btn {
  line-height: inherit;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  cursor: pointer;
  font-family: inherit;
  font-size: var(--button-font-size, inherit);
  font-weight: var(--button-font-weight, 600);
  padding: var(--button-padding, 6px 16px);
}
.btn[disabled] {
  opacity: 0.6;
  pointer-events: none;
}

.btn--primary {
  color: var(--button-primary-color, var(--accent-foreground));
  fill: var(--button-primary-color, var(--accent-foreground));
  background: var(--button-primary-background, var(--accent-background));
  border: var(--button-primary-border, var(--border));
  border-radius: var(--button-primary-border-radius, 6px);
  font-weight: var(--button-primary-font-weight, 500);
}
.btn--primary:hover {
  color: var(--button-primary-hover-color, var(--accent-foreground));
  fill: var(--button-primary-hover-color, var(--accent-foreground));
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
}
.btn--primary:focus-visible {
  background: var(--button-primary-hover-background, var(--accent-background));
  filter: var(--interactive-filter);
  outline: var(--button-primary-focus-outline, var(--outline));
}

.btn--default {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-background, var(--background));
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  font-weight: var(--button-font-weight, 500);
}
.btn--default:hover {
  color: var(--button-color, var(--foreground));
  fill: var(--button-color, var(--foreground));
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
}
.btn--default:focus-visible {
  background: var(--button-hover-background, var(--background));
  filter: var(--interactive-filter);
  outline: var(--button-focus-outline, var(--outline));
}
`,rT=`
.success__position {
  position: fixed;
  inset: var(--dialog-inset);
  padding: var(--page-margin);
  z-index: var(--z-index);
}
.success__content {
  background: var(--success-background, var(--background));
  border: var(--success-border, var(--border));
  border-radius: var(--success-border-radius, 1.7em/50%);
  box-shadow: var(--success-box-shadow, var(--box-shadow));
  font-weight: var(--success-font-weight, 600);
  color: var(--success-color);
  fill: var(--success-color);
  padding: 12px 24px;
  line-height: 1.75em;

  display: grid;
  align-items: center;
  grid-auto-flow: column;
  gap: 6px;
  cursor: default;
}

.success__icon {
  display: flex;
}
`;function oT(e){const t=ae.createElement("style");return t.textContent=`
:host {
  --dialog-inset: var(--inset);
}

${ZE}
${eT}
${tT}
${nT}
${rT}
`,e&&t.setAttribute("nonce",e),t}function sT(){const e=z().getUser(),t=ve().getUser(),n=Ht().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n}const iT=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{const o=r,s=e.useSentryUser,i=sT(),a=ae.createElement("div"),c=oT(e.styleNonce);let u="";const d={get el(){return a},appendToDom(){!o.contains(c)&&!o.contains(a)&&(o.appendChild(c),o.appendChild(a))},removeFromDom(){a.remove(),c.remove(),ae.body.style.overflow=u},open(){f(!0),e.onFormOpen?.(),R()?.emit("openFeedbackWidget"),u=ae.body.style.overflow,ae.body.style.overflow="hidden"},close(){f(!1),ae.body.style.overflow=u}},l=t?.createInput({h:J,hooks:zE,dialog:d,options:e}),f=p=>{PE(J(QE,{options:e,screenshotInput:l,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:s&&i?.[s.name]||"",defaultEmail:s&&i?.[s.email]||"",onFormClose:()=>{f(!1),e.onFormClose?.()},onSubmit:n,onSubmitSuccess:(h,g)=>{f(!1),e.onSubmitSuccess?.(h,g)},onSubmitError:h=>{e.onSubmitError?.(h)},onFormSubmitted:()=>{e.onFormSubmitted?.()},open:p}),a)};return d}});function aT({h:e}){return function(){return e("svg",{"data-test-id":"icon-close",viewBox:"0 0 16 16",fill:"#2B2233",height:"25px",width:"25px"},e("circle",{r:"7",cx:"8",cy:"8",fill:"white"}),e("path",{strokeWidth:"1.5",d:"M8,16a8,8,0,1,1,8-8A8,8,0,0,1,8,16ZM8,1.53A6.47,6.47,0,1,0,14.47,8,6.47,6.47,0,0,0,8,1.53Z"}),e("path",{strokeWidth:"1.5",d:"M5.34,11.41a.71.71,0,0,1-.53-.22.74.74,0,0,1,0-1.06l5.32-5.32a.75.75,0,0,1,1.06,1.06L5.87,11.19A.74.74,0,0,1,5.34,11.41Z"}),e("path",{strokeWidth:"1.5",d:"M10.66,11.41a.74.74,0,0,1-.53-.22L4.81,5.87A.75.75,0,0,1,5.87,4.81l5.32,5.32a.74.74,0,0,1,0,1.06A.71.71,0,0,1,10.66,11.41Z"}))}}function cT(e){const t=ae.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`
.editor {
  display: flex;
  flex-grow: 1;
  flex-direction: column;
}

.editor__image-container {
  justify-items: center;
  padding: 15px;
  position: relative;
  height: 100%;
  border-radius: var(--menu-border-radius, 6px);

  background-color: ${n};
  background-image: repeating-linear-gradient(
      -145deg,
      transparent,
      transparent 8px,
      ${n} 8px,
      ${n} 11px
    ),
    repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 15px,
      ${r} 15px,
      ${r} 16px
    );
}

.editor__canvas-container {
  width: 100%;
  height: 100%;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
}

.editor__canvas-container > * {
  object-fit: contain;
  position: absolute;
}

.editor__tool-container {
  padding-top: 8px;
  display: flex;
  justify-content: center;
}

.editor__tool-bar {
  display: flex;
  gap: 8px;
}

.editor__tool {
  display: flex;
  padding: 8px 12px;
  justify-content: center;
  align-items: center;
  border: var(--button-border, var(--border));
  border-radius: var(--button-border-radius, 6px);
  background: var(--button-background, var(--background));
  color: var(--button-color, var(--foreground));
}

.editor__tool--active {
  background: var(--button-primary-background, var(--accent-background));
  color: var(--button-primary-color, var(--accent-foreground));
}

.editor__rect {
  position: absolute;
  z-index: 2;
}

.editor__rect button {
  opacity: 0;
  position: absolute;
  top: -12px;
  right: -12px;
  cursor: pointer;
  padding: 0;
  z-index: 3;
  border: none;
  background: none;
}

.editor__rect:hover button {
  opacity: 1;
}
`,e&&t.setAttribute("nonce",e),t}function uT({h:e}){return function({action:n,setAction:r,options:o}){return e("div",{class:"editor__tool-container"},e("div",{class:"editor__tool-bar"},e("button",{type:"button",class:`editor__tool ${n==="highlight"?"editor__tool--active":""}`,onClick:()=>{r(n==="highlight"?"":"highlight")}},o.highlightToolText),e("button",{type:"button",class:`editor__tool ${n==="hide"?"editor__tool--active":""}`,onClick:()=>{r(n==="hide"?"":"hide")}},o.hideToolText)))}}function lT({hooks:e}){function t(){const[n,r]=e.useState(Ze.devicePixelRatio??1);return e.useEffect(()=>{const o=()=>{r(Ze.devicePixelRatio)},s=matchMedia(`(resolution: ${Ze.devicePixelRatio}dppx)`);return s.addEventListener("change",o),()=>{s.removeEventListener("change",o)}},[]),n}return function({onBeforeScreenshot:r,onScreenshot:o,onAfterScreenshot:s,onError:i}){const a=t();e.useEffect(()=>{(async()=>{r();const u=await hr.mediaDevices.getDisplayMedia({video:{width:Ze.innerWidth*a,height:Ze.innerHeight*a},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),d=ae.createElement("video");await new Promise((l,f)=>{d.srcObject=u,d.onloadedmetadata=()=>{o(d,a),u.getTracks().forEach(p=>p.stop()),l()},d.play().catch(f)}),s()})().catch(i)},[])}}function dT(e,t,n){switch(e.type){case"highlight":{t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowBlur=50,t.fillStyle=n,t.fillRect(e.x-1,e.y-1,e.w+2,e.h+2),t.clearRect(e.x,e.y,e.w,e.h);break}case"hide":t.fillStyle="rgb(0, 0, 0)",t.fillRect(e.x,e.y,e.w,e.h);break}}function Pt(e,t,n){if(!e)return;const r=e.getContext("2d",t);r&&n(e,r)}function Zs(e,t){Pt(e,{alpha:!0},(n,r)=>{r.drawImage(t,0,0,t.width,t.height,0,0,n.width,n.height)})}function ei(e,t,n){Pt(e,{alpha:!0},(r,o)=>{n.length&&(o.fillStyle="rgba(0, 0, 0, 0.25)",o.fillRect(0,0,r.width,r.height)),n.forEach(s=>{dT(s,o,t)})})}function fT({h:e,hooks:t,outputBuffer:n,dialog:r,options:o}){const s=lT({hooks:t}),i=uT({h:e}),a=aT({h:e}),c={__html:cT(o.styleNonce).innerText},u=r.el.style,d=({screenshot:l})=>{const[f,p]=t.useState("highlight"),[h,g]=t.useState([]),_=t.useRef(null),y=t.useRef(null),b=t.useRef(null),N=t.useRef(null),[x,H]=t.useState(1),O=t.useMemo(()=>{const k=ae.getElementById(o.id);if(!k)return"white";const M=getComputedStyle(k);return M.getPropertyValue("--button-primary-background")||M.getPropertyValue("--accent-background")},[o.id]);t.useLayoutEffect(()=>{const k=()=>{const M=_.current;M&&(Pt(l.canvas,{alpha:!1},P=>{const Y=Math.min(M.clientWidth/P.width,M.clientHeight/P.height);H(Y)}),(M.clientHeight===0||M.clientWidth===0)&&setTimeout(k,0))};return k(),Ze.addEventListener("resize",k),()=>{Ze.removeEventListener("resize",k)}},[l]);const S=t.useCallback((k,M)=>{Pt(k,{alpha:!0},(P,Y)=>{Y.scale(M,M),P.width=l.canvas.width,P.height=l.canvas.height})},[l]);t.useEffect(()=>{S(y.current,l.dpi),Zs(y.current,l.canvas)},[l]),t.useEffect(()=>{S(b.current,l.dpi),Pt(b.current,{alpha:!0},(k,M)=>{M.clearRect(0,0,k.width,k.height)}),ei(b.current,O,h)},[h,O]),t.useEffect(()=>{S(n,l.dpi),Zs(n,l.canvas),Pt(ae.createElement("canvas"),{alpha:!0},(k,M)=>{M.scale(l.dpi,l.dpi),k.width=l.canvas.width,k.height=l.canvas.height,ei(k,O,h),Zs(n,k)})},[h,l,O]);const C=k=>{if(!f||!N.current)return;const M=N.current.getBoundingClientRect(),P={type:f,x:k.offsetX/x,y:k.offsetY/x},Y=(T,q)=>{const I=(q.clientX-M.x)/x,G=(q.clientY-M.y)/x;return{type:T.type,x:Math.min(T.x,I),y:Math.min(T.y,G),w:Math.abs(I-T.x),h:Math.abs(G-T.y)}},K=T=>{Pt(b.current,{alpha:!0},(q,I)=>{I.clearRect(0,0,q.width,q.height)}),ei(b.current,O,[...h,Y(P,T)])},oe=T=>{const q=Y(P,T);q.w*x>=1&&q.h*x>=1&&g(I=>[...I,q]),ae.removeEventListener("mousemove",K),ae.removeEventListener("mouseup",oe)};ae.addEventListener("mousemove",K),ae.addEventListener("mouseup",oe)},$=t.useCallback(k=>M=>{M.preventDefault(),M.stopPropagation(),g(P=>{const Y=[...P];return Y.splice(k,1),Y})},[]),E={width:`${l.canvas.width*x}px`,height:`${l.canvas.height*x}px`},A=k=>{k.stopPropagation()};return e("div",{class:"editor"},e("style",{nonce:o.styleNonce,dangerouslySetInnerHTML:c}),e("div",{class:"editor__image-container"},e("div",{class:"editor__canvas-container",ref:_},e("canvas",{ref:y,id:"background",style:E}),e("canvas",{ref:b,id:"foreground",style:E}),e("div",{ref:N,onMouseDown:C,style:E},h.map((k,M)=>e("div",{key:M,class:"editor__rect",style:{top:`${k.y*x}px`,left:`${k.x*x}px`,width:`${k.w*x}px`,height:`${k.h*x}px`}},e("button",{"aria-label":o.removeHighlightText,onClick:$(M),onMouseDown:A,onMouseUp:A,type:"button"},e(a,null))))))),e(i,{options:o,action:f,setAction:p}))};return function({onError:f}){const[p,h]=t.useState();return s({onBeforeScreenshot:t.useCallback(()=>{u.display="none"},[]),onScreenshot:t.useCallback((g,_)=>{Pt(ae.createElement("canvas"),{alpha:!1},(y,b)=>{b.scale(_,_),y.width=g.videoWidth,y.height=g.videoHeight,b.drawImage(g,0,0,y.width,y.height),h({canvas:y,dpi:_})}),n.width=g.videoWidth,n.height=g.videoHeight},[]),onAfterScreenshot:t.useCallback(()=>{u.display="block"},[]),onError:t.useCallback(g=>{u.display="block",f(g)},[])}),p?e(d,{screenshot:p}):e("div",null)}}const pT=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{const o=ae.createElement("canvas");return{input:fT({h:e,hooks:t,outputBuffer:o,dialog:n,options:r}),value:async()=>{const s=await new Promise(i=>{o.toBlob(i,"image/png")});if(s)return{data:new Uint8Array(await s.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"}}}}}),D=L;let Di=0;function Df(){return Di>0}function hT(){Di++,setTimeout(()=>{Di--})}function Gn(e,t={}){function n(o){return typeof o=="function"}if(!n(e))return e;try{const o=e.__sentry_wrapped__;if(o)return typeof o=="function"?o:e;if(sa(e))return e}catch{return e}const r=function(...o){try{const s=o.map(i=>Gn(i,t));return e.apply(this,s)}catch(s){throw hT(),rt(i=>{i.addEventProcessor(a=>(t.mechanism&&(yi(a,void 0),kt(a,t.mechanism)),a.extra={...a.extra,arguments:o},a)),pe(s)}),s}};try{for(const o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch{}rd(r,e),Le(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function Ha(){const e=vn(),{referrer:t}=D.document||{},{userAgent:n}=D.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}const mT={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",graphqlClientIntegration:"graphqlclient",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",browserProfilingIntegration:"browserprofiling",moduleMetadataIntegration:"modulemetadata",instrumentAnthropicAiClient:"instrumentanthropicaiclient",instrumentOpenAiClient:"instrumentopenaiclient",instrumentGoogleGenAIClient:"instrumentgooglegenaiclient",instrumentLangGraph:"instrumentlanggraph",createLangChainCallbackHandler:"createlangchaincallbackhandler"},zu=D;async function gT(e,t){const n=mT[e],r=zu.Sentry=zu.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);const o=r[e];if(typeof o=="function"&&!("_isShim"in o))return o;const s=_T(n),i=D.document.createElement("script");i.src=s,i.crossOrigin="anonymous",i.referrerPolicy="strict-origin",t&&i.setAttribute("nonce",t);const a=new Promise((l,f)=>{i.addEventListener("load",()=>l()),i.addEventListener("error",f)}),c=D.document.currentScript,u=D.document.body||D.document.head||c?.parentElement;if(u)u.appendChild(i);else throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);try{await a}catch{throw new Error(`Error when loading integration: ${e}`)}const d=r[e];if(typeof d!="function")throw new Error(`Could not load integration: ${e}`);return d}function _T(e){const n=R()?.getOptions()?.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Bt}/${e}.min.js`,n).toString()}const EA=wf({lazyLoadIntegration:gT}),TA=wf({getModalIntegration:()=>iT,getScreenshotIntegration:()=>pT});function Wa(e,t){const n=ja(e,t),r={type:TT(t),value:vT(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function yT(e,t,n,r){const s=R()?.getOptions().normalizeDepth,i=RT(t),a={__serialized__:Cd(t,s)};if(i)return{exception:{values:[Wa(e,i)]},extra:a};const c={exception:{values:[{type:us(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:kT(t,{isUnhandledRejection:r})}]},extra:a};if(n){const u=ja(e,n);u.length&&(c.exception.values[0].stacktrace={frames:u})}return c}function ti(e,t){return{exception:{values:[Wa(e,t)]}}}function ja(e,t){const n=t.stacktrace||t.stack||"",r=bT(t),o=ET(t);try{return e(n,r,o)}catch{}return[]}const ST=/Minified React error #\d+;/i;function bT(e){return e&&ST.test(e.message)?1:0}function ET(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function $f(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function TT(e){const t=e?.name;return!t&&$f(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function vT(e){const t=e?.message;return $f(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function IT(e,t,n,r){const o=n?.syntheticException||void 0,s=Cs(e,t,o,r);return kt(s),s.level="error",n?.event_id&&(s.event_id=n.event_id),gs(s)}function wT(e,t,n="info",r,o){const s=r?.syntheticException||void 0,i=$i(e,t,s,o);return i.level=n,r?.event_id&&(i.event_id=r.event_id),gs(i)}function Cs(e,t,n,r,o){let s;if(Zl(t)&&t.error)return ti(e,t.error);if(Tc(t)||Dh(t)){const i=t;if("stack"in t)s=ti(e,t);else{const a=i.name||(Tc(i)?"DOMError":"DOMException"),c=i.message?`${a}: ${i.message}`:a;s=$i(e,c,n,r),yi(s,c)}return"code"in i&&(s.tags={...s.tags,"DOMException.code":`${i.code}`}),s}return Ut(t)?ti(e,t):ut(t)||us(t)?(s=yT(e,t,n,o),kt(s,{synthetic:!0}),s):(s=$i(e,t,n,r),yi(s,`${t}`),kt(s,{synthetic:!0}),s)}function $i(e,t,n,r){const o={};if(r&&n){const s=ja(e,n);s.length&&(o.exception={values:[{value:t,stacktrace:{frames:s}}]}),kt(o,{synthetic:!0})}if(cs(t)){const{__sentry_template_string__:s,__sentry_template_values__:i}=t;return o.logentry={message:s,params:i},o}return o.message=t,o}function kT(e,{isUnhandledRejection:t}){const n=Wh(e),r=t?"promise rejection":"exception";return Zl(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:us(e)?`Event \`${CT(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function CT(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function RT(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}class AT extends l_{constructor(t){const n=xT(t),r=D.SENTRY_SDK_SOURCE||Xb();Zd(n,"browser",["browser"],r),n._metadata?.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:o,sendClientReports:s,enableLogs:i,_experiments:a,enableMetrics:c}=this._options,u=c??a?.enableMetrics??!0;D.document&&(s||i||u)&&D.document.addEventListener("visibilitychange",()=>{D.document.visibilityState==="hidden"&&(s&&this._flushOutcomes(),i&&ga(this),u&&ya(this))}),o&&this.on("beforeSendSession",C_)}eventFromException(t,n){return IT(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return wT(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,o){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,o)}}function xT(e){return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:D.SENTRY_RELEASE?.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const En=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,j=L,MT=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Fr=(e,t,n,r)=>{let o,s;return i=>{t.value>=0&&(i||r)&&(s=t.value-(o??0),(s||o===void 0)&&(o=t.value,t.delta=s,t.rating=MT(t.value,n),e(t)))}},Br=(e=!0)=>{const t=j.performance?.getEntriesByType?.("navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},ir=()=>Br()?.activationStart??0;function pn(e,t,n){j.document&&j.addEventListener(e,t,n)}function za(e,t,n){j.document&&j.removeEventListener(e,t,n)}let Fn=-1;const Ff=new Set,NT=()=>j.document?.visibilityState==="hidden"&&!j.document?.prerendering?0:1/0,wo=e=>{if(OT(e)&&Fn>-1){if(e.type==="visibilitychange"||e.type==="pagehide")for(const t of Ff)t();isFinite(Fn)||(Fn=e.type==="visibilitychange"?e.timeStamp:0,za("prerenderingchange",wo,!0))}},Ur=()=>{if(j.document&&Fn<0){const e=ir();Fn=(j.document.prerendering?void 0:globalThis.performance.getEntriesByType("visibility-state").filter(n=>n.name==="hidden"&&n.startTime>e)[0]?.startTime)??NT(),pn("visibilitychange",wo,!0),pn("pagehide",wo,!0),pn("prerenderingchange",wo,!0)}return{get firstHiddenTime(){return Fn},onHidden(e){Ff.add(e)}}};function OT(e){return e.type==="pagehide"||j.document?.visibilityState==="hidden"}const PT=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Hr=(e,t=-1)=>{const n=Br();let r="navigate";return n&&(j.document?.prerendering||ir()>0?r="prerender":j.document?.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:PT(),navigationType:r}},ni=new WeakMap;function qa(e,t){return ni.get(e)||ni.set(e,new t),ni.get(e)}class Vo{constructor(){Vo.prototype.__init.call(this),Vo.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),this._onAfterProcessingUnexpectedShift?.(t)}}const ar=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(o=>{Promise.resolve().then(()=>{t(o.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},Ga=e=>{let t=!1;return()=>{t||(e(),t=!0)}},Rs=e=>{j.document?.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},LT=[1800,3e3],DT=(e,t={})=>{Rs(()=>{const n=Ur(),r=Hr("FCP");let o;const i=ar("paint",a=>{for(const c of a)c.name==="first-contentful-paint"&&(i.disconnect(),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-ir(),0),r.entries.push(c),o(!0)))});i&&(o=Fr(e,r,LT,t.reportAllChanges))})},$T=[.1,.25],FT=(e,t={})=>{DT(Ga(()=>{const n=Hr("CLS",0);let r;const o=Ur(),s=qa(t,Vo),i=c=>{for(const u of c)s._processEntry(u);s._sessionValue>n.value&&(n.value=s._sessionValue,n.entries=s._sessionEntries,r())},a=ar("layout-shift",i);a&&(r=Fr(e,n,$T,t.reportAllChanges),o.onHidden(()=>{i(a.takeRecords()),r(!0)}),j?.setTimeout?.(r))}))};let Bf=0,ri=1/0,to=0;const BT=e=>{e.forEach(t=>{t.interactionId&&(ri=Math.min(ri,t.interactionId),to=Math.max(to,t.interactionId),Bf=to?(to-ri)/7+1:0)})};let Fi;const Uf=()=>Fi?Bf:performance.interactionCount||0,UT=()=>{"interactionCount"in performance||Fi||(Fi=ar("event",BT,{type:"event",buffered:!0,durationThreshold:0}))},oi=10;let Hf=0;const HT=()=>Uf()-Hf;class Jo{constructor(){Jo.prototype.__init.call(this),Jo.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){Hf=Uf(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(HT()/50));return this._longestInteractionList[t]}_processEntry(t){if(this._onBeforeProcessingEntry?.(t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<oi||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,s)=>s._latency-o._latency),this._longestInteractionList.length>oi){const o=this._longestInteractionList.splice(oi);for(const s of o)this._longestInteractionMap.delete(s.id)}this._onAfterProcessingINPCandidate?.(r)}}}const Wf=e=>{const t=n=>{(n.type==="pagehide"||j.document?.visibilityState==="hidden")&&e(n)};pn("visibilitychange",t,!0),pn("pagehide",t,!0)},jf=e=>{const t=j.requestIdleCallback||j.setTimeout;j.document?.visibilityState==="hidden"?e():(e=Ga(e),pn("visibilitychange",e,{once:!0,capture:!0}),t(()=>{e(),za("visibilitychange",e,{capture:!0})}),Wf(e))},WT=[200,500],jT=40,zT=(e,t={})=>{if(!(globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype))return;const n=Ur();Rs(()=>{UT();const r=Hr("INP");let o;const s=qa(t,Jo),i=c=>{jf(()=>{for(const d of c)s._processEntry(d);const u=s._estimateP98LongestInteraction();u&&u._latency!==r.value&&(r.value=u._latency,r.entries=u.entries,o())})},a=ar("event",i,{durationThreshold:t.durationThreshold??jT});o=Fr(e,r,WT,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),n.onHidden(()=>{i(a.takeRecords()),o(!0)}))})};class qT{_processEntry(t){this._onBeforeProcessingEntry?.(t)}}const GT=[2500,4e3],VT=(e,t={})=>{Rs(()=>{const n=Ur(),r=Hr("LCP");let o;const s=qa(t,qT),i=c=>{t.reportAllChanges||(c=c.slice(-1));for(const u of c)s._processEntry(u),u.startTime<n.firstHiddenTime&&(r.value=Math.max(u.startTime-ir(),0),r.entries=[u],o())},a=ar("largest-contentful-paint",i);if(a){o=Fr(e,r,GT,t.reportAllChanges);const c=Ga(()=>{i(a.takeRecords()),a.disconnect(),o(!0)}),u=d=>{d.isTrusted&&(jf(c),za(d.type,u,{capture:!0}))};for(const d of["keydown","click","visibilitychange"])pn(d,u,{capture:!0})}})},JT=[800,1800],Bi=e=>{j.document?.prerendering?Rs(()=>Bi(e)):j.document?.readyState!=="complete"?addEventListener("load",()=>Bi(e),!0):setTimeout(e)},KT=(e,t={})=>{const n=Hr("TTFB"),r=Fr(e,n,JT,t.reportAllChanges);Bi(()=>{const o=Br();o&&(n.value=Math.max(o.responseStart-ir(),0),n.entries=[o],r(!0))})},mr={},Ko={};let zf,qf,Gf,Vf;function Va(e,t=!1){return As("cls",e,XT,zf,t)}function Ja(e,t=!1){return As("lcp",e,QT,qf,t)}function YT(e){return As("ttfb",e,ZT,Gf)}function Jf(e){return As("inp",e,ev,Vf)}function Tn(e,t){return Kf(e,t),Ko[e]||(tv(e),Ko[e]=!0),Yf(e,t)}function Wr(e,t){const n=mr[e];if(n?.length)for(const r of n)try{r(t)}catch(o){En&&m.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${It(r)}
Error:`,o)}}function XT(){return FT(e=>{Wr("cls",{metric:e}),zf=e},{reportAllChanges:!0})}function QT(){return VT(e=>{Wr("lcp",{metric:e}),qf=e},{reportAllChanges:!0})}function ZT(){return KT(e=>{Wr("ttfb",{metric:e}),Gf=e})}function ev(){return zT(e=>{Wr("inp",{metric:e}),Vf=e})}function As(e,t,n,r,o=!1){Kf(e,t);let s;return Ko[e]||(s=n(),Ko[e]=!0),r&&t({metric:r}),Yf(e,t,o?s:void 0)}function tv(e){const t={};e==="event"&&(t.durationThreshold=0),ar(e,n=>{Wr(e,{entries:n})},t)}function Kf(e,t){mr[e]=mr[e]||[],mr[e].push(t)}function Yf(e,t,n){return()=>{n&&n();const r=mr[e];if(!r)return;const o=r.indexOf(t);o!==-1&&r.splice(o,1)}}function nv(e){return"duration"in e}function si(e){return typeof e=="number"&&isFinite(e)}function Vt(e,t,n,{...r}){const o=W(e).start_timestamp;return o&&o>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),ms(e,()=>{const s=qt({startTime:t,...r});return s&&s.end(n),s})}function Ka(e){const t=R();if(!t)return;const{name:n,transaction:r,attributes:o,startTime:s}=e,{release:i,environment:a,sendDefaultPii:c}=t.getOptions(),d=t.getIntegrationByName("Replay")?.getReplayId(),l=z(),f=l.getUser(),p=f!==void 0?f.email||f.id||f.ip_address:void 0;let h;try{h=l.getScopeData().contexts.profile.profile_id}catch{}const g={release:i,environment:a,user:p||void 0,profile_id:h||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":j.navigator?.userAgent,"client.address":c?"{{auto}}":void 0,...o};return qt({name:n,attributes:g,startTime:s,experimental:{standalone:!0}})}function jr(){return j.addEventListener&&j.performance}function _e(e){return e/1e3}function rv(e){let t="unknown",n="unknown",r="";for(const o of e){if(o==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(o))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=o}return r===e&&(t=r),{name:t,version:n}}function Xf(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Qf(e,t){let n,r=!1;function o(a){!r&&n&&t(a,n),r=!0}Wf(()=>{o("pagehide")});const s=e.on("beforeStartNavigationSpan",(a,c)=>{c?.isRedirect||(o("navigation"),s(),i())}),i=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,i()})}function ov(e){let t=0,n;if(!Xf("layout-shift"))return;const r=Va(({metric:o})=>{const s=o.entries[o.entries.length-1];s&&(t=o.value,n=s)},!0);Qf(e,(o,s)=>{sv(t,n,s,o),r()})}function sv(e,t,n,r){En&&m.log(`Sending CLS span (${e})`);const o=t?_e((Ae()||0)+t.startTime):fe(),s=z().getScopeData().transactionName,i=t?Ue(t.sources[0]?.node):"Layout shift",a={[te]:"auto.http.browser.cls",[Ie]:"ui.webvital.cls",[nr]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t?.sources&&t.sources.forEach((u,d)=>{a[`cls.source.${d+1}`]=Ue(u.node)});const c=Ka({name:i,transaction:s,attributes:a,startTime:o});c&&(c.addEvent("cls",{[Mr]:"",[Nr]:e}),c.end(o))}function iv(e){let t=0,n;if(!Xf("largest-contentful-paint"))return;const r=Ja(({metric:o})=>{const s=o.entries[o.entries.length-1];s&&(t=o.value,n=s)},!0);Qf(e,(o,s)=>{av(t,n,s,o),r()})}function av(e,t,n,r){En&&m.log(`Sending LCP span (${e})`);const o=_e((Ae()||0)+(t?.startTime||0)),s=z().getScopeData().transactionName,i=t?Ue(t.element):"Largest contentful paint",a={[te]:"auto.http.browser.lcp",[Ie]:"ui.webvital.lcp",[nr]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Ue(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const c=Ka({name:i,transaction:s,attributes:a,startTime:o});c&&(c.addEvent("lcp",{[Mr]:"millisecond",[Nr]:e}),c.end(o))}function Je(e){return e&&((Ae()||performance.timeOrigin)+e)/1e3}function Zf(e){const t={};if(e.nextHopProtocol!=null){const{name:n,version:r}=rv(e.nextHopProtocol);t["network.protocol.version"]=r,t["network.protocol.name"]=n}return Ae()||jr()?.timeOrigin?cv({...t,"http.request.redirect_start":Je(e.redirectStart),"http.request.redirect_end":Je(e.redirectEnd),"http.request.worker_start":Je(e.workerStart),"http.request.fetch_start":Je(e.fetchStart),"http.request.domain_lookup_start":Je(e.domainLookupStart),"http.request.domain_lookup_end":Je(e.domainLookupEnd),"http.request.connect_start":Je(e.connectStart),"http.request.secure_connection_start":Je(e.secureConnectionStart),"http.request.connection_end":Je(e.connectEnd),"http.request.request_start":Je(e.requestStart),"http.request.response_start":Je(e.responseStart),"http.request.response_end":Je(e.responseEnd),"http.request.time_to_first_byte":e.responseStart!=null?e.responseStart/1e3:void 0}):t}function cv(e){return Object.fromEntries(Object.entries(e).filter(([,t])=>t!=null))}const uv=2147483647;let qu=0,Qe={},$e,Yo;function lv({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=jr();if(r&&Ae()){r.mark&&j.performance.mark("sentry-tracing-init");const o=t?iv(n):mv(),s=gv(),i=e?ov(n):hv();return()=>{o?.(),s(),i?.()}}return()=>{}}function dv(){Tn("longtask",({entries:e})=>{const t=ye();if(!t)return;const{op:n,start_timestamp:r}=W(t);for(const o of e){const s=_e(Ae()+o.startTime),i=_e(o.duration);n==="navigation"&&r&&s<r||Vt(t,s,s+i,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[te]:"auto.ui.browser.metrics"}})}})}function fv(){new PerformanceObserver(t=>{const n=ye();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const o=_e(Ae()+r.startTime),{start_timestamp:s,op:i}=W(n);if(i==="navigation"&&s&&o<s)continue;const a=_e(r.duration),c={[te]:"auto.ui.browser.metrics"},u=r.scripts[0],{invoker:d,invokerType:l,sourceURL:f,sourceFunctionName:p,sourceCharPosition:h}=u;c["browser.script.invoker"]=d,c["browser.script.invoker_type"]=l,f&&(c["code.filepath"]=f),p&&(c["code.function"]=p),h!==-1&&(c["browser.script.source_char_position"]=h),Vt(n,o,o+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:c})}}).observe({type:"long-animation-frame",buffered:!0})}function pv(){Tn("event",({entries:e})=>{const t=ye();if(t){for(const n of e)if(n.name==="click"){const r=_e(Ae()+n.startTime),o=_e(n.duration),s={name:Ue(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[te]:"auto.ui.browser.metrics"}},i=nd(n.target);i&&(s.attributes["ui.component_name"]=i),Vt(t,r,r+o,s)}}})}function hv(){return Va(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Qe.cls={value:e.value,unit:""},Yo=t)},!0)}function mv(){return Ja(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(Qe.lcp={value:e.value,unit:"millisecond"},$e=t)},!0)}function gv(){return YT(({metric:e})=>{e.entries[e.entries.length-1]&&(Qe.ttfb={value:e.value,unit:"millisecond"})})}function _v(e,t){const n=jr(),r=Ae();if(!n?.getEntries||!r)return;const o=_e(r),s=n.getEntries(),{op:i,start_timestamp:a}=W(e);s.slice(qu).forEach(c=>{const u=_e(c.startTime),d=_e(Math.max(0,c.duration));if(!(i==="navigation"&&a&&o+u<a))switch(c.entryType){case"navigation":{Ev(e,c,o);break}case"mark":case"paint":case"measure":{Sv(e,c,u,d,o,t.ignorePerformanceApiSpans);const l=Ur(),f=c.startTime<l.firstHiddenTime;c.name==="first-paint"&&f&&(Qe.fp={value:c.startTime,unit:"millisecond"}),c.name==="first-contentful-paint"&&f&&(Qe.fcp={value:c.startTime,unit:"millisecond"});break}case"resource":{Iv(e,c,c.name,u,d,o,t.ignoreResourceSpans);break}}}),qu=Math.max(s.length-1,0),wv(e),i==="pageload"&&(Rv(Qe),t.recordClsOnPageloadSpan||delete Qe.cls,t.recordLcpOnPageloadSpan||delete Qe.lcp,Object.entries(Qe).forEach(([c,u])=>{Qm(c,u.value,u.unit)}),e.setAttribute("performance.timeOrigin",o),e.setAttribute("performance.activationStart",ir()),kv(e,t)),$e=void 0,Yo=void 0,Qe={}}function yv(e){if(e?.entryType==="measure")try{return e.detail.devtools.track==="Components "}catch{return}}function Sv(e,t,n,r,o,s){if(yv(t)||["mark","measure"].includes(t.entryType)&&tt(t.name,s))return;const i=Br(!1),a=_e(i?i.requestStart:0),c=o+Math.max(n,a),u=o+n,d=u+r,l={[te]:"auto.resource.browser.metrics"};c!==u&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=c),bv(l,t),c<=d&&Vt(e,c,d,{name:t.name,op:t.entryType,attributes:l})}function bv(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,o]of Object.entries(n))if(o&&zt(o))e[`sentry.browser.measure.detail.${r}`]=o;else if(o!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(o)}catch{}return}if(zt(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function Ev(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{no(e,t,r,n)}),no(e,t,"secureConnection",n,"TLS/SSL"),no(e,t,"fetch",n,"cache"),no(e,t,"domainLookup",n,"DNS"),vv(e,t,n)}function no(e,t,n,r,o=n){const s=Tv(n),i=t[s],a=t[`${n}Start`];!a||!i||Vt(e,r+_e(a),r+_e(i),{op:`browser.${o}`,name:t.name,attributes:{[te]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function Tv(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function vv(e,t,n){const r=n+_e(t.requestStart),o=n+_e(t.responseEnd),s=n+_e(t.responseStart);t.responseEnd&&(Vt(e,r,o,{op:"browser.request",name:t.name,attributes:{[te]:"auto.ui.browser.metrics"}}),Vt(e,s,o,{op:"browser.response",name:t.name,attributes:{[te]:"auto.ui.browser.metrics"}}))}function Iv(e,t,n,r,o,s,i){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(i?.includes(a))return;const c={[te]:"auto.resource.browser.metrics"},u=dn(n);u.protocol&&(c["url.scheme"]=u.protocol.split(":").pop()),u.host&&(c["server.address"]=u.host),c["url.same_origin"]=n.includes(j.location.origin),Cv(t,c,[["responseStatus","http.response.status_code"],["transferSize","http.response_transfer_size"],["encodedBodySize","http.response_content_length"],["decodedBodySize","http.decoded_response_content_length"],["renderBlockingStatus","resource.render_blocking_status"],["deliveryType","http.response_delivery_type"]]);const d={...c,...Zf(t)},l=s+r,f=l+o;Vt(e,l,f,{name:n.replace(j.location.origin,""),op:a,attributes:d})}function wv(e){const t=j.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),si(n.rtt)&&(Qe["connection.rtt"]={value:n.rtt,unit:"millisecond"})),si(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),si(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function kv(e,t){$e&&t.recordLcpOnPageloadSpan&&($e.element&&e.setAttribute("lcp.element",Ue($e.element)),$e.id&&e.setAttribute("lcp.id",$e.id),$e.url&&e.setAttribute("lcp.url",$e.url.trim().slice(0,200)),$e.loadTime!=null&&e.setAttribute("lcp.loadTime",$e.loadTime),$e.renderTime!=null&&e.setAttribute("lcp.renderTime",$e.renderTime),e.setAttribute("lcp.size",$e.size)),Yo?.sources&&t.recordClsOnPageloadSpan&&Yo.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Ue(n.node)))}function Cv(e,t,n){n.forEach(([r,o])=>{const s=e[r];s!=null&&(typeof s=="number"&&s<uv||typeof s=="string")&&(t[o]=s)})}function Rv(e){const t=Br(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function Av(){return jr()&&Ae()?Tn("element",xv):()=>{}}const xv=({entries:e})=>{const t=ye(),n=t?be(t):void 0,r=n?W(n).description:z().getScopeData().transactionName;e.forEach(o=>{const s=o;if(!s.identifier)return;const i=s.name,a=s.renderTime,c=s.loadTime,[u,d]=c?[_e(c),"load-time"]:a?[_e(a),"render-time"]:[fe(),"entry-emission"],l=i==="image-paint"?_e(Math.max(0,(a??0)-(c??0))):0,f={[te]:"auto.ui.browser.elementtiming",[Ie]:"ui.elementtiming",[Pe]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":s.id,"element.type":s.element?.tagName?.toLowerCase()||"unknown","element.size":s.naturalWidth&&s.naturalHeight?`${s.naturalWidth}x${s.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":c,"element.url":s.url||void 0,"element.identifier":s.identifier,"element.paint_type":i};Qt({name:`element[${s.identifier}]`,attributes:f,startTime:u,onlyIfParent:!0},p=>{p.end(u+l)})})},Mv=1e3;let Gu,Ui,Hi;function ep(e){Jt("dom",e),Kt("dom",Nv)}function Nv(){if(!j.document)return;const e=Ke.bind(null,"dom"),t=Vu(e,!0);j.document.addEventListener("click",t,!1),j.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const o=j[n]?.prototype;o?.hasOwnProperty?.("addEventListener")&&(Ce(o,"addEventListener",function(s){return function(i,a,c){if(i==="click"||i=="keypress")try{const u=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},d=u[i]=u[i]||{refCount:0};if(!d.handler){const l=Vu(e);d.handler=l,s.call(this,i,l,c)}d.refCount++}catch{}return s.call(this,i,a,c)}}),Ce(o,"removeEventListener",function(s){return function(i,a,c){if(i==="click"||i=="keypress")try{const u=this.__sentry_instrumentation_handlers__||{},d=u[i];d&&(d.refCount--,d.refCount<=0&&(s.call(this,i,d.handler,c),d.handler=void 0,delete u[i]),Object.keys(u).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return s.call(this,i,a,c)}}))})}function Ov(e){if(e.type!==Ui)return!1;try{if(!e.target||e.target._sentryId!==Hi)return!1}catch{}return!0}function Pv(e,t){return e!=="keypress"?!1:t?.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function Vu(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Lv(n);if(Pv(n.type,r))return;Le(n,"_sentryCaptured",!0),r&&!r._sentryId&&Le(r,"_sentryId",Te());const o=n.type==="keypress"?"input":n.type;Ov(n)||(e({event:n,name:o,global:t}),Ui=n.type,Hi=r?r._sentryId:void 0),clearTimeout(Gu),Gu=j.setTimeout(()=>{Hi=void 0,Ui=void 0},Mv)}}function Lv(e){try{return e.target}catch{return null}}let ro;function xs(e){const t="history";Jt(t,e),Kt(t,Dv)}function Dv(){if(j.addEventListener("popstate",()=>{const t=j.location.href,n=ro;if(ro=t,n===t)return;Ke("history",{from:n,to:t})}),!Wb())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const o=ro,s=$v(String(r));if(ro=s,o===s)return t.apply(this,n);Ke("history",{from:o,to:s})}return t.apply(this,n)}}Ce(j.history,"pushState",e),Ce(j.history,"replaceState",e)}function $v(e){try{return new URL(e,j.location.origin).toString()}catch{return e}}const ko={};function Ya(e){const t=ko[e];if(t)return t;let n=j[e];if(xi(n))return ko[e]=n.bind(j);const r=j.document;if(r&&typeof r.createElement=="function")try{const o=r.createElement("iframe");o.hidden=!0,r.head.appendChild(o);const s=o.contentWindow;s?.[e]&&(n=s[e]),r.head.removeChild(o)}catch(o){En&&m.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,o)}return n&&(ko[e]=n.bind(j))}function Fv(e){ko[e]=void 0}function zr(...e){return Ya("setTimeout")(...e)}const Et="__sentry_xhr_v3__";function Xa(e){Jt("xhr",e),Kt("xhr",Bv)}function Bv(){if(!j.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const o=new Error,s=fe()*1e3,i=et(r[0])?r[0].toUpperCase():void 0,a=Uv(r[1]);if(!i||!a)return t.apply(n,r);n[Et]={method:i,url:a,request_headers:{}},i==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const c=()=>{const u=n[Et];if(u&&n.readyState===4){try{u.status_code=n.status}catch{}const d={endTimestamp:fe()*1e3,startTimestamp:s,xhr:n,virtualError:o};Ke("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(u,d,l){return c(),u.apply(d,l)}}):n.addEventListener("readystatechange",c),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(u,d,l){const[f,p]=l,h=d[Et];return h&&et(f)&&et(p)&&(h.request_headers[f.toLowerCase()]=p),u.apply(d,l)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const o=n[Et];if(!o)return t.apply(n,r);r[0]!==void 0&&(o.body=r[0]);const s={startTimestamp:fe()*1e3,xhr:n};return Ke("xhr",s),t.apply(n,r)}})}function Uv(e){if(et(e))return e;try{return e.toString()}catch{}}function tp(e){return new URLSearchParams(e).toString()}function Xo(e,t=m){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[tp(e)];if(!e)return[void 0]}catch(n){return En&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return En&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Qa(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}function np(e){let t;try{t=e.getAllResponseHeaders()}catch(n){return En&&m.error(n,"Failed to get xhr response headers",e),{}}return t?t.split(`\r
`).reduce((n,r)=>{const[o,s]=r.split(": ");return s&&(n[o.toLowerCase()]=s),n},{}):{}}const ii=[],Co=new Map,Cn=new Map,Hv=60;function Wv(){if(jr()&&Ae()){const t=jv();return()=>{t()}}return()=>{}}const Wi={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function jv(){return Jf(zv)}const zv=({metric:e})=>{if(e.value==null)return;const t=_e(e.value);if(t>Hv)return;const n=e.entries.find(h=>h.duration===e.value&&Wi[h.name]);if(!n)return;const{interactionId:r}=n,o=Wi[n.name],s=_e(Ae()+n.startTime),i=ye(),a=i?be(i):void 0,c=r!=null?Co.get(r):void 0,u=c?.span||a,d=u?W(u).description:z().getScopeData().transactionName,l=c?.elementName||Ue(n.target),f={[te]:"auto.http.browser.inp",[Ie]:`ui.interaction.${o}`,[nr]:n.duration},p=Ka({name:l,transaction:d,attributes:f,startTime:s});p&&(p.addEvent("inp",{[Mr]:"millisecond",[Nr]:e.value}),p.end(s+t))};function qv(){const e=Object.keys(Wi);qo()&&e.forEach(o=>{j.addEventListener(o,t,{capture:!0,passive:!0})});function t(o){const s=o.target;if(!s)return;const i=Ue(s),a=Math.round(o.timeStamp);if(Cn.set(a,i),Cn.size>50){const c=Cn.keys().next().value;c!==void 0&&Cn.delete(c)}}function n(o){const s=Math.round(o.startTime);let i=Cn.get(s);if(!i)for(let a=-5;a<=5;a++){const c=Cn.get(s+a);if(c){i=c;break}}return i||"<unknown>"}const r=({entries:o})=>{const s=ye(),i=s&&be(s);o.forEach(a=>{if(!nv(a))return;const c=a.interactionId;if(c==null||Co.has(c))return;const u=a.target?Ue(a.target):n(a);if(ii.length>10){const d=ii.shift();Co.delete(d)}ii.push(c),Co.set(c,{span:i,elementName:u})})};Tn("event",r),Tn("first-input",r)}const Gv=40;function rp(e,t=Ya("fetch")){let n=0,r=0;async function o(s){const i=s.body.length;n+=i,r++;const a={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{const c=await t(e.url,a);return{statusCode:c.status,headers:{"x-sentry-rate-limits":c.headers.get("X-Sentry-Rate-Limits"),"retry-after":c.headers.get("Retry-After")}}}catch(c){throw Fv("fetch"),c}finally{n-=i,r--}}return s_(e,o,Ea(e.bufferSize||Gv))}const v=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function Vv(){const e=R();if(!e){v&&m.warn("No Sentry client available, profiling is not started");return}if(!e.getIntegrationByName("BrowserProfiling")){v&&m.warn("BrowserProfiling integration is not available");return}e.emit("startUIProfiler")}function Jv(){const e=R();if(!e){v&&m.warn("No Sentry client available, profiling is not started");return}if(!e.getIntegrationByName("BrowserProfiling")){v&&m.warn("ProfilingIntegration is not available");return}e.emit("stopUIProfiler")}const vA={startProfiler:Vv,stopProfiler:Jv},Kv=10,Yv=20,Xv=30,Qv=40,Zv=50;function Vn(e,t,n,r){const o={filename:e,function:t==="<anonymous>"?dt:t,in_app:!0};return n!==void 0&&(o.lineno=n),r!==void 0&&(o.colno=r),o}const e0=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,t0=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,n0=/\((\S*)(?::(\d+))(?::(\d+))\)/,r0=/at (.+?) ?\(data:(.+?),/,o0=e=>{const t=e.match(r0);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=e0.exec(e);if(n){const[,o,s,i]=n;return Vn(o,dt,+s,+i)}const r=t0.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=n0.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[s,i]=op(r[1]||dt,r[2]);return Vn(i,s,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},s0=[Xv,o0],i0=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,a0=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,c0=e=>{const t=i0.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=a0.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],o=t[1]||dt;return[o,r]=op(o,r),Vn(r,o,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},u0=[Zv,c0],l0=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d0=e=>{const t=l0.exec(e);return t?Vn(t[2],t[1]||dt,+t[3],t[4]?+t[4]:void 0):void 0},IA=[Qv,d0],f0=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,p0=e=>{const t=f0.exec(e);return t?Vn(t[2],t[3]||dt,+t[1]):void 0},wA=[Kv,p0],h0=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,m0=e=>{const t=h0.exec(e);return t?Vn(t[5],t[3]||t[4]||dt,+t[1],+t[2]):void 0},kA=[Yv,m0],g0=[s0,u0],_0=Jl(...g0),op=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:dt,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]};function CA(e,{metadata:t,tunnel:n,dsn:r}){const o={event_id:e.event_id,sent_at:new Date().toISOString(),...t?.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:xt(r)}},s=y0(e);return ot(o,[s])}function y0(e){return[{type:"user_report"},e]}const oo=1024,S0="Breadcrumbs",b0=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:S0,setup(n){t.console&&Ia(I0(n)),t.dom&&ep(v0(n,t.dom)),t.xhr&&Xa(w0(n)),t.fetch&&La(k0(n)),t.history&&xs(C0(n)),t.sentry&&n.on("beforeSendEvent",T0(n))}}},E0=b0;function T0(e){return function(n){R()===e&&mt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:rn(n)},{event:n})}}function v0(e,t){return function(r){if(R()!==e)return;let o,s,i=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>oo&&(v&&m.warn(`\`dom.maxStringLength\` cannot exceed ${oo}, but a value of ${a} was configured. Sentry will use ${oo} instead.`),a=oo),typeof i=="string"&&(i=[i]);try{const u=r.event,d=R0(u)?u.target:u;o=Ue(d,{keyAttrs:i,maxStringLength:a}),s=nd(d)}catch{o="<unknown>"}if(o.length===0)return;const c={category:`ui.${r.name}`,message:o};s&&(c.data={"ui.component_name":s}),mt(c,{event:r.event,name:r.name,global:r.global})}}function I0(e){return function(n){if(R()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:Ho(n.level),message:No(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${No(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;mt(r,{input:n.args,level:n.level})}}function w0(e){return function(n){if(R()!==e)return;const{startTimestamp:r,endTimestamp:o}=n,s=n.xhr[Et];if(!r||!o||!s)return;const{method:i,url:a,status_code:c,body:u}=s,d={method:i,url:a,status_code:c},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:o},f={category:"xhr",data:d,type:"http",level:bf(c)};e.emit("beforeOutgoingRequestBreadcrumb",f,l),mt(f,l)}}function k0(e){return function(n){if(R()!==e)return;const{startTimestamp:r,endTimestamp:o}=n;if(o&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const s=n.fetchData,i={data:n.error,input:n.args,startTimestamp:r,endTimestamp:o},a={category:"fetch",data:s,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,i),mt(a,i)}else{const s=n.response,i={...n.fetchData,status_code:s?.status};n.fetchData.request_body_size,n.fetchData.response_body_size,s?.status;const a={input:n.args,response:s,startTimestamp:r,endTimestamp:o},c={category:"fetch",data:i,type:"http",level:bf(i.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",c,a),mt(c,a)}}}function C0(e){return function(n){if(R()!==e)return;let r=n.from,o=n.to;const s=dn(D.location.href);let i=r?dn(r):void 0;const a=dn(o);i?.path||(i=s),s.protocol===a.protocol&&s.host===a.host&&(o=a.relative),s.protocol===i.protocol&&s.host===i.host&&(r=i.relative),mt({category:"navigation",data:{from:r,to:o}})}}function R0(e){return!!e&&!!e.target}const A0=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],x0="BrowserApiErrors",M0=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:x0,setupOnce(){t.setTimeout&&Ce(D,"setTimeout",Ju),t.setInterval&&Ce(D,"setInterval",Ju),t.requestAnimationFrame&&Ce(D,"requestAnimationFrame",O0),t.XMLHttpRequest&&"XMLHttpRequest"in D&&Ce(XMLHttpRequest.prototype,"send",P0);const n=t.eventTarget;n&&(Array.isArray(n)?n:A0).forEach(o=>L0(o,t))}}},N0=M0;function Ju(e){return function(...t){const n=t[0];return t[0]=Gn(n,{mechanism:{handled:!1,type:`auto.browser.browserapierrors.${It(e)}`}}),e.apply(this,t)}}function O0(e){return function(t){return e.apply(this,[Gn(t,{mechanism:{data:{handler:It(e)},handled:!1,type:"auto.browser.browserapierrors.requestAnimationFrame"}})])}}function P0(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(o=>{o in n&&typeof n[o]=="function"&&Ce(n,o,function(s){const i={mechanism:{data:{handler:It(s)},handled:!1,type:`auto.browser.browserapierrors.xhr.${o}`}},a=sa(s);return a&&(i.mechanism.data.handler=It(a)),Gn(s,i)})}),e.apply(this,t)}}function L0(e,t){const r=D[e]?.prototype;r?.hasOwnProperty?.("addEventListener")&&(Ce(r,"addEventListener",function(o){return function(s,i,a){try{D0(i)&&(i.handleEvent=Gn(i.handleEvent,{mechanism:{data:{handler:It(i),target:e},handled:!1,type:"auto.browser.browserapierrors.handleEvent"}}))}catch{}return t.unregisterOriginalCallbacks&&$0(this,s,i),o.apply(this,[s,Gn(i,{mechanism:{data:{handler:It(i),target:e},handled:!1,type:"auto.browser.browserapierrors.addEventListener"}}),a])}}),Ce(r,"removeEventListener",function(o){return function(s,i,a){try{const c=i.__sentry_wrapped__;c&&o.call(this,s,c,a)}catch{}return o.call(this,s,i,a)}}))}function D0(e){return typeof e.handleEvent=="function"}function $0(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const F0=()=>({name:"BrowserSession",setupOnce(){if(typeof D.document>"u"){v&&m.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}zc({ignoreDuration:!0}),qc(),xs(({from:e,to:t})=>{e!==void 0&&e!==t&&(zc({ignoreDuration:!0}),qc())})}}),B0="GlobalHandlers",U0=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:B0,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(W0(n),Ku("onerror")),t.onunhandledrejection&&(j0(n),Ku("onunhandledrejection"))}}},H0=U0;function W0(e){Yl(t=>{const{stackParser:n,attachStacktrace:r}=ap();if(R()!==e||Df())return;const{msg:o,url:s,line:i,column:a,error:c}=t,u=z0(Cs(n,c||o,void 0,r,!1),s,i,a);u.level="error",Pr(u,{originalException:c,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function j0(e){Xl(t=>{const{stackParser:n,attachStacktrace:r}=ap();if(R()!==e||Df())return;const o=sp(t),s=zt(o)?ip(o):Cs(n,o,void 0,r,!0);s.level="error",Pr(s,{originalException:o,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function sp(e){if(zt(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function ip(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function z0(e,t,n,r){const o=e.exception=e.exception||{},s=o.values=o.values||[],i=s[0]=s[0]||{},a=i.stacktrace=i.stacktrace||{},c=a.frames=a.frames||[],u=r,d=n,l=q0(t)??vn();return c.length===0&&c.push({colno:u,filename:l,function:dt,in_app:!0,lineno:d}),e}function Ku(e){v&&m.log(`Global Handler attached: ${e}`)}function ap(){return R()?.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}function q0(e){if(!(!et(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e}}const G0=()=>({name:"HttpContext",preprocessEvent(e){if(!D.navigator&&!D.location&&!D.document)return;const t=Ha(),n={...t.headers,...e.request?.headers};e.request={...t,...e.request,headers:n}}}),V0="cause",J0=5,K0="LinkedErrors",Y0=(e={})=>{const t=e.limit||J0,n=e.key||V0;return{name:K0,preprocessEvent(r,o,s){const i=s.getOptions();G_(Wa,i.stackParser,n,t,r,o)}}},X0=Y0,Q0="SpotlightBrowser",Z0=(e={})=>{const t=e.sidecarUrl||"http://localhost:8969/stream";return{name:Q0,setup:()=>{v&&m.log("Using Sidecar URL",t)},processEvent:n=>tI(n)?null:n,afterAllSetup:n=>{eI(n,t)}}};function eI(e,t){const n=Ya("fetch");let r=0;e.on("beforeEnvelope",o=>{if(r>3){m.warn("[Spotlight] Disabled Sentry -> Spotlight integration due to too many failed requests:",r);return}n(t,{method:"POST",body:$o(o),headers:{"Content-Type":"application/x-sentry-envelope"},mode:"cors"}).then(s=>{s.status>=200&&s.status<400&&(r=0)},s=>{r++,m.error("Sentry SDK can't connect to Sidecar is it running? See: https://spotlightjs.com/sidecar/npx/",s)})})}const RA=Z0;function tI(e){return!!(e.type==="transaction"&&e.spans&&e.contexts?.trace&&e.contexts.trace.op==="ui.action.click"&&e.spans.some(({description:t})=>t?.includes("#sentry-spotlight")))}function nI(){return rI()?(v&&gt(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function rI(){if(typeof D.window>"u")return!1;const e=D;if(e.nw||!(e.chrome||e.browser)?.runtime?.id)return!1;const n=vn(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(D===D.top&&r.some(s=>n.startsWith(`${s}://`)))}function cp(e){return[F_(),P_(),N0(),E0(),H0(),X0(),ty(),G0(),F0()]}function oI(e={}){const t=!e.skipBrowserExtensionCheck&&nI();let n=e.defaultIntegrations==null?cp():e.defaultIntegrations;const r={...e,enabled:t?!1:e.enabled,stackParser:Nh(e.stackParser||_0),integrations:Bg({integrations:e.integrations,defaultIntegrations:n}),transport:e.transport||rp};return m_(AT,r)}function AA(){}function xA(e){e()}function MA(e={}){const t=D.document,n=t?.head||t?.body;if(!n){v&&m.error("[showReportDialog] Global document not defined");return}const r=z(),s=R()?.getDsn();if(!s){v&&m.error("[showReportDialog] DSN not configured");return}const i={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||Mg()},a=D.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=$g(s,i);const{onLoad:c,onClose:u}=i;if(c&&(a.onload=c),u){const d=l=>{if(l.data==="__sentry_reportdialog_closed__")try{u()}finally{D.removeEventListener("message",d)}};D.addEventListener("message",d)}n.appendChild(a)}const sI=L,iI="ReportingObserver",Yu=new WeakMap,aI=(e={})=>{const t=e.types||["crash","deprecation","intervention"];function n(r){if(Yu.has(R()))for(const o of r)rt(s=>{s.setExtra("url",o.url);const i=`ReportingObserver [${o.type}]`;let a="No details available";if(o.body){const c={};for(const u in o.body)c[u]=o.body[u];if(s.setExtra("body",c),o.type==="crash"){const u=o.body;a=[u.crashId||"",u.reason||""].join(" ").trim()||a}else a=o.body.message||a}Ag(`${i}: ${a}`)})}return{name:iI,setupOnce(){if(!zb())return;new sI.ReportingObserver(n,{buffered:!0,types:t}).observe()},setup(r){Yu.set(r,!0)}}},NA=aI,cI="HttpClient",uI=(e={})=>{const t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:cI,setup(n){_I(n,t),yI(n,t)}}},OA=uI;function lI(e,t,n,r,o){if(lp(e,n.status,n.url)){const s=SI(t,r);let i,a,c,u;fp()&&([i,c]=Xu("Cookie",s),[a,u]=Xu("Set-Cookie",n));const d=dp({url:s.url,method:s.method,status:n.status,requestHeaders:i,responseHeaders:a,requestCookies:c,responseCookies:u,error:o,type:"fetch"});Pr(d)}}function Xu(e,t){const n=pI(t.headers);let r;try{const o=n[e]||n[e.toLowerCase()]||void 0;o&&(r=up(o))}catch{}return[n,r]}function dI(e,t,n,r,o){if(lp(e,t.status,t.responseURL)){let s,i,a;if(fp()){try{const u=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;u&&(i=up(u))}catch{}try{a=hI(t)}catch{}s=r}const c=dp({url:t.responseURL,method:n,status:t.status,requestHeaders:s,responseHeaders:a,responseCookies:i,error:o,type:"xhr"});Pr(c)}}function fI(e){if(e){const t=e["Content-Length"]||e["content-length"];if(t)return parseInt(t,10)}}function up(e){return e.split("; ").reduce((t,n)=>{const[r,o]=n.split("=");return r&&o&&(t[r]=o),t},{})}function pI(e){const t={};return e.forEach((n,r)=>{t[r]=n}),t}function hI(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[o,s]=r.split(": ");return o&&s&&(n[o]=s),n},{}):{}}function mI(e,t){return e.some(n=>typeof n=="string"?t.includes(n):n.test(t))}function gI(e,t){return e.some(n=>typeof n=="number"?n===t:t>=n[0]&&t<=n[1])}function _I(e,t){Ef()&&La(n=>{if(R()!==e)return;const{response:r,args:o,error:s,virtualError:i}=n,[a,c]=o;r&&lI(t,a,r,c,s||i)},!1)}function yI(e,t){"XMLHttpRequest"in L&&Xa(n=>{if(R()!==e)return;const{error:r,virtualError:o}=n,s=n.xhr,i=s[Et];if(!i)return;const{method:a,request_headers:c}=i;try{dI(t,s,a,c,r||o)}catch(u){v&&m.warn("Error while extracting response event form XHR response",u)}})}function lp(e,t,n){return gI(e.failedRequestStatusCodes,t)&&mI(e.failedRequestTargets,n)&&!Qd(n,R())}function dp(e){const t=R(),n=t&&e.error&&e.error instanceof Error?e.error.stack:void 0,r=n&&t?t.getOptions().stackParser(n,0,1):void 0,o=`HTTP Client Error with status code: ${e.status}`,s={message:o,exception:{values:[{type:"Error",value:o,stacktrace:r?{frames:r}:void 0}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:fI(e.responseHeaders)}}};return kt(s,{type:`auto.http.client.${e.type}`,handled:!1}),s}function SI(e,t){return!t&&e instanceof Request||e instanceof Request&&e.bodyUsed?e:new Request(e,t)}function fp(){const e=R();return e?!!e.getOptions().sendDefaultPii:!1}const ai=L,bI=7,EI="ContextLines",TI=(e={})=>{const t=e.frameContextLines!=null?e.frameContextLines:bI;return{name:EI,processEvent(n){return vI(n,t)}}},PA=TI;function vI(e,t){const n=ai.document,r=ai.location&&Xd(ai.location.href);if(!n||!r)return e;const o=e.exception?.values;if(!o?.length)return e;const s=n.documentElement.innerHTML;if(!s)return e;const i=["<!DOCTYPE html>","<html>",...s.split(`
`),"</html>"];return o.forEach(a=>{const c=a.stacktrace;c?.frames&&(c.frames=c.frames.map(u=>II(u,i,r,t)))}),e}function II(e,t,n,r){return e.filename!==n||!e.lineno||!t.length||qh(t,e,r),e}const wI="GraphQLClient",kI=e=>({name:wI,setup(t){CI(t,e),RI(t,e)}});function CI(e,t){e.on("beforeOutgoingRequestSpan",(n,r)=>{const s=W(n).data||{};if(!(s[Ie]==="http.client"))return;const c=s[im]||s["http.url"],u=s[sm]||s["http.method"];if(!et(c)||!et(u))return;const{endpoints:d}=t,l=tt(c,d),f=hp(r);if(l&&f){const p=mp(f);if(p){const h=pp(p);n.updateName(`${u} ${c} (${h})`),n.setAttribute("graphql.document",f)}}})}function RI(e,t){e.on("beforeOutgoingRequestBreadcrumb",(n,r)=>{const{category:o,type:s,data:i}=n;if(s==="http"&&(o==="fetch"||o==="xhr")){const d=i?.url,{endpoints:l}=t,f=tt(d,l),p=hp(r);if(f&&i&&p){const h=mp(p);if(!i.graphql&&h){const g=pp(h);i["graphql.document"]=h.query,i["graphql.operation"]=g}}}})}function pp(e){const{query:t,operationName:n}=e,{operationName:r=n,operationType:o}=AI(t);return r?`${o} ${r}`:`${o}`}function hp(e){const t="xhr"in e;let n;if(t){const r=e.xhr[Et];n=r&&Xo(r.body)[0]}else{const r=Qa(e.input);n=Xo(r)[0]}return n}function AI(e){const t=/^(?:\s*)(query|mutation|subscription)(?:\s*)(\w+)(?:\s*)[{(]/,n=/^(?:\s*)(query|mutation|subscription)(?:\s*)[{(]/,r=e.match(t);if(r)return{operationType:r[1],operationName:r[2]};const o=e.match(n);return o?{operationType:o[1],operationName:void 0}:{operationType:void 0,operationName:void 0}}function mp(e){let t;try{const n=JSON.parse(e);!!n.query&&(t=n)}finally{return t}}const LA=kI,de=L,Za="sentryReplaySession",xI="replay_event",ec="Unable to send Replay",MI=3e5,NI=9e5,OI=5e3,PI=5500,LI=6e4,DI=5e3,$I=3,Qu=15e4,so=5e3,FI=3e3,BI=300,tc=2e7,UI=4999,HI=5e4,Zu=36e5;var WI=Object.defineProperty,jI=(e,t,n)=>t in e?WI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,el=(e,t,n)=>jI(e,typeof t!="symbol"?t+"":t,n),Ee=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Ee||{});function zI(e){return e.nodeType===e.ELEMENT_NODE}function gr(e){return e?.host?.shadowRoot===e}function _r(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function qI(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function GI(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Qo(e){try{const t=e.rules||e.cssRules;return t?qI(Array.from(t,gp).join("")):null}catch{return null}}function VI(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,o=r[n],s=r.getPropertyPriority(o);t+=`${o}:${r.getPropertyValue(o)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}function gp(e){let t;if(KI(e))try{t=Qo(e.styleSheet)||GI(e)}catch{}else if(YI(e)){let n=e.cssText;const r=e.selectorText.includes(":"),o=typeof e.style.all=="string"&&e.style.all;if(o&&(n=VI(e)),r&&(n=JI(n)),r||o)return n}return t||e.cssText}function JI(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function KI(e){return"styleSheet"in e}function YI(e){return"selectorText"in e}let _p=class{constructor(){el(this,"idNodeMap",new Map),el(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}};function XI(){return new _p}function Ms({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function Ir({isMasked:e,element:t,value:n,maskInputFn:r}){let o=n||"";return e?(r&&(o=r(o,t)),"*".repeat(o.length)):o}function Jn(e){return e.toLowerCase()}function ji(e){return e.toUpperCase()}const tl="__rrweb_original__";function QI(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let o=0;o<e.height;o+=n){const s=t.getImageData,i=tl in s?s[tl]:s;if(new Uint32Array(i.call(t,r,o,Math.min(n,e.width-r),Math.min(n,e.height-o)).data.buffer).some(c=>c!==0))return!1}return!0}function nc(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Jn(t):null}function Zo(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function yp(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i;return n.pathname.match(r)?.[1]??null}const nl={};function Sp(e){const t=nl[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);const s=o.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(o)}catch{}return nl[e]=r.bind(window)}function zi(...e){return Sp("setTimeout")(...e)}function bp(...e){return Sp("clearTimeout")(...e)}function Ep(e){try{return e.contentDocument}catch{}}let ZI=1;const ew=new RegExp("[^a-z0-9-_:]"),wr=-2;function rc(){return ZI++}function tw(e){if(e instanceof HTMLFormElement)return"form";const t=Jn(e.tagName);return ew.test(t)?"div":t}function nw(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Rn,rl;const rw=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,ow=/^(?:[a-z+]+:)?\/\//i,sw=/^www\..*/i,iw=/^(data:)([^,]*),(.*)/i;function aw(e,t){if(!e||t.size===0)return e;try{const n=e.split(";"),r=[];for(let o of n){if(o=o.trim(),!o)continue;const s=o.indexOf(":");if(s===-1){r.push(o);continue}const i=o.slice(0,s).trim();t.has(i)||r.push(o)}return r.join("; ")+(r.length>0&&e.endsWith(";")?";":"")}catch(n){return console.warn("Error filtering CSS properties:",n),e}}function es(e,t){return(e||"").replace(rw,(n,r,o,s,i,a)=>{const c=o||i||a,u=r||s||"";if(!c)return n;if(ow.test(c)||sw.test(c))return`url(${u}${c}${u})`;if(iw.test(c))return`url(${u}${c}${u})`;if(c[0]==="/")return`url(${u}${nw(t)+c}${u})`;const d=t.split("/"),l=c.split("/");d.pop();for(const f of l)f!=="."&&(f===".."?d.pop():d.push(f));return`url(${u}${d.join("/")}${u})`})}const cw=/^[^ \t\n\r\u000c]+/,uw=/^[, \t\n\r\u000c]+/;function lw(e,t){if(t.trim()==="")return t;let n=0;function r(s){let i;const a=s.exec(t.substring(n));return a?(i=a[0],n+=i.length,i):""}const o=[];for(;r(uw),!(n>=t.length);){let s=r(cw);if(s.slice(-1)===",")s=Nn(e,s.substring(0,s.length-1)),o.push(s);else{let i="";s=Nn(e,s);let a=!1;for(;;){const c=t.charAt(n);if(c===""){o.push((s+i).trim());break}else if(a)c===")"&&(a=!1);else if(c===","){n+=1,o.push((s+i).trim());break}else c==="("&&(a=!0);i+=c,n+=1}}}return o.join(", ")}const ol=new WeakMap;function Nn(e,t){return!t||t.trim()===""?t:Ns(e,t)}function dw(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function Ns(e,t){let n=ol.get(e);if(n||(n=e.createElement("a"),ol.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Tp(e,t,n,r,o,s,i){if(!r)return r;if(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#"))return Nn(e,r);if(n==="xlink:href"&&r[0]!=="#")return Nn(e,r);if(n==="background"&&(t==="table"||t==="td"||t==="th"))return Nn(e,r);if(n==="srcset")return lw(e,r);if(n==="style"){let a=es(r,Ns(e));return i&&i.size>0&&(a=aw(a,i)),a}else if(t==="object"&&n==="data")return Nn(e,r);return typeof s=="function"?s(n,r,o):r}function vp(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function fw(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let o=e.classList.length;o--;){const s=e.classList[o];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function pw(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function an(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:an(e.parentNode,t,n,r+1)}function On(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(pw(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Kn(e,t,n,r,o,s){try{const i=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(i===null)return!1;if(i.tagName==="INPUT"){const u=i.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(u))return!0}let a=-1,c=-1;if(s){if(c=an(i,On(r,o)),c<0)return!0;a=an(i,On(t,n),c>=0?c:1/0)}else{if(a=an(i,On(t,n)),a<0)return!1;c=an(i,On(r,o),a>=0?a:1/0)}return a>=0?c>=0?a<=c:!0:c>=0?!1:!!s}catch{}return!!s}function hw(e,t,n){const r=e.contentWindow;if(!r)return;let o=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){const a=zi(()=>{o||(t(),o=!0)},n);e.addEventListener("load",()=>{bp(a),o=!0,t()});return}const i="about:blank";if(r.location.href!==i||e.src===i||e.src==="")return zi(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function mw(e,t,n){let r=!1,o;try{o=e.sheet}catch{return}if(o)return;const s=zi(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{bp(s),r=!0,t()})}function gw(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:g,maskInputFn:_,dataURLOptions:y={},inlineImages:b,recordCanvas:N,keepIframeSrcFn:x,newlyAddedElement:H=!1,ignoreCSSAttributes:O}=t,S=_w(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Ee.Document,childNodes:[],compatMode:e.compatMode}:{type:Ee.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Ee.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:S};case e.ELEMENT_NODE:return Sw(e,{doc:n,blockClass:o,blockSelector:s,unblockSelector:i,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:_,dataURLOptions:y,inlineImages:b,recordCanvas:N,keepIframeSrcFn:x,newlyAddedElement:H,rootId:S,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,ignoreCSSAttributes:O});case e.TEXT_NODE:return yw(e,{doc:n,maskAllText:a,maskTextClass:u,unmaskTextClass:d,maskTextSelector:l,unmaskTextSelector:f,maskTextFn:g,maskInputOptions:h,maskInputFn:_,rootId:S});case e.CDATA_SECTION_NODE:return{type:Ee.CDATA,textContent:"",rootId:S};case e.COMMENT_NODE:return{type:Ee.Comment,textContent:e.textContent||"",rootId:S};default:return!1}}function _w(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function yw(e,t){const{maskAllText:n,maskTextClass:r,unmaskTextClass:o,maskTextSelector:s,unmaskTextSelector:i,maskTextFn:a,maskInputOptions:c,maskInputFn:u,rootId:d}=t,l=e.parentNode&&e.parentNode.tagName;let f=e.textContent;const p=l==="STYLE"?!0:void 0,h=l==="SCRIPT"?!0:void 0,g=l==="TEXTAREA"?!0:void 0;if(p&&f){try{e.nextSibling||e.previousSibling||e.parentNode.sheet?.cssRules&&(f=Qo(e.parentNode.sheet))}catch(y){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${y}`,e)}f=es(f,Ns(t.doc))}h&&(f="SCRIPT_PLACEHOLDER");const _=Kn(e,r,s,o,i,n);if(!p&&!h&&!g&&f&&_&&(f=a?a(f,e.parentElement):f.replace(/[\S]/g,"*")),g&&f&&(c.textarea||_)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*")),l==="OPTION"&&f){const y=Ms({type:null,tagName:l,maskInputOptions:c});f=Ir({isMasked:Kn(e,r,s,o,i,y),element:e,value:f,maskInputFn:u})}return{type:Ee.Text,textContent:f||"",isStyle:p,rootId:d}}function Sw(e,t){const{doc:n,blockClass:r,blockSelector:o,unblockSelector:s,inlineStylesheet:i,maskInputOptions:a={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:d={},inlineImages:l,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:g,maskTextClass:_,unmaskTextClass:y,maskTextSelector:b,unmaskTextSelector:N,ignoreCSSAttributes:x}=t,H=fw(e,r,o,s),O=tw(e);let S={};const C=e.attributes.length;for(let E=0;E<C;E++){const A=e.attributes[E];A.name&&!vp(O,A.name,A.value)&&(S[A.name]=Tp(n,O,Jn(A.name),A.value,e,c,x))}if(O==="link"&&i){const E=Array.from(n.styleSheets).find(k=>k.href===e.href);let A=null;E&&(A=Qo(E)),A&&(S.rel=null,S.href=null,S.crossorigin=null,S._cssText=es(A,E.href))}if(O==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const E=Qo(e.sheet);E&&(S._cssText=es(E,Ns(n)))}if(O==="input"||O==="textarea"||O==="select"||O==="option"){const E=e,A=nc(E),k=Zo(E,ji(O),A),M=E.checked;if(A!=="submit"&&A!=="button"&&k){const P=Kn(E,_,b,y,N,Ms({type:A,tagName:ji(O),maskInputOptions:a}));S.value=Ir({isMasked:P,element:E,value:k,maskInputFn:u})}M&&(S.checked=M)}if(O==="option"&&(e.selected&&!a.select?S.selected=!0:delete S.selected),O==="canvas"&&f){if(e.__context==="2d")QI(e)||(S.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const E=e.toDataURL(d.type,d.quality),A=n.createElement("canvas");A.width=e.width,A.height=e.height;const k=A.toDataURL(d.type,d.quality);E!==k&&(S.rr_dataURL=E)}}if(O==="img"&&l){Rn||(Rn=n.createElement("canvas"),rl=Rn.getContext("2d"));const E=e,A=E.currentSrc||E.getAttribute("src")||"<unknown-src>",k=E.crossOrigin,M=()=>{E.removeEventListener("load",M);try{Rn.width=E.naturalWidth,Rn.height=E.naturalHeight,rl.drawImage(E,0,0),S.rr_dataURL=Rn.toDataURL(d.type,d.quality)}catch(P){if(E.crossOrigin!=="anonymous"){E.crossOrigin="anonymous",E.complete&&E.naturalWidth!==0?M():E.addEventListener("load",M);return}else console.warn(`Cannot inline img src=${A}! Error: ${P}`)}E.crossOrigin==="anonymous"&&(k?S.crossOrigin=k:E.removeAttribute("crossorigin"))};E.complete&&E.naturalWidth!==0?M():E.addEventListener("load",M)}if((O==="audio"||O==="video")&&(S.rr_mediaState=e.paused?"paused":"played",S.rr_mediaCurrentTime=e.currentTime),h||(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop)),H){const{width:E,height:A}=e.getBoundingClientRect();S={class:S.class,rr_width:`${E}px`,rr_height:`${A}px`}}O==="iframe"&&!p(S.src)&&(!H&&!Ep(e)&&(S.rr_src=S.src),delete S.src);let $;try{customElements.get(O)&&($=!0)}catch{}return{type:Ee.Element,tagName:O,attributes:S,childNodes:[],isSVG:dw(e)||void 0,needBlock:H,rootId:g,isCustom:$}}function le(e){return e==null?"":e.toLowerCase()}function bw(e,t){if(t.comment&&e.type===Ee.Comment)return!0;if(e.type===Ee.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&yp(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(le(e.attributes.name).match(/^msapplication-tile(image|color)$/)||le(e.attributes.name)==="application-name"||le(e.attributes.rel)==="icon"||le(e.attributes.rel)==="apple-touch-icon"||le(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&le(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(le(e.attributes.property).match(/^(og|twitter|fb):/)||le(e.attributes.name).match(/^(og|twitter):/)||le(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(le(e.attributes.name)==="robots"||le(e.attributes.name)==="googlebot"||le(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(le(e.attributes.name)==="author"||le(e.attributes.name)==="generator"||le(e.attributes.name)==="framework"||le(e.attributes.name)==="publisher"||le(e.attributes.name)==="progid"||le(e.attributes.property).match(/^article:/)||le(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(le(e.attributes.name)==="google-site-verification"||le(e.attributes.name)==="yandex-verification"||le(e.attributes.name)==="csrf-token"||le(e.attributes.name)==="p:domain_verify"||le(e.attributes.name)==="verify-v1"||le(e.attributes.name)==="verification"||le(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function Pn(e,t){const{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:b,dataURLOptions:N={},inlineImages:x=!1,recordCanvas:H=!1,onSerialize:O,onIframeLoad:S,iframeLoadTimeout:C=5e3,onBlockedImageLoad:$,onStylesheetLoad:E,stylesheetLoadTimeout:A=5e3,keepIframeSrcFn:k=()=>!1,newlyAddedElement:M=!1,ignoreCSSAttributes:P}=t;let{preserveWhiteSpace:Y=!0}=t;const K=gw(e,{doc:n,mirror:r,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,dataURLOptions:N,inlineImages:x,recordCanvas:H,keepIframeSrcFn:k,newlyAddedElement:M,ignoreCSSAttributes:P});if(!K)return console.warn(e,"not serialized"),null;let oe;r.hasNode(e)?oe=r.getId(e):bw(K,b)||!Y&&K.type===Ee.Text&&!K.isStyle&&!K.textContent.replace(/^\s+|\s+$/gm,"").length?oe=wr:oe=rc();const T=Object.assign(K,{id:oe});if(r.add(e,T),oe===wr)return null;O&&O(e);let q=!f;if(T.type===Ee.Element){q=q&&!T.needBlock;const I=e.shadowRoot;I&&_r(I)&&(T.isShadowHost=!0)}if((T.type===Ee.Document||T.type===Ee.Element)&&q){b.headWhitespace&&T.type===Ee.Element&&T.tagName==="head"&&(Y=!1);const I={doc:n,mirror:r,blockClass:o,blockSelector:s,maskAllText:a,unblockSelector:i,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:b,dataURLOptions:N,inlineImages:x,recordCanvas:H,preserveWhiteSpace:Y,onSerialize:O,onIframeLoad:S,iframeLoadTimeout:C,onBlockedImageLoad:$,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:k,ignoreCSSAttributes:P},G=e.childNodes?Array.from(e.childNodes):[];for(const se of G){const ne=Pn(se,I);ne&&T.childNodes.push(ne)}if(zI(e)&&e.shadowRoot)for(const se of Array.from(e.shadowRoot.childNodes)){const ne=Pn(se,I);ne&&(_r(e.shadowRoot)&&(ne.isShadow=!0),T.childNodes.push(ne))}}if(e.parentNode&&gr(e.parentNode)&&_r(e.parentNode)&&(T.isShadow=!0),T.type===Ee.Element&&T.tagName==="iframe"&&!T.needBlock&&hw(e,()=>{const I=Ep(e);if(I&&S){const G=Pn(I,{doc:I,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:b,dataURLOptions:N,inlineImages:x,recordCanvas:H,preserveWhiteSpace:Y,onSerialize:O,onIframeLoad:S,iframeLoadTimeout:C,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:k,ignoreCSSAttributes:P});G&&S(e,G)}},C),T.type===Ee.Element&&T.tagName==="img"&&!e.complete&&T.needBlock){const I=e,G=()=>{if(I.isConnected&&!I.complete&&$)try{const se=I.getBoundingClientRect();se.width>0&&se.height>0&&$(I,T,se)}catch{}I.removeEventListener("load",G)};I.isConnected&&I.addEventListener("load",G)}return T.type===Ee.Element&&T.tagName==="link"&&typeof T.attributes.rel=="string"&&(T.attributes.rel==="stylesheet"||T.attributes.rel==="preload"&&typeof T.attributes.href=="string"&&yp(T.attributes.href)==="css")&&mw(e,()=>{if(E){const I=Pn(e,{doc:n,mirror:r,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:d,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:b,dataURLOptions:N,inlineImages:x,recordCanvas:H,preserveWhiteSpace:Y,onSerialize:O,onIframeLoad:S,iframeLoadTimeout:C,onStylesheetLoad:E,stylesheetLoadTimeout:A,keepIframeSrcFn:k,ignoreCSSAttributes:P});I&&E(e,I)}},A),T.type===Ee.Element&&delete T.needBlock,T}function Ew(e,t){const{mirror:n=new _p,blockClass:r="rr-block",blockSelector:o=null,unblockSelector:s=null,maskAllText:i=!1,maskTextClass:a="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:d=null,inlineStylesheet:l=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOM:b=!1,dataURLOptions:N,preserveWhiteSpace:x,onSerialize:H,onIframeLoad:O,iframeLoadTimeout:S,onBlockedImageLoad:C,onStylesheetLoad:$,stylesheetLoadTimeout:E,keepIframeSrcFn:A=()=>!1,ignoreCSSAttributes:k=new Set([])}=t||{};return Pn(e,{doc:e,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,maskAllText:i,maskTextClass:a,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:l,maskInputOptions:h===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:h===!1?{}:h,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:b===!0||b==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:b==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:b===!1?{}:b,dataURLOptions:N,inlineImages:f,recordCanvas:p,preserveWhiteSpace:x,onSerialize:H,onIframeLoad:O,iframeLoadTimeout:S,onBlockedImageLoad:C,onStylesheetLoad:$,stylesheetLoadTimeout:E,keepIframeSrcFn:A,newlyAddedElement:!1,ignoreCSSAttributes:k})}function Oe(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const An=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let sl={map:{},getId(){return console.error(An),-1},getNode(){return console.error(An),null},removeNodeFromMap(){console.error(An)},has(){return console.error(An),!1},reset(){console.error(An)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(sl=new Proxy(sl,{get(e,t,n){return t==="map"&&console.error(An),Reflect.get(e,t,n)}}));function kr(e,t,n={}){let r=null,o=0;return function(...s){const i=Date.now();!o&&n.leading===!1&&(o=i);const a=t-(i-o),c=this;a<=0||a>t?(r&&(Rw(r),r=null),o=i,e.apply(c,s)):!r&&n.trailing!==!1&&(r=Os(()=>{o=n.leading===!1?0:Date.now(),r=null,e.apply(c,s)},a))}}function Ip(e,t,n,r,o=window){const s=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(i){Os(()=>{n.set.call(this,i)},0),s&&s.set&&s.set.call(this,i)}}),()=>Ip(e,t,s||{},!0)}function oc(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}let ts=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(ts=()=>new Date().getTime());function wp(e){const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:t?.documentElement.scrollLeft||t?.body?.parentElement?.scrollLeft||t?.body?.scrollLeft||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:t?.documentElement.scrollTop||t?.body?.parentElement?.scrollTop||t?.body?.scrollTop||0}}function kp(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Cp(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Rp(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function ze(e,t,n,r,o){if(!e)return!1;const s=Rp(e);if(!s)return!1;const i=On(t,n);if(!o){const u=r&&s.matches(r);return i(s)&&!u}const a=an(s,i);let c=-1;return a<0?!1:(r&&(c=an(s,On(null,r))),a>-1&&c<0?!0:a<c)}function Tw(e,t){return t.getId(e)!==-1}function ci(e,t){return t.getId(e)===wr}function Ap(e,t){if(gr(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Ap(e.parentNode,t):!0:!0}function qi(e){return!!e.changedTouches}function vw(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function xp(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Mp(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Gi(e){return!!e?.shadowRoot}class Iw{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function Np(e){let t=null;return e.getRootNode?.()?.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function ww(e){let t=e,n;for(;n=Np(t);)t=n;return t}function kw(e){const t=e.ownerDocument;if(!t)return!1;const n=ww(e);return t.contains(n)}function Op(e){const t=e.ownerDocument;return t?t.contains(e)||kw(e):!1}const il={};function sc(e){const t=il[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);const s=o.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(o)}catch{}return il[e]=r.bind(window)}function Cw(...e){return sc("requestAnimationFrame")(...e)}function Os(...e){return sc("setTimeout")(...e)}function Rw(...e){return sc("clearTimeout")(...e)}var V=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(V||{}),U=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(U||{}),Ne=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(Ne||{}),St=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(St||{}),xn=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(xn||{});function ic(e){try{return e.contentDocument}catch{}}function Aw(e){try{return e.contentWindow}catch{}}function al(e){return"__ln"in e}class xw{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=n?.next||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&al(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&al(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const cl=(e,t)=>`${e}@${t}`;class Mw{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new xw,o=c=>{let u=c,d=wr;for(;d===wr;)u=u&&u.nextSibling,d=u&&this.mirror.getId(u);return d},s=c=>{if(!c.parentNode||!Op(c))return;const u=gr(c.parentNode)?this.mirror.getId(Np(c)):this.mirror.getId(c.parentNode),d=o(c);if(u===-1||d===-1)return r.addNode(c);const l=Pn(c,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:f=>{xp(f,this.mirror)&&!ze(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(f),Mp(f,this.mirror)&&this.stylesheetManager.trackLinkElement(f),Gi(c)&&this.shadowDomManager.addShadowRoot(c.shadowRoot,this.doc)},onIframeLoad:(f,p)=>{ze(f,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(f,p),f.contentWindow&&this.canvasManager.addWindow(f.contentWindow),this.shadowDomManager.observeAttachShadow(f))},onStylesheetLoad:(f,p)=>{this.stylesheetManager.attachLinkElement(f,p)},onBlockedImageLoad:(f,p,{width:h,height:g})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:p.id,attributes:{style:{width:`${h}px`,height:`${g}px`}}}]})},ignoreCSSAttributes:this.ignoreCSSAttributes});l&&(t.push({parentId:u,nextId:d,node:l}),n.add(l.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const c of this.movedSet)ul(this.removes,c,this.mirror)&&!this.movedSet.has(c.parentNode)||s(c);for(const c of this.addedSet)!ll(this.droppedSet,c)&&!ul(this.removes,c,this.mirror)||ll(this.movedSet,c)?s(c):this.droppedSet.add(c);let i=null;for(;r.length;){let c=null;if(i){const u=this.mirror.getId(i.value.parentNode),d=o(i.value);u!==-1&&d!==-1&&(c=i)}if(!c){let u=r.tail;for(;u;){const d=u;if(u=u.previous,d){const l=this.mirror.getId(d.value.parentNode);if(o(d.value)===-1)continue;if(l!==-1){c=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const h=p.parentNode.host;if(this.mirror.getId(h)!==-1){c=d;break}}}}}}if(!c){for(;r.head;)r.removeNode(r.head.value);break}i=c.previous,r.removeNode(c.value),s(c.value)}const a={texts:this.texts.map(c=>({id:this.mirror.getId(c.node),value:c.value})).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),attributes:this.attributes.map(c=>{const{attributes:u}=c;if(typeof u.style=="string"){const d=JSON.stringify(c.styleDiff),l=JSON.stringify(c._unchangedStyles);d.length<u.style.length&&(d+l).split("var(").length===u.style.split("var(").length&&(u.style=c.styleDiff)}return{id:this.mirror.getId(c.node),attributes:u}}).filter(c=>!n.has(c.id)).filter(c=>this.mirror.has(c.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!ci(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Kn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Rp(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,o=t.target.getAttribute(r);if(r==="value"){const i=nc(n),a=n.tagName;o=Zo(n,a,i);const c=Ms({maskInputOptions:this.maskInputOptions,tagName:a,type:i}),u=Kn(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,c);o=Ir({isMasked:u,element:n,value:o,maskInputFn:this.maskInputFn})}if(ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||o===t.oldValue)return;let s=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(o))if(!ic(n))r="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!vp(n.tagName,r)&&(s.attributes[r]=Tp(this.doc,Jn(n.tagName),Jn(r),o,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const i=this.unattachedDoc.createElement("span");t.oldValue&&i.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const c=n.style.getPropertyValue(a),u=n.style.getPropertyPriority(a);c!==i.style.getPropertyValue(a)||u!==i.style.getPropertyPriority(a)?u===""?s.styleDiff[a]=c:s.styleDiff[a]=[c,u]:s._unchangedStyles[a]=[c,u]}for(const a of Array.from(i.style))n.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),o=gr(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);ze(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||ci(n,this.mirror)||!Tw(n,this.mirror)||(this.addedSet.has(n)?(Vi(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Ap(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[cl(r,o)]?Vi(this.movedSet,n):this.removes.push({parentId:o,id:r,isShadow:gr(t.target)&&_r(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(ci(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[cl(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);ze(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),Gi(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager","ignoreCSSAttributes"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Vi(e,t){e.delete(t),t.childNodes?.forEach(n=>Vi(e,n))}function ul(e,t,n){return e.length===0?!1:Nw(e,t,n)}function Nw(e,t,n){let r=t.parentNode;for(;r;){const o=n.getId(r);if(e.some(s=>s.id===o))return!0;r=r.parentNode}return!1}function ll(e,t){return e.size===0?!1:Pp(e,t)}function Pp(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:Pp(e,n):!1}let yr;function Ow(e){yr=e}function Pw(){yr=void 0}const ee=e=>yr?(...n)=>{try{return e(...n)}catch(r){if(yr&&yr(r)===!0)return()=>{};throw r}}:e,Ln=[];function qr(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function Lp(e,t){const n=new Mw;Ln.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const o=window?.Zone?.__symbol__?.("MutationObserver");o&&window[o]&&(r=window[o]);const s=new r(ee(i=>{e.onMutation&&e.onMutation(i)===!1||n.processMutations.bind(n)(i)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function Lw({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const o=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let i=[],a;const c=kr(ee(l=>{const f=Date.now()-a;e(i.map(p=>(p.timeOffset-=f,p)),l),i=[],a=null}),s),u=ee(kr(ee(l=>{const f=qr(l),{clientX:p,clientY:h}=qi(l)?l.changedTouches[0]:l;a||(a=ts()),i.push({x:p,y:h,id:r.getId(f),timeOffset:ts()-a}),c(typeof DragEvent<"u"&&l instanceof DragEvent?U.Drag:l instanceof MouseEvent?U.MouseMove:U.TouchMove)}),o,{trailing:!1})),d=[Oe("mousemove",u,n),Oe("touchmove",u,n),Oe("drag",u,n)];return ee(()=>{d.forEach(l=>l())})}function Dw({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,sampling:i}){if(i.mouseInteraction===!1)return()=>{};const a=i.mouseInteraction===!0||i.mouseInteraction===void 0?{}:i.mouseInteraction,c=[];let u=null;const d=l=>f=>{const p=qr(f);if(ze(p,r,o,s,!0))return;let h=null,g=l;if("pointerType"in f){switch(f.pointerType){case"mouse":h=St.Mouse;break;case"touch":h=St.Touch;break;case"pen":h=St.Pen;break}h===St.Touch?Ne[l]===Ne.MouseDown?g="TouchStart":Ne[l]===Ne.MouseUp&&(g="TouchEnd"):St.Pen}else qi(f)&&(h=St.Touch);h!==null?(u=h,(g.startsWith("Touch")&&h===St.Touch||g.startsWith("Mouse")&&h===St.Mouse)&&(h=null)):Ne[l]===Ne.Click&&(h=u,u=null);const _=qi(f)?f.changedTouches[0]:f;if(!_)return;const y=n.getId(p),{clientX:b,clientY:N}=_;ee(e)({type:Ne[g],id:y,x:b,y:N,...h!==null&&{pointerType:h}})};return Object.keys(Ne).filter(l=>Number.isNaN(Number(l))&&!l.endsWith("_Departed")&&a[l]!==!1).forEach(l=>{let f=Jn(l);const p=d(l);if(window.PointerEvent)switch(Ne[l]){case Ne.MouseDown:case Ne.MouseUp:f=f.replace("mouse","pointer");break;case Ne.TouchStart:case Ne.TouchEnd:return}c.push(Oe(f,p,t))}),ee(()=>{c.forEach(l=>l())})}function Dp({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,sampling:i}){const a=ee(kr(ee(c=>{const u=qr(c);if(!u||ze(u,r,o,s,!0))return;const d=n.getId(u);if(u===t&&t.defaultView){const l=wp(t.defaultView);e({id:d,x:l.left,y:l.top})}else e({id:d,x:u.scrollLeft,y:u.scrollTop})}),i.scroll||100));return Oe("scroll",a,t)}function $w({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const o=ee(kr(ee(()=>{const s=kp(),i=Cp();(n!==s||r!==i)&&(e({width:Number(i),height:Number(s)}),n=s,r=i)}),200));return Oe("resize",o,t)}const Fw=["INPUT","TEXTAREA","SELECT"],dl=new WeakMap;function Bw({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,ignoreClass:i,ignoreSelector:a,maskInputOptions:c,maskInputFn:u,sampling:d,userTriggeredOnInput:l,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:g}){function _(S){let C=qr(S);const $=S.isTrusted,E=C&&ji(C.tagName);if(E==="OPTION"&&(C=C.parentElement),!C||!E||Fw.indexOf(E)<0||ze(C,r,o,s,!0))return;const A=C;if(A.classList.contains(i)||a&&A.matches(a))return;const k=nc(C);let M=Zo(A,E,k),P=!1;const Y=Ms({maskInputOptions:c,tagName:E,type:k}),K=Kn(C,f,h,p,g,Y);(k==="radio"||k==="checkbox")&&(P=C.checked),M=Ir({isMasked:K,element:C,value:M,maskInputFn:u}),y(C,l?{text:M,isChecked:P,userTriggered:$}:{text:M,isChecked:P});const oe=C.name;k==="radio"&&oe&&P&&t.querySelectorAll(`input[type="radio"][name="${oe}"]`).forEach(T=>{if(T!==C){const q=Ir({isMasked:K,element:T,value:Zo(T,E,k),maskInputFn:u});y(T,l?{text:q,isChecked:!P,userTriggered:!1}:{text:q,isChecked:!P})}})}function y(S,C){const $=dl.get(S);if(!$||$.text!==C.text||$.isChecked!==C.isChecked){dl.set(S,C);const E=n.getId(S);ee(e)({...C,id:E})}}const N=(d.input==="last"?["change"]:["input","change"]).map(S=>Oe(S,ee(_),t)),x=t.defaultView;if(!x)return()=>{N.forEach(S=>S())};const H=x.Object.getOwnPropertyDescriptor(x.HTMLInputElement.prototype,"value"),O=[[x.HTMLInputElement.prototype,"value"],[x.HTMLInputElement.prototype,"checked"],[x.HTMLSelectElement.prototype,"value"],[x.HTMLTextAreaElement.prototype,"value"],[x.HTMLSelectElement.prototype,"selectedIndex"],[x.HTMLOptionElement.prototype,"selected"]];return H&&H.set&&N.push(...O.map(S=>Ip(S[0],S[1],{set(){ee(_)({target:this,isTrusted:!1})}},!1,x))),ee(()=>{N.forEach(S=>S())})}function ns(e){const t=[];function n(r,o){if(io("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||io("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||io("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||io("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const i=Array.from(r.parentRule.cssRules).indexOf(r);o.unshift(i)}else if(r.parentStyleSheet){const i=Array.from(r.parentStyleSheet.cssRules).indexOf(r);o.unshift(i)}return o}return n(e,t)}function Lt(e,t,n){let r,o;return e?(e.ownerNode?r=t.getId(e.ownerNode):o=n.getId(e),{styleId:o,id:r}):{}}function Uw({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const o=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(o,{apply:ee((d,l,f)=>{const[p,h]=f,{id:g,styleId:_}=Lt(l,t,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&e({id:g,styleId:_,adds:[{rule:p,index:h}]}),d.apply(l,f)})});const s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:ee((d,l,f)=>{const[p]=f,{id:h,styleId:g}=Lt(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,removes:[{index:p}]}),d.apply(l,f)})});let i;r.CSSStyleSheet.prototype.replace&&(i=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(i,{apply:ee((d,l,f)=>{const[p]=f,{id:h,styleId:g}=Lt(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replace:p}),d.apply(l,f)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:ee((d,l,f)=>{const[p]=f,{id:h,styleId:g}=Lt(l,t,n.styleMirror);return(h&&h!==-1||g&&g!==-1)&&e({id:h,styleId:g,replaceSync:p}),d.apply(l,f)})}));const c={};ao("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(ao("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),ao("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),ao("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));const u={};return Object.entries(c).forEach(([d,l])=>{u[d]={insertRule:l.prototype.insertRule,deleteRule:l.prototype.deleteRule},l.prototype.insertRule=new Proxy(u[d].insertRule,{apply:ee((f,p,h)=>{const[g,_]=h,{id:y,styleId:b}=Lt(p.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||b&&b!==-1)&&e({id:y,styleId:b,adds:[{rule:g,index:[...ns(p),_||0]}]}),f.apply(p,h)})}),l.prototype.deleteRule=new Proxy(u[d].deleteRule,{apply:ee((f,p,h)=>{const[g]=h,{id:_,styleId:y}=Lt(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||y&&y!==-1)&&e({id:_,styleId:y,removes:[{index:[...ns(p),g]}]}),f.apply(p,h)})})}),ee(()=>{r.CSSStyleSheet.prototype.insertRule=o,r.CSSStyleSheet.prototype.deleteRule=s,i&&(r.CSSStyleSheet.prototype.replace=i),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(c).forEach(([d,l])=>{l.prototype.insertRule=u[d].insertRule,l.prototype.deleteRule=u[d].deleteRule})})}function $p({mirror:e,stylesheetManager:t},n){let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const o=n.nodeName==="#document"?n.defaultView?.Document:n.ownerDocument?.defaultView?.ShadowRoot,s=o?.prototype?Object.getOwnPropertyDescriptor(o?.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!o||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){return s.get?.call(this)},set(i){const a=s.set?.call(this,i);if(r!==null&&r!==-1)try{t.adoptStyleSheets(i,r)}catch{}return a}}),ee(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function Hw({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:o}){const s=o.CSSStyleDeclaration.prototype.setProperty;o.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:ee((a,c,u)=>{const[d,l,f]=u;if(n.has(d))return s.apply(c,[d,l,f]);const{id:p,styleId:h}=Lt(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||h&&h!==-1)&&e({id:p,styleId:h,set:{property:d,value:l,priority:f},index:ns(c.parentRule)}),a.apply(c,u)})});const i=o.CSSStyleDeclaration.prototype.removeProperty;return o.CSSStyleDeclaration.prototype.removeProperty=new Proxy(i,{apply:ee((a,c,u)=>{const[d]=u;if(n.has(d))return i.apply(c,[d]);const{id:l,styleId:f}=Lt(c.parentRule?.parentStyleSheet,t,r.styleMirror);return(l&&l!==-1||f&&f!==-1)&&e({id:l,styleId:f,remove:{property:d},index:ns(c.parentRule)}),a.apply(c,u)})}),ee(()=>{o.CSSStyleDeclaration.prototype.setProperty=s,o.CSSStyleDeclaration.prototype.removeProperty=i})}function Ww({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:o,sampling:s,doc:i}){const a=ee(u=>kr(ee(d=>{const l=qr(d);if(!l||ze(l,t,n,r,!0))return;const{currentTime:f,volume:p,muted:h,playbackRate:g}=l;e({type:u,id:o.getId(l),currentTime:f,volume:p,muted:h,playbackRate:g})}),s.media||500)),c=[Oe("play",a(xn.Play),i),Oe("pause",a(xn.Pause),i),Oe("seeked",a(xn.Seeked),i),Oe("volumechange",a(xn.VolumeChange),i),Oe("ratechange",a(xn.RateChange),i)];return ee(()=>{c.forEach(u=>u())})}function jw({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],o=new WeakMap,s=n.FontFace;n.FontFace=function(c,u,d){const l=new s(c,u,d);return o.set(l,{family:c,buffer:typeof u!="string",descriptors:d,fontSource:typeof u=="string"?u:JSON.stringify(Array.from(new Uint8Array(u)))}),l};const i=oc(t.fonts,"add",function(a){return function(c){return Os(ee(()=>{const u=o.get(c);u&&(e(u),o.delete(c))}),0),a.apply(this,[c])}});return r.push(()=>{n.FontFace=s}),r.push(i),ee(()=>{r.forEach(a=>a())})}function zw(e){const{doc:t,mirror:n,blockClass:r,blockSelector:o,unblockSelector:s,selectionCb:i}=e;let a=!0;const c=ee(()=>{const u=t.getSelection();if(!u||a&&u?.isCollapsed)return;a=u.isCollapsed||!1;const d=[],l=u.rangeCount||0;for(let f=0;f<l;f++){const p=u.getRangeAt(f),{startContainer:h,startOffset:g,endContainer:_,endOffset:y}=p;ze(h,r,o,s,!0)||ze(_,r,o,s,!0)||d.push({start:n.getId(h),startOffset:g,end:n.getId(_),endOffset:y})}i({ranges:d})});return c(),Oe("selectionchange",c)}function qw({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:oc(n.customElements,"define",function(o){return function(s,i,a){try{t({define:{name:s}})}catch{}return o.apply(this,[s,i,a])}})}function Gw(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=Lp(e,e.doc));const o=Lw(e),s=Dw(e),i=Dp(e),a=$w(e,{win:n}),c=Bw(e),u=Ww(e);let d=()=>{},l=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(d=Uw(e,{win:n}),l=$p(e,e.doc),f=Hw(e,{win:n}),e.collectFonts&&(p=jw(e)));const h=zw(e),g=qw(e),_=[];for(const y of e.plugins)_.push(y.observer(y.callback,n,y.options));return ee(()=>{Ln.forEach(y=>y.reset()),r?.disconnect(),o(),s(),i(),a(),c(),u(),d(),l(),f(),p(),h(),g(),_.forEach(y=>y())})}function io(e){return typeof window[e]<"u"}function ao(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Ji{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,o){const s=r||this.getIdToRemoteIdMap(t),i=o||this.getRemoteIdToIdMap(t);let a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),i.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),o=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,o))}getRemoteId(t,n,r){const o=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=o.get(n);return s||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(o=>this.getRemoteId(t,o,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class Vw{constructor(){this.crossOriginIframeMirror=new Ji(rc),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class Jw{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Ji(rc),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Ji(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&t.contentWindow?.addEventListener("message",this.handleMessage.bind(this)),this.loadListener?.(t);const r=ic(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const o=this.crossOriginIframeMap.get(t.source);if(!o)return;const s=this.transformCrossOriginEvent(o,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){switch(n.type){case V.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const r=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,r),this.patchRootIdOnNode(n.data.node,r),{timestamp:n.timestamp,type:V.IncrementalSnapshot,data:{source:U.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case V.Meta:case V.Load:case V.DomContentLoaded:return!1;case V.Plugin:return n;case V.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case V.IncrementalSnapshot:switch(n.data.source){case U.Mutation:return n.data.adds.forEach(r=>{this.replaceIds(r,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(r.node,t);const o=this.crossOriginIframeRootIdMap.get(t);o&&this.patchRootIdOnNode(r.node,o)}),n.data.removes.forEach(r=>{this.replaceIds(r,t,["parentId","id"])}),n.data.attributes.forEach(r=>{this.replaceIds(r,t,["id"])}),n.data.texts.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case U.Drag:case U.TouchMove:case U.MouseMove:return n.data.positions.forEach(r=>{this.replaceIds(r,t,["id"])}),n;case U.ViewportResize:return!1;case U.MediaInteraction:case U.MouseInteraction:case U.Scroll:case U.CanvasMutation:case U.Input:return this.replaceIds(n.data,t,["id"]),n;case U.StyleSheetRule:case U.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case U.Font:return n;case U.Selection:return n.data.ranges.forEach(r=>{this.replaceIds(r,t,["start","end"])}),n;case U.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),n.data.styles?.forEach(r=>{this.replaceStyleIds(r,t,["styleId"])}),n}}return!1}replace(t,n,r,o){for(const s of o)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Ee.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class Kw{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class Yw{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!_r(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=Lp({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(Dp({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Os(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push($p({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=ic(t),r=Aw(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(oc(t.prototype,"attachShadow",function(o){return function(s){const i=o.call(this,s);return this.shadowRoot&&Op(this)&&r.addShadowRoot(this.shadowRoot,n),i}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var fl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xw=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var co=0;co<fl.length;co++)Xw[fl.charCodeAt(co)]=co;class pl{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class Qw{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new Iw,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},o=[];for(const s of t){let i;this.styleMirror.has(s)?i=this.styleMirror.getId(s):(i=this.styleMirror.add(s),o.push({styleId:i,rules:Array.from(s.rules||CSSRule,(a,c)=>({rule:gp(a),index:c}))})),r.styleIds.push(i)}o.length>0&&(r.styles=o),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class Zw{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(o=>o!==n)}add(t,n){this.active||(this.active=!0,Cw(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let ge,rs;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const Xe=XI();function vt(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:o="rr-block",blockSelector:s=null,unblockSelector:i=null,ignoreClass:a="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:d="rr-mask",unmaskTextClass:l=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:g,maskInputOptions:_,slimDOMOptions:y,maskAttributeFn:b,maskInputFn:N,maskTextFn:x,maxCanvasSize:H=null,packFn:O,sampling:S={},dataURLOptions:C={},mousemoveWait:$,recordDOM:E=!0,recordCanvas:A=!1,recordCrossOriginIframes:k=!1,recordAfter:M=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:P=!1,collectFonts:Y=!1,inlineImages:K=!1,plugins:oe,keepIframeSrcFn:T=()=>!1,ignoreCSSAttributes:q=new Set([]),errorHandler:I,onMutation:G,getCanvasManager:se}=e;Ow(I);const ne=k?window.parent===window:!0;let Se=!1;if(!ne)try{window.parent.document&&(Se=!1)}catch{Se=!0}if(ne&&!t)throw new Error("emit function is required");if(!ne&&!Se)return()=>{};$!==void 0&&S.mousemove===void 0&&(S.mousemove=$),Xe.reset();const xe=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},Mt=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};vw();let Me,De=0;const st=X=>{for(const He of oe||[])He.eventProcessor&&(X=He.eventProcessor(X));return O&&!Se&&(X=O(X)),X};ge=(X,He)=>{const Q=X;if(Q.timestamp=ts(),Ln[0]?.isFrozen()&&Q.type!==V.FullSnapshot&&!(Q.type===V.IncrementalSnapshot&&Q.data.source===U.Mutation)&&Ln.forEach(ke=>ke.unfreeze()),ne)t?.(st(Q),He);else if(Se){const ke={type:"rrweb",event:st(Q),origin:window.location.origin,isCheckout:He};window.parent.postMessage(ke,"*")}if(Q.type===V.FullSnapshot)Me=Q,De=0;else if(Q.type===V.IncrementalSnapshot){if(Q.data.source===U.Mutation&&Q.data.isAttachIframe)return;De++;const ke=r&&De>=r,re=n&&Me&&Q.timestamp-Me.timestamp>n;(ke||re)&&it(!0)}};const Nt=X=>{ge({type:V.IncrementalSnapshot,data:{source:U.Mutation,...X}})},cr=X=>ge({type:V.IncrementalSnapshot,data:{source:U.Scroll,...X}}),Vr=X=>ge({type:V.IncrementalSnapshot,data:{source:U.CanvasMutation,...X}}),ur=X=>ge({type:V.IncrementalSnapshot,data:{source:U.AdoptedStyleSheet,...X}}),ie=new Qw({mutationCb:Nt,adoptedStyleSheetCb:ur}),he=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new Vw:new Jw({mirror:Xe,mutationCb:Nt,stylesheetManager:ie,recordCrossOriginIframes:k,wrappedEmit:ge});for(const X of oe||[])X.getMirror&&X.getMirror({nodeMirror:Xe,crossOriginIframeMirror:he.crossOriginIframeMirror,crossOriginIframeStyleMirror:he.crossOriginIframeStyleMirror});const Ve=new Zw,we=tk(se,{mirror:Xe,win:window,mutationCb:X=>ge({type:V.IncrementalSnapshot,data:{source:U.CanvasMutation,...X}}),recordCanvas:A,blockClass:o,blockSelector:s,unblockSelector:i,maxCanvasSize:H,sampling:S.canvas,dataURLOptions:C,errorHandler:I}),Re=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new Kw:new Yw({mutationCb:Nt,scrollCb:cr,bypassOptions:{onMutation:G,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:xe,dataURLOptions:C,maskAttributeFn:b,maskTextFn:x,maskInputFn:N,recordCanvas:A,inlineImages:K,sampling:S,slimDOMOptions:Mt,iframeManager:he,stylesheetManager:ie,canvasManager:we,keepIframeSrcFn:T,processedNodeManager:Ve,ignoreCSSAttributes:q},mirror:Xe}),it=(X=!1)=>{if(!E)return;ge({type:V.Meta,data:{href:window.location.href,width:Cp(),height:kp()}},X),ie.reset(),Re.init(),Ln.forEach(Q=>Q.lock());const He=Ew(document,{mirror:Xe,blockClass:o,blockSelector:s,unblockSelector:i,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:xe,maskAttributeFn:b,maskInputFn:N,maskTextFn:x,slimDOM:Mt,dataURLOptions:C,recordCanvas:A,inlineImages:K,onSerialize:Q=>{xp(Q,Xe)&&he.addIframe(Q),Mp(Q,Xe)&&ie.trackLinkElement(Q),Gi(Q)&&Re.addShadowRoot(Q.shadowRoot,document)},onIframeLoad:(Q,ke)=>{he.attachIframe(Q,ke),Q.contentWindow&&we.addWindow(Q.contentWindow),Re.observeAttachShadow(Q)},onStylesheetLoad:(Q,ke)=>{ie.attachLinkElement(Q,ke)},onBlockedImageLoad:(Q,ke,{width:re,height:lr})=>{Nt({adds:[],removes:[],texts:[],attributes:[{id:ke.id,attributes:{style:{width:`${re}px`,height:`${lr}px`}}}]})},keepIframeSrcFn:T,ignoreCSSAttributes:q});if(!He)return console.warn("Failed to snapshot the document");ge({type:V.FullSnapshot,data:{node:He,initialOffset:wp(window)}}),Ln.forEach(Q=>Q.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&ie.adoptStyleSheets(document.adoptedStyleSheets,Xe.getId(document))};rs=it;try{const X=[],He=ke=>ee(Gw)({onMutation:G,mutationCb:Nt,mousemoveCb:(re,lr)=>ge({type:V.IncrementalSnapshot,data:{source:lr,positions:re}}),mouseInteractionCb:re=>ge({type:V.IncrementalSnapshot,data:{source:U.MouseInteraction,...re}}),scrollCb:cr,viewportResizeCb:re=>ge({type:V.IncrementalSnapshot,data:{source:U.ViewportResize,...re}}),inputCb:re=>ge({type:V.IncrementalSnapshot,data:{source:U.Input,...re}}),mediaInteractionCb:re=>ge({type:V.IncrementalSnapshot,data:{source:U.MediaInteraction,...re}}),styleSheetRuleCb:re=>ge({type:V.IncrementalSnapshot,data:{source:U.StyleSheetRule,...re}}),styleDeclarationCb:re=>ge({type:V.IncrementalSnapshot,data:{source:U.StyleDeclaration,...re}}),canvasMutationCb:Vr,fontCb:re=>ge({type:V.IncrementalSnapshot,data:{source:U.Font,...re}}),selectionCb:re=>{ge({type:V.IncrementalSnapshot,data:{source:U.Selection,...re}})},customElementCb:re=>{ge({type:V.IncrementalSnapshot,data:{source:U.CustomElement,...re}})},blockClass:o,ignoreClass:a,ignoreSelector:c,maskAllText:u,maskTextClass:d,unmaskTextClass:l,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:xe,inlineStylesheet:h,sampling:S,recordDOM:E,recordCanvas:A,inlineImages:K,userTriggeredOnInput:P,collectFonts:Y,doc:ke,maskAttributeFn:b,maskInputFn:N,maskTextFn:x,keepIframeSrcFn:T,blockSelector:s,unblockSelector:i,slimDOMOptions:Mt,dataURLOptions:C,mirror:Xe,iframeManager:he,stylesheetManager:ie,shadowDomManager:Re,processedNodeManager:Ve,canvasManager:we,ignoreCSSAttributes:q,plugins:oe?.filter(re=>re.observer)?.map(re=>({observer:re.observer,options:re.options,callback:lr=>ge({type:V.Plugin,data:{plugin:re.name,payload:lr}})}))||[]},{});he.addLoadListener(ke=>{try{X.push(He(ke.contentDocument))}catch(re){console.warn(re)}});const Q=()=>{it(),X.push(He(document))};return document.readyState==="interactive"||document.readyState==="complete"?Q():(X.push(Oe("DOMContentLoaded",()=>{ge({type:V.DomContentLoaded,data:{}}),M==="DOMContentLoaded"&&Q()})),X.push(Oe("load",()=>{ge({type:V.Load,data:{}}),M==="load"&&Q()},window))),()=>{X.forEach(ke=>ke()),Ve.destroy(),rs=void 0,Pw()}}catch(X){console.warn(X)}}function ek(e){if(!rs)throw new Error("please take full snapshot after start recording");rs(e)}vt.mirror=Xe;vt.takeFullSnapshot=ek;function tk(e,t){try{return e?e(t):new pl}catch{return console.warn("Unable to initialize CanvasManager"),new pl}}var hl;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(hl||(hl={}));const nk=3,rk=5;function ac(e){return e>9999999999?e:e*1e3}function ui(e){return e>9999999999?e/1e3:e}function Gr(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:V.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:je(t,10,1e3)}}),t.category==="console")))}const ok="button,a";function Fp(e){return e.closest(ok)||e}function Bp(e){const t=Up(e);return!t||!(t instanceof Element)?t:Fp(t)}function Up(e){return sk(e)?e.target:e}function sk(e){return typeof e=="object"&&!!e&&"target"in e}let Dt;function ik(e){return Dt||(Dt=[],ak()),Dt.push(e),()=>{const t=Dt?Dt.indexOf(e):-1;t>-1&&Dt.splice(t,1)}}function ak(){Ce(de,"open",function(e){return function(...t){if(Dt)try{Dt.forEach(n=>n())}catch{}return e.apply(de,t)}})}const ck=new Set([U.Mutation,U.StyleSheetRule,U.StyleDeclaration,U.AdoptedStyleSheet,U.CanvasMutation,U.Selection,U.MediaInteraction]);function uk(e,t,n){e.handleClick(t,n)}class lk{constructor(t,n,r=Gr){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=ik(()=>{this._lastMutation=ml()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(fk(n,this._ignoreSelector)||!pk(t))return;const r={timestamp:ui(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(o=>o.node===r.node&&Math.abs(o.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=ui(t)}registerScroll(t=Date.now()){this._lastScroll=ui(t)}registerClick(t){const n=Fp(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=ml();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const o=this._clicks.indexOf(r);o>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(o,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,o=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!r&&!o,{clickCount:i,clickBreadcrumb:a}=t;if(s){const c=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,u=c<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:de.location.href,route:n.getCurrentRoute(),timeAfterClickMs:c,endReason:u,clickCount:i||1}};this._addBreadcrumbEvent(n,d);return}if(i>1){const c={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:de.location.href,route:n.getCurrentRoute(),clickCount:i,metric:!0}};this._addBreadcrumbEvent(n,c)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=zr(()=>this._checkClicks(),1e3)}}const dk=["A","BUTTON","INPUT"];function fk(e,t){return!!(!dk.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function pk(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function ml(){return Date.now()/1e3}function hk(e,t){try{if(!mk(t))return;const{source:n}=t.data;if(ck.has(n)&&e.registerMutation(t.timestamp),n===U.Scroll&&e.registerScroll(t.timestamp),gk(t)){const{type:r,id:o}=t.data,s=vt.mirror.getNode(o);s instanceof HTMLElement&&r===Ne.Click&&e.registerClick(s)}}catch{}}function mk(e){return e.type===nk}function gk(e){return e.data.source===U.MouseInteraction}function ct(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var cc=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(cc||{});const _k=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function yk(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(_k.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const Sk=e=>t=>{if(!e.isEnabled())return;const n=bk(t);if(!n)return;const r=t.name==="click",o=r?t.event:void 0;r&&e.clickDetector&&o?.target&&!o.altKey&&!o.metaKey&&!o.ctrlKey&&!o.shiftKey&&uk(e.clickDetector,n,Bp(t.event)),Gr(e,n)};function Hp(e,t){const n=vt.mirror.getId(e),r=n&&vt.mirror.getNode(n),o=r&&vt.mirror.getMeta(r),s=o&&Tk(o)?o:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(i=>i.type===cc.Text&&i.textContent).filter(Boolean).map(i=>i.trim()).join(""),attributes:yk(s.attributes)}}:{}}}function bk(e){const{target:t,message:n}=Ek(e);return ct({category:`ui.${e.name}`,...Hp(t,n)})}function Ek(e){const t=e.name==="click";let n,r=null;try{r=t?Bp(e.event):Up(e.event),n=Ue(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function Tk(e){return e.type===cc.Element}function vk(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=Ik(t);n&&Gr(e,n)}function Ik(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:s,target:i}=e;if(!i||wk(i)||!s)return null;const a=t||r||o,c=s.length===1;if(!a&&c)return null;const u=Ue(i,{maxStringLength:200})||"<unknown>",d=Hp(i,u);return ct({category:"ui.keyDown",message:u,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:o,key:s}})}function wk(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const kk={resource:Mk,paint:Ak,navigation:xk};function li(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function Ck(e){return e.map(Rk).filter(Boolean)}function Rk(e){const t=kk[e.entryType];return t?t(e):null}function Yn(e){return((Ae()||de.performance.timeOrigin)+e)/1e3}function Ak(e){const{duration:t,entryType:n,name:r,startTime:o}=e,s=Yn(o);return{type:n,name:r,start:s,end:s+t,data:void 0}}function xk(e){const{entryType:t,name:n,decodedBodySize:r,duration:o,domComplete:s,encodedBodySize:i,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:d,loadEventEnd:l,redirectCount:f,startTime:p,transferSize:h,type:g}=e;return o===0?null:{type:`${t}.${g}`,start:Yn(p),end:Yn(s),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:i,duration:o,domInteractive:u,domContentLoadedEventStart:a,domContentLoadedEventEnd:c,loadEventStart:d,loadEventEnd:l,domComplete:s,redirectCount:f}}}function Mk(e){const{entryType:t,initiatorType:n,name:r,responseEnd:o,startTime:s,decodedBodySize:i,encodedBodySize:a,responseStatus:c,transferSize:u}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Yn(s),end:Yn(o),name:r,data:{size:u,statusCode:c,decodedBodySize:i,encodedBodySize:a}}}function Nk(e){const t=e.entries[e.entries.length-1],n=t?.element?[t.element]:void 0;return uc(e,"largest-contentful-paint",n)}function Ok(e){return e.sources!==void 0}function Pk(e){const t=[],n=[];for(const r of e.entries)if(Ok(r)){const o=[];for(const s of r.sources)if(s.node){n.push(s.node);const i=vt.mirror.getId(s.node);i&&o.push(i)}t.push({value:r.value,nodeIds:o.length?o:void 0})}return uc(e,"cumulative-layout-shift",n,t)}function Lk(e){const t=e.entries[e.entries.length-1],n=t?.target?[t.target]:void 0;return uc(e,"interaction-to-next-paint",n)}function uc(e,t,n,r){const o=e.value,s=e.rating,i=Yn(o);return{type:"web-vital",name:t,start:i,end:i,data:{value:o,size:o,rating:s,nodeIds:n?n.map(a=>vt.mirror.getId(a)):void 0,attributions:r}}}function Dk(e){function t(o){e.performanceEntries.includes(o)||e.performanceEntries.push(o)}function n({entries:o}){o.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(o=>{r.push(Tn(o,n))}),r.push(Ja(li(Nk,e)),Va(li(Pk,e)),Jf(li(Lk,e))),()=>{r.forEach(o=>o())}}const F=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,$k='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function Fk(){const e=new Blob([$k]);return URL.createObjectURL(e)}const gl=["log","warn","error"],Ro="[Replay] ";function di(e,t="info"){mt({category:"console",data:{logger:"replay"},level:t,message:`${Ro}${e}`},{level:t})}function Bk(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return F?(gl.forEach(r=>{n[r]=(...o)=>{m[r](Ro,...o),t&&di(o.join(""),Ho(r))}}),n.exception=(r,...o)=>{o.length&&n.error&&n.error(...o),m.error(Ro,r),e?pe(r,{mechanism:{handled:!0,type:"auto.function.replay.debug"}}):t&&di(r,"error")},n.infoTick=(...r)=>{m.log(Ro,...r),t&&setTimeout(()=>di(r[0]),0)}):gl.forEach(r=>{n[r]=()=>{}}),n}const B=Bk();class lc extends Error{constructor(){super(`Event buffer exceeded maximum size of ${tc}.`)}}class Wp{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>tc)throw new lc;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?ac(t):null}}class Uk{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){F&&B.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((o,s)=>{const i=({data:a})=>{const c=a;if(c.method===t&&c.id===r){if(this._worker.removeEventListener("message",i),!c.success){F&&B.error("Error in compression worker: ",c.response),s(new Error("Error in compression worker"));return}o(c.response)}};this._worker.addEventListener("message",i),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class Hk{constructor(t){this._worker=new Uk(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=ac(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>tc?Promise.reject(new lc):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{F&&B.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class Wk{constructor(t){this._fallback=new Wp,this._compression=new Hk(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){F&&B.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,o=[];for(const s of t)o.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(o),this._fallback.clear()}catch(s){F&&B.exception(s,"Failed to add events when switching buffers.")}}}function jk({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=zk(t);if(n)return n}return F&&B.log("Using simple buffer"),new Wp}function zk(e){try{const t=e||qk();if(!t)return;F&&B.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new Wk(n)}catch(t){F&&B.exception(t,"Failed to create compression worker")}}function qk(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?Fk():""}function dc(){try{return"sessionStorage"in de&&!!de.sessionStorage}catch{return!1}}function Gk(e){Vk(),e.session=void 0}function Vk(){if(dc())try{de.sessionStorage.removeItem(Za)}catch{}}function jp(e){return e===void 0?!1:Math.random()<e}function Ps(e){if(dc())try{de.sessionStorage.setItem(Za,JSON.stringify(e))}catch{}}function zp(e){const t=Date.now(),n=e.id||Te(),r=e.started||t,o=e.lastActivity||t,s=e.segmentId||0,i=e.sampled,a=e.previousSessionId,c=e.dirty||!1;return{id:n,started:r,lastActivity:o,segmentId:s,sampled:i,previousSessionId:a,dirty:c}}function Jk(e,t){return jp(e)?"session":t?"buffer":!1}function _l({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const o=Jk(e,t),s=zp({sampled:o,previousSessionId:r});return n&&Ps(s),s}function Kk(){if(!dc())return null;try{const e=de.sessionStorage.getItem(Za);if(!e)return null;const t=JSON.parse(e);return F&&B.infoTick("Loading existing session"),zp(t)}catch{return null}}function Ki(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function qp(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Ki(e.started,t,r)||Ki(e.lastActivity,n,r)}function Gp(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!qp(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function fi({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const o=r.stickySession&&Kk();return o?Gp(o,{sessionIdleExpire:e,maxReplayDuration:t})?(F&&B.infoTick("Session in sessionStorage is expired, creating new one..."),_l(r,{previousSessionId:o.id})):o:(F&&B.infoTick("Creating new session"),_l(r,{previousSessionId:n}))}function Yk(e){return e.type===V.Custom}function fc(e,t,n){return Jp(e,t)?(Vp(e,t,n),!0):!1}function Xk(e,t,n){return Jp(e,t)?Vp(e,t,n):Promise.resolve(null)}async function Vp(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const o=e.recordingMode==="buffer";try{n&&o&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const s=e.getOptions(),i=Qk(t,s.beforeAddRecordingEvent);return i?await r.addEvent(i):void 0}catch(s){const i=s&&s instanceof lc,a=i?"addEventSizeExceeded":"addEvent",c=R();if(c){const u=i?"buffer_overflow":"internal_sdk_error";c.recordDroppedEvent(u,"replay")}if(i&&o)return r.clear(),r.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:a})}}function Jp(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=ac(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(F&&B.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function Qk(e,t){try{if(typeof t=="function"&&Yk(e))return t(e)}catch(n){return F&&B.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function pc(e){return!e.type}function Yi(e){return e.type==="transaction"}function Zk(e){return e.type==="replay_event"}function yl(e){return e.type==="feedback"}function eC(e){return(t,n)=>{if(!e.isEnabled()||!pc(t)&&!Yi(t))return;const r=n.statusCode;if(!(!r||r<200||r>=300)){if(Yi(t)){tC(e,t);return}nC(e,t)}}}function tC(e,t){const n=e.getContext();t.contexts?.trace?.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function nC(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||zr(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(o){e.handleException(o)}})}function rC(e){return t=>{!e.isEnabled()||!pc(t)||oC(e,t)}}function oC(e,t){const n=t.exception?.values?.[0]?.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const r=ct({category:"replay.hydrate-error",data:{url:vn()}});Gr(e,r)}}function sC(e){const t=R();t&&t.on("beforeAddBreadcrumb",n=>iC(e,n))}function iC(e,t){if(!e.isEnabled()||!Kp(t))return;const n=aC(t);n&&Gr(e,n)}function aC(e){return!Kp(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?cC(e):ct(e)}function cC(e){const t=e.data?.arguments;if(!Array.isArray(t)||t.length===0)return ct(e);let n=!1;const r=t.map(o=>{if(!o)return o;if(typeof o=="string")return o.length>so?(n=!0,`${o.slice(0,so)}`):o;if(typeof o=="object")try{const s=je(o,7);return JSON.stringify(s).length>so?(n=!0,`${JSON.stringify(s,null,2).slice(0,so)}`):s}catch{}return o});return ct({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function Kp(e){return!!e.category}function uC(e,t){return e.type||!e.exception?.values?.length?!1:!!t.originalException?.__rrweb__}function Yp(){const e=z().getPropagationContext().dsc;e&&delete e.replay_id;const t=ye();if(t){const n=nt(t);delete n.replay_id}}function lC(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:V.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function dC(e,t){return e.recordingMode!=="buffer"||t.message===ec||!t.exception||t.type?!1:jp(e.getOptions().errorSampleRate)}function fC(e){return Object.assign((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(Zk(t))return delete t.breadcrumbs,t;if(!pc(t)&&!Yi(t)&&!yl(t))return t;if(!e.checkAndHandleExpiredSession())return Yp(),t;if(yl(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),lC(e,t),t;if(uC(t,n)&&!e.getOptions()._experiments.captureExceptions)return F&&B.log("Ignoring error from rrweb internals",t),null;const o=dC(e,t);if((o||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),o&&e.recordingMode==="buffer"&&e.session?.sampled==="buffer"){const i=e.session;i.dirty=!0,e.getOptions().stickySession&&Ps(i)}return t},{id:"Replay"})}function Ls(e,t){return t.map(({type:n,start:r,end:o,name:s,data:i})=>{const a=e.throttledAddEvent({type:V.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:o,data:i}}});return typeof a=="string"?Promise.resolve(null):a})}function pC(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function hC(e){return t=>{if(!e.isEnabled())return;const n=pC(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Ls(e,[n]),!1)))}}function mC(e,t){return F&&e.getOptions()._experiments.traceInternals?!1:Qd(t,R())}function Xp(e,t){e.isEnabled()&&t!==null&&(mC(e,t.name)||e.addUpdate(()=>(Ls(e,[t]),!0)))}function Ds(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=tp(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function Qp(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function os(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Zp(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:o,method:s,statusCode:i,request:a,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:o,data:{method:s,statusCode:i,request:a,response:c}}}function Cr(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function Wt(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:o,warnings:s}=gC(n);return r.body=o,s?.length&&(r._meta={warnings:s}),r}function Xi(e,t){return Object.entries(e).reduce((n,[r,o])=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=o),n},{})}function gC(e){if(!e||typeof e!="string")return{body:e};const t=e.length>Qu,n=_C(e);if(t){const r=e.slice(0,Qu);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function _C(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function ss(e,t){const n=yC(e);return tt(n,t)}function yC(e,t=de.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(de.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function SC(e,t,n){try{const r=await EC(e,t,n),o=Zp("resource.fetch",r);Xp(n.replay,o)}catch(r){F&&B.exception(r,"Failed to capture fetch breadcrumb")}}function bC(e,t){const{input:n,response:r}=t,o=n?Qa(n):void 0,s=Ds(o),i=r?Qp(r.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),i!==void 0&&(e.data.response_body_size=i)}async function EC(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:s=r}=t,{url:i,method:a,status_code:c=0,request_body_size:u,response_body_size:d}=e.data,l=ss(i,n.networkDetailAllowUrls)&&!ss(i,n.networkDetailDenyUrls),f=l?TC(n,t.input,u):Cr(u),p=await vC(l,n,t.response,d);return{startTimestamp:o,endTimestamp:s,url:i,method:a,statusCode:c,request:f,response:p}}function TC({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const o=n?kC(n,t):{};if(!e)return Wt(o,r,void 0);const s=Qa(n),[i,a]=Xo(s,B),c=Wt(o,r,i);return a?os(c,a):c}async function vC(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,o){if(!e&&o!==void 0)return Cr(o);const s=r?eh(r.headers,n):{};if(!r||!t&&o!==void 0)return Wt(s,o,void 0);const[i,a]=await wC(r),c=IC(i,{networkCaptureBodies:t,responseBodySize:o,captureDetails:e,headers:s});return a?os(c,a):c}function IC(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:o}){try{const s=e?.length&&n===void 0?Ds(e):n;return r?t?Wt(o,s,e):Wt(o,s,void 0):Cr(s)}catch(s){return F&&B.exception(s,"Failed to serialize response body"),Wt(o,n,void 0)}}async function wC(e){const t=CC(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await RC(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(F&&B.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(F&&B.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function eh(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function kC(e,t){return e.length===1&&typeof e[0]!="string"?Sl(e[0],t):e.length===2?Sl(e[1],t):{}}function Sl(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?eh(n,t):Array.isArray(n)?{}:Xi(n,t):{}}function CC(e){try{return e.clone()}catch(t){F&&B.exception(t,"Failed to clone response body")}}function RC(e){return new Promise((t,n)=>{const r=zr(()=>n(new Error("Timeout while trying to read response body")),500);AC(e).then(o=>t(o),o=>n(o)).finally(()=>clearTimeout(r))})}async function AC(e){return await e.text()}async function xC(e,t,n){try{const r=NC(e,t,n),o=Zp("resource.xhr",r);Xp(n.replay,o)}catch(r){F&&B.exception(r,"Failed to capture xhr breadcrumb")}}function MC(e,t){const{xhr:n,input:r}=t;if(!n)return;const o=Ds(r),s=n.getResponseHeader("content-length")?Qp(n.getResponseHeader("content-length")):LC(n.response,n.responseType);o!==void 0&&(e.data.request_body_size=o),s!==void 0&&(e.data.response_body_size=s)}function NC(e,t,n){const r=Date.now(),{startTimestamp:o=r,endTimestamp:s=r,input:i,xhr:a}=t,{url:c,method:u,status_code:d=0,request_body_size:l,response_body_size:f}=e.data;if(!c)return null;if(!a||!ss(c,n.networkDetailAllowUrls)||ss(c,n.networkDetailDenyUrls)){const O=Cr(l),S=Cr(f);return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:d,request:O,response:S}}const p=a[Et],h=p?Xi(p.request_headers,n.networkRequestHeaders):{},g=Xi(np(a),n.networkResponseHeaders),[_,y]=n.networkCaptureBodies?Xo(i,B):[void 0],[b,N]=n.networkCaptureBodies?OC(a):[void 0],x=Wt(h,l,_),H=Wt(g,f,b);return{startTimestamp:o,endTimestamp:s,url:c,method:u,statusCode:d,request:y?os(x,y):x,response:N?os(H,N):H}}function OC(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return PC(e.response,e.responseType)}catch(n){t.push(n)}return F&&B.warn("Failed to get xhr response body",...t),[void 0]}function PC(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return F&&B.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return F&&B.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function LC(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Ds(n)}catch{return}}function DC(e){const t=R();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:s,networkResponseHeaders:i}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:o,networkRequestHeaders:s,networkResponseHeaders:i};t&&t.on("beforeAddBreadcrumb",(c,u)=>$C(a,c,u))}catch{}}function $C(e,t,n){if(t.data)try{FC(t)&&UC(n)&&(MC(t,n),xC(t,n,e)),BC(t)&&HC(n)&&(bC(t,n),SC(t,n,e))}catch(r){F&&B.exception(r,"Error when enriching network breadcrumb")}}function FC(e){return e.category==="xhr"}function BC(e){return e.category==="fetch"}function UC(e){return e?.xhr}function HC(e){return e?.response}function WC(e){const t=R();ep(Sk(e)),xs(hC(e)),sC(e),DC(e);const n=fC(e);Og(n),t&&(t.on("beforeSendEvent",rC(e)),t.on("afterSendEvent",eC(e)),t.on("createDsc",r=>{const o=e.getSessionId();o&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=o)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,o)=>{const s=e.getSessionId();o?.includeReplay&&e.isEnabled()&&s&&r.contexts?.feedback&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=s)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function jC(e){try{return Promise.all(Ls(e,[zC(de.performance.memory)]))}catch{return[]}}function zC(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,o=Date.now()/1e3;return{type:"memory",name:"memory",start:o,end:o,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function qC(e,t,n){return x_(e,t,{...n,setTimeoutImpl:zr})}const uo=L.navigator;function GC(){return/iPhone|iPad|iPod/i.test(uo?.userAgent??"")||/Macintosh/i.test(uo?.userAgent??"")&&uo?.maxTouchPoints&&uo?.maxTouchPoints>1?{sampling:{mousemove:!1}}:{}}function VC(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){F&&B.warn("Received replay event after session expired.");return}const o=r||!t;t=!0,e.clickDetector&&hk(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&o&&e.setInitialState(),!fc(e,n,o))return!0;if(!o)return!1;const s=e.session;if(KC(e,o),e.recordingMode==="buffer"&&s&&e.eventBuffer&&!s.dirty){const i=e.eventBuffer.getEarliestTimestamp();i&&(F&&B.log(`Updating session start time to earliest event in buffer to ${new Date(i)}`),s.started=i,e.getOptions().stickySession&&Ps(s))}return s?.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function JC(e){const t=e.getOptions();return{type:V.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function KC(e,t){!t||!e.session||e.session.segmentId!==0||fc(e,JC(e),!1)}function YC(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function XC(e,t,n,r){return ot(Rd(e,fs(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function QC({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const s=new TextEncoder().encode(r);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function ZC({client:e,scope:t,replayId:n,event:r}){const o=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:o};e.emit("preprocessEvent",r,s);const i=await Nd(e.getOptions(),r,s,t,e,ve());if(!i)return null;e.emit("postprocessEvent",i,s),i.platform=i.platform||"javascript";const a=e.getSdkMetadata(),{name:c,version:u,settings:d}=a?.sdk||{};return i.sdk={...i.sdk,name:c||"sentry.javascript.unknown",version:u||"0.0.0",settings:d},i}async function e1({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:o,session:s}){const i=QC({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:c,traceIds:u,initialTimestamp:d}=r,l=R(),f=z(),p=l?.getTransport(),h=l?.getDsn();if(!l||!p||!h||!s.sampled)return Promise.resolve({});const g={type:xI,replay_start_timestamp:d/1e3,timestamp:o/1e3,error_ids:c,trace_ids:u,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},_=await ZC({scope:f,client:l,replayId:t,event:g});if(!_)return l.recordDroppedEvent("event_processor","replay"),F&&B.log("An event processor returned `null`, will not send event."),Promise.resolve({});delete _.sdkProcessingMetadata;const y=XC(_,i,h,l.getOptions().tunnel);let b;try{b=await p.send(y)}catch(x){const H=new Error(ec);try{H.cause=x}catch{}throw H}if(typeof b.statusCode=="number"&&(b.statusCode<200||b.statusCode>=300))throw new th(b.statusCode);const N=jd({},b);if(Wd(N,"replay"))throw new hc(N);return b}class th extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class hc extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function nh(e,t={count:0,interval:DI}){const{recordingData:n,onError:r}=e;if(n.length)try{return await e1(e),!0}catch(o){if(o instanceof th||o instanceof hc)throw o;if(xg("Replays",{_retryCount:t.count}),r&&r(o),t.count>=$I){const s=new Error(`${ec} - max retries exceeded`);try{s.cause=o}catch{}throw s}return t.interval*=++t.count,new Promise((s,i)=>{zr(async()=>{try{await nh(e,t),s(!0)}catch(a){i(a)}},t.interval)})}}const rh="__THROTTLED",t1="__SKIPPED";function n1(e,t,n){const r=new Map,o=a=>{const c=a-n;r.forEach((u,d)=>{d<c&&r.delete(d)})},s=()=>[...r.values()].reduce((a,c)=>a+c,0);let i=!1;return(...a)=>{const c=Math.floor(Date.now()/1e3);if(o(c),s()>=t){const d=i;return i=!0,d?t1:rh}i=!1;const u=r.get(c)||0;return r.set(c,u+1),e(...a)}}class r1{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:MI,sessionIdleExpire:NI},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=qC(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=n1((i,a)=>Xk(this,i,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:o}=this.getOptions(),s=r?{threshold:Math.min(FI,r),timeout:r,scrollTimeout:BI,ignoreSelector:o?o.join(","):""}:void 0;if(s&&(this.clickDetector=new lk(this,s)),F){const i=t._experiments;B.setConfig({captureExceptions:!!i.captureExceptions,traceInternals:!!i.traceInternals})}this._handleVisibilityChange=()=>{de.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const i=ct({category:"ui.blur"});this._doChangeToBackgroundTasks(i)},this._handleWindowFocus=()=>{const i=ct({category:"ui.focus"});this._doChangeToForegroundTasks(i)},this._handleKeyboardEvent=i=>{vk(this,i)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){F&&B.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,o=n<=0&&r<=0;if(this._requiresManualStart=o,!o){if(this._initializeSessionForSampling(t),!this.session){F&&B.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",F&&B.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){F&&B.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){F&&B.log("Buffering is in progress, call `flush()` to save the replay");return}F&&B.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=fi({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){F&&B.log("Buffering is in progress, call `flush()` to save the replay");return}F&&B.infoTick("Starting replay in buffer mode");const t=fi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=vt({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:LI}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:VC(this),...GC(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{F&&B.log(`Stopping Replay${n?` triggered by ${n}`:""}`),Yp(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),this.eventBuffer?.destroy(),this.eventBuffer=null,Gk(this)}catch(r){this.handleException(r)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),F&&B.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),F&&B.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();F&&B.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this.session.dirty=!1,this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(t){if(!(t&&this.session?.sampled===!1))return this.session?.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Ki(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${de.location.pathname}${de.location.hash}${de.location.search}`,n=`${de.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===rh){const o=ct({category:"replay.throttled"});this.addUpdate(()=>!fc(this,{type:rk,timestamp:o.timestamp||0,data:{tag:"breadcrumb",payload:o,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||ye(),n=t&&be(t),o=(n&&W(n).data||{})[Pe];if(!(!n||!o||!["route","custom"].includes(o)))return W(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=jk({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=fi({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return Gp(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{de.document.addEventListener("visibilitychange",this._handleVisibilityChange),de.addEventListener("blur",this._handleWindowBlur),de.addEventListener("focus",this._handleWindowFocus),de.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(WC(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=Dk(this)}_removeListeners(){try{de.document.removeEventListener("visibilitychange",this._handleVisibilityChange),de.removeEventListener("blur",this._handleWindowBlur),de.removeEventListener("focus",this._handleWindowFocus),de.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||qp(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){F&&B.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:V.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=Ck(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(Ls(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){F&&B.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!this.eventBuffer?.hasEvents&&(await jC(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const n=Date.now();if(n-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const r=this._popEventContext(),o=this.session.segmentId++;this._maybeSaveSession();const s=await this.eventBuffer.finish();await nh({replayId:t,recordingData:s,segmentId:o,eventContext:r,session:this.session,timestamp:n,onError:i=>this.handleException(i)})}catch(n){this.handleException(n),this.stop({reason:"sendReplay"});const r=R();if(r){const o=n instanceof hc?"ratelimit_backoff":"send_error";r.recordDroppedEvent(o,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){F&&B.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,o=Date.now()-n;this._debouncedFlush.cancel();const s=o<this._options.minReplayDuration,i=o>this._options.maxReplayDuration+5e3;if(s||i){F&&B.log(`Session duration (${Math.floor(o/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&F&&B.log("Flushing initial segment without checkout.");const c=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(u){this.handleException(u)}finally{this._flushLock=void 0,c&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Ps(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n?.length&&t.some(a=>{const c=YC(a.target),u=n.join(",");return c?.matches(u)}))return!1;const r=t.length,o=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,i=o&&r>o;if(r>s||i){const a=ct({category:"replay.mutations",data:{count:r,limit:i}});this._createCustomBreadcrumb(a)}return i?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function fr(e,t){return[...e,...t].join(",")}function o1({mask:e,unmask:t,block:n,unblock:r,ignore:o}){const s=["base","iframe[srcdoc]:not([src])"],i=fr(e,[".sentry-mask","[data-sentry-mask]"]),a=fr(t,[]);return{maskTextSelector:i,unmaskTextSelector:a,blockSelector:fr(n,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:fr(r,[]),ignoreSelector:fr(o,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function s1({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:o,value:s}){return!r||o.unmaskTextSelector&&e.matches(o.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const bl='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',i1=["content-length","content-type","accept"];let El=!1;const $A=e=>new a1(e);class a1{constructor({flushMinDelay:t=OI,flushMaxDelay:n=PI,minReplayDuration:r=UI,maxReplayDuration:o=Zu,stickySession:s=!0,useCompression:i=!0,workerUrl:a,_experiments:c={},maskAllText:u=!0,maskAllInputs:d=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:f=750,mutationLimit:p=1e4,slowClickTimeout:h=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:y=[],networkCaptureBodies:b=!0,networkRequestHeaders:N=[],networkResponseHeaders:x=[],mask:H=[],maskAttributes:O=["title","placeholder","aria-label"],unmask:S=[],block:C=[],unblock:$=[],ignore:E=[],maskFn:A,beforeAddRecordingEvent:k,beforeErrorSampling:M,onError:P}={}){this.name="Replay";const Y=o1({mask:H,unmask:S,block:C,unblock:$,ignore:E});if(this._recordingOptions={maskAllInputs:d,maskAllText:u,maskInputOptions:{password:!0},maskTextFn:A,maskInputFn:A,maskAttributeFn:(K,oe,T)=>s1({maskAttributes:O,maskAllText:u,privacyOptions:Y,key:K,value:oe,el:T}),...Y,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:K=>{try{K.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!c.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,HI),maxReplayDuration:Math.min(o,Zu),stickySession:s,useCompression:i,workerUrl:a,blockAllMedia:l,maskAllInputs:d,maskAllText:u,mutationBreadcrumbLimit:f,mutationLimit:p,slowClickTimeout:h,slowClickIgnoreSelectors:g,networkDetailAllowUrls:_,networkDetailDenyUrls:y,networkCaptureBodies:b,networkRequestHeaders:Tl(N),networkResponseHeaders:Tl(x),beforeAddRecordingEvent:k,beforeErrorSampling:M,onError:P,_experiments:c},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${bl}`:bl,this._recordingOptions.ignoreCSSAttributes=new Set(["background-image"])),this._isInitialized&&qo())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return El}set _isInitialized(t){El=t}afterAllSetup(t){!qo()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(t){if(this._replay?.isEnabled())return this._replay.getSessionId(t)}getRecordingMode(){if(this._replay?.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=c1(this._initialOptions,t);this._replay=new r1({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function c1(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},o=hn(n.replaysSessionSampleRate),s=hn(n.replaysOnErrorSampleRate);return o==null&&s==null&&gt(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),o!=null&&(r.sessionSampleRate=o),s!=null&&(r.errorSampleRate=s),r}function Tl(e){return[...i1,...e.map(t=>t.toLowerCase())]}function FA(){return R()?.getIntegrationByName("Replay")}var u1=Object.defineProperty,l1=(e,t,n)=>t in e?u1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,vl=(e,t,n)=>l1(e,typeof t!="symbol"?t+"":t,n);class d1{constructor(){vl(this,"idNodeMap",new Map),vl(this,"nodeMetaMap",new WeakMap)}getId(t){return t?this.getMeta(t)?.id??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const o=this.nodeMetaMap.get(r);o&&this.nodeMetaMap.set(n,o)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function f1(){return new d1}function p1(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function Qi(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:Qi(e.parentNode,t,n,r+1)}function Il(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(p1(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}const Mn=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let wl={map:{},getId(){return console.error(Mn),-1},getNode(){return console.error(Mn),null},removeNodeFromMap(){console.error(Mn)},has(){return console.error(Mn),!1},reset(){console.error(Mn)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(wl=new Proxy(wl,{get(e,t,n){return t==="map"&&console.error(Mn),Reflect.get(e,t,n)}}));function mc(e,t,n,r,o=window){const s=o.Object.getOwnPropertyDescriptor(e,t);return o.Object.defineProperty(e,t,r?n:{set(i){sh(()=>{n.set.call(this,i)},0),s&&s.set&&s.set.call(this,i)}}),()=>mc(e,t,s||{},!0)}function gc(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],o=n(r);return typeof o=="function"&&(o.prototype=o.prototype||{},Object.defineProperties(o,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=o,()=>{e[t]=r}}catch{return()=>{}}}/[1-9][0-9]{12}/.test(Date.now().toString());function h1(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function $s(e,t,n,r,o){if(!e)return!1;const s=h1(e);if(!s)return!1;const i=Il(t,n),a=Qi(s,i);let c=-1;return a<0?!1:(r&&(c=Qi(s,Il(null,r))),a>-1&&c<0?!0:a<c)}const kl={};function oh(e){const t=kl[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const o=n.createElement("iframe");o.hidden=!0,n.head.appendChild(o);const s=o.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(o)}catch{}return kl[e]=r.bind(window)}function nn(...e){return oh("requestAnimationFrame")(...e)}function sh(...e){return oh("setTimeout")(...e)}var Xn=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(Xn||{});let Ao;function m1(e){Ao=e}const pi=e=>Ao?(...n)=>{try{return e(...n)}catch(r){if(Ao&&Ao(r)===!0)return()=>{};throw r}}:e;var Dn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var lo=0;lo<Dn.length;lo++)g1[Dn.charCodeAt(lo)]=lo;var _1=function(e){var t=new Uint8Array(e),n,r=t.length,o="";for(n=0;n<r;n+=3)o+=Dn[t[n]>>2],o+=Dn[(t[n]&3)<<4|t[n+1]>>4],o+=Dn[(t[n+1]&15)<<2|t[n+2]>>6],o+=Dn[t[n+2]&63];return r%3===2?o=o.substring(0,o.length-1)+"=":r%3===1&&(o=o.substring(0,o.length-2)+"=="),o};const Cl=new Map;function y1(e,t){let n=Cl.get(e);return n||(n=new Map,Cl.set(e,n)),n.has(t)||n.set(t,[]),n.get(t)}const ih=(e,t,n)=>{if(!e||!(ch(e,t)||typeof e=="object"))return;const r=e.constructor.name,o=y1(n,r);let s=o.indexOf(e);return s===-1&&(s=o.length,o.push(e)),s};function xo(e,t,n){if(e instanceof Array)return e.map(r=>xo(r,t,n));if(e===null)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray)return{rr_type:e.constructor.name,args:[Object.values(e)]};if(e instanceof ArrayBuffer){const r=e.constructor.name,o=_1(e);return{rr_type:r,base64:o}}else{if(e instanceof DataView)return{rr_type:e.constructor.name,args:[xo(e.buffer,t,n),e.byteOffset,e.byteLength]};if(e instanceof HTMLImageElement){const r=e.constructor.name,{src:o}=e;return{rr_type:r,src:o}}else if(e instanceof HTMLCanvasElement){const r="HTMLImageElement",o=e.toDataURL();return{rr_type:r,src:o}}else{if(e instanceof ImageData)return{rr_type:e.constructor.name,args:[xo(e.data,t,n),e.width,e.height]};if(ch(e,t)||typeof e=="object"){const r=e.constructor.name,o=ih(e,t,n);return{rr_type:r,index:o}}}}return e}const ah=(e,t,n)=>e.map(r=>xo(r,t,n)),ch=(e,t)=>!!["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(o=>typeof t[o]=="function").find(o=>e instanceof t[o]);function S1(e,t,n,r,o){const s=[],i=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);for(const a of i)try{if(typeof t.CanvasRenderingContext2D.prototype[a]!="function")continue;const c=gc(t.CanvasRenderingContext2D.prototype,a,function(u){return function(...d){return $s(this.canvas,n,r,o,!0)||sh(()=>{const l=ah(d,t,this);e(this.canvas,{type:Xn["2D"],property:a,args:l})},0),u.apply(this,d)}});s.push(c)}catch{const c=mc(t.CanvasRenderingContext2D.prototype,a,{set(u){e(this.canvas,{type:Xn["2D"],property:a,args:[u],setter:!0})}});s.push(c)}return()=>{s.forEach(a=>a())}}function b1(e){return e==="experimental-webgl"?"webgl":e}function Rl(e,t,n,r,o){const s=[];try{const i=gc(e.HTMLCanvasElement.prototype,"getContext",function(a){return function(c,...u){if(!$s(this,t,n,r,!0)){const d=b1(c);if("__context"in this||(this.__context=d),o&&["webgl","webgl2"].includes(d))if(u[0]&&typeof u[0]=="object"){const l=u[0];l.preserveDrawingBuffer||(l.preserveDrawingBuffer=!0)}else u.splice(0,1,{preserveDrawingBuffer:!0})}return a.apply(this,[c,...u])}});s.push(i)}catch{console.error("failed to patch HTMLCanvasElement.prototype.getContext")}return()=>{s.forEach(i=>i())}}function Al(e,t,n,r,o,s,i,a){const c=[],u=Object.getOwnPropertyNames(e);for(const d of u)if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(d))try{if(typeof e[d]!="function")continue;const l=gc(e,d,function(f){return function(...p){const h=f.apply(this,p);if(ih(h,a,this),"tagName"in this.canvas&&!$s(this.canvas,r,o,s,!0)){const g=ah(p,a,this),_={type:t,property:d,args:g};n(this.canvas,_)}return h}});c.push(l)}catch{const l=mc(e,d,{set(f){n(this.canvas,{type:t,property:d,args:[f],setter:!0})}});c.push(l)}return c}function E1(e,t,n,r,o,s){const i=[];return i.push(...Al(t.WebGLRenderingContext.prototype,Xn.WebGL,e,n,r,o,s,t)),typeof t.WebGL2RenderingContext<"u"&&i.push(...Al(t.WebGL2RenderingContext.prototype,Xn.WebGL2,e,n,r,o,s,t)),()=>{i.forEach(a=>a())}}const T1='for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w?.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};';function v1(){const e=new Blob([T1]);return URL.createObjectURL(e)}class I1{constructor(t){this.pendingCanvasMutations=new Map,this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set,this.windowsSet=new WeakSet,this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map,this.worker=null,this.lastSnapshotTime=0,this.processMutation=(a,c)=>{(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId||!this.rafStamps.invokeId)&&(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(a)||this.pendingCanvasMutations.set(a,[]),this.pendingCanvasMutations.get(a).push(c)};const{enableManualSnapshot:n,sampling:r="all",win:o,recordCanvas:s,errorHandler:i}=t;t.sampling=r,this.mutationCb=t.mutationCb,this.mirror=t.mirror,this.options=t,i&&m1(i),(s&&typeof r=="number"||n)&&(this.worker=this.initFPSWorker()),this.addWindow(o),!n&&pi(()=>{s&&r==="all"&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),s&&typeof r=="number"&&this.initCanvasFPSObserver()})()}reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.windowsSet=new WeakSet,this.windows=[],this.shadowDoms=new Set,this.worker?.terminate(),this.worker=null,this.snapshotInProgressMap=new Map}freeze(){this.frozen=!0}unfreeze(){this.frozen=!1}lock(){this.locked=!0}unlock(){this.locked=!1}addWindow(t){const{sampling:n="all",blockClass:r,blockSelector:o,unblockSelector:s,recordCanvas:i,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(t)){if(a){this.windowsSet.add(t),this.windows.push(new WeakRef(t));return}pi(()=>{if(i&&n==="all"&&this.initCanvasMutationObserver(t,r,o,s),i&&typeof n=="number"){const c=Rl(t,r,o,s,!0);this.restoreHandlers.push(()=>{c()})}})(),this.windowsSet.add(t),this.windows.push(new WeakRef(t))}}addShadowRoot(t){this.shadowDoms.add(new WeakRef(t))}resetShadowRoots(){this.shadowDoms=new Set}snapshot(t,n){if(n?.skipRequestAnimationFrame){this.takeSnapshot(performance.now(),!0,t);return}nn(r=>this.takeSnapshot(r,!0,t))}initFPSWorker(){const t=new Worker(v1());return t.onmessage=n=>{const r=n.data,{id:o}=r;if(this.snapshotInProgressMap.set(o,!1),!("base64"in r))return;const{base64:s,type:i,width:a,height:c}=r;this.mutationCb({id:o,type:Xn["2D"],commands:[{property:"clearRect",args:[0,0,a,c]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:s}],type:i}]},0,0,a,c]}]})},t}initCanvasFPSObserver(){let t;if(!this.windows.length&&!this.shadowDoms.size)return;const n=r=>{this.takeSnapshot(r,!1),t=nn(n)};t=nn(n),this.restoreHandlers.push(()=>{t&&cancelAnimationFrame(t)})}initCanvasMutationObserver(t,n,r,o){const s=Rl(t,n,r,o,!1),i=S1(this.processMutation.bind(this),t,n,r,o),a=E1(this.processMutation.bind(this),t,n,r,o,this.mirror);this.restoreHandlers.push(()=>{s(),i(),a()})}getCanvasElements(t,n,r){const o=[],s=i=>{i.querySelectorAll("canvas").forEach(a=>{$s(a,t,n,r)||o.push(a)})};for(const i of this.windows){const a=i.deref();let c;try{c=a&&a.document}catch{}c&&s(c)}for(const i of this.shadowDoms){const a=i.deref();a&&s(a)}return o}takeSnapshot(t,n,r){const{sampling:o,blockClass:s,blockSelector:i,unblockSelector:a,dataURLOptions:c,maxCanvasSize:u}=this.options,l=1e3/(o==="all"?2:o||2);return this.lastSnapshotTime&&t-this.lastSnapshotTime<l?!1:(this.lastSnapshotTime=t,(r?[r]:this.getCanvasElements(s,i,a)).forEach(h=>{const g=this.mirror.getId(h);if(!(!this.mirror.hasNode(h)||!h.width||!h.height||this.snapshotInProgressMap.get(g))){if(this.snapshotInProgressMap.set(g,!0),!n&&["webgl","webgl2"].includes(h.__context)){const _=h.getContext(h.__context);_?.getContextAttributes()?.preserveDrawingBuffer===!1&&_.clear(_.COLOR_BUFFER_BIT)}createImageBitmap(h).then(_=>{this.worker?.postMessage({id:g,bitmap:_,width:h.width,height:h.height,dataURLOptions:c,maxCanvasSize:u},[_])}).catch(_=>{pi(()=>{throw this.snapshotInProgressMap.delete(g),_})()})}}),!0)}startPendingCanvasMutationFlusher(){nn(()=>this.flushPendingCanvasMutations())}startRAFTimestamping(){const t=n=>{this.rafStamps.latestId=n,nn(t)};nn(t)}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((t,n)=>{const r=this.mirror.getId(n);this.flushPendingCanvasMutationFor(n,r)}),nn(()=>this.flushPendingCanvasMutations())}flushPendingCanvasMutationFor(t,n){if(this.frozen||this.locked)return;const r=this.pendingCanvasMutations.get(t);if(!r||n===-1)return;const o=r.map(i=>{const{type:a,...c}=i;return c}),{type:s}=r[0];this.mutationCb({id:n,type:s,commands:o}),this.pendingCanvasMutations.delete(t)}}try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=e.contentWindow?.Array.from||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}f1();var xl;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(xl||(xl={}));const Ml={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},w1="ReplayCanvas",fo=1280,k1=(e={})=>{const[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,fo):fo,n?Math.min(n,fo):fo]};let o;const s=new Promise(i=>o=i);return{name:w1,getOptions(){const{quality:i,enableManualSnapshot:a,maxCanvasSize:c}=r;return{enableManualSnapshot:a,recordCanvas:!0,getCanvasManager:u=>{const d=new I1({...u,enableManualSnapshot:a,maxCanvasSize:c,errorHandler:l=>{try{typeof l=="object"&&(l.__rrweb__=!0)}catch{}}});return o(d),d},...Ml[i]||Ml.medium}},async snapshot(i,a){(await s).snapshot(i,a)}}},BA=k1;function C1(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function uh(e){try{return new URL(e,D.location.origin).href}catch{return}}function R1(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function lh(e){try{return new Headers(e)}catch{return}}const Nl=new WeakMap,hi=new Map,dh={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function A1(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:o,shouldCreateSpanForRequest:s,enableHTTPTimings:i,tracePropagationTargets:a,onRequestSpanStart:c,onRequestSpanEnd:u}={...dh,...t},d=typeof s=="function"?s:h=>!0,l=h=>x1(h,a),f={},p=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(h=>(h.type==="transaction"&&h.spans&&h.spans.forEach(g=>{if(g.op==="http.client"){const _=hi.get(g.span_id);_&&(g.timestamp=_/1e3,hi.delete(g.span_id))}}),h)),o&&qb(h=>{if(h.response){const g=Nl.get(h.response);g&&h.endTimestamp&&hi.set(g,h.endTimestamp)}}),La(h=>{const g=Uy(h,d,l,f,{propagateTraceparent:p,onRequestSpanEnd:u});if(h.response&&h.fetchData.__span&&Nl.set(h.response,h.fetchData.__span),g){const _=uh(h.fetchData.url),y=_?dn(_).host:void 0;g.setAttributes({"http.url":_,"server.address":y}),i&&Ol(g),c?.(g,{headers:h.headers})}})),r&&Xa(h=>{const g=M1(h,d,l,f,p,u);g&&(i&&Ol(g),c?.(g,{headers:lh(h.xhr.__sentry_xhr_v3__?.request_headers)}))})}function Ol(e){const{url:t}=W(e).data;if(!t||typeof t!="string")return;const n=Tn("resource",({entries:r})=>{r.forEach(o=>{R1(o)&&o.name.endsWith(t)&&(e.setAttributes(Zf(o)),setTimeout(n))})})}function x1(e,t){const n=vn();if(n){let r,o;try{r=new URL(e,n),o=new URL(n).origin}catch{return!1}const s=r.origin===o;return t?tt(r.toString(),t)||s&&tt(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?tt(e,t):r}}function M1(e,t,n,r,o,s){const i=e.xhr,a=i?.[Et];if(!i||i.__sentry_own_request__||!a)return;const{url:c,method:u}=a,d=Ge()&&t(c);if(e.endTimestamp&&d){const y=i.__sentry_xhr_span_id__;if(!y)return;const b=r[y];b&&a.status_code!==void 0&&(Oo(b,a.status_code),b.end(),s?.(b,{headers:lh(np(i)),error:e.error}),delete r[y]);return}const l=uh(c),f=dn(l||c),p=Xd(c),h=!!ye(),g=d&&h?qt({name:`${u} ${p}`,attributes:{url:c,type:"xhr","http.method":u,"http.url":l,"server.address":f?.host,[te]:"auto.http.browser",[Ie]:"http.client",...f?.search&&{"http.query":f?.search},...f?.hash&&{"http.fragment":f?.hash}}}):new Ct;i.__sentry_xhr_span_id__=g.spanContext().spanId,r[i.__sentry_xhr_span_id__]=g,n(c)&&N1(i,Ge()&&h?g:void 0,o);const _=R();return _&&_.emit("beforeOutgoingRequestSpan",g,e),g}function N1(e,t,n){const{"sentry-trace":r,baggage:o,traceparent:s}=ef({span:t,propagateTraceparent:n});r&&O1(e,r,o,s)}function O1(e,t,n,r){const o=e.__sentry_xhr_v3__?.request_headers;if(!(o?.["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!o?.traceparent&&e.setRequestHeader("traceparent",r),n){const s=o?.baggage;(!s||!C1(s))&&e.setRequestHeader("baggage",n)}}catch{}}function P1(){D.document?D.document.addEventListener("visibilitychange",()=>{const e=ye();if(!e)return;const t=be(e);if(D.document.hidden&&t){const n="cancelled",{op:r,status:o}=W(t);v&&m.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),o||t.setStatus({code:Z,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):v&&m.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const L1=3600,fh="sentry_previous_trace",D1="sentry.previous_trace";function $1(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let o=r?U1():void 0;e.on("spanStart",i=>{if(be(i)!==i)return;const a=z().getPropagationContext();o=F1(o,i,a),r&&B1(o)});let s=!0;n&&e.on("beforeSampling",i=>{if(!o)return;const a=z(),c=a.getPropagationContext();if(s&&c.parentSpanId){s=!1;return}a.setPropagationContext({...c,dsc:{...c.dsc,sample_rate:String(o.sampleRate),sampled:String(Zi(o.spanContext))},sampleRand:o.sampleRand}),i.parentSampled=Zi(o.spanContext),i.parentSampleRate=o.sampleRate,i.spanAttributes={...i.spanAttributes,[cd]:o.sampleRate}})}function F1(e,t,n){const r=W(t);function o(){try{return Number(n.dsc?.sample_rate)??Number(r.data?.[ia])}catch{return 0}}const s={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:o(),sampleRand:n.sampleRand};if(!e)return s;const i=e.spanContext;return i.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=L1&&(v&&m.log(`Adding previous_trace ${i} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:i,attributes:{[am]:"previous_trace"}}),t.setAttribute(D1,`${i.traceId}-${i.spanId}-${Zi(i)?1:0}`)),s)}function B1(e){try{D.sessionStorage.setItem(fh,JSON.stringify(e))}catch(t){v&&m.warn("Could not store previous trace in sessionStorage",t)}}function U1(){try{const e=D.sessionStorage?.getItem(fh);return JSON.parse(e)}catch{return}}function Zi(e){return e.traceFlags===1}const H1="BrowserTracing",W1={...yo,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,enableReportPageLoaded:!1,_experiments:{},...dh},Pl=(e={})=>{const t={name:void 0,source:void 0},n=D.document,{enableInp:r,enableElementTiming:o,enableLongTask:s,enableLongAnimationFrame:i,_experiments:{enableInteractions:a,enableStandaloneClsSpans:c,enableStandaloneLcpSpans:u},beforeStartSpan:d,idleTimeout:l,finalTimeout:f,childSpanTimeout:p,markBackgroundSpan:h,traceFetch:g,traceXHR:_,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:b,enableHTTPTimings:N,ignoreResourceSpans:x,ignorePerformanceApiSpans:H,instrumentPageLoad:O,instrumentNavigation:S,detectRedirects:C,linkPreviousTrace:$,consistentTraceSampling:E,enableReportPageLoaded:A,onRequestSpanStart:k,onRequestSpanEnd:M}={...W1,...e};let P,Y,K;function oe(T,q,I=!0){const G=q.op==="pageload",se=q.name,ne=d?d(q):q,Se=ne.attributes||{};if(se!==ne.name&&(Se[Pe]="custom",ne.attributes=Se),!I){const Me=In();qt({...ne,startTime:Me}).end(Me);return}t.name=ne.name,t.source=Se[Pe];const xe=xd(ne,{idleTimeout:l,finalTimeout:f,childSpanTimeout:p,disableAutoFinish:G,beforeSpanEnd:Me=>{P?.(),_v(Me,{recordClsOnPageloadSpan:!c,recordLcpOnPageloadSpan:!u,ignoreResourceSpans:x,ignorePerformanceApiSpans:H}),Dl(T,void 0);const De=z(),st=De.getPropagationContext();De.setPropagationContext({...st,traceId:xe.spanContext().traceId,sampled:Xt(xe),dsc:nt(Me)}),G&&(K=void 0)},trimIdleSpanEndTimestamp:!A});G&&A&&(K=xe),Dl(T,xe);function Mt(){n&&["interactive","complete"].includes(n.readyState)&&T.emit("idleSpanEnableAutoFinish",xe)}G&&!A&&n&&(n.addEventListener("readystatechange",()=>{Mt()}),Mt())}return{name:H1,setup(T){if(Mm(),P=lv({recordClsStandaloneSpans:c||!1,recordLcpStandaloneSpans:u||!1,client:T}),r&&Wv(),o&&Av(),i&&L.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?fv():s&&dv(),a&&pv(),C&&n){const I=()=>{Y=fe()};addEventListener("click",I,{capture:!0}),addEventListener("keydown",I,{capture:!0,passive:!0})}function q(){const I=Rr(T);I&&!W(I).timestamp&&(v&&m.log(`[Tracing] Finishing current active span with op: ${W(I).op}`),I.setAttribute(Er,"cancelled"),I.end())}T.on("startNavigationSpan",(I,G)=>{if(R()!==T)return;if(G?.isRedirect){v&&m.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),oe(T,{op:"navigation.redirect",...I},!1);return}Y=void 0,q(),ve().setPropagationContext({traceId:ft(),sampleRand:Math.random(),propagationSpanId:Ge()?void 0:Tt()});const se=z();se.setPropagationContext({traceId:ft(),sampleRand:Math.random(),propagationSpanId:Ge()?void 0:Tt()}),se.setSDKProcessingMetadata({normalizedRequest:void 0}),oe(T,{op:"navigation",...I,parentSpan:null,forceTransaction:!0})}),T.on("startPageLoadSpan",(I,G={})=>{if(R()!==T)return;q();const se=G.sentryTrace||Ll("sentry-trace"),ne=G.baggage||Ll("baggage"),Se=_d(se,ne),xe=z();xe.setPropagationContext(Se),Ge()||(xe.getPropagationContext().propagationSpanId=Tt()),xe.setSDKProcessingMetadata({normalizedRequest:Ha()}),oe(T,{op:"pageload",...I})}),T.on("endPageloadSpan",()=>{A&&K&&(K.setAttribute(Er,"reportPageLoaded"),K.end())})},afterAllSetup(T){let q=vn();if($!=="off"&&$1(T,{linkPreviousTrace:$,consistentTraceSampling:E}),D.location){if(O){const I=Ae();j1(T,{name:D.location.pathname,startTime:I?I/1e3:void 0,attributes:{[Pe]:"url",[te]:"auto.pageload.browser"}})}S&&xs(({to:I,from:G})=>{if(G===void 0&&q?.indexOf(I)!==-1){q=void 0;return}q=void 0;const se=va(I),ne=Rr(T),Se=ne&&C&&q1(ne,Y);ph(T,{name:se?.pathname||D.location.pathname,attributes:{[Pe]:"url",[te]:"auto.navigation.browser"}},{url:I,isRedirect:Se})})}h&&P1(),a&&z1(T,l,f,p,t),r&&qv(),A1(T,{traceFetch:g,traceXHR:_,trackFetchStreamPerformance:y,tracePropagationTargets:T.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:b,enableHTTPTimings:N,onRequestSpanStart:k,onRequestSpanEnd:M})}}};function j1(e,t,n){e.emit("startPageLoadSpan",t,n),z().setTransactionName(t.name);const r=Rr(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function ph(e,t,n){const{url:r,isRedirect:o}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:o}),e.emit("startNavigationSpan",t,{isRedirect:o});const s=z();return s.setTransactionName(t.name),r&&!o&&s.setSDKProcessingMetadata({normalizedRequest:{...Ha(),url:r}}),Rr(e)}function Ll(e){return D.document?.querySelector(`meta[name=${e}]`)?.getAttribute("content")||void 0}function z1(e,t,n,r,o){const s=D.document;let i;const a=()=>{const c="ui.action.click",u=Rr(e);if(u){const d=W(u).op;if(["navigation","pageload"].includes(d)){v&&m.warn(`[Tracing] Did not create ${c} span because a pageload or navigation span is in progress.`);return}}if(i&&(i.setAttribute(Er,"interactionInterrupted"),i.end(),i=void 0),!o.name){v&&m.warn(`[Tracing] Did not create ${c} transaction because _latestRouteName is missing.`);return}i=xd({name:o.name,op:c,attributes:{[Pe]:o.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};s&&addEventListener("click",a,{capture:!0})}const hh="_sentry_idleSpan";function Rr(e){return e[hh]}function Dl(e,t){Le(e,hh,t)}const $l=1.5;function q1(e,t){const n=W(e),r=In(),o=n.start_timestamp;return!(r-o>$l||t&&r-t<=$l)}function UA(e=R()){e?.emit("endPageloadSpan")}function HA(e){const t=ye();if(t===e)return;const n=z();e.end=new Proxy(e.end,{apply(r,o,s){return pt(n,t),Reflect.apply(r,o,s)}}),pt(n,e)}function Qn(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function G1(e,t){const n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);const r=Qn(n);return o=>r.then(s=>o(s.transaction(t,"readwrite").objectStore(t)))}function _c(e){return Qn(e.getAllKeys())}function V1(e,t,n){return e(r=>_c(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.max(...o,0)+1),Qn(r.transaction)}))}function J1(e,t,n){return e(r=>_c(r).then(o=>{if(!(o.length>=n))return r.put(t,Math.min(...o,0)-1),Qn(r.transaction)}))}function K1(e){return e(t=>_c(t).then(n=>{const r=n[0];if(r!=null)return Qn(t.get(r)).then(o=>(t.delete(r),Qn(t.transaction).then(()=>o)))}))}function Y1(e){let t;function n(){return t==null&&(t=G1(e.dbName||"sentry-offline",e.storeName||"queue")),t}return{push:async r=>{try{const o=await $o(r);await V1(n(),o,e.maxQueueSize||30)}catch{}},unshift:async r=>{try{const o=await $o(r);await J1(n(),o,e.maxQueueSize||30)}catch{}},shift:async()=>{try{const r=await K1(n());if(r)return Wm(r)}catch{}}}}function X1(e){return t=>{const n=e({...t,createStore:Y1});return D.addEventListener("online",async r=>{await n.flush()}),n}}function WA(e=rp){return X1(y_(e))}const Fl=1e6,Q1="window"in L&&L.window===L&&typeof importScripts>"u",jt=String(0),is=Q1?"main":"worker",as=D.navigator;let mh="",gh="",_h="",ea=as?.userAgent||"",yh="";const Z1=as?.language||as?.languages?.[0]||"";function eR(e){return typeof e=="object"&&e!==null&&"getHighEntropyValues"in e}const Bl=as?.userAgentData;eR(Bl)&&Bl.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(mh=e.platform||"",_h=e.architecture||"",yh=e.model||"",gh=e.platformVersion||"",e.fullVersionList?.length){const t=e.fullVersionList[e.fullVersionList.length-1];ea=`${t.brand} ${t.version}`}}).catch(e=>{});function tR(e){return!("thread_metadata"in e)}function nR(e){return tR(e)?cR(e):e}function rR(e){const t=e.contexts?.trace?.trace_id;return typeof t=="string"&&t.length!==32&&v&&m.log(`[Profiling] Invalid traceId: ${t} on profiled event`),typeof t!="string"?"":t}function oR(e,t,n,r){if(r.type!=="transaction")throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(n==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);const o=rR(r),s=nR(n),i=t||(typeof r.start_timestamp=="number"?r.start_timestamp*1e3:fe()*1e3),a=typeof r.timestamp=="number"?r.timestamp*1e3:fe()*1e3;return{event_id:e,timestamp:new Date(i).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||ds,runtime:{name:"javascript",version:D.navigator.userAgent},os:{name:mh,version:gh,build_number:ea},device:{locale:Z1,model:yh,manufacturer:ea,architecture:_h,is_emulator:!1},debug_meta:{images:bh(n.resources)},profile:s,transactions:[{name:r.transaction||"",id:r.event_id||Te(),trace_id:o,active_thread_id:jt,relative_start_ns:"0",relative_end_ns:((a-i)*1e6).toFixed(0)}]}}function sR(e,t,n){if(e==null)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${e} instead.`);const r=aR(e),o=t.getOptions(),s=t.getSdkMetadata?.()?.sdk;return{chunk_id:Te(),client_sdk:{name:s?.name??"sentry.javascript.browser",version:s?.version??"0.0.0"},profiler_id:n||Te(),platform:"javascript",version:"2",release:o.release??"",environment:o.environment??"production",debug_meta:{images:bh(e.resources)},profile:r}}function iR(e){try{if(!e||typeof e!="object")return{reason:"chunk is not an object"};const t=r=>typeof r=="string"&&/^[a-f0-9]{32}$/.test(r);if(!t(e.profiler_id))return{reason:"missing or invalid profiler_id"};if(!t(e.chunk_id))return{reason:"missing or invalid chunk_id"};if(!e.client_sdk)return{reason:"missing client_sdk metadata"};const n=e.profile;return n?!Array.isArray(n.frames)||!n.frames.length?{reason:"profile has no frames"}:!Array.isArray(n.stacks)||!n.stacks.length?{reason:"profile has no stacks"}:!Array.isArray(n.samples)||!n.samples.length?{reason:"profile has no samples"}:{valid:!0}:{reason:"missing profile data"}}catch(t){return{reason:`unknown validation error: ${t}`}}}function aR(e){const t=[];for(let a=0;a<e.frames.length;a++){const c=e.frames[a];c&&(t[a]={function:c.name,abs_path:typeof c.resourceId=="number"?e.resources[c.resourceId]:void 0,lineno:c.line,colno:c.column})}const n=[];for(let a=0;a<e.stacks.length;a++){const c=e.stacks[a];if(!c)continue;const u=[];let d=c;for(;d;)u.push(d.frameId),d=d.parentId===void 0?void 0:e.stacks[d.parentId];n[a]=u}const r=Ae(),o=typeof performance.timeOrigin=="number"?performance.timeOrigin:r||0,s=o-(r||o),i=[];for(let a=0;a<e.samples.length;a++){const c=e.samples[a];if(!c)continue;const u=(o+(c.timestamp-s))/1e3;i[a]={stack_id:c.stackId??0,thread_id:jt,timestamp:u}}return{frames:t,stacks:n,samples:i,thread_metadata:{[jt]:{name:is}}}}function Sh(e){return W(e).op==="pageload"}function cR(e){let t,n=0;const r={samples:[],stacks:[],frames:[],thread_metadata:{[jt]:{name:is}}},o=e.samples[0];if(!o)return r;const s=o.timestamp,i=Ae(),a=typeof performance.timeOrigin=="number"?performance.timeOrigin:i||0,c=a-(i||a);return e.samples.forEach((u,d)=>{if(u.stackId===void 0){t===void 0&&(t=n,r.stacks[t]=[],n++),r.samples[d]={elapsed_since_start_ns:((u.timestamp+c-s)*Fl).toFixed(0),stack_id:t,thread_id:jt};return}let l=e.stacks[u.stackId];const f=[];for(;l;){f.push(l.frameId);const h=e.frames[l.frameId];h&&r.frames[l.frameId]===void 0&&(r.frames[l.frameId]={function:h.name,abs_path:typeof h.resourceId=="number"?e.resources[h.resourceId]:void 0,lineno:h.line,colno:h.column}),l=l.parentId===void 0?void 0:e.stacks[l.parentId]}const p={elapsed_since_start_ns:((u.timestamp+c-s)*Fl).toFixed(0),stack_id:n,thread_id:jt};r.stacks[n]=f,r.samples[d]=p,n++}),r}function uR(e,t){if(!t.length)return e;for(const n of t)e[1].push([{type:"profile"},n]);return e}function lR(e){const t=[];return mn(e,(n,r)=>{if(r==="transaction")for(let o=1;o<n.length;o++)n[o]?.contexts?.profile?.profile_id&&t.push(n[o])}),t}function bh(e){const r=R()?.getOptions()?.stackParser;return r?yg(r,e):[]}function Eh(e){return typeof e!="number"&&typeof e!="boolean"||typeof e=="number"&&isNaN(e)?(v&&m.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):e===!0||e===!1?!0:e<0||e>1?(v&&m.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1):!0}function dR(e){return e.samples.length<2?(v&&m.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):e.frames.length?!0:(v&&m.log("[Profiling] Discarding profile because it contains no frames"),!1)}let yc=!1;const Th=3e4;function fR(e){return typeof e=="function"}function vh(){const e=D.Profiler;if(!fR(e)){v&&m.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object.");return}const t=10,n=Math.floor(Th/t);try{return new e({sampleInterval:t,maxBufferSize:n})}catch{v&&(m.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),m.log("[Profiling] Disabling profiling for current user session.")),yc=!0}}function Ul(e){if(yc)return v&&m.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return v&&m.log("[Profiling] Discarding profile because root span was not sampled."),!1;const n=R()?.getOptions();if(!n)return v&&m.log("[Profiling] Profiling disabled, no options found."),!1;const r=n.profilesSampleRate;return Eh(r)?r?(r===!0?!0:Math.random()<r)?!0:(v&&m.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1):(v&&m.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1):(v&&m.warn("[Profiling] Discarding profile because of invalid sample rate."),!1)}function pR(e){if(yc)return v&&m.log("[Profiling] Profiling has been disabled for the duration of the current user session as the JS Profiler could not be started."),!1;if(e.profileLifecycle!=="trace"&&e.profileLifecycle!=="manual")return v&&m.warn("[Profiling] Session not sampled. Invalid `profileLifecycle` option."),!1;const t=e.profileSessionSampleRate;return Eh(t)?t?Math.random()<=t:(v&&m.log("[Profiling] Discarding profile because profileSessionSampleRate is not defined or set to 0"),!1):(v&&m.warn("[Profiling] Discarding profile because of invalid profileSessionSampleRate."),!1)}function po(e){return typeof e.profilesSampleRate<"u"}function hR(e,t,n,r){return dR(n)?oR(e,t,n,r):null}const cn=new Map;function mR(){return cn.size}function gR(e){const t=cn.get(e);return t&&cn.delete(e),t}function _R(e,t){if(cn.set(e,t),cn.size>30){const n=cn.keys().next().value;n!==void 0&&cn.delete(n)}}function yR(e){return!e?.contexts?.profile||!e.contexts||(e.contexts.trace={...e.contexts?.trace??{},data:{...e.contexts?.trace?.data??{},"thread.id":jt,"thread.name":is}},e.spans?.forEach(t=>{t.data={...t.data||{},"thread.id":jt,"thread.name":is}})),e}function Hl(e){let t;Sh(e)&&(t=fe()*1e3);const n=vh();if(!n)return;v&&m.log(`[Profiling] started profiling span: ${W(e).description}`);const r=Te();let o=null;z().setContext("profile",{profile_id:r,start_timestamp:t});async function s(){if(e&&n){if(o){v&&m.log("[Profiling] profile for:",W(e).description,"already exists, returning early");return}return n.stop().then(u=>{if(i&&(D.clearTimeout(i),i=void 0),v&&m.log(`[Profiling] stopped profiling of span: ${W(e).description}`),!u){v&&m.log(`[Profiling] profiler returned null profile for: ${W(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");return}o=u,_R(r,u)}).catch(u=>{v&&m.log("[Profiling] error while stopping profiler:",u)})}}let i=D.setTimeout(()=>{v&&m.log("[Profiling] max profile duration elapsed, stopping profiling for:",W(e).description),s()},Th);const a=e.end.bind(e);function c(){return e?(s().then(()=>{a()},()=>{a()}),e):a()}e.end=c}const SR=6e4,bR=3e5;class ER{constructor(){this._client=void 0,this._profiler=void 0,this._chunkTimer=void 0,this._profilerId=void 0,this._isRunning=!1,this._sessionSampled=!1,this._lifecycleMode=void 0,this._activeRootSpanIds=new Set,this._rootSpanTimeouts=new Map}initialize(t){const n=t.getOptions().profileLifecycle,r=pR(t.getOptions());v&&m.log(`[Profiling] Initializing profiler (lifecycle='${n}').`),r||v&&m.log("[Profiling] Session not sampled. Skipping lifecycle profiler initialization."),this._profilerId=Te(),this._client=t,this._sessionSampled=r,this._lifecycleMode=n,n==="trace"&&this._setupTraceLifecycleListeners(t)}start(){if(this._lifecycleMode==="trace"){v&&m.warn('[Profiling] `profileLifecycle` is set to "trace". Calls to `uiProfiler.start()` are ignored in trace mode.');return}if(this._isRunning){v&&m.warn("[Profiling] Profile session is already running, `uiProfiler.start()` is a no-op.");return}if(!this._sessionSampled){v&&m.warn("[Profiling] Session is not sampled, `uiProfiler.start()` is a no-op.");return}this._beginProfiling()}stop(){if(this._lifecycleMode==="trace"){v&&m.warn('[Profiling] `profileLifecycle` is set to "trace". Calls to `uiProfiler.stop()` are ignored in trace mode.');return}if(!this._isRunning){v&&m.warn("[Profiling] Profiler is not running, `uiProfiler.stop()` is a no-op.");return}this._endProfiling()}notifyRootSpanActive(t){if(this._lifecycleMode!=="trace"||!this._sessionSampled)return;const n=t.spanContext().spanId;if(!n||this._activeRootSpanIds.has(n))return;this._registerTraceRootSpan(n);const r=this._activeRootSpanIds.size;r===1&&(v&&m.log("[Profiling] Detected already active root span during setup. Active root spans now:",r),this._beginProfiling())}_beginProfiling(){if(!this._isRunning){if(this._isRunning=!0,v&&m.log("[Profiling] Started profiling with profiler ID:",this._profilerId),Ht().setContext("profile",{profiler_id:this._profilerId}),this._startProfilerInstance(),!this._profiler){v&&m.log("[Profiling] Failed to start JS Profiler; stopping."),this._resetProfilerInfo();return}this._startPeriodicChunking()}}_endProfiling(){this._isRunning&&(this._isRunning=!1,this._chunkTimer&&(clearTimeout(this._chunkTimer),this._chunkTimer=void 0),this._clearAllRootSpanTimeouts(),this._collectCurrentChunk().catch(t=>{v&&m.error("[Profiling] Failed to collect current profile chunk on `stop()`:",t)}),this._lifecycleMode==="manual"&&Ht().setContext("profile",{}))}_setupTraceLifecycleListeners(t){t.on("spanStart",n=>{if(!this._sessionSampled){v&&m.log("[Profiling] Session not sampled because of negative sampling decision.");return}if(n!==be(n))return;if(!n.isRecording()){v&&m.log("[Profiling] Discarding profile because root span was not sampled.");return}const r=n.spanContext().spanId;if(!r||this._activeRootSpanIds.has(r))return;this._registerTraceRootSpan(r);const o=this._activeRootSpanIds.size;o===1&&(v&&m.log(`[Profiling] Root span ${r} started. Profiling active while there are active root spans (count=${o}).`),this._beginProfiling())}),t.on("spanEnd",n=>{if(!this._sessionSampled)return;const r=n.spanContext().spanId;if(!r||!this._activeRootSpanIds.has(r))return;this._activeRootSpanIds.delete(r);const o=this._activeRootSpanIds.size;v&&m.log(`[Profiling] Root span with ID ${r} ended. Will continue profiling for as long as there are active root spans (currently: ${o}).`),o===0&&(this._collectCurrentChunk().catch(s=>{v&&m.error("[Profiling] Failed to collect current profile chunk on last `spanEnd`:",s)}),this._endProfiling())})}_resetProfilerInfo(){this._isRunning=!1,Ht().setContext("profile",{})}_clearAllRootSpanTimeouts(){this._rootSpanTimeouts.forEach(t=>clearTimeout(t)),this._rootSpanTimeouts.clear()}_registerTraceRootSpan(t){this._activeRootSpanIds.add(t);const n=setTimeout(()=>this._onRootSpanTimeout(t),bR);this._rootSpanTimeouts.set(t,n)}_startProfilerInstance(){if(this._profiler?.stopped===!1)return;const t=vh();if(!t){v&&m.log("[Profiling] Failed to start JS Profiler.");return}this._profiler=t}_startPeriodicChunking(){this._isRunning&&(this._chunkTimer=setTimeout(()=>{if(this._collectCurrentChunk().catch(t=>{v&&m.error("[Profiling] Failed to collect current profile chunk during periodic chunking:",t)}),this._isRunning){if(this._startProfilerInstance(),!this._profiler){this._resetProfilerInfo();return}this._startPeriodicChunking()}},SR))}_onRootSpanTimeout(t){this._rootSpanTimeouts.has(t)&&(this._rootSpanTimeouts.delete(t),this._activeRootSpanIds.has(t)&&(v&&m.log(`[Profiling] Reached 5-minute timeout for root span ${t}. You likely started a manual root span that never called \`.end()\`.`),this._activeRootSpanIds.delete(t),this._activeRootSpanIds.size===0&&this._endProfiling()))}async _collectCurrentChunk(){const t=this._profiler;if(this._profiler=void 0,!!t)try{const n=await t.stop(),r=sR(n,this._client,this._profilerId),o=iR(r);if("reason"in o){v&&m.log("[Profiling] Discarding invalid profile chunk (this is probably a bug in the SDK):",o.reason);return}this._sendProfileChunk(r),v&&m.log("[Profiling] Collected browser profile chunk.")}catch(n){v&&m.log("[Profiling] Error while stopping JS Profiler for chunk:",n)}}_sendProfileChunk(t){const n=this._client,r=fs(n.getSdkMetadata?.()),o=n.getDsn(),s=n.getOptions().tunnel,i=ot({event_id:Te(),sent_at:new Date().toISOString(),...r&&{sdk:r},...!!s&&o&&{dsn:xt(o)}},[[{type:"profile_chunk"},t]]);n.sendEnvelope(i).then(null,a=>{v&&m.error("Error while sending profile chunk envelope:",a)})}}const TR="BrowserProfiling",vR=()=>({name:TR,setup(e){const t=e.getOptions(),n=new ER;if(!po(t)&&!t.profileLifecycle&&(t.profileLifecycle="manual"),po(t)&&!t.profilesSampleRate){v&&m.log("[Profiling] Profiling disabled, no profiling options found.");return}const r=ye(),o=r&&be(r);if(po(t)&&t.profileSessionSampleRate!==void 0&&v&&m.warn("[Profiling] Both legacy profiling (`profilesSampleRate`) and UI profiling settings are defined. `profileSessionSampleRate` has no effect when legacy profiling is enabled."),po(t))o&&Sh(o)&&Ul(o)&&Hl(o),e.on("spanStart",s=>{s===be(s)&&Ul(s)&&Hl(s)}),e.on("beforeEnvelope",s=>{if(!mR())return;const i=lR(s);if(!i.length)return;const a=[];for(const c of i){const u=c?.contexts,d=u?.profile?.profile_id,l=u?.profile?.start_timestamp;if(typeof d!="string"){v&&m.log("[Profiling] cannot find profile for a span without a profile context");continue}if(!d){v&&m.log("[Profiling] cannot find profile for a span without a profile context");continue}u?.profile&&delete u.profile;const f=gR(d);if(!f){v&&m.log(`[Profiling] Could not retrieve profile for span: ${d}`);continue}const p=hR(d,l,f,c);p&&a.push(p)}uR(s,a)});else{const s=t.profileLifecycle;if(e.on("startUIProfiler",()=>n.start()),e.on("stopUIProfiler",()=>n.stop()),s==="manual")n.initialize(e);else if(s==="trace"){if(!Ge(t)){v&&m.warn("[Profiling] `profileLifecycle` is 'trace' but tracing is disabled. Set a `tracesSampleRate` or `tracesSampler` to enable span tracing.");return}n.initialize(e),o&&n.notifyRootSpanActive(o),D.setTimeout(()=>{const i=ye(),a=i&&be(i);a&&n.notifyRootSpanActive(a)},0)}}},processEvent(e){return yR(e)}}),jA=vR,zA=()=>({name:"LaunchDarkly",processEvent(e,t,n){return rr(e)}});function qA(){return{name:"sentry-flag-auditor",type:"flag-used",synchronous:!0,method:(e,t,n)=>{gn(e,t.value),_n(e,t.value)}}}const GA=()=>({name:"OpenFeature",processEvent(e,t,n){return rr(e)}});class VA{after(t,n){gn(n.flagKey,n.value),_n(n.flagKey,n.value)}error(t,n,r){gn(t.flagKey,t.defaultValue),_n(t.flagKey,t.defaultValue)}}const JA=({featureFlagClientClass:e})=>({name:"Unleash",setupOnce(){const t=e.prototype;Ce(t,"isEnabled",IR)},processEvent(t,n,r){return rr(t)}});function IR(e){return function(...t){const n=t[0],r=e.apply(this,t);return typeof n=="string"&&typeof r=="boolean"?(gn(n,r),_n(n,r)):v&&m.error(`[Feature Flags] UnleashClient.isEnabled does not match expected signature. arg0: ${n} (${typeof n}), result: ${r} (${typeof r})`),r}}const KA=({growthbookClass:e})=>By({growthbookClass:e}),YA=({featureFlagClient:e})=>({name:"Statsig",setup(t){e.on("gate_evaluation",n=>{gn(n.gate.name,n.gate.value),_n(n.gate.name,n.gate.value)})},processEvent(t,n,r){return rr(t)}});async function XA(){const e=R();if(!e)return"no-client-active";if(!e.getDsn())return"no-dsn-configured";try{await rg(()=>fetch("https://o447951.ingest.sentry.io/api/4509632503087104/envelope/?sentry_version=7&sentry_key=c1dfb07d783ad5325c245c1fd3725390&sentry_client=sentry.javascript.browser%2F1.33.7",{body:"{}",method:"POST",mode:"cors",credentials:"omit"}))}catch{return"sentry-unreachable"}}const wR="WebWorker",QA=({worker:e})=>({name:wR,setupOnce:()=>{(Array.isArray(e)?e:[e]).forEach(t=>Wl(t))},addWorker:t=>Wl(t)});function Wl(e){e.addEventListener("message",t=>{CR(t.data)&&(t.stopImmediatePropagation(),t.data._sentryDebugIds&&(v&&m.log("Sentry debugId web worker message received",t.data),D._sentryDebugIds={...t.data._sentryDebugIds,...D._sentryDebugIds}),t.data._sentryWorkerError&&(v&&m.log("Sentry worker rejection message received",t.data._sentryWorkerError),kR(t.data._sentryWorkerError)))})}function kR(e){const t=R();if(!t)return;const n=t.getOptions().stackParser,r=t.getOptions().attachStacktrace,o=e.reason,s=zt(o)?ip(o):Cs(n,o,void 0,r,!0);s.level="error",e.filename&&(s.contexts={...s.contexts,worker:{filename:e.filename}}),Pr(s,{originalException:o,mechanism:{handled:!1,type:"auto.browser.web_worker.onunhandledrejection"}}),v&&m.log("Captured worker unhandled rejection",o)}function ZA({self:e}){e.postMessage({_sentryMessage:!0,_sentryDebugIds:e._sentryDebugIds??void 0}),e.addEventListener("unhandledrejection",t=>{const r={reason:sp(t),filename:e.location?.href};e.postMessage({_sentryMessage:!0,_sentryWorkerError:r}),v&&m.log("[Sentry Worker] Forwarding unhandled rejection to parent",r)}),v&&m.log("[Sentry Worker] Registered worker with unhandled rejection handling")}function CR(e){if(!ut(e)||e._sentryMessage!==!0)return!1;const t="_sentryDebugIds"in e,n="_sentryWorkerError"in e;return!(!t&&!n||t&&!(ut(e._sentryDebugIds)||e._sentryDebugIds===void 0)||n&&!ut(e._sentryWorkerError))}const Ih=["activate","mount"],wh=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,RR=/(?:^|[-_])(\w)/g,AR=e=>e.replace(RR,t=>t.toUpperCase()).replace(/[-_]/g,""),xR="<Root>",mi="<Anonymous>",MR=(e,t)=>e.repeat(t),Sr=(e,t)=>{if(!e)return mi;if(e.$root===e)return xR;if(!e.$options)return mi;const n=e.$options;let r=n.name||n._componentTag||n.__name;const o=n.__file;if(!r&&o){const s=o.match(/([^/\\]+)\.vue$/);s&&(r=s[1])}return(r?`<${AR(r)}>`:mi)+(o&&t!==!1?` at ${o}`:"")},NR=e=>{if(e&&(e._isVue||e.__isVue)&&e.$parent){const t=[];let n=0;for(;e;){if(t.length>0){const o=t[t.length-1];if(o.constructor===e.constructor){n++,e=e.$parent;continue}else n>0&&(t[t.length-1]=[o,n],n=0)}t.push(e),e=e.$parent}return`

found in

${t.map((o,s)=>`${(s===0?"---> ":MR(" ",5+s*2))+(Array.isArray(o)?`${Sr(o[0])}... (${o[1]} recursive calls)`:Sr(o))}`).join(`
`)}`}return`

(found in ${Sr(e)})`},OR=(e,t)=>{const{errorHandler:n}=e.config;e.config.errorHandler=(r,o,s)=>{const i=Sr(o,!1),a=o?NR(o):"",c={componentName:i,lifecycleHook:s,trace:a};if(t?.attachProps!==!1&&o&&(o.$options?.propsData?c.propsData=o.$options.propsData:o.$props&&(c.propsData=o.$props)),setTimeout(()=>{pe(r,{captureContext:{contexts:{vue:c}},mechanism:{handled:!!n,type:"auto.function.vue.error_handler"}})}),typeof n=="function"&&e.config.errorHandler)n.call(e,r,o,s);else throw r}},jl="ui.vue",PR={activate:["activated","deactivated"],create:["beforeCreate","created"],unmount:["beforeUnmount","unmounted"],destroy:["beforeDestroy","destroyed"],mount:["beforeMount","mounted"],update:["beforeUpdate","updated"]};function gi(e,t,n){e.$_sentryRootComponentSpanTimer&&clearTimeout(e.$_sentryRootComponentSpanTimer),e.$_sentryRootComponentSpanTimer=setTimeout(()=>{e.$root?.$_sentryRootComponentSpan&&(e.$root.$_sentryRootComponentSpan.end(t),e.$root.$_sentryRootComponentSpan=void 0)},n)}function LR(e,t){function n(o){return o.replace(/^<([^\s]*)>(?: at [^\s]*)?$/,"$1")}return e.some(o=>n(t)===n(o))}const DR=(e={})=>{const t=(e.hooks||[]).concat(Ih).filter((o,s,i)=>i.indexOf(o)===s),n={},r=e.timeout||2e3;for(const o of t){const s=PR[o];if(!s){wh&&m.warn(`Unknown hook: ${o}`);continue}for(const i of s)n[i]=function(){const a=this.$root===this;a&&(this.$_sentryRootComponentSpan=this.$_sentryRootComponentSpan||qt({name:"Application Render",op:`${jl}.render`,attributes:{[te]:"auto.ui.vue"},onlyIfParent:!0}),gi(this,fe(),r));const c=Sr(this,!1);if(!(a||(Array.isArray(e.trackComponents)?LR(e.trackComponents,c):e.trackComponents))){gi(this,fe(),r);return}this.$_sentryComponentSpans=this.$_sentryComponentSpans||{};const d=i===s[0],l=this.$root?.$_sentryRootComponentSpan||ye();if(d){if(l){const f=this.$_sentryComponentSpans[o];f&&f.end(),this.$_sentryComponentSpans[o]=qt({name:`Vue ${c}`,op:`${jl}.${o}`,attributes:{[te]:"auto.ui.vue"},onlyIfParent:!0})}}else{const f=this.$_sentryComponentSpans[o];if(!f)return;f.end(),gi(this,fe(),r)}}}return n},$R=L,FR={Vue:$R.Vue,attachProps:!0,attachErrorHandler:!0,tracingOptions:{hooks:Ih,timeout:2e3,trackComponents:!1}},BR="Vue",UR=(e={})=>({name:BR,setup(t){const n={...FR,...t.getOptions(),...e};if(!n.Vue&&!n.app){gt(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue specific errors will not be captured. Update your `Sentry.init` call with an appropriate config option: `app` (Application Instance - Vue 3) or `Vue` (Vue Constructor - Vue 2).")});return}n.app?(Array.isArray(n.app)?n.app:[n.app]).forEach(o=>zl(o,n)):n.Vue&&zl(n.Vue,n)}}),zl=(e,t)=>{wh&&e._instance?.isMounted===!0&&gt(()=>{console.warn("[@sentry/vue]: Misconfigured SDK. Vue app is already mounted. Make sure to call `app.mount()` after `Sentry.init()`.")}),t.attachErrorHandler&&OR(e,t),Ge(t)&&e.mixin(DR(t.tracingOptions))};function ex(e={}){const t={defaultIntegrations:[...cp(),UR()],...e};return Zd(t,"vue"),oI(t)}function HR(e,t,n){let r=!1;e.onError(o=>pe(o,{mechanism:{handled:!1}})),e.beforeEach((o,s,i)=>{const a=r?void 0:WR(),c={};for(const l of Object.keys(o.params))c[`url.path.parameter.${l}`]=o.params[l],c[`params.${l}`]=o.params[l];for(const l of Object.keys(o.query)){const f=o.query[l];f&&(c[`query.${l}`]=f)}let u=o.path,d="url";if(o.name&&t.routeLabel!=="path")u=o.name.toString(),d="custom";else if(o.matched.length>0){const l=o.matched.length-1;u=o.matched[l].path,d="route"}z().setTransactionName(u),t.instrumentPageLoad&&a&&(W(a).data[Pe]!=="custom"&&(a.updateName(u),a.setAttribute(Pe,d)),a.setAttributes({...c,[te]:"auto.pageload.vue"}),r=!0),t.instrumentNavigation&&!a&&n({name:u,op:"navigation",attributes:{...c,[te]:"auto.navigation.vue",[Pe]:d}}),i&&i()})}function WR(){const e=ye(),t=e&&be(e);return t&&W(t).op==="pageload"?t:void 0}function tx(e={}){if(!e.router)return Pl(e);const t=Pl({...e,instrumentNavigation:!1}),{router:n,instrumentNavigation:r=!0,instrumentPageLoad:o=!0,routeLabel:s="name"}=e;return{...t,afterAllSetup(i){t.afterAllSetup(i),HR(n,{routeLabel:s,instrumentNavigation:r,instrumentPageLoad:o},c=>{ph(i,c)})}}}const jR={attachPiniaState:!0,addBreadcrumbs:!0,actionTransformer:e=>e,stateTransformer:e=>e},ql=(e,t)=>{const n={};try{return Object.keys(e.state.value).forEach(r=>{n[r]=e.state.value[r]}),t?t(n):n}catch{return n}},nx=e=>{const t={...jR,...e};return({store:r,pinia:o})=>{t.attachPiniaState!==!1&&Ht().addEventProcessor((s,i)=>{try{const c=`pinia_state_all_stores_${new Date().toTimeString().split(" ")[0]}.json`;i.attachments?.some(d=>d.filename.startsWith("pinia_state_all_stores_"))||(i.attachments=[...i.attachments||[],{filename:c,data:JSON.stringify(ql(o,t.stateTransformer))}])}catch{}return s}),r.$onAction(s=>{s.after(()=>{const i=t.actionTransformer(s.name);typeof i<"u"&&i!==null&&t.addBreadcrumbs!==!1&&mt({category:"pinia.action",message:`Store: ${r.$id} | Action: ${i}`,level:"info"});const a=ql(o,t.stateTransformer),c=z(),u=c.getScopeData().contexts.state;if(typeof a<"u"&&a!==null){const f=R()?.getOptions()?.normalizeDepth||3,h={...u||{},state:{type:"pinia",value:a}};Le(h,"__sentry_override_normalization_depth__",3+f),c.setContext("state",h)}else c.setContext("state",{...u||{},state:{type:"pinia",value:"undefined"}})})})}};export{AT as BrowserClient,Js as MULTIPLEXED_TRANSPORT_EXTRA_KEY,VA as OpenFeatureIntegrationHook,Bt as SDK_VERSION,Ie as SEMANTIC_ATTRIBUTE_SENTRY_OP,te as SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN,ia as SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE,Pe as SEMANTIC_ATTRIBUTE_SENTRY_SOURCE,ht as Scope,D as WINDOW,mt as addBreadcrumb,Og as addEventProcessor,Jc as addIntegration,OR as attachErrorHandler,E0 as breadcrumbsIntegration,N0 as browserApiErrorsIntegration,jA as browserProfilingIntegration,F0 as browserSessionIntegration,tx as browserTracingIntegration,qA as buildLaunchDarklyFlagUsedHandler,oA as captureConsoleIntegration,Pr as captureEvent,pe as captureException,Vy as captureFeedback,Ag as captureMessage,qc as captureSession,s0 as chromeStackLineParser,eA as close,fA as consoleLoggingIntegration,PA as contextLinesIntegration,VR as continueTrace,hA as createConsolaReporter,yA as createLangChainCallbackHandler,nx as createSentryPiniaPlugin,DR as createTracingMixins,s_ as createTransport,CA as createUserFeedbackEnvelope,ty as dedupeIntegration,dh as defaultRequestInstrumentationOptions,g0 as defaultStackLineParsers,_0 as defaultStackParser,XA as diagnoseSdkConnectivity,Od as endSession,$_ as eventFiltersIntegration,IT as eventFromException,wT as eventFromMessage,Wa as exceptionFromError,sA as extraErrorDataIntegration,lA as featureFlagsIntegration,EA as feedbackAsyncIntegration,TA as feedbackIntegration,TA as feedbackSyncIntegration,ZR as flush,AA as forceLoad,P_ as functionToStringIntegration,u0 as geckoStackLineParser,ye as getActiveSpan,R as getClient,z as getCurrentScope,cp as getDefaultIntegrations,bA as getFeedback,Ht as getGlobalScope,ve as getIsolationScope,FA as getReplay,be as getRootSpan,go as getSpanDescendants,um as getSpanStatusFromHttpCode,ef as getTraceData,H0 as globalHandlersIntegration,LA as graphqlClientIntegration,KA as growthbookIntegration,OA as httpClientIntegration,G0 as httpContextIntegration,F_ as inboundFiltersIntegration,ex as init,gA as instrumentAnthropicAiClient,_A as instrumentGoogleGenAIClient,SA as instrumentLangGraph,mA as instrumentOpenAiClient,A1 as instrumentOutgoingRequests,Iy as instrumentSupabaseClient,Ng as isEnabled,tA as isInitialized,Mg as lastEventId,zA as launchDarklyIntegration,gT as lazyLoadIntegration,X0 as linkedErrorsIntegration,dA as logger,WA as makeBrowserOfflineTransport,rp as makeFetchTransport,nA as makeMultiplexedTransport,pA as metrics,rA as moduleMetadataIntegration,xA as onLoad,GA as openFeatureIntegration,wA as opera10StackLineParser,kA as opera11StackLineParser,w_ as parameterize,Mm as registerSpanErrorInstrumentation,ZA as registerWebWorker,BA as replayCanvasIntegration,$A as replayIntegration,UA as reportPageLoaded,NA as reportingObserverIntegration,iA as rewriteFramesIntegration,bE as sendFeedback,HA as setActiveSpanInBrowser,xg as setContext,g_ as setCurrentClient,KR as setExtra,JR as setExtras,Oo as setHttpStatus,Qm as setMeasurement,XR as setTag,YR as setTags,QR as setUser,MA as showReportDialog,GR as spanToBaggageHeader,W as spanToJSON,km as spanToTraceHeader,RA as spotlightBrowserIntegration,ph as startBrowserTracingNavigationSpan,j1 as startBrowserTracingPageLoadSpan,qt as startInactiveSpan,og as startNewTrace,zc as startSession,Qt as startSpan,$t as startSpanManual,YA as statsigIntegration,aA as supabaseIntegration,rg as suppressTracing,uA as thirdPartyErrorFilterIntegration,vA as uiProfiler,JA as unleashIntegration,qR as updateSpanName,UR as vueIntegration,QA as webWorkerIntegration,IA as winjsStackLineParser,ms as withActiveSpan,zR as withIsolationScope,rt as withScope,cA as zodErrorsIntegration};
