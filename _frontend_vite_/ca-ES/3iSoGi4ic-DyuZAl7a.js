import{b as w,u as y,a as u,f as M,i as m,h as a,p as c,l as _,t as b,q as x,B as i,D as s,E as t}from"./3iSoGi4ic-D0mTJ0Mu.js";import{i as V,a7 as v,M as E,R as P,ad as B,L as C}from"./3iSoGi4ic-DV-GuiCp.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const A={class:"_spacer",style:{"--MI_SPACER-min":"20px","--MI_SPACER-max":"28px"}},S={class:"_gaps_m"},h={key:1},U=w({__name:"MkForgotPassword",emits:["done","closed"],setup(q,{emit:g}){const p=g,r=y("dialog"),n=u(""),d=u(""),f=u(!1);async function k(){f.value=!0,await C("request-reset-password",{username:n.value,email:d.value}),p("done"),r.value?.close()}return(I,e)=>(m(),M(B,{ref_key:"dialog",ref:r,width:370,height:400,onClose:e[2]||(e[2]=l=>r.value?.close()),onClosed:e[3]||(e[3]=l=>p("closed"))},{header:a(()=>[s(t("Restableix la contrasenya "),1)]),default:a(()=>[c("div",A,[b(V).enableEmail?(m(),_("form",{key:0,onSubmit:x(k,["prevent"])},[c("div",S,[i(v,{modelValue:n.value,"onUpdate:modelValue":e[0]||(e[0]=l=>n.value=l),type:"text",pattern:"^[a-zA-Z0-9_]+$",spellcheck:!1,autofocus:"",required:""},{label:a(()=>[s(t("Nom d'usuari"),1)]),prefix:a(()=>[...e[4]||(e[4]=[s("@",-1)])]),_:1},8,["modelValue"]),i(v,{modelValue:d.value,"onUpdate:modelValue":e[1]||(e[1]=l=>d.value=l),type:"email",spellcheck:!1,required:""},{label:a(()=>[s(t("Adreça de correu electrònic"),1)]),caption:a(()=>[s(t("Escriu l'adreça de correu electrònic amb la que et vas registrar. S'enviarà un correu electrònic amb un enllaç perquè puguis canviar-la."),1)]),_:1},8,["modelValue"]),i(E,{type:"submit",rounded:"",disabled:f.value,primary:"",style:{margin:"0 auto"}},{default:a(()=>[s(t("Envia"),1)]),_:1},8,["disabled"]),i(P,null,{default:a(()=>[s(t("Si no vas fer servir una adreça de correu electrònic per registrar-te, si us plau posa't en contacte amb l'administrador."),1)]),_:1})])],32)):(m(),_("div",h,t("Aquesta instància no suporta registrar-se amb correu electrònic. Si us plau, contacta amb l'administrador del servidor."),1))])]),_:1},512))}});export{U as default};
