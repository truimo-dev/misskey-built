import{M as L}from"./3iSoGi4ic-mUIS9yQt.js";import{M as B}from"./3iSoGi4ic-UCD0eRzT.js";import{P as y,J as C,i as O,az as D}from"./3iSoGi4ic-DV-GuiCp.js";import{b as $,m as f,a as U,l as n,i as e,B as s,f as _,C as P,t as i,z as A,F as M,h as t,p as c,D as u,E as g,A as T,c as N}from"./3iSoGi4ic-D0mTJ0Mu.js";import{M as w}from"./3iSoGi4ic-PqEuquuW.js";import{M as h}from"./3iSoGi4ic-DtDbNQ4_.js";import{M as z}from"./3iSoGi4ic-B70zSkp5.js";import"./3iSoGi4ic-CdSqfJMx.js";import"./3iSoGi4ic-Dv7rS4og.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";import"./3iSoGi4ic-Dn35_-KQ.js";import"./3iSoGi4ic-CsUWgtg6.js";const H={class:"_spacer",style:{"--MI_SPACER-w":"800px"}},W=$({__name:"explore.featured",setup(k){const p=f(new y("notes/featured",{limit:10})),l=f(new y("notes/polls/recommendation",{limit:10,offsetMode:!0,params:{excludeChannels:!0}})),o=U("notes");return(m,d)=>(e(),n("div",H,[s(B,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=b=>o.value=b),tabs:[{key:"notes",label:"Notes"},{key:"polls",label:"Enquesta"}],style:{"margin-bottom":"var(--MI-margin)"}},null,8,["modelValue","tabs"]),o.value==="notes"?(e(),_(L,{key:0,paginator:i(p)},null,8,["paginator"])):o.value==="polls"?(e(),_(L,{key:1,paginator:i(l)},null,8,["paginator"])):P("",!0)]))}}),J={class:"_spacer",style:{"--MI_SPACER-w":"1200px"}},j={key:1},q={key:2},G=$({__name:"explore.users",props:{tag:{}},setup(k){const p=k,l=U("local"),o=U([]),m=U([]),d=p.tag!=null?f(new y("hashtags/users",{limit:30,params:{tag:p.tag,origin:"combined",sort:"+follower"}})):null,b=f(new y("pinned-users",{noPaging:!0})),x=f(new y("users",{limit:10,noPaging:!0,params:{state:"alive",origin:"local",sort:"+follower"}})),V=f(new y("users",{limit:10,noPaging:!0,params:{origin:"local",sort:"+updatedAt"}})),E=f(new y("users",{limit:10,noPaging:!0,params:{origin:"local",state:"alive",sort:"+createdAt"}})),I=f(new y("users",{limit:10,noPaging:!0,params:{state:"alive",origin:"remote",sort:"+follower"}})),S=f(new y("users",{limit:10,noPaging:!0,params:{origin:"combined",sort:"+updatedAt"}})),K=f(new y("users",{limit:10,noPaging:!0,params:{origin:"combined",sort:"+createdAt"}}));return C("hashtags/list",{sort:"+attachedLocalUsers",attachedToLocalUserOnly:!0,limit:30}).then(R=>{o.value=R}),C("hashtags/list",{sort:"+attachedRemoteUsers",attachedToRemoteUserOnly:!0,limit:30}).then(R=>{m.value=R}),(R,a)=>{const F=A("MkA");return e(),n("div",J,[i(O).federation!=="none"?(e(),_(B,{key:0,modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=v=>l.value=v),tabs:[{key:"local",label:"Local"},{key:"remote",label:"Remot"}],style:{"margin-bottom":"var(--MI-margin)"}},null,8,["modelValue","tabs"])):P("",!0),l.value==="local"?(e(),n("div",j,[k.tag==null?(e(),n(M,{key:0},[s(h,{class:"_margin",persistKey:"explore-pinned-users"},{header:t(()=>[a[1]||(a[1]=c("i",{class:"ti ti-bookmark ti-fw",style:{"margin-right":"0.5em"}},null,-1)),u(g("Usuaris fixats"),1)]),default:t(()=>[s(w,{paginator:i(b)},null,8,["paginator"])]),_:1}),s(h,{class:"_margin",persistKey:"explore-popular-users"},{header:t(()=>[a[2]||(a[2]=c("i",{class:"ti ti-chart-line ti-fw",style:{"margin-right":"0.5em"}},null,-1)),u(g("Usuaris populars"),1)]),default:t(()=>[s(w,{paginator:i(x)},null,8,["paginator"])]),_:1}),s(h,{class:"_margin",persistKey:"explore-recently-updated-users"},{header:t(()=>[a[3]||(a[3]=c("i",{class:"ti ti-message ti-fw",style:{"margin-right":"0.5em"}},null,-1)),u(g("Usuaris actius fa poc"),1)]),default:t(()=>[s(w,{paginator:i(V)},null,8,["paginator"])]),_:1}),s(h,{class:"_margin",persistKey:"explore-recently-registered-users"},{header:t(()=>[a[4]||(a[4]=c("i",{class:"ti ti-plus ti-fw",style:{"margin-right":"0.5em"}},null,-1)),u(g("Usuaris nous"),1)]),default:t(()=>[s(w,{paginator:i(E)},null,8,["paginator"])]),_:1})],64)):P("",!0)])):(e(),n("div",q,[s(h,{foldable:!0,expanded:!1,class:"_margin"},{header:t(()=>[a[5]||(a[5]=c("i",{class:"ti ti-hash ti-fw",style:{"margin-right":"0.5em"}},null,-1)),u(g("Etiquetes populars"),1)]),default:t(()=>[c("div",null,[(e(!0),n(M,null,T(o.value,v=>(e(),_(F,{key:"local:"+v.tag,to:`/user-tags/${v.tag}`,style:{"margin-right":"16px","font-weight":"bold"}},{default:t(()=>[u(g(v.tag),1)]),_:2},1032,["to"]))),128)),(e(!0),n(M,null,T(m.value,v=>(e(),_(F,{key:"remote:"+v.tag,to:`/user-tags/${v.tag}`,style:{"margin-right":"16px"}},{default:t(()=>[u(g(v.tag),1)]),_:2},1032,["to"]))),128))])]),_:1}),i(d)!=null?(e(),_(h,{key:`${k.tag}`,class:"_margin"},{header:t(()=>[a[6]||(a[6]=c("i",{class:"ti ti-hash ti-fw",style:{"margin-right":"0.5em"}},null,-1)),u(g(k.tag),1)]),default:t(()=>[s(w,{paginator:i(d)},null,8,["paginator"])]),_:1})):P("",!0),k.tag==null?(e(),n(M,{key:1},[s(h,{class:"_margin"},{header:t(()=>[a[7]||(a[7]=c("i",{class:"ti ti-chart-line ti-fw",style:{"margin-right":"0.5em"}},null,-1)),u(g("Usuaris populars"),1)]),default:t(()=>[s(w,{paginator:i(I)},null,8,["paginator"])]),_:1}),s(h,{class:"_margin"},{header:t(()=>[a[8]||(a[8]=c("i",{class:"ti ti-message ti-fw",style:{"margin-right":"0.5em"}},null,-1)),u(g("Usuaris actius fa poc"),1)]),default:t(()=>[s(w,{paginator:i(S)},null,8,["paginator"])]),_:1}),s(h,{class:"_margin"},{header:t(()=>[a[9]||(a[9]=c("i",{class:"ti ti-rocket ti-fw",style:{"margin-right":"0.5em"}},null,-1)),u(g("Usuaris descoberts fa poc"),1)]),default:t(()=>[s(w,{paginator:i(K)},null,8,["paginator"])]),_:1})],64)):P("",!0)]))])}}}),Q={class:"_spacer",style:{"--MI_SPACER-w":"700px"}},X={key:0,class:"_gaps_s"},Y=$({__name:"explore.roles",setup(k){const p=U(null),l=U(!0);return C("roles/list").then(o=>{p.value=o.filter(m=>m.target==="manual").sort((m,d)=>d.displayOrder-m.displayOrder)}).finally(()=>{l.value=!1}),(o,m)=>{const d=A("MkLoading"),b=A("MkResult");return e(),n("div",Q,[p.value!=null&&p.value.length>0?(e(),n("div",X,[(e(!0),n(M,null,T(p.value,x=>(e(),_(z,{key:x.id,role:x,forModeration:!1},null,8,["role"]))),128))])):l.value?(e(),_(d,{key:1})):(e(),_(b,{key:2,type:"empty",text:"No s'han trobat rols"},null,8,["text"]))])}}}),Z={key:0},ee={key:1},te={key:2},fe=$({__name:"explore",props:{initialTab:{default:"featured"}},setup(k){const l=U(k.initialTab),o=N(()=>[]),m=N(()=>[{key:"featured",icon:"ti ti-bolt",title:"Destacat"},{key:"users",icon:"ti ti-users",title:"Usuaris"},{key:"roles",icon:"ti ti-badges",title:"Rols"}]);return D(()=>({title:"Explora",icon:"ti ti-hash"})),(d,b)=>{const x=A("PageWithHeader");return e(),_(x,{tab:l.value,"onUpdate:tab":b[0]||(b[0]=V=>l.value=V),actions:o.value,tabs:m.value,swipable:!0},{default:t(()=>[l.value==="featured"?(e(),n("div",Z,[s(W)])):l.value==="users"?(e(),n("div",ee,[s(G)])):l.value==="roles"?(e(),n("div",te,[s(Y)])):P("",!0)]),_:1},8,["tab","actions","tabs"])}}});export{fe as default};
