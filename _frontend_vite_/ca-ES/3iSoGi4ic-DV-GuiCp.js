const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BdXJypNn.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DCTAa4Sx.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D0mTJ0Mu.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B1GPmOGN.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dty8GuTz.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D98_HDRS.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DZU1WGtr.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BTEqZk5y.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CPC0juvp.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C1WrZlN9.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-E9y3D3FS.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CC5SbM-1.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BgKfJtXH.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-ZgZwsOf9.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CWNKWMZU.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BDwuR9EO.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-W4Bon-Ig.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DcqrOjdj.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BGuKFZn9.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B8Xjcm23.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-LYhurnFd.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-fm7onHr2.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-XQIjHiyB.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-eoZvcYZz.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CXH-8M55.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B5qn6Nto.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BgiUUhZ3.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DtCc2wMP.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B4afuXB3.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CS6W3O_2.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bfnh9Se0.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-C8HIzDa2.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DU45E0ni.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Ca_xJRAU.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CqA9HU_J.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DfM2FKAZ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DJ0ATcAq.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BZF3hAli.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-JEcY6tAe.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DDJ1XCSA.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BRInD2Op.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DX_pw7tT.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C7cTXzou.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-1lAHcaYT.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DSRKOEgA.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CroZGZXy.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DmwIlbOB.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Cp44RLm3.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D8TwLp3p.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B_Miy0YN.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-T62CFgGC.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Cu3B2Zrd.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CdwgcBbg.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DbGnjMgs.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-9U6fm8cf.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-UIFlVoMV.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BfZzwc3m.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B-roHQgP.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-nJzNoieu.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-C0O4p9AH.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Ddz4upM5.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-ke9ZaMpT.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-KYydmxIu.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CCt4ZT5M.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-ClBRnK_w.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BqYHjcGp.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D9GTqtZ_.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BgYi9BfU.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BDF7xMl0.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-8Z3zIVAA.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Fx-BY70c.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Dkg-saem.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DUrJvqB4.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bicjb8pP.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CKyi7BXX.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BJql82xo.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CnzNIP5Y.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BBxxFutt.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DF7w4Suk.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BuNBw6qU.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CsDWqpWi.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-geP5Alzl.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CMGT2xRN.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DmSY-Bnw.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DdEajmLq.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-82fdyyv-.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BF_KCFJG.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-qgTlnaib.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C_jVS2nH.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D6lvPj3q.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D4c9btWc.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BBCCQB-9.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BmWWpIXY.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D4GX2S4n.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Cj6Wx0ao.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DaTARTeS.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-wEnKwRDb.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DR2vO6TF.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-C4MHiTai.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-u68qxafd.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BGC2QQRu.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-YHnu4F9t.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CqI1HX-x.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DkSECkZ7.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CDb7FdAm.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B3gHHTAf.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DienmJ9d.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C_H_v6j3.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-XqpIfYXr.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Co7lP8eQ.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-s4jzJ6kJ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-ChpBLpgN.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B_w_Qyva.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-4nLyZIDY.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BK8Hr_a2.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BmLZI3Ia.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dz5OvLqt.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CZYXc2mx.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bxvu07K0.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Cqq-L8iu.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CSc4cSLM.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-3Ozk4xx7.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DME4HHoh.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DVwivaKr.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B2w6PCOa.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-C_KRNUC8.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D8UyQ0ea.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CQLhMYzh.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-0EVKrfpW.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-C00oWnDL.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CBiS4VhD.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CXdqbDJK.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CT-x3qiq.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DmNFh-kA.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-qiI96ppG.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CkVrEOpm.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cga1h9L-.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C8VTAW4L.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CZvBRCQR.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CdSqfJMx.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dv7rS4og.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BbG5vB-s.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DnhnJG_2.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-XYIrWxNU.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DNhx-gkC.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BLcLoz2I.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DbkfZFKC.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CIu_gLTY.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CcUuajVg.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Cac247W_.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-j2fwoXPe.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-AG6S1yc7.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-qfX4D5dB.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BMNL0SP4.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CGoH_5Rh.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-URuTZv_d.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DlHFSG-Y.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-tn0RQdqM.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-PRfq4AnS.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-TyGCseq8.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dy0PONm0.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CqmhgU-Q.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BjhW5f40.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CCPzC4mf.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-ByVHCJqQ.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BHC0zHFd.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-i0V9UGTl.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cj3FgKaq.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BoLiR7-4.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BMRhXjvk.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-85Ds6Ccp.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BiJekLPT.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-poB1ZIXQ.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D-u_0ZZO.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CAOZjBq-.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dn35_-KQ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CsUWgtg6.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-eH3eQdrJ.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B8NUJkDB.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DHsAIPxv.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-ZwrQNIU9.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CAapp7tp.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cx1VE20Y.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-a-oDSyyf.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-mUIS9yQt.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-26XO5D71.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Db5Eufi0.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BQZOxCpf.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-y3_HjM0O.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-VTO3_13K.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B_U_MhWU.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BPxUbB1H.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BeQZPIQv.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-tLGdYAqU.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DyEXmobD.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bt3Gk7d7.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BxIoM1hP.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D3TJKvmz.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DID2kkuO.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BerxugxZ.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-zXlwqD-6.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DtDbNQ4_.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-cayhcQU6.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DygYQwdU.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BWXzD3kS.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-kH70xU29.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CddAdY7K.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DZepMibp.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BYe7Kr4L.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BmbtN6Hh.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BWBLHwGQ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BPp9MNgd.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-C7_f0Ypu.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B2qmb-TD.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bi2fFNSK.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DYnmgoxC.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bdp74Lb8.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CaDkpGcu.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-sO6t7b9D.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BBsRrkiB.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bk7E6Sgr.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BbDKZFkD.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-NWHBjAyM.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D2cYyZiQ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DEBwGuYb.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BjIDNJrc.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C6Qkqw3d.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-C4BbINx0.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D8X1N6Gw.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Sn3rONku.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-bTd_o7sY.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CtZFI3ph.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Cm4NlAGz.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CKbToE4N.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CquQT64K.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BszdiP54.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-4oa2bN0A.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-9-i_50If.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DMLFIveo.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DughwgT7.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DxTt1Ruo.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-62sPY8ro.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-9QPBHd0s.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CZPRXpQl.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cx2COe6D.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DwlurnPJ.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DbWJN266.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-1UQoJOkD.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-C8D1f6QU.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dcgi7mBa.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C2B0Tleo.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CBS9K6fQ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CNyaLqcm.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DWFfFw4N.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic--zoJC9Uy.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DAn693fE.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B0B7t7Sa.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BkyYD08C.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B-GERHIA.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Bleof7Tk.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C-YhMZt8.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dmp4grLJ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B56vq8ET.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CyYdojz9.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CuonzE3m.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-wLNMYTY2.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CXZTAQyH.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DIPZerol.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DMNoze3l.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-A8iqpEr4.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bd3KXpWo.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-C_jtyMqd.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-lgHuS09R.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B-Njh0xb.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CZLQ9mhp.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C8Fa6UEo.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-tVDA3eO8.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Dc8a4A3A.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-f_j9ws41.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BVlMKZQY.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DAkLPjCW.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DUxM-p7P.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-VsCT76Ke.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BKorXE_p.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D_1qArCf.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B70zSkp5.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic--Qf9nOJR.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DrqN4uCb.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DQHmg0_N.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CGgV3R_Q.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CbDT_kpf.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Be6fXT6s.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-GaBJpSod.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Cu1M4Us2.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CoHQybN7.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BRvy7Lrz.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dx40Qa9F.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CbBAvbQ0.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B4XBlAYR.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BgR2J6yA.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DP9OWZQX.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BgWU3LBm.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bw71qrnR.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-C8L21-Ti.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BwSG5_YJ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-u5C3FQ9u.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CebCGKo5.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-0Fiqewa4.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C3LIov3F.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-kLAq1-Bl.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-PqEuquuW.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C51g66_U.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CujOTmdf.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BgVq4n3Q.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-UCD0eRzT.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-ByiXuA1e.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CbtqwA2C.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-6u9HiKZD.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B-Gau2qz.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D_V3EEd4.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BFpKLJnA.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DqRs3dCM.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DZflf8bO.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-38Le8rmV.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-2cx5bJor.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BUOGOkOG.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D_iezsNB.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CteuwjJ2.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DzXBpDzU.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CE4pVLpw.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BDsr-ac4.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CFYDDuXZ.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-ns5i5dTH.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B0Lm_MM4.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BYMYX2cv.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CZ1vJC9U.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DQY5_NQ3.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BJlAbDXZ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-baEN4vCD.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CCRU40NK.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DhRDVTv1.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B3iAgDk3.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DAdd3LFH.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BGRRUtJH.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DBLCb-tv.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B70Ar0M-.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CxCKNdV_.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dsx90Xmd.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CdLTzEpS.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CiV97wiL.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B5N0pgVO.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BFwpT7IY.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-xm7VghdF.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DqZTax7V.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-MQLmQ4Y_.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BSV6ujqP.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Bq217cR7.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C0p11mR7.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cae8Uk4L.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-WXYqJdDW.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DlK6bKlv.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D1MdWo18.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BX91TJn-.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-D5dg6IDF.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-7qs7j5r4.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BR0Sc_pg.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D5E2dNcA.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BBq1k81Y.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DFkOKWK3.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DMGpXLgJ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-D3xe8MC3.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cc7RbAcS.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B1V085rU.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BrKXHn49.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Cm4JFCV3.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CytB5RiD.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CSW6ZOiE.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CUVK8dT_.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-_4H1QviN.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CrEzrTHK.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BZCXIYTc.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cv8Ag6ce.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-e5FAZrSV.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-8TpncZSx.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-atZAPWr2.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Dhf3dOix.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D23NmGRE.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-D9PSIxtW.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D8UJCZq8.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DMMP5efw.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D79-Jr0i.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DGf5Pjvc.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-uyL0VY4c.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic--Jsa_HFX.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CZnEHx3y.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BfUWWGas.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DBx_n1YO.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DNCKijjw.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic--cV5fjbM.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CNDEVYRH.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CfLE66D2.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B-CSt5D5.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CCPzcPEu.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DWKPLXFg.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-rZXy6YUg.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-1mKGyXt3.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-C-bNmuwy.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CrKUVVYM.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DyDRZHSV.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CRtTGSxn.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cz_N528Z.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CoVfzuX6.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic--zfDsnvy.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-SMYj5lrz.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B1WGHlFG.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DIm8JSX7.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BLIMyfrL.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BPM9_ENk.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DUJsmIb_.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BGHhpwIl.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D_CkSiQB.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BmH6Mv4Y.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-ClvNE5e8.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DJuNMEVb.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-L8gFzNrz.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BW98EXzT.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DqmMtA9_.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-HukNlNgf.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CN190prK.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Df2oMLvz.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-WcPguy1a.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CUO11S9I.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-me0QhZ1-.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-HE3Rrlli.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DLCHT8hS.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Q7mGHOQK.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BaSVjItj.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DI0ojuRL.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C-FX5-QR.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Tq0pbOJD.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Cqmph3I4.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-H5ttdcjt.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CAkUfZz4.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic--Td5hOgx.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dt0miFPy.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BIyPmGwD.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DFl1OlvJ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BXTzuw9N.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-KwBPQBcQ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CzZ_3g_K.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BtBpfLhD.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-D3vvA26c.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DgbjUbxv.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BFkjns-m.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bpr1cGQZ.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-SvghYmFQ.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cs85pORt.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-EQpgneud.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CKV8F_6U.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-i8eexrsO.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Fk3j1ou2.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-XVTkWJ_-.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DAF70st9.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-D4KuhGPZ.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cm9BVSd4.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B5kLJv11.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Bhk5gLgV.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DPCuxcnO.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BNEZVgdd.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BNF0PL3J.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CdbLjNzR.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CV33vZEB.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CbHIs0X3.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CfFGiCzY.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-SkJtBxTo.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D6q9bG--.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DbFLP2ql.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B13RVtbW.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BRNhSciN.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BQCmsAuz.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dz35qlw9.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-cMuyXnWh.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-C6yuBnwz.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DyvsvArS.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DMWORv73.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-32C9Cmmk.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CjR-qMRT.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Dd0u6em0.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-u8tflNKs.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-D4IHCL0R.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CD8_GPQu.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-JPPEvUEh.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BkIl54Z9.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-6wyN3PH0.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B2A0dt7S.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BXskCbVD.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cg14mz44.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-jx5tLi4O.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Cdj7iUF7.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-D1ntup-9.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D7Fzlih-.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-zrj6hZCX.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bnfnk61m.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DEXb-RhH.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-wjMn9AGV.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BcDQPkzL.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DQN9wAE8.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CCU0XvaA.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-LIDlKlio.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DpljTZ8H.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CzJS7XdG.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-2jDyj2p8.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-CsyW_th6.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-B70AZFGn.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Rwe6UwMv.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BOvVhjR-.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DxysGAqY.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CVUJK-W8.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DjjNifUs.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BAXK1Js7.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BwkXEOuW.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-D5RzqwEm.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D8yUrXUl.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BJw8Lhx4.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BBrvJElV.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-D7l6N2FY.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-wBVEFZfF.css"])))=>i.map(i=>d[i]);
import{d as he,r as Qo,a as F,w as oe,o as nt,m as rt,c as z,b as K,u as de,e as We,n as Be,f as N,T as St,g as J,h as H,i as c,j as te,v as Ft,k as Ye,l as v,p as b,q as fe,s as $e,t as E,x as Ae,y as ct,z as Q,F as pe,A as ze,B as j,C as M,D as Z,E as S,G as Gi,H as Bn,I as tt,J as Bo,K as Qi,L as $n,M as gi,N as Zo,O as Kd,P as Tn,Q as Kn,R as Za,S as Si,U as Ct,V as Zi,W as Yd,X as Xd,Y as Nt,Z as jt,_ as Xt,$ as Gd,a0 as ea,a1 as Mr,a2 as Qd,a3 as Me,a4 as Zd,a5 as Hl,a6 as ql}from"./3iSoGi4ic-D0mTJ0Mu.js";import{a as yi,l as Bs,p as Pi,v as mn,h as Oe,u as ht,w as ef,i as ni,b as tf,c as es,d as Eo}from"./3iSoGi4ic-B1GPmOGN.js";import{P as nf,a as of}from"./3iSoGi4ic-D98_HDRS.js";const af="modulepreload",sf=function(e,t){return new URL(e,t).href},Fr={},I=function(t,n,i){let o=Promise.resolve();if(n&&n.length>0){let f=function(h){return Promise.all(h.map(w=>Promise.resolve(w).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};const s=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),l=r?.nonce||r?.getAttribute("nonce");o=f(n.map(h=>{if(h=sf(h,i),h in Fr)return;Fr[h]=!0;const w=h.endsWith(".css"),u=w?'[rel="stylesheet"]':"";if(i)for(let g=s.length-1;g>=0;g--){const p=s[g];if(p.href===h&&(!w||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${h}"]${u}`))return;const y=document.createElement("link");if(y.rel=w?"stylesheet":af,w||(y.as="script"),y.crossOrigin="",y.href=h,l&&y.setAttribute("nonce",l),document.head.appendChild(y),w)return new Promise((g,p)=>{y.addEventListener("load",g),y.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${h}`)))})}))}function a(s){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s}return o.then(s=>{for(const r of s||[])r.status==="rejected"&&a(r.reason);return t().catch(a)})};(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var px=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function vx(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var n=function i(){var o=!1;try{o=this instanceof i}catch{}return o?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}),n}var ga={exports:{}},Sr;function rf(){return Sr||(Sr=1,(function(e){var t=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function o(l,f,h){this.fn=l,this.context=f,this.once=h||!1}function a(l,f,h,w,u){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new o(h,w||l,u),g=n?n+f:f;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],y]:l._events[g].push(y):(l._events[g]=y,l._eventsCount++),l}function s(l,f){--l._eventsCount===0?l._events=new i:delete l._events[f]}function r(){this._events=new i,this._eventsCount=0}r.prototype.eventNames=function(){var f=[],h,w;if(this._eventsCount===0)return f;for(w in h=this._events)t.call(h,w)&&f.push(n?w.slice(1):w);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},r.prototype.listeners=function(f){var h=n?n+f:f,w=this._events[h];if(!w)return[];if(w.fn)return[w.fn];for(var u=0,y=w.length,g=new Array(y);u<y;u++)g[u]=w[u].fn;return g},r.prototype.listenerCount=function(f){var h=n?n+f:f,w=this._events[h];return w?w.fn?1:w.length:0},r.prototype.emit=function(f,h,w,u,y,g){var p=n?n+f:f;if(!this._events[p])return!1;var m=this._events[p],x=arguments.length,k,_;if(m.fn){switch(m.once&&this.removeListener(f,m.fn,void 0,!0),x){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,h),!0;case 3:return m.fn.call(m.context,h,w),!0;case 4:return m.fn.call(m.context,h,w,u),!0;case 5:return m.fn.call(m.context,h,w,u,y),!0;case 6:return m.fn.call(m.context,h,w,u,y,g),!0}for(_=1,k=new Array(x-1);_<x;_++)k[_-1]=arguments[_];m.fn.apply(m.context,k)}else{var C=m.length,T;for(_=0;_<C;_++)switch(m[_].once&&this.removeListener(f,m[_].fn,void 0,!0),x){case 1:m[_].fn.call(m[_].context);break;case 2:m[_].fn.call(m[_].context,h);break;case 3:m[_].fn.call(m[_].context,h,w);break;case 4:m[_].fn.call(m[_].context,h,w,u);break;default:if(!k)for(T=1,k=new Array(x-1);T<x;T++)k[T-1]=arguments[T];m[_].fn.apply(m[_].context,k)}}return!0},r.prototype.on=function(f,h,w){return a(this,f,h,w,!1)},r.prototype.once=function(f,h,w){return a(this,f,h,w,!0)},r.prototype.removeListener=function(f,h,w,u){var y=n?n+f:f;if(!this._events[y])return this;if(!h)return s(this,y),this;var g=this._events[y];if(g.fn)g.fn===h&&(!u||g.once)&&(!w||g.context===w)&&s(this,y);else{for(var p=0,m=[],x=g.length;p<x;p++)(g[p].fn!==h||u&&!g[p].once||w&&g[p].context!==w)&&m.push(g[p]);m.length?this._events[y]=m.length===1?m[0]:m:s(this,y)}return this},r.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new i,this._eventsCount=0),this},r.prototype.off=r.prototype.removeListener,r.prototype.addListener=r.prototype.on,r.prefixed=n,r.EventEmitter=r,e.exports=r})(ga)),ga.exports}var lf=rf();const wn=Wl(lf);var ts=function(e,t){return ts=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&(function(n,i){n.__proto__=i})||(function(n,i){for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o])}),ts(e,t)};function Jl(e,t){ts(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function uf(e){var t=typeof Symbol=="function"&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}}function cf(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var i=n.call(e),o,a=[],s;try{for(;(t===void 0||t-- >0)&&!(o=i.next()).done;)a.push(o.value)}catch(r){s={error:r}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(s)throw s.error}}return a}function df(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cf(arguments[t]));return e}var Kl=(function(){function e(t,n){this.target=n,this.type=t}return e})(),ff=(function(e){Jl(t,e);function t(n,i){var o=e.call(this,"error",i)||this;return o.message=n.message,o.error=n,o}return t})(Kl),mf=(function(e){Jl(t,e);function t(n,i,o){n===void 0&&(n=1e3),i===void 0&&(i="");var a=e.call(this,"close",o)||this;return a.wasClean=!0,a.code=n,a.reason=i,a}return t})(Kl),hf=function(){if(typeof WebSocket<"u")return WebSocket},pf=function(e){return typeof e<"u"&&!!e&&e.CLOSING===2},On={maxReconnectionDelay:1e4,minReconnectionDelay:1e3+Math.random()*4e3,minUptime:5e3,reconnectionDelayGrowFactor:1.3,connectionTimeout:4e3,maxRetries:1/0,maxEnqueuedMessages:1/0},vf=(function(){function e(t,n,i){var o=this;i===void 0&&(i={}),this._listeners={error:[],message:[],open:[],close:[]},this._retryCount=-1,this._shouldReconnect=!0,this._connectLock=!1,this._binaryType="blob",this._closeCalled=!1,this._messageQueue=[],this.onclose=null,this.onerror=null,this.onmessage=null,this.onopen=null,this._handleOpen=function(a){o._debug("open event");var s=o._options.minUptime,r=s===void 0?On.minUptime:s;clearTimeout(o._connectTimeout),o._uptimeTimeout=setTimeout(function(){return o._acceptOpen()},r),o._ws.binaryType=o._binaryType,o._messageQueue.forEach(function(l){return o._ws.send(l)}),o._messageQueue=[],o.onopen&&o.onopen(a),o._listeners.open.forEach(function(l){return o._callEventListener(a,l)})},this._handleMessage=function(a){o._debug("message event"),o.onmessage&&o.onmessage(a),o._listeners.message.forEach(function(s){return o._callEventListener(a,s)})},this._handleError=function(a){o._debug("error event",a.message),o._disconnect(void 0,a.message==="TIMEOUT"?"timeout":void 0),o.onerror&&o.onerror(a),o._debug("exec error listeners"),o._listeners.error.forEach(function(s){return o._callEventListener(a,s)}),o._connect()},this._handleClose=function(a){o._debug("close event"),o._clearTimeouts(),o._shouldReconnect&&o._connect(),o.onclose&&o.onclose(a),o._listeners.close.forEach(function(s){return o._callEventListener(a,s)})},this._url=t,this._protocols=n,this._options=i,this._options.startClosed&&(this._shouldReconnect=!1),this._connect()}return Object.defineProperty(e,"CONNECTING",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPEN",{get:function(){return 1},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSING",{get:function(){return 2},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CLOSED",{get:function(){return 3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CONNECTING",{get:function(){return e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"OPEN",{get:function(){return e.OPEN},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSING",{get:function(){return e.CLOSING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"CLOSED",{get:function(){return e.CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"binaryType",{get:function(){return this._ws?this._ws.binaryType:this._binaryType},set:function(t){this._binaryType=t,this._ws&&(this._ws.binaryType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"retryCount",{get:function(){return Math.max(this._retryCount,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bufferedAmount",{get:function(){var t=this._messageQueue.reduce(function(n,i){return typeof i=="string"?n+=i.length:i instanceof Blob?n+=i.size:n+=i.byteLength,n},0);return t+(this._ws?this._ws.bufferedAmount:0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"extensions",{get:function(){return this._ws?this._ws.extensions:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this._ws?this._ws.protocol:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._ws?this._ws.readyState:this._options.startClosed?e.CLOSED:e.CONNECTING},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"url",{get:function(){return this._ws?this._ws.url:""},enumerable:!0,configurable:!0}),e.prototype.close=function(t,n){if(t===void 0&&(t=1e3),this._closeCalled=!0,this._shouldReconnect=!1,this._clearTimeouts(),!this._ws){this._debug("close enqueued: no ws instance");return}if(this._ws.readyState===this.CLOSED){this._debug("close: already closed");return}this._ws.close(t,n)},e.prototype.reconnect=function(t,n){this._shouldReconnect=!0,this._closeCalled=!1,this._retryCount=-1,!this._ws||this._ws.readyState===this.CLOSED?this._connect():(this._disconnect(t,n),this._connect())},e.prototype.send=function(t){if(this._ws&&this._ws.readyState===this.OPEN)this._debug("send",t),this._ws.send(t);else{var n=this._options.maxEnqueuedMessages,i=n===void 0?On.maxEnqueuedMessages:n;this._messageQueue.length<i&&(this._debug("enqueue",t),this._messageQueue.push(t))}},e.prototype.addEventListener=function(t,n){this._listeners[t]&&this._listeners[t].push(n)},e.prototype.dispatchEvent=function(t){var n,i,o=this._listeners[t.type];if(o)try{for(var a=uf(o),s=a.next();!s.done;s=a.next()){var r=s.value;this._callEventListener(t,r)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return!0},e.prototype.removeEventListener=function(t,n){this._listeners[t]&&(this._listeners[t]=this._listeners[t].filter(function(i){return i!==n}))},e.prototype._debug=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this._options.debug&&console.log.apply(console,df(["RWS>"],t))},e.prototype._getNextDelay=function(){var t=this._options,n=t.reconnectionDelayGrowFactor,i=n===void 0?On.reconnectionDelayGrowFactor:n,o=t.minReconnectionDelay,a=o===void 0?On.minReconnectionDelay:o,s=t.maxReconnectionDelay,r=s===void 0?On.maxReconnectionDelay:s,l=0;return this._retryCount>0&&(l=a*Math.pow(i,this._retryCount-1),l>r&&(l=r)),this._debug("next delay",l),l},e.prototype._wait=function(){var t=this;return new Promise(function(n){setTimeout(n,t._getNextDelay())})},e.prototype._getNextUrl=function(t){if(typeof t=="string")return Promise.resolve(t);if(typeof t=="function"){var n=t();if(typeof n=="string")return Promise.resolve(n);if(n.then)return n}throw Error("Invalid URL")},e.prototype._connect=function(){var t=this;if(!(this._connectLock||!this._shouldReconnect)){this._connectLock=!0;var n=this._options,i=n.maxRetries,o=i===void 0?On.maxRetries:i,a=n.connectionTimeout,s=a===void 0?On.connectionTimeout:a,r=n.WebSocket,l=r===void 0?hf():r;if(this._retryCount>=o){this._debug("max retries reached",this._retryCount,">=",o);return}if(this._retryCount++,this._debug("connect",this._retryCount),this._removeListeners(),!pf(l))throw Error("No valid WebSocket class provided");this._wait().then(function(){return t._getNextUrl(t._url)}).then(function(f){t._closeCalled||(t._debug("connect",{url:f,protocols:t._protocols}),t._ws=t._protocols?new l(f,t._protocols):new l(f),t._ws.binaryType=t._binaryType,t._connectLock=!1,t._addListeners(),t._connectTimeout=setTimeout(function(){return t._handleTimeout()},s))})}},e.prototype._handleTimeout=function(){this._debug("timeout event"),this._handleError(new ff(Error("TIMEOUT"),this))},e.prototype._disconnect=function(t,n){if(t===void 0&&(t=1e3),this._clearTimeouts(),!!this._ws){this._removeListeners();try{this._ws.close(t,n),this._handleClose(new mf(t,n,this))}catch{}}},e.prototype._acceptOpen=function(){this._debug("accept open"),this._retryCount=0},e.prototype._callEventListener=function(t,n){"handleEvent"in n?n.handleEvent(t):n(t)},e.prototype._removeListeners=function(){this._ws&&(this._debug("removeListeners"),this._ws.removeEventListener("open",this._handleOpen),this._ws.removeEventListener("close",this._handleClose),this._ws.removeEventListener("message",this._handleMessage),this._ws.removeEventListener("error",this._handleError))},e.prototype._addListeners=function(){this._ws&&(this._debug("addListeners"),this._ws.addEventListener("open",this._handleOpen),this._ws.addEventListener("close",this._handleClose),this._ws.addEventListener("message",this._handleMessage),this._ws.addEventListener("error",this._handleError))},e.prototype._clearTimeouts=function(){clearTimeout(this._connectTimeout),clearTimeout(this._uptimeTimeout)},e})();const gf=vf;function yf(e){const t=Object.entries(e).filter(([,n])=>Array.isArray(n)?n.length:n!==void 0).reduce((n,[i,o])=>(n[i]=o,n),{});return Object.entries(t).map(n=>`${n[0]}=${encodeURIComponent(n[1])}`).join("&")}class wf extends wn{stream;state="initializing";sharedConnectionPools=[];sharedConnections=[];nonSharedConnections=[];idCounter=0;constructor(t,n,i){super(),this.genId=this.genId.bind(this),this.useChannel=this.useChannel.bind(this),this.useSharedConnection=this.useSharedConnection.bind(this),this.removeSharedConnection=this.removeSharedConnection.bind(this),this.removeSharedConnectionPool=this.removeSharedConnectionPool.bind(this),this.connectToChannel=this.connectToChannel.bind(this),this.disconnectToChannel=this.disconnectToChannel.bind(this),this.onOpen=this.onOpen.bind(this),this.onClose=this.onClose.bind(this),this.onMessage=this.onMessage.bind(this),this.send=this.send.bind(this),this.close=this.close.bind(this),i=i??{};const o=yf({i:n?.token,_t:Date.now()}),a=t.replace("http://","ws://").replace("https://","wss://");this.stream=new gf(`${a}/streaming?${o}`,"",{minReconnectionDelay:1,WebSocket:i.WebSocket}),i.binaryType&&(this.stream.binaryType=i.binaryType),this.stream.addEventListener("open",this.onOpen),this.stream.addEventListener("close",this.onClose),this.stream.addEventListener("message",this.onMessage)}genId(){return(++this.idCounter).toString()}useChannel(t,n,i){return n?this.connectToChannel(t,n):this.useSharedConnection(t,i)}useSharedConnection(t,n){let i=this.sharedConnectionPools.find(a=>a.channel===t);i==null&&(i=new bf(this,t,this.genId()),this.sharedConnectionPools.push(i));const o=new _f(this,t,i,n);return this.sharedConnections.push(o),o}removeSharedConnection(t){this.sharedConnections=this.sharedConnections.filter(n=>n!==t)}removeSharedConnectionPool(t){this.sharedConnectionPools=this.sharedConnectionPools.filter(n=>n!==t)}connectToChannel(t,n){const i=new xf(this,t,this.genId(),n);return this.nonSharedConnections.push(i),i}disconnectToChannel(t){this.nonSharedConnections=this.nonSharedConnections.filter(n=>n!==t)}onOpen(){const t=this.state==="reconnecting";if(this.state="connected",this.emit("_connected_"),t){for(const n of this.sharedConnectionPools)n.connect();for(const n of this.nonSharedConnections)n.connect()}}onClose(){this.state==="connected"&&(this.state="reconnecting",this.emit("_disconnected_"))}onMessage(t){const{type:n,body:i}=JSON.parse(t.data);if(n==="channel"){const o=i.id;let a;if(a=this.sharedConnections.filter(s=>s.id===o),a.length===0){const s=this.nonSharedConnections.find(r=>r.id===o);s&&(a=[s])}for(const s of a)s.emit(i.type,i.body),s.inCount++}else this.emit(n,i)}send(t,n){if(typeof t=="string"){this.stream.send(JSON.stringify({type:t,...n===void 0?{}:{body:n}}));return}this.stream.send(JSON.stringify(t))}ping(){this.stream.send("ping")}heartbeat(){this.stream.send("h")}close(){this.stream.close()}}class bf{channel;id;stream;users=0;disposeTimerId=null;isConnected=!1;constructor(t,n,i){this.onStreamDisconnected=this.onStreamDisconnected.bind(this),this.inc=this.inc.bind(this),this.dec=this.dec.bind(this),this.connect=this.connect.bind(this),this.disconnect=this.disconnect.bind(this),this.channel=n,this.stream=t,this.id=i,this.stream.on("_disconnected_",this.onStreamDisconnected)}onStreamDisconnected(){this.isConnected=!1}inc(){this.users===0&&!this.isConnected&&this.connect(),this.users++,this.disposeTimerId&&(clearTimeout(this.disposeTimerId),this.disposeTimerId=null)}dec(){this.users--,this.users===0&&(this.disposeTimerId=setTimeout(()=>{this.disconnect()},3e3))}connect(){this.isConnected||(this.isConnected=!0,this.stream.send("connect",{channel:this.channel,id:this.id}))}disconnect(){this.stream.off("_disconnected_",this.onStreamDisconnected),this.stream.send("disconnect",{id:this.id}),this.stream.removeSharedConnectionPool(this)}}class Yl extends wn{channel;stream;name;inCount=0;outCount=0;constructor(t,n,i){super(),this.send=this.send.bind(this),this.stream=t,this.channel=n,i!==void 0&&(this.name=i)}send(t,n){this.stream.send("ch",{id:this.id,type:t,body:n}),this.outCount++}}class _f extends Yl{pool;get id(){return this.pool.id}constructor(t,n,i,o){super(t,n,o),this.dispose=this.dispose.bind(this),this.pool=i,this.pool.inc()}dispose(){this.pool.dec(),this.removeAllListeners(),this.stream.removeSharedConnection(this)}}class xf extends Yl{id;params;constructor(t,n,i,o){super(t,n),this.connect=this.connect.bind(this),this.dispose=this.dispose.bind(this),this.params=o,this.id=i,this.connect()}connect(){this.stream.send("connect",{channel:this.channel,id:this.id,params:this.params})}dispose(){this.removeAllListeners(),this.stream.send("disconnect",{id:this.id}),this.stream.disconnectToChannel(this)}}function gx(e){let t=e;t.startsWith("@")&&(t=t.substring(1));const n=t.split("@",2);return{username:n[0],host:n[1]||null}}function ns(e){return e.host==null?e.username:`${e.username}@${e.host}`}function Xl(e){return e.renoteId!=null&&e.replyId==null&&e.text==null&&e.cw==null&&(e.fileIds==null||e.fileIds.length===0)&&e.poll==null}const kf=new RegExp("(?<=n)a","gi"),Ef=new RegExp("(?<=morn)ing","gi"),Df=new RegExp("(?<=every)one","gi"),Cf=/[-]/g,Af=/($)|((?=\.))|((?= ))|((?=!))|((?=\?))/gm,If=/((?=\?))|($)|((?= ))/gm;function ya(e){return e.replaceAll("","").replaceAll("","").replaceAll("","").replace(kf,t=>t==="A"?"YA":"ya").replace(Ef,t=>t==="ING"?"YAN":"yan").replace(Df,t=>t==="ONE"?"NYAN":"nyan").replace(Cf,t=>isNaN(t.charCodeAt(0))?t:String.fromCharCode(t.charCodeAt(0)+45264-45208)).replace(Af,"").replace(If,"")}const Tf=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,Pr=e=>{if(typeof e!="string")throw new TypeError("Invalid argument expected string");const t=e.match(Tf);if(!t)throw new Error(`Invalid argument not valid semver ('${e}' received)`);return t.shift(),t},Rr=e=>e==="*"||e==="x"||e==="X",Br=e=>{const t=parseInt(e,10);return isNaN(t)?e:t},Mf=(e,t)=>typeof e!=typeof t?[String(e),String(t)]:[e,t],Ff=(e,t)=>{if(Rr(e)||Rr(t))return 0;const[n,i]=Mf(Br(e),Br(t));return n>i?1:n<i?-1:0},$r=(e,t)=>{for(let n=0;n<Math.max(e.length,t.length);n++){const i=Ff(e[n]||"0",t[n]||"0");if(i!==0)return i}return 0},$s=(e,t)=>{const n=Pr(e),i=Pr(t),o=n.pop(),a=i.pop(),s=$r(n,i);return s!==0?s:o&&a?$r(o.split("."),a.split(".")):o||a?o?-1:1:0};var Gl="4eea646f-7afa-4645-83e9-83af0333cd37",Ql="Mi Light",Zl="syuilo",eu="Default light theme",tu="light",nu={bg:"#f9f9f9",fg:"#676767",fgOnWhite:"@accent",divider:"#e8e8e8",header:":alpha<0.7<@panel",navBg:"#fff",panel:"#fff",mentionMe:"rgb(0, 179, 70)"};const Ri={id:Gl,name:Ql,author:Zl,desc:eu,base:tu,props:nu},Sf=Object.freeze(Object.defineProperty({__proto__:null,author:Zl,base:tu,default:Ri,desc:eu,id:Gl,name:Ql,props:nu},Symbol.toStringTag,{value:"Module"}));var iu="02816013-8107-440f-877e-865083ffe194",ou="Mi Green+Lime Dark",au="syuilo",su="dark",ru={accent:"#b4e900",bg:"#0C1210",fg:"#dee7e4",fgHighlighted:"#fff",fgOnAccent:"#192320",fgOnWhite:"@accent",divider:"#e7fffb24",panel:"#192320",popup:"#293330",renote:"@accent",mentionMe:"#ffaa00",link:"#24d7ce"};const Bi={id:iu,name:ou,author:au,base:su,props:ru},Pf=Object.freeze(Object.defineProperty({__proto__:null,author:au,base:su,default:Bi,id:iu,name:ou,props:ru},Symbol.toStringTag,{value:"Module"}));function Rf(e){localStorage.setItem("bootloaderLocales",JSON.stringify(e))}function Bf(e){e.component("WidgetProfile",he(()=>I(()=>import("./3iSoGi4ic-BdXJypNn.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url))),e.component("WidgetInstanceInfo",he(()=>I(()=>import("./3iSoGi4ic-CPC0juvp.js"),__vite__mapDeps([8,3,1,2,4,5,6,9]),import.meta.url))),e.component("WidgetMemo",he(()=>I(()=>import("./3iSoGi4ic-E9y3D3FS.js"),__vite__mapDeps([10,2,1,11,4,3,12,5,6,13]),import.meta.url))),e.component("WidgetNotifications",he(()=>I(()=>import("./3iSoGi4ic-CWNKWMZU.js"),__vite__mapDeps([14,1,2,11,4,3,12,15,16,5,6]),import.meta.url))),e.component("WidgetTimeline",he(()=>I(()=>import("./3iSoGi4ic-DcqrOjdj.js"),__vite__mapDeps([17,1,2,11,4,3,12,5,6,18]),import.meta.url))),e.component("WidgetCalendar",he(()=>I(()=>import("./3iSoGi4ic-B8Xjcm23.js"),__vite__mapDeps([19,1,2,4,3,5,6,20]),import.meta.url))),e.component("WidgetRss",he(()=>I(()=>import("./3iSoGi4ic-fm7onHr2.js"),__vite__mapDeps([21,3,1,2,11,4,12,5,6,22]),import.meta.url))),e.component("WidgetRssTicker",he(()=>I(()=>import("./3iSoGi4ic-eoZvcYZz.js"),__vite__mapDeps([23,2,1,24,25,11,4,3,12,26,5,6,27]),import.meta.url))),e.component("WidgetTrends",he(()=>I(()=>import("./3iSoGi4ic-B4afuXB3.js"),__vite__mapDeps([28,2,1,11,4,3,12,29,5,6,30]),import.meta.url))),e.component("WidgetClock",he(()=>I(()=>import("./3iSoGi4ic-C8HIzDa2.js"),__vite__mapDeps([31,1,2,11,4,3,12,32,33,5,6,34]),import.meta.url))),e.component("WidgetActivity",he(()=>I(()=>import("./3iSoGi4ic-DfM2FKAZ.js"),__vite__mapDeps([35,2,1,11,4,3,12,5,6,36]),import.meta.url))),e.component("WidgetPhotos",he(()=>I(()=>import("./3iSoGi4ic-BZF3hAli.js"),__vite__mapDeps([37,1,2,11,4,3,12,5,6,38]),import.meta.url))),e.component("WidgetDigitalClock",he(()=>I(()=>import("./3iSoGi4ic-DDJ1XCSA.js"),__vite__mapDeps([39,1,2,32,33,3,4,5,6,40]),import.meta.url))),e.component("WidgetUnixClock",he(()=>I(()=>import("./3iSoGi4ic-DX_pw7tT.js"),__vite__mapDeps([41,1,2,3,4,5,6,42]),import.meta.url))),e.component("WidgetFederation",he(()=>I(()=>import("./3iSoGi4ic-1lAHcaYT.js"),__vite__mapDeps([43,2,1,11,4,3,12,29,5,6,44]),import.meta.url))),e.component("WidgetPostForm",he(()=>I(()=>import("./3iSoGi4ic-CroZGZXy.js"),__vite__mapDeps([45,1,2,3,4,5,6]),import.meta.url))),e.component("WidgetSlideshow",he(()=>I(()=>import("./3iSoGi4ic-DmwIlbOB.js"),__vite__mapDeps([46,1,2,4,3,5,6,47]),import.meta.url))),e.component("WidgetServerMetric",he(()=>I(()=>import("./3iSoGi4ic-D8TwLp3p.js"),__vite__mapDeps([48,1,2,11,4,3,12,5,6,49]),import.meta.url))),e.component("WidgetOnlineUsers",he(()=>I(()=>import("./3iSoGi4ic-T62CFgGC.js"),__vite__mapDeps([50,1,2,4,3,5,6,51]),import.meta.url))),e.component("WidgetJobQueue",he(()=>I(()=>import("./3iSoGi4ic-CdwgcBbg.js"),__vite__mapDeps([52,1,2,53,3,4,5,6,54]),import.meta.url))),e.component("WidgetInstanceCloud",he(()=>I(()=>import("./3iSoGi4ic-UIFlVoMV.js"),__vite__mapDeps([55,2,1,11,4,3,12,5,6,56]),import.meta.url))),e.component("WidgetButton",he(()=>I(()=>import("./3iSoGi4ic-B-roHQgP.js"),__vite__mapDeps([57,58,59,60,61,62,1,2,63,3,4,5,6]),import.meta.url))),e.component("WidgetAiscript",he(()=>I(()=>import("./3iSoGi4ic-ClBRnK_w.js"),__vite__mapDeps([64,2,58,59,60,61,62,1,11,4,3,12,63,5,6,65]),import.meta.url))),e.component("WidgetAiscriptApp",he(()=>I(()=>import("./3iSoGi4ic-D9GTqtZ_.js"),__vite__mapDeps([66,58,59,60,61,62,1,2,63,3,67,68,4,69,70,71,72,73,11,12,5,6,74]),import.meta.url))),e.component("WidgetAichan",he(()=>I(()=>import("./3iSoGi4ic-BJql82xo.js"),__vite__mapDeps([75,1,2,3,4,5,6,76]),import.meta.url))),e.component("WidgetUserList",he(()=>I(()=>import("./3iSoGi4ic-BBxxFutt.js"),__vite__mapDeps([77,1,2,11,4,3,12,5,6,78]),import.meta.url))),e.component("WidgetClicker",he(()=>I(()=>import("./3iSoGi4ic-BuNBw6qU.js"),__vite__mapDeps([79,1,2,11,4,3,12,80,81,82,83,5,6]),import.meta.url))),e.component("WidgetBirthdayFollowings",he(()=>I(()=>import("./3iSoGi4ic-DdEajmLq.js"),__vite__mapDeps([84,1,2,11,4,3,12,5,6,85]),import.meta.url))),e.component("WidgetChat",he(()=>I(()=>import("./3iSoGi4ic-BF_KCFJG.js"),__vite__mapDeps([86,1,2,11,4,3,12,87,88,5,6]),import.meta.url)))}const $f=["federation","instanceCloud"],yx=["profile","instanceInfo","memo","notifications","timeline","calendar","rss","rssTicker","trends","clock","activity","photos","digitalClock","unixClock","postForm","slideshow","serverMetric","onlineUsers","jobQueue","button","aiscript","aiscriptApp","aichan","userList","clicker","birthdayFollowings","chat",...$f],ce={getItem:e=>window.localStorage.getItem(e),setItem:(e,t)=>{window.localStorage.setItem(e,t)},removeItem:e=>{window.localStorage.removeItem(e)},getItemAsJson:e=>{const t=ce.getItem(e);if(t!==null)return JSON.parse(t)},setItemAsJson:(e,t)=>{ce.setItem(e,JSON.stringify(t))}},Lr=ce.getItem("account"),A=Lr?Qo(JSON.parse(Lr)):null,Kt=A!=null&&(A.isAdmin===!0||A.isModerator===!0),wx=A!=null&&A.isAdmin;function Ls(){if(A==null)throw new Error("signin required");return A}let lu=A==null?0:A.notesCount;function Lf(){lu++}const Vi=F(0);function se(e,t={},n,i){if(e.includes("://"))throw new Error("invalid endpoint");Vi.value++;const o=()=>{Vi.value--},a=new Promise((s,r)=>{A&&(t.i=A.token),n!==void 0&&(t.i=n),window.fetch(`${yi}/${e}`,{method:"POST",body:JSON.stringify(t),credentials:"omit",cache:"no-cache",headers:{"Content-Type":"application/json"},signal:i}).then(async l=>{const f=l.status===204?null:await l.json();l.status===200?s(f):l.status===204?s(void 0):r(f.error)}).catch(r)});return a.then(o,o),a}function fi(e,t={}){Vi.value++;const n=()=>{Vi.value--},i=new URLSearchParams(t),o=new Promise((a,s)=>{window.fetch(`${yi}/${e}?${i}`,{method:"GET",credentials:"omit",cache:"default"}).then(async r=>{const l=r.status===204?null:await r.json();r.status===200?a(l):r.status===204?a(void 0):s(l.error)}).catch(s)});return o.then(n,n),o}function Of(e){return e&&typeof e.then=="function"}Promise.resolve(!1);Promise.resolve(!0);var qn=Promise.resolve();function uu(e,t){return e||(e=0),new Promise(function(n){return setTimeout(function(){return n(t)},e)})}function Nf(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Os(){return Math.random().toString(36).substring(2)}var wa=0;function eo(){var e=Date.now()*1e3;return e<=wa&&(e=wa+1),wa=e,e}var jf=eo,Vf="native";function Uf(e){var t={time:eo(),messagesCallback:null,bc:new BroadcastChannel(e),subFns:[]};return t.bc.onmessage=function(n){t.messagesCallback&&t.messagesCallback(n.data)},t}function zf(e){e.bc.close(),e.subFns=[]}function Hf(e,t){try{return e.bc.postMessage(t,!1),qn}catch(n){return Promise.reject(n)}}function qf(e,t){e.messagesCallback=t}function Wf(){if(typeof globalThis<"u"&&globalThis.Deno&&globalThis.Deno.args)return!0;if((typeof window<"u"||typeof self<"u")&&typeof BroadcastChannel=="function"){if(BroadcastChannel._pubkey)throw new Error("BroadcastChannel: Do not overwrite window.BroadcastChannel with this module, this is not a polyfill");return!0}else return!1}function Jf(){return 150}var Kf={create:Uf,close:zf,onMessage:qf,postMessage:Hf,canBeUsed:Wf,type:Vf,averageResponseTime:Jf,microSeconds:jf};class cu{ttl;map=new Map;_to=!1;constructor(t){this.ttl=t}has(t){const n=this.map.get(t);return typeof n>"u"?!1:n<is()-this.ttl?(this.map.delete(t),!1):!0}add(t){this.map.delete(t),this.map.set(t,is()),this._to||(this._to=!0,setTimeout(()=>{this._to=!1,Yf(this)},0))}clear(){this.map.clear()}}function Yf(e){const t=is()-e.ttl,n=e.map[Symbol.iterator]();for(;;){const i=n.next().value;if(!i)break;const o=i[0];if(i[1]<t)e.map.delete(o);else break}}function is(){return Date.now()}function Ns(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=JSON.parse(JSON.stringify(e));return typeof t.webWorkerSupport>"u"&&(t.webWorkerSupport=!0),t.idb||(t.idb={}),t.idb.ttl||(t.idb.ttl=1e3*45),t.idb.fallbackInterval||(t.idb.fallbackInterval=150),e.idb&&typeof e.idb.onclose=="function"&&(t.idb.onclose=e.idb.onclose),t.localstorage||(t.localstorage={}),t.localstorage.removeTimeout||(t.localstorage.removeTimeout=1e3*60),e.methods&&(t.methods=e.methods),t.node||(t.node={}),t.node.ttl||(t.node.ttl=1e3*60*2),t.node.maxParallelWrites||(t.node.maxParallelWrites=2048),typeof t.node.useFastPath>"u"&&(t.node.useFastPath=!0),t}var Xf=eo,Gf="pubkey.broadcast-channel-0-",yn="messages",ta={durability:"relaxed"},Qf="idb";function du(){if(typeof indexedDB<"u")return indexedDB;if(typeof window<"u"){if(typeof window.mozIndexedDB<"u")return window.mozIndexedDB;if(typeof window.webkitIndexedDB<"u")return window.webkitIndexedDB;if(typeof window.msIndexedDB<"u")return window.msIndexedDB}return!1}function js(e){e.commit&&e.commit()}function Zf(e){var t=du(),n=Gf+e,i=t.open(n);return i.onupgradeneeded=function(o){var a=o.target.result;a.createObjectStore(yn,{keyPath:"id",autoIncrement:!0})},new Promise(function(o,a){i.onerror=function(s){return a(s)},i.onsuccess=function(){o(i.result)}})}function em(e,t,n){var i=Date.now(),o={uuid:t,time:i,data:n},a=e.transaction([yn],"readwrite",ta);return new Promise(function(s,r){a.oncomplete=function(){return s()},a.onerror=function(f){return r(f)};var l=a.objectStore(yn);l.add(o),js(a)})}function tm(e,t){var n=e.transaction(yn,"readonly",ta),i=n.objectStore(yn),o=[],a=IDBKeyRange.bound(t+1,1/0);if(i.getAll){var s=i.getAll(a);return new Promise(function(l,f){s.onerror=function(h){return f(h)},s.onsuccess=function(h){l(h.target.result)}})}function r(){try{return a=IDBKeyRange.bound(t+1,1/0),i.openCursor(a)}catch{return i.openCursor()}}return new Promise(function(l,f){var h=r();h.onerror=function(w){return f(w)},h.onsuccess=function(w){var u=w.target.result;u?u.value.id<t+1?u.continue(t+1):(o.push(u.value),u.continue()):(js(n),l(o))}})}function nm(e,t){if(e.closed)return Promise.resolve([]);var n=e.db.transaction(yn,"readwrite",ta),i=n.objectStore(yn);return Promise.all(t.map(function(o){var a=i.delete(o);return new Promise(function(s){a.onsuccess=function(){return s()}})}))}function im(e,t){var n=Date.now()-t,i=e.transaction(yn,"readonly",ta),o=i.objectStore(yn),a=[];return new Promise(function(s){o.openCursor().onsuccess=function(r){var l=r.target.result;if(l){var f=l.value;f.time<n?(a.push(f),l.continue()):(js(i),s(a))}else s(a)}})}function om(e){return im(e.db,e.options.idb.ttl).then(function(t){return nm(e,t.map(function(n){return n.id}))})}function am(e,t){return t=Ns(t),Zf(e).then(function(n){var i={closed:!1,lastCursorId:0,channelName:e,options:t,uuid:Os(),eMIs:new cu(t.idb.ttl*2),writeBlockPromise:qn,messagesCallback:null,readQueuePromises:[],db:n};return n.onclose=function(){i.closed=!0,t.idb.onclose&&t.idb.onclose()},fu(i),i})}function fu(e){e.closed||mu(e).then(function(){return uu(e.options.idb.fallbackInterval)}).then(function(){return fu(e)})}function sm(e,t){return!(e.uuid===t.uuid||t.eMIs.has(e.id)||e.data.time<t.messagesCallbackTime)}function mu(e){return e.closed||!e.messagesCallback?qn:tm(e.db,e.lastCursorId).then(function(t){var n=t.filter(function(i){return!!i}).map(function(i){return i.id>e.lastCursorId&&(e.lastCursorId=i.id),i}).filter(function(i){return sm(i,e)}).sort(function(i,o){return i.time-o.time});return n.forEach(function(i){e.messagesCallback&&(e.eMIs.add(i.id),e.messagesCallback(i.data))}),qn})}function rm(e){e.closed=!0,e.db.close()}function lm(e,t){return e.writeBlockPromise=e.writeBlockPromise.then(function(){return em(e.db,e.uuid,t)}).then(function(){Nf(0,10)===0&&om(e)}),e.writeBlockPromise}function um(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t,mu(e)}function cm(){return!!du()}function dm(e){return e.idb.fallbackInterval*2}var fm={create:am,close:rm,onMessage:um,postMessage:lm,canBeUsed:cm,type:Qf,averageResponseTime:dm,microSeconds:Xf},mm=eo,hm="pubkey.broadcastChannel-",pm="localstorage";function hu(){var e;if(typeof window>"u")return null;try{e=window.localStorage,e=window["ie8-eventlistener/storage"]||window.localStorage}catch{}return e}function pu(e){return hm+e}function vm(e,t){return new Promise(function(n){uu().then(function(){var i=pu(e.channelName),o={token:Os(),time:Date.now(),data:t,uuid:e.uuid},a=JSON.stringify(o);hu().setItem(i,a);var s=document.createEvent("Event");s.initEvent("storage",!0,!0),s.key=i,s.newValue=a,window.dispatchEvent(s),n()})})}function gm(e,t){var n=pu(e),i=function(a){a.key===n&&t(JSON.parse(a.newValue))};return window.addEventListener("storage",i),i}function ym(e){window.removeEventListener("storage",e)}function wm(e,t){if(t=Ns(t),!vu())throw new Error("BroadcastChannel: localstorage cannot be used");var n=Os(),i=new cu(t.localstorage.removeTimeout),o={channelName:e,uuid:n,eMIs:i};return o.listener=gm(e,function(a){o.messagesCallback&&a.uuid!==n&&(!a.token||i.has(a.token)||a.data.time&&a.data.time<o.messagesCallbackTime||(i.add(a.token),o.messagesCallback(a.data)))}),o}function bm(e){ym(e.listener)}function _m(e,t,n){e.messagesCallbackTime=n,e.messagesCallback=t}function vu(){var e=hu();if(!e)return!1;try{var t="__broadcastchannel_check";e.setItem(t,"works"),e.removeItem(t)}catch{return!1}return!0}function xm(){var e=120,t=navigator.userAgent.toLowerCase();return t.includes("safari")&&!t.includes("chrome")?e*2:e}var km={create:wm,close:bm,onMessage:_m,postMessage:vm,canBeUsed:vu,type:pm,averageResponseTime:xm,microSeconds:mm},gu=eo,Em="simulate",Vs=new Set;function Dm(e){var t={time:gu(),name:e,messagesCallback:null};return Vs.add(t),t}function Cm(e){Vs.delete(e)}var yu=5;function Am(e,t){return new Promise(function(n){return setTimeout(function(){var i=Array.from(Vs);i.forEach(function(o){o.name===e.name&&o!==e&&o.messagesCallback&&o.time<t.time&&o.messagesCallback(t)}),n()},yu)})}function Im(e,t){e.messagesCallback=t}function Tm(){return!0}function Mm(){return yu}var Fm={create:Dm,close:Cm,onMessage:Im,postMessage:Am,canBeUsed:Tm,type:Em,averageResponseTime:Mm,microSeconds:gu},Or=[Kf,fm,km];function Sm(e){var t=[].concat(e.methods,Or).filter(Boolean);if(e.type){if(e.type==="simulate")return Fm;var n=t.find(function(o){return o.type===e.type});if(n)return n;throw new Error("method-type "+e.type+" not found")}e.webWorkerSupport||(t=t.filter(function(o){return o.type!=="idb"}));var i=t.find(function(o){return o.canBeUsed()});if(i)return i;throw new Error("No usable method found in "+JSON.stringify(Or.map(function(o){return o.type})))}var wu=new Set,Pm=0,to=function(t,n){this.id=Pm++,wu.add(this),this.name=t,this.options=Ns(n),this.method=Sm(this.options),this._iL=!1,this._onML=null,this._addEL={message:[],internal:[]},this._uMP=new Set,this._befC=[],this._prepP=null,Rm(this)};to._pubkey=!0;to.prototype={postMessage:function(t){if(this.closed)throw new Error("BroadcastChannel.postMessage(): Cannot post message after channel has closed "+JSON.stringify(t));return Nr(this,"message",t)},postInternal:function(t){return Nr(this,"internal",t)},set onmessage(e){var t=this.method.microSeconds(),n={time:t,fn:e};Vr(this,"message",this._onML),e&&typeof e=="function"?(this._onML=n,jr(this,"message",n)):this._onML=null},addEventListener:function(t,n){var i=this.method.microSeconds(),o={time:i,fn:n};jr(this,t,o)},removeEventListener:function(t,n){var i=this._addEL[t].find(function(o){return o.fn===n});Vr(this,t,i)},close:function(){var t=this;if(!this.closed){wu.delete(this),this.closed=!0;var n=this._prepP?this._prepP:qn;return this._onML=null,this._addEL.message=[],n.then(function(){return Promise.all(Array.from(t._uMP))}).then(function(){return Promise.all(t._befC.map(function(i){return i()}))}).then(function(){return t.method.close(t._state)})}},get type(){return this.method.type},get isClosed(){return this.closed}};function Nr(e,t,n){var i=e.method.microSeconds(),o={time:i,type:t,data:n},a=e._prepP?e._prepP:qn;return a.then(function(){var s=e.method.postMessage(e._state,o);return e._uMP.add(s),s.catch().then(function(){return e._uMP.delete(s)}),s})}function Rm(e){var t=e.method.create(e.name,e.options);Of(t)?(e._prepP=t,t.then(function(n){e._state=n})):e._state=t}function bu(e){return e._addEL.message.length>0||e._addEL.internal.length>0}function jr(e,t,n){e._addEL[t].push(n),Bm(e)}function Vr(e,t,n){e._addEL[t]=e._addEL[t].filter(function(i){return i!==n}),$m(e)}function Bm(e){if(!e._iL&&bu(e)){var t=function(o){e._addEL[o.type].forEach(function(a){o.time>=a.time&&a.fn(o.data)})},n=e.method.microSeconds();e._prepP?e._prepP.then(function(){e._iL=!0,e.method.onMessage(e._state,t,n)}):(e._iL=!0,e.method.onMessage(e._state,t,n))}}function $m(e){if(e._iL&&!bu(e)){e._iL=!1;var t=e.method.microSeconds();e.method.onMessage(e._state,null,t)}}function lt(e){e&&(navigator.clipboard.writeText(e),So("Copiat al porta papers"))}const Us=(Bs??"ja-JP").replace("ja-KS","ja-JP");let os;try{os=new Intl.DateTimeFormat(Us,{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}catch(e){console.warn(e),os=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"})}const _u=os,Lm=_u.resolvedOptions().timeZone,xu=/^(australia|pacific|antarctica|indian)\//i.test(Lm)?"S":"N";let as;try{as=new Intl.NumberFormat(Us)}catch(e){console.warn(e),as=new Intl.NumberFormat("en-US")}const Om=as;function na(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function Nm(e,t){let n;const i=()=>{if(n)return n;const o=indexedDB.open(e);return o.onupgradeneeded=()=>o.result.createObjectStore(t),n=na(o),n.then(a=>{a.onclose=()=>n=void 0},()=>{}),n};return(o,a)=>i().then(s=>a(s.transaction(t,o).objectStore(t)))}let ba;function zs(){return ba||(ba=Nm("keyval-store","keyval")),ba}function jm(e,t=zs()){return t("readonly",n=>na(n.get(e)))}function ku(e,t,n=zs()){return n("readwrite",i=>(i.put(t,e),na(i.transaction)))}function Vm(e=zs()){return e("readwrite",t=>(t.clear(),na(t.transaction)))}const Eu="idbfallback::";let mi=typeof window<"u"?!!(window.indexedDB&&typeof window.indexedDB.open=="function"):!0;window.Cypress&&(mi=!1,console.log("Cypress detected. It will use localStorage."));mi?await ku("idb-test","test").catch(e=>{console.error("idb error",e),console.error("indexedDB is unavailable. It will use localStorage."),mi=!1}):console.error("indexedDB is unavailable. It will use localStorage.");async function dn(e){return mi?jm(e):ce.getItemAsJson(`${Eu}${e}`)}async function Ot(e,t){return mi?ku(e,t):ce.setItemAsJson(`${Eu}${e}`,t)}async function Um(){if(mi)return Vm()}function sn(e){if(typeof e=="object"){if(e===null)return e;if(Array.isArray(e))return e.map(sn);const t={};for(const[n,i]of Object.entries(e))t[n]=i===void 0?void 0:sn(i);return t}else return e}function uo(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}function $o(e,t){if(uo(e)&&uo(t)){const n=sn(e);for(const[i,o]of Object.entries(t))if(!Object.prototype.hasOwnProperty.call(e,i)||e[i]===void 0)n[i]=o;else if(uo(o)&&uo(n[i])){const a=sn(n[i]);n[i]=$o(a,o)}return n}throw new Error("deepMerge: value and def must be pure objects")}class Du{ready;loaded;key;deviceStateKeyName;deviceAccountStateKeyName;registryCacheKeyName;def;s;r;pizzaxChannel;currentIdbJob=Promise.resolve();addIdbSetJob(t){const n=this.currentIdbJob.then(t,i=>(console.error("Pizzax failed to save data to idb!",i),t()));return this.currentIdbJob=n,n}constructor(t,n){this.key=t,this.deviceStateKeyName=`pizzax::${t}`,this.deviceAccountStateKeyName=A?`pizzax::${t}::${A.id}`:"",this.registryCacheKeyName=A?`pizzax::${t}::cache::${A.id}`:"",this.def=n,this.pizzaxChannel=new to(`pizzax::${t}`),this.s={},this.r={};for(const[i,o]of Object.entries(n))this.s[i]=o.default,this.r[i]=F(o.default);this.ready=this.init(),this.loaded=this.ready.then(()=>this.load())}isPureObject(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}mergeState(t,n){return this.isPureObject(t)&&this.isPureObject(n)?$o(t,n):t}async init(){await this.migrate();const t=await dn(this.deviceStateKeyName)||{},n=A?await dn(this.deviceAccountStateKeyName)||{}:{},i=A?await dn(this.registryCacheKeyName)||{}:{};for(const[o,a]of Object.entries(this.def))a.where==="device"&&Object.prototype.hasOwnProperty.call(t,o)?this.r[o].value=this.s[o]=this.mergeState(t[o],a.default):a.where==="account"&&A&&Object.prototype.hasOwnProperty.call(i,o)?this.r[o].value=this.s[o]=this.mergeState(i[o],a.default):a.where==="deviceAccount"&&Object.prototype.hasOwnProperty.call(n,o)?this.r[o].value=this.s[o]=this.mergeState(n[o],a.default):this.r[o].value=this.s[o]=a.default;this.pizzaxChannel.addEventListener("message",({where:o,key:a,value:s,userId:r})=>{o==="deviceAccount"&&!(A&&r!==A.id)||(this.r[a].value=this.s[a]=s)})}load(){return new Promise((t,n)=>{A?window.setTimeout(async()=>{await B.ready,se("i/registry/get-all",{scope:["client",this.key]}).then(i=>{const o={};for(const[a,s]of Object.entries(this.def))s.where==="account"&&(Object.prototype.hasOwnProperty.call(i,a)?(this.r[a].value=this.s[a]=i[a],o[a]=i[a]):this.r[a].value=this.s[a]=s.default);return Ot(this.registryCacheKeyName,o)}).then(()=>t())},1):t()})}set(t,n){const i=sn(n);return this.r[t].value=this.s[t]=i,this.addIdbSetJob(async()=>{switch(this.def[t].where){case"device":{this.pizzaxChannel.postMessage({where:"device",key:t,value:i});const o=await dn(this.deviceStateKeyName)||{};o[t]=i,await Ot(this.deviceStateKeyName,o);break}case"deviceAccount":{if(A==null)break;this.pizzaxChannel.postMessage({where:"deviceAccount",key:t,value:i,userId:A.id});const o=await dn(this.deviceAccountStateKeyName)||{};o[t]=i,await Ot(this.deviceAccountStateKeyName,o);break}case"account":{if(A==null)break;const o=await dn(this.registryCacheKeyName)||{};o[t]=i,await Ot(this.registryCacheKeyName,o),await se("i/registry/set",{scope:["client",this.key],key:t.toString(),value:i});break}}})}push(t,n){const i=this.s[t];this.set(t,[...i,n])}reset(t){return this.set(t,this.def[t].default),this.def[t].default}makeGetterSetter(t,n,i){const o=F(this.s[t]),a=oe(this.r[t],s=>{o.value=s});return nt(()=>{a()}),{get:()=>n?n(o.value):o.value,set:s=>{const r=i?i(s):s;this.set(t,r),o.value=r}}}async migrate(){const t=localStorage.getItem(this.deviceStateKeyName);t&&(await Ot(this.deviceStateKeyName,JSON.parse(t)),localStorage.removeItem(this.deviceStateKeyName));const n=A&&localStorage.getItem(this.deviceAccountStateKeyName);A&&n&&(await Ot(this.deviceAccountStateKeyName,JSON.parse(n)),localStorage.removeItem(this.deviceAccountStateKeyName));const i=A&&localStorage.getItem(this.registryCacheKeyName);A&&i&&(await Ot(this.registryCacheKeyName,JSON.parse(i)),localStorage.removeItem(this.registryCacheKeyName))}}const ss=navigator.userAgent.toLowerCase(),Cu=/ipad/.test(ss)||/mobile|iphone|android/.test(ss)&&window.innerWidth>700,zm=!Cu&&/mobile|iphone|android/.test(ss),Ui=zm?"smartphone":Cu?"tablet":"desktop";let Yn=Ui;function Hm(e){Yn=e??Ui}const B=rt(new Du("base",{accountSetupWizard:{where:"account",default:0},tips:{where:"device",default:{}},memo:{where:"account",default:null},reactionAcceptance:{where:"account",default:"nonSensitiveOnly"},mutedAds:{where:"account",default:[]},visibility:{where:"deviceAccount",default:"public"},localOnly:{where:"deviceAccount",default:!1},showPreview:{where:"device",default:!1},tl:{where:"deviceAccount",default:{src:"home",userList:null,filter:{withReplies:!0,withRenotes:!0,withSensitive:!0,onlyFiles:!1}}},darkMode:{where:"device",default:!1},realtimeMode:{where:"device",default:!0},recentlyUsedEmojis:{where:"device",default:[]},recentlyUsedUsers:{where:"device",default:[]},menuDisplay:{where:"device",default:"sideFull"},postFormWithHashtags:{where:"device",default:!1},postFormHashtags:{where:"device",default:""},additionalUnicodeEmojiIndexes:{where:"device",default:{}},pluginTokens:{where:"deviceAccount",default:{}},accountTokens:{where:"device",default:{}},accountInfos:{where:"device",default:{}},enablePreferencesAutoCloudBackup:{where:"device",default:!1},showPreferencesAutoCloudBackupSuggestion:{where:"device",default:!0},showStoragePersistenceSuggestion:{where:"device",default:!0},defaultWithReplies:{where:"account",default:!1},reactions:{where:"account",default:["","","","","","","","","",""]},pinnedEmojis:{where:"account",default:[]},widgets:{where:"account",default:[]},overridedDeviceKind:{where:"device",default:null},defaultSideView:{where:"device",default:!1},defaultNoteVisibility:{where:"account",default:"public"},defaultNoteLocalOnly:{where:"account",default:!1},keepCw:{where:"account",default:!0},collapseRenotes:{where:"account",default:!0},rememberNoteVisibility:{where:"account",default:!1},uploadFolder:{where:"account",default:null},keepOriginalUploading:{where:"account",default:!1},menu:{where:"deviceAccount",default:["notifications","clips","drive","followRequests","-","explore","announcements","search","-","ui"]},statusbars:{where:"deviceAccount",default:[]},pinnedUserLists:{where:"deviceAccount",default:[]},serverDisconnectedBehavior:{where:"device",default:"quiet"},nsfw:{where:"device",default:"respect"},highlightSensitiveMedia:{where:"device",default:!1},animation:{where:"device",default:!Pi},animatedMfm:{where:"device",default:!Pi},advancedMfm:{where:"device",default:!0},showReactionsCount:{where:"device",default:!1},enableQuickAddMfmFunction:{where:"device",default:!1},loadRawImages:{where:"device",default:!1},imageNewTab:{where:"device",default:!1},disableShowingAnimatedImages:{where:"device",default:Pi},emojiStyle:{where:"device",default:"twemoji"},menuStyle:{where:"device",default:"auto"},useBlurEffectForModal:{where:"device",default:Ui==="desktop"},useBlurEffect:{where:"device",default:Ui==="desktop"},showFixedPostForm:{where:"device",default:!1},showFixedPostFormInChannel:{where:"device",default:!1},enableInfiniteScroll:{where:"device",default:!0},useReactionPickerForContextMenu:{where:"device",default:!1},showGapBetweenNotesInTimeline:{where:"device",default:!1},instanceTicker:{where:"device",default:"remote"},emojiPickerScale:{where:"device",default:1},emojiPickerWidth:{where:"device",default:1},emojiPickerHeight:{where:"device",default:2},emojiPickerStyle:{where:"device",default:"auto"},reportError:{where:"device",default:!1},squareAvatars:{where:"device",default:!1},showAvatarDecorations:{where:"device",default:!0},numberOfPageCache:{where:"device",default:3},showNoteActionsOnlyHover:{where:"device",default:!1},showClipButtonInNoteFooter:{where:"device",default:!1},reactionsDisplaySize:{where:"device",default:"medium"},limitWidthOfReaction:{where:"device",default:!0},forceShowAds:{where:"device",default:!1},aiChanMode:{where:"device",default:!1},devMode:{where:"device",default:!1},mediaListWithOneImageAppearance:{where:"device",default:"expand"},notificationPosition:{where:"device",default:"rightBottom"},notificationStackAxis:{where:"device",default:"horizontal"},enableCondensedLine:{where:"device",default:!0},keepScreenOn:{where:"device",default:!1},useGroupedNotifications:{where:"device",default:!0},dataSaver:{where:"device",default:{media:!1,avatar:!1,urlPreview:!1,code:!1}},enableSeasonalScreenEffect:{where:"device",default:!1},enableHorizontalSwipe:{where:"device",default:!0},useNativeUIForVideoAudioPlayer:{where:"device",default:!1},keepOriginalFilename:{where:"device",default:!0},alwaysConfirmFollow:{where:"device",default:!0},confirmWhenRevealingSensitiveMedia:{where:"device",default:!1},contextMenu:{where:"device",default:"app"},skipNoteRender:{where:"device",default:!0},showSoftWordMutedWord:{where:"device",default:!1},confirmOnReact:{where:"device",default:!1},hemisphere:{where:"device",default:xu},sound_masterVolume:{where:"device",default:.3},sound_notUseSound:{where:"device",default:!1},sound_useSoundOnlyWhenActive:{where:"device",default:!1},sound_note:{where:"device",default:{type:"syuilo/n-aec",volume:1}},sound_noteMy:{where:"device",default:{type:"syuilo/n-cea-4va",volume:1}},sound_notification:{where:"device",default:{type:"syuilo/n-ea",volume:1}},sound_reaction:{where:"device",default:{type:"syuilo/bubble2",volume:1}},dropAndFusion:{where:"device",default:{bgmVolume:.25,sfxVolume:1}}})),_a="miux:";class hn{static default={lightTheme:Ri,darkTheme:Bi,syncDeviceDarkMode:!0,plugins:[]};static watchers=[];static get(t){const n=ce.getItem(`${_a}${t}`);return n==null?hn.default[t]:JSON.parse(n)}static getAll(){return Object.keys(this.default).reduce((t,n)=>{const i=localStorage.getItem(_a+n);return i!=null&&(t[n]=JSON.parse(i)),t},{})}static set(t,n){if(n===void 0){console.error(`attempt to store undefined value for key '${t}'`);return}ce.setItem(`${_a}${t}`,JSON.stringify(n));for(const i of this.watchers)i.key===t&&i.callback(n)}static watch(t,n){this.watchers.push({key:t,callback:n})}static ref(t){const n=hn.get(t),i=F(n);return this.watch(t,o=>{i.value=o}),i}static makeGetterSetter(t){const n=hn.ref(t);return{get:()=>n.value,set:i=>{const o=i;hn.set(t,o)}}}}const Lo=new to("reload");function Gt(e){e!==void 0?(Lo.postMessage(e),window.location.href=e):(Lo.postMessage(null),window.location.reload())}function Oo(){return D.profile.name!=null&&D.profile.name.trim()!==""}function bx(){const e=F(B.s.enablePreferencesAutoCloudBackup);oe(e,()=>{if(e.value){if(!Oo()){e.value=!1,Qe({type:"warning",title:"Has de posar-li un nom al teu perfil per poder activar les cpies de seguretat automtiques."});return}B.set("enablePreferencesAutoCloudBackup",!0),Hs()}else B.set("enablePreferencesAutoCloudBackup",!1)});const t=[{type:"label",text:D.profile.name||`(${"No hi ha un nom disponible "})`},{text:"Canvia el nom",icon:"ti ti-pencil",action:()=>{Au()}},{type:"switch",icon:"ti ti-cloud-up",text:"Cpia de seguretat automtica ",ref:e},{text:"Exporta",icon:"ti ti-download",action:()=>{qm()}},{type:"divider"},{text:"Restaurar des d'una cpia de seguretat",icon:"ti ti-cloud-down",action:()=>{Km()}},{text:"Importar",icon:"ti ti-upload",action:()=>{Wm()}},{type:"divider"},{type:"link",text:"Gestionar perfils"+"...",icon:"ti ti-settings-cog",to:"/settings/profiles"}];return D.s.devMode&&t.push({text:"Copy profile as text",icon:"ti ti-clipboard",action:()=>{lt(JSON.stringify(D.profile,null,"	"))}}),t}async function Au(){const{canceled:e,result:t}=await ao({title:"Nom del perfil",text:"Estableix un nom que identifiqui aquest dispositiu."+`
`+"Per exemple: \"PC Principal\", \"Smartphone\", etc",placeholder:D.profile.name||null,default:D.profile.name||null});e||t==null||t.trim()===""||D.renameProfile(t)}function qm(){const e=D.profile,t=new Blob([JSON.stringify(e)],{type:"text/plain"}),n=window.document.createElement("a");n.href=URL.createObjectURL(t),n.download=`${e.name||e.id}.misskeypreferences`,n.click()}function Wm(){const e=window.document.createElement("input");e.type="file",e.accept=".misskeypreferences",e.onchange=async()=>{if(e.files==null||e.files.length===0)return;const n=await e.files[0].text(),i=JSON.parse(n);ce.setItem("preferences",JSON.stringify(i)),ce.setItem("hidePreferencesRestoreSuggestion","true"),ia.value=!1,Gt()},e.click()}async function Hs(){if(A!=null){if(!Oo())throw new Error("cannot auto backup for this profile");await se("i/registry/set",{scope:["client","preferences","backups"],key:D.profile.name,value:D.profile})}}async function Jm(){return(await se("i/registry/keys",{scope:["client","preferences","backups"]})).map(t=>({name:t}))}async function _x(e){await Xe("i/registry/remove",{scope:["client","preferences","backups"],key:e})}async function Km(){if(A==null)return;const e=await Jm();if(e.length===0){Qe({type:"warning",title:"No s'ha trobat cap cpia de seguretat",text:"No s'han trobat cpies de seguretat creades automticament, per si has desat, manualment, un arxiu de cpia de seguretat, pots importar-lo i carregar-lo."});return}const t=await Xi({title:"Seleccionar la cpia de seguretat que vols restaurar",text:" "+"No recomanem compartir el mateix perfil en diferents dispositius."+" "+"Si hi ha ajustos que vols sincronitzar entre diferents dispositius activa l'opci \"Sincronitza entre diferents dispositius\" individualment per cada una de les diferents opcions.",items:e.map(i=>({label:i.name,value:i.name}))});if(t.canceled||t.result==null)return;const n=await se("i/registry/get",{scope:["client","preferences","backups"],key:t.result});ce.setItem("preferences",JSON.stringify(n)),ce.setItem("hidePreferencesRestoreSuggestion","true"),B.set("enablePreferencesAutoCloudBackup",!0),ia.value=!1,Gt()}async function xx(){Oo()||await Au(),Oo()&&B.set("enablePreferencesAutoCloudBackup",!0)}const ia=F(!1);A!=null&&(new Date(A.createdAt).getTime()>Date.now()-1e3*60*30?ce.setItem("hidePreferencesRestoreSuggestion","true"):ce.getItem("hidePreferencesRestoreSuggestion")!=="true"&&se("i/registry/keys",{scope:["client","preferences","backups"]}).then(e=>{e.length===0?ce.setItem("hidePreferencesRestoreSuggestion","true"):ia.value=!0}));function kx(){ce.setItem("hidePreferencesRestoreSuggestion","true"),ia.value=!1}const Ym=9466848e5;let Iu=Math.floor(Math.random()*1e4);function Xm(e){return e=e-Ym,e<0&&(e=0),e.toString(36).padStart(8,"0")}function Gm(){return Iu.toString(36).padStart(2,"0").slice(-2)}function Dt(){return Iu++,Xm(Date.now())+Gm()}function Mt(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(e===null)return t===null;if(e===void 0)return t===void 0;if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}else if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[n,i]of e)if(!Mt(i,t.get(n)))return!1;return!0}else if(typeof e=="object"&&typeof t=="object"){const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let o=0;o<n.length;o++){const a=n[o];if(!Mt(e[a],t[a]))return!1}return!0}return!1}const xn={accounts:{default:[]},pinnedUserLists:{accountDependent:!0,default:[]},uploadFolder:{accountDependent:!0,default:null},widgets:{accountDependent:!0,default:()=>[{name:"calendar",id:Dt(),place:"right",data:{}},{name:"notifications",id:Dt(),place:"right",data:{}},{name:"trends",id:Dt(),place:"right",data:{}}]},"deck.profile":{accountDependent:!0,default:null},"deck.profiles":{accountDependent:!0,default:[]},emojiPalettes:{serverDependent:!0,default:()=>[{id:Dt(),name:"",emojis:["","","","","","","","","",""]}],mergeStrategy:(e,t)=>{const n=[];for(const i of e.concat(t)){const o=n.find(a=>a.id===i.id);if(o!=null){if(Mt(i,o))continue;throw new Error}else n.push(i)}return n}},emojiPaletteForReaction:{serverDependent:!0,default:null},emojiPaletteForMain:{serverDependent:!0,default:null},overridedDeviceKind:{default:null},themes:{default:[],mergeStrategy:(e,t)=>{const n=[];for(const i of e.concat(t)){const o=n.find(a=>a.id===i.id);if(o!=null){if(Mt(i,o))continue;throw new Error}else n.push(i)}return n}},lightTheme:{default:null},darkTheme:{default:null},syncDeviceDarkMode:{default:!0},defaultNoteVisibility:{default:"public"},defaultNoteLocalOnly:{default:!1},keepCw:{default:!0},rememberNoteVisibility:{default:!1},reportError:{default:!1},collapseRenotes:{default:!0},menu:{default:["notifications","clips","drive","followRequests","chat","-","explore","announcements","channels","search","-","ui"]},statusbars:{default:[]},serverDisconnectedBehavior:{default:"quiet"},nsfw:{default:"respect"},highlightSensitiveMedia:{default:!1},animation:{default:!Pi},animatedMfm:{default:!Pi},advancedMfm:{default:!0},showReactionsCount:{default:!1},enableQuickAddMfmFunction:{default:!1},loadRawImages:{default:!1},imageNewTab:{default:!1},disableShowingAnimatedImages:{default:!1},emojiStyle:{default:"twemoji"},menuStyle:{default:"auto"},useBlurEffectForModal:{default:!0},useBlurEffect:{default:!0},useStickyIcons:{default:!0},enableHighQualityImagePlaceholders:{default:!0},showFixedPostForm:{default:!1},showFixedPostFormInChannel:{default:!1},enableInfiniteScroll:{default:!0},useReactionPickerForContextMenu:{default:!1},instanceTicker:{default:"remote"},emojiPickerScale:{default:2},emojiPickerWidth:{default:2},emojiPickerHeight:{default:3},emojiPickerStyle:{default:"auto"},squareAvatars:{default:!1},showAvatarDecorations:{default:!0},numberOfPageCache:{default:3},pollingInterval:{default:2},showNoteActionsOnlyHover:{default:!1},showClipButtonInNoteFooter:{default:!1},reactionsDisplaySize:{default:"medium"},limitWidthOfReaction:{default:!0},forceShowAds:{default:!1},aiChanMode:{default:!1},devMode:{default:!1},mediaListWithOneImageAppearance:{default:"expand"},notificationPosition:{default:"rightBottom"},notificationStackAxis:{default:"horizontal"},enableCondensedLine:{default:!0},keepScreenOn:{default:!1},useGroupedNotifications:{default:!0},dataSaver:{default:{media:!1,avatar:!1,urlPreviewThumbnail:!1,disableUrlPreview:!1,code:!1}},hemisphere:{default:xu},enableSeasonalScreenEffect:{default:!1},enableHorizontalSwipe:{default:!1},enablePullToRefresh:{default:!0},useNativeUiForVideoAudioPlayer:{default:!1},keepOriginalFilename:{default:!0},alwaysConfirmFollow:{default:!0},confirmWhenRevealingSensitiveMedia:{default:!1},contextMenu:{default:"app"},skipNoteRender:{default:!0},showSoftWordMutedWord:{default:!1},confirmOnReact:{default:!1},defaultFollowWithReplies:{default:!1},makeEveryTextElementsSelectable:{default:Ui==="desktop"},showNavbarSubButtons:{default:!0},showTitlebar:{default:!1},showAvailableReactionsFirstInNote:{default:!1},showPageTabBarBottom:{default:!1},plugins:{default:[],mergeStrategy:(e,t)=>{if(e.some(o=>t.some(a=>o.installId===a.installId)))throw new Error;if(e.some(o=>t.some(a=>o.name===a.name)))throw new Error;return e.concat(t)}},mutingEmojis:{default:[],mergeStrategy:(e,t)=>[...new Set(e.concat(t))]},watermarkPresets:{accountDependent:!0,default:[],mergeStrategy:(e,t)=>{const n=[];for(const i of e.concat(t)){const o=n.find(a=>a.id===i.id);if(o!=null){if(Mt(i,o))continue;throw new Error}else n.push(i)}return n}},defaultWatermarkPresetId:{accountDependent:!0,default:null},imageFramePresets:{accountDependent:!0,default:[],mergeStrategy:(e,t)=>{const n=[];for(const i of e.concat(t)){const o=n.find(a=>a.id===i.id);if(o!=null){if(Mt(i,o))continue;throw new Error}else n.push(i)}return n}},defaultImageCompressionLevel:{default:2},defaultVideoCompressionLevel:{default:2},"sound.masterVolume":{default:.5},"sound.notUseSound":{default:!1},"sound.useSoundOnlyWhenActive":{default:!1},"sound.on.note":{default:{type:"syuilo/n-aec",volume:1}},"sound.on.noteMy":{default:{type:"syuilo/n-cea-4va",volume:1}},"sound.on.notification":{default:{type:"syuilo/n-ea",volume:1}},"sound.on.reaction":{default:{type:"syuilo/bubble2",volume:1}},"sound.on.chatMessage":{default:{type:"syuilo/waon",volume:1}},"deck.alwaysShowMainColumn":{default:!0},"deck.navWindow":{default:!0},"deck.useSimpleUiForNonRootPages":{default:!0},"deck.columnAlign":{default:"center"},"deck.columnGap":{default:6},"deck.menuPosition":{default:"bottom"},"deck.navbarPosition":{default:"left"},"deck.wallpaper":{default:null},"chat.showSenderName":{default:!1},"chat.sendOnEnter":{default:!1},"game.dropAndFusion":{default:{bgmVolume:.25,sfxVolume:1}},"experimental.stackingRouterView":{default:!1},"experimental.enableFolderPageView":{default:!1},"experimental.enableHapticFeedback":{default:!1},"experimental.enableWebTranslatorApi":{default:!1}};function It(e){return{server:e.server??null,account:e.account??null,device:e.device??null}}function nn(e){const t={};return e.server!=null&&(t.server=e.server),e.account!=null&&(t.account=e.account),e.device!=null&&(t.device=e.device),t}function Ur(e,t){return e.server==t.server&&e.account==t.account&&e.device==t.device}function $i(e){const t=xn[e].default;return typeof t=="function"?t():t}function Li(e){return xn[e].accountDependent===!0}function rs(e){return xn[e].serverDependent===!0}function Qm(){return{id:Dt(),version:mn,type:"main",modifiedAt:Date.now(),name:"",preferences:{}}}function zr(e,t){const n={};for(const i in xn){const o=e[i];if(o==null||o.length===0){const a=$i(i);Li(i)?n[i]=t?[[nn({}),a,{}],[nn({server:Oe,account:t.id}),a,{}]]:[[nn({}),a,{}]]:rs(i)?n[i]=[[nn({server:Oe}),a,{}]]:n[i]=[[nn({}),a,{}]];continue}else{if(t&&Li(i)&&!o.some(([a])=>It(a).server===Oe&&It(a).account===t.id)){n[i]=o.concat([[nn({server:Oe,account:t.id}),$i(i),{}]]);continue}if(t&&rs(i)&&!o.some(([a])=>It(a).server===Oe)){n[i]=o.concat([[nn({server:Oe}),$i(i),{}]]);continue}n[i]=o}}return n}class Zm extends wn{io;currentAccount;profile;cloudReady;s={};r={};constructor(t,n){super(),this.io=t,this.currentAccount=n;const i=this.io.load()??Qm();this.profile={...i,preferences:zr(i.preferences,n)};const o=this.genStates();for(const a in o)this.s[a]=o[a],this.r[a]=F(this.s[a]);Mt(i,this.profile)||this.save(),this.cloudReady=this.fetchCloudValues()}rewriteRawState(t,n){const i=JSON.parse(JSON.stringify(n));this.r[t].value=this.s[t]=i}commit(t,n){const i=this.currentAccount,o=JSON.parse(JSON.stringify(n));if(Mt(this.s[t],o))return;this.rewriteRawState(t,o);const a=this.getMatchedRecordOf(t),s=()=>{this.save(),this.emit("committed",{key:t,value:o,oldValue:this.s[t]})};if(It(a[0]).account==null&&Li(t)&&i!=null){this.profile.preferences[t].push([nn({server:Oe,account:i.id}),o,{}]),s();return}if(It(a[0]).server==null&&rs(t)){this.profile.preferences[t].push([nn({server:Oe}),o,{}]),s();return}a[1]=o,s(),a[2].sync&&this.io.cloudSet({key:t,scope:a[0],value:a[1]})}model(t,n,i){const o=F(this.s[t]),a=oe(this.r[t],s=>{o.value=s});return nt(()=>{a()}),z({get:()=>n?n(o.value):o.value,set:s=>{const r=i?i(s):s;this.commit(t,r),o.value=r}})}genStates(){const t={};for(const n in xn){const i=n,o=this.getMatchedRecordOf(i);t[i]=o[1]}return t}async fetchCloudValues(){const t=[];for(const i in xn){const o=i,a=this.getMatchedRecordOf(o);a[2].sync&&t.push({key:o,scope:a[0]})}const n=await this.io.cloudGetBulk({needs:t});for(const i in xn){const o=i,a=this.getMatchedRecordOf(o);if(a[2].sync&&Object.hasOwn(n,o)&&n[o]!==void 0){const s=n[o];Mt(s,a[1])||(this.rewriteRawState(o,s),a[1]=s)}}this.save()}save(){this.profile.modifiedAt=Date.now(),this.profile.version=mn,this.io.save({profile:this.profile})}getMatchedRecordOf(t){const n=this.currentAccount,i=this.profile.preferences[t];if(n==null){const r=i.find(([l,f])=>It(l).account==null);if(r==null)throw new Error(`no record found for key: ${t}`);return r}const o=i.find(([r,l])=>It(r).server===Oe&&It(r).account===n.id);if(o)return o;const a=i.find(([r,l])=>It(r).server===Oe&&It(r).account==null);if(a)return a;const s=i.find(([r,l])=>It(r).account==null);if(s==null)throw new Error(`no record found for key: ${t}`);return s}isAccountOverrided(t){const n=this.currentAccount;return n==null?!1:this.profile.preferences[t].some(([i,o])=>It(i).server===Oe&&It(i).account===n.id)}setAccountOverride(t){const n=this.currentAccount;if(n==null)return;if(Li(t))throw new Error("already account-dependent");if(this.isAccountOverrided(t))return;this.profile.preferences[t].push([nn({server:Oe,account:n.id}),this.s[t],{}]),this.save()}clearAccountOverride(t){const n=this.currentAccount;if(n==null)return;if(Li(t))throw new Error("cannot clear override for this account-dependent property");const i=this.profile.preferences[t],o=i.findIndex(([a,s])=>It(a).server===Oe&&It(a).account===n.id);o!==-1&&(i.splice(o,1),this.rewriteRawState(t,this.getMatchedRecordOf(t)[1]),this.save())}isSyncEnabled(t){return this.getMatchedRecordOf(t)[2].sync??!1}async enableSync(t){if(this.isSyncEnabled(t))return Promise.resolve(null);async function n(r,l){const f=xn[t].mergeStrategy;let h;try{f!=null&&(h=f(r,l))}catch{}const{canceled:w,result:u}=await Xi({title:"Els valors de la configuraci ja existeixen al dispositiu",text:"Un element de la configuraci amb sincronitzaci activada desa els seus valors al servidor, per s'ha trobat un valor a la configuraci desat al servidor per aquest element de la configuraci. Quin valor us sobreescriure?",items:[...h!==void 0?[{label:"Integraci ",value:"merge"}]:[],{label:"Valors de configuraci del servidor",value:"remote"},{label:"Punts d'ajustos del dispositiu ",value:"local"},{label:"Cancellar l'activaci de la sincronitzaci ",value:null}],default:h!==void 0?"merge":"remote"});if(!(w||u==null))return u==="remote"?l:u==="local"?r:u==="merge"?h:void 0}const i=this.getMatchedRecordOf(t);let o=i[1];const a=await this.io.cloudGet({key:t,scope:i[0]});if(a!=null&&!Mt(i[1],a.value)){const r=await n(i[1],a.value);if(r===void 0)return{enabled:!1};o=r}this.commit(t,o);const s=so();try{await this.io.cloudSet({key:t,scope:i[0],value:o})}catch(r){return s(),Qe({type:"error",title:"S'ha produt un error"}),console.error(r),{enabled:!1}}return s({success:!0}),i[2].sync=!0,this.save(),{enabled:!0}}disableSync(t){if(!this.isSyncEnabled(t))return;const n=this.getMatchedRecordOf(t);delete n[2].sync,this.save()}renameProfile(t){this.profile.name=t,this.save()}reloadProfile(){const t=this.io.load();if(t==null)return;this.profile={...t,preferences:zr(t.preferences,this.currentAccount)};const n=this.genStates();for(const i in n){const o=i;this.rewriteRawState(o,n[o])}this.fetchCloudValues()}getPerPrefMenu(t){const n=F(this.isAccountOverrided(t));oe(n,()=>{n.value?this.setAccountOverride(t):this.clearAccountOverride(t)});const i=F(this.isSyncEnabled(t));return oe(i,()=>{i.value?this.enableSync(t).then(o=>{o!=null&&(o.enabled||(i.value=!1))}):this.disableSync(t)}),[{icon:"ti ti-copy",text:"Copiar l'ID de la configuraci ",action:()=>{lt(t)}},{icon:"ti ti-refresh",text:"Restaura al valor per defecte ",danger:!0,action:()=>{this.commit(t,$i(t))}},{type:"divider"},{type:"switch",icon:"ti ti-user-cog",text:"Anullar per compte",ref:n},{type:"switch",icon:"ti ti-cloud-cog",text:"Sincronitzaci entre dispositius",ref:i}]}}const ls=Dt(),xa="default",Tu={load:()=>{const e=ce.getItem("preferences");return e==null?null:JSON.parse(e)},save:e=>{ce.setItem("preferences",JSON.stringify(e.profile))},cloudGet:async e=>{try{const n=(await se("i/registry/get",{scope:["client","preferences","sync"],key:xa+":"+e.key})).find(([i])=>Ur(i,e.scope));return n==null?null:{value:n[1]}}catch(t){if(t.code==="NO_SUCH_KEY")return null;throw t}},cloudSet:async e=>{let t=[];try{t=await se("i/registry/get",{scope:["client","preferences","sync"],key:xa+":"+e.key})}catch(i){if(i.code==="NO_SUCH_KEY")t=[];else throw i}const n=t.findIndex(([i])=>Ur(i,e.scope));n===-1?t.push([e.scope,e.value]):t[n]=[e.scope,e.value],await se("i/registry/set",{scope:["client","preferences","sync"],key:xa+":"+e.key,value:t})},cloudGetBulk:async e=>{const t=e.needs.map(o=>Tu.cloudGet(o).then(a=>[o.key,a])),n=await Promise.all(t),i={};for(const o of n)o[1]!=null&&(i[o[0]]=o[1].value);return i}},D=new Zm(Tu,A);let Oi=null;const Mu=new to("preferences");D.on("committed",()=>{Oi={tabId:ls,timestamp:Date.now()},Mu.postMessage({type:"preferencesUpdate",tabId:ls,timestamp:Oi.timestamp})});Mu.addEventListener("message",e=>{if(e.type==="preferencesUpdate"){if(e.tabId===ls||Oi!=null&&e.timestamp<=Oi.timestamp)return;D.reloadProfile(),Oi={tabId:e.tabId,timestamp:e.timestamp}}});let Hr=0;window.setInterval(()=>{A!=null&&B.s.enablePreferencesAutoCloudBackup&&window.document.visibilityState==="visible"&&(D.profile.modifiedAt<=Hr||Hs().then(()=>{Hr=Date.now()}))},1e3*60*3);const eh="maxTouchPoints"in navigator&&navigator.maxTouchPoints>0;let Mn=Yn==="tablet"||Yn==="smartphone";eh&&!Mn&&window.addEventListener("touchstart",()=>{Mn=!0},{passive:!0});const Ai=F(!1),us=e=>e instanceof Node?e:null,Fu=e=>e instanceof Element?e:null,Fn=e=>e instanceof HTMLElement?e:null,si=new Set,Su=["script","style"];function th(e){return Array.from(si).some(t=>e.contains(t))}function Pu(e){const t=parseInt(window.getComputedStyle(e).zIndex||"0",10);return isNaN(t)?0:t}function Ru(){let e=null,t=-1/0;return si.forEach(n=>{const i=Pu(n);i>t&&(t=i,e=n)}),e==null?null:{el:e,zIndex:t}}function cs(e){si.delete(e),e.inert===!0&&(e.inert=!1);const t=Ru();e.parentElement!=null&&e!==window.document.body&&(e.parentElement.childNodes.forEach(n=>{const i=Fn(n);i&&(i!==e&&(t==null||i===t.el||i.contains(t.el))?i.inert=!1:t!=null&&i!==t.el&&!i.contains(t.el)&&!Su.includes(i.tagName.toLowerCase())?i.inert=!0:i.inert=!1)}),cs(e.parentElement))}function ds(e,t=!1,n=!1){const i=Ru(),o=i==null?-1/0:i.zIndex,a=Pu(e);if(!n&&a<o)return si.add(e),i&&ds(i.el,t),{release:()=>{cs(e)}};if(e.inert===!0&&(e.inert=!1),e.parentElement!=null&&e!==window.document.body&&(e.parentElement.childNodes.forEach(s=>{const r=Fn(s);r&&r!==e&&(t===!1||!si.has(r)&&!th(r))&&!Su.includes(r.tagName.toLowerCase())&&(r.inert=!0)}),ds(e.parentElement,t,!0)),!n)return si.add(e),{release:()=>{cs(e)}}}function wi(e){if(e==null||e.tagName==="HTML")return null;const t=window.getComputedStyle(e).getPropertyValue("overflow-y");return t==="scroll"||t==="auto"?e:wi(e.parentElement)}function Bu(e,t=null,n=0){if(!e.parentElement)return n;const i=e.dataset.stickyContainerHeaderHeight,o=i?Number(i)+n:n;return e===t?o:Bu(e.parentElement,t,o)}function $u(e,t=null,n=0){if(!e.parentElement)return n;const i=e.dataset.stickyContainerFooterHeight,o=i?Number(i)+n:n;return e===t?o:$u(e.parentElement,t,o)}function nh(e){const t=wi(e);return t==null?window.scrollY:t.scrollTop}function Lu(e,t){const n=wi(e);n==null?window.scroll(t):n.scroll(t)}function Ou(e,t={}){Lu(e,{top:0,...t})}const ri=e=>{if(e==null||!(e instanceof HTMLElement)||e.tabIndex<0||"disabled"in e&&e.disabled===!0||"readonly"in e&&e.readonly===!0||!e.ownerDocument.contains(e))return!1;const t=window.getComputedStyle(e);return!(t.display==="none"||t.visibility==="hidden"||t.opacity==="0"||t.pointerEvents==="none")},Nu=(e,t=!1,n=!0)=>{const i=t?e:Fu(e)?.previousElementSibling;i!=null&&(ri(i)?qs(i,n):Nu(i,!1,n))},ju=(e,t=!1,n=!0)=>{const i=t?e:Fu(e)?.nextElementSibling;i!=null&&(ri(i)?qs(i,n):ju(i,!1,n))},zi=(e,t=!1,n=!0)=>{const i=t?e:us(e)?.parentElement;i!=null&&(ri(i)?qs(i,n):zi(i,!1,n))},qs=(e,t)=>{if(t){const n=wi(e)??window.document.documentElement,i=nh(n),o=Bu(e,n),a=$u(e,n),s=e.getBoundingClientRect().top,r=e.getBoundingClientRect().bottom;let l=i;s<o?l+=s-o:r>window.innerHeight-a&&(l+=r-window.innerHeight+a),n.scrollTo({top:l,behavior:"instant"})}window.document.activeElement!==e&&e.focus({preventScroll:!0})},qe={routerCurrentDepth:Symbol(),router:Symbol(),mock:Symbol(),pageMetadata:Symbol(),viewId:Symbol(),currentStickyTop:Symbol(),currentStickyBottom:Symbol(),mfmEmojiReactCallback:Symbol(),inModal:Symbol(),inAppSearchMarkerId:Symbol()},ih=["data-cy-transparent"],zt=16,en=16,no=K({__name:"MkModal",props:{manualShowing:{type:[Boolean,null],default:null},anchor:{default:()=>({x:"center",y:"bottom"})},anchorElement:{default:null},preferType:{default:"auto"},zPriority:{default:"low"},noOverlap:{type:Boolean,default:!0},transparentBg:{type:Boolean,default:!1},hasInteractionWithOtherFocusTrappedEls:{type:Boolean,default:!1},returnFocusTo:{default:null}},emits:["opening","opened","click","esc","close","closed"],setup(e,{expose:t,emit:n}){function i(Y){return Y==null||Y.tagName==="BODY"?null:window.getComputedStyle(Y).getPropertyValue("position")==="fixed"?Y:i(Y.parentElement)}const o=e,a=n;ct(qe.inModal,!0);const s=F(),r=F(!1),l=F("center"),f=F(!0),h=de("modalRootEl"),w=de("content"),u=Ln(o.zPriority),y=F(!1),g=z(()=>o.preferType==="auto"?D.s.menuStyle==="drawer"||D.s.menuStyle==="auto"&&Mn&&Yn==="smartphone"?"drawer":o.anchorElement!=null?"popup":"dialog":o.preferType),p=z(()=>o.transparentBg&&g.value==="popup"),m=z(()=>D.s.animation?y.value?"send":g.value==="drawer"?"modal-drawer":g.value==="popup"?"modal-popup":"modal":""),x=z(()=>m.value==="send"?400:m.value==="modal-popup"?100:m.value==="modal"||m.value==="modal-drawer"?200:0);let k=null,_=!1;function C(Y={}){Y.useSendAnimation&&(y.value=!0),o.anchorElement&&(o.anchorElement.style.pointerEvents="auto"),f.value=!1,a("close")}function T(){_||a("click")}g.value==="drawer"&&(s.value=window.innerHeight/1.5);const R={esc:{allowRepeat:!0,callback:()=>a("esc")}},P=()=>{if(o.anchorElement==null||g.value==="drawer"||g.value==="dialog"||w.value==null)return;const Y=o.anchorElement.getBoundingClientRect(),ve=w.value.offsetWidth,ne=w.value.offsetHeight;let ee,xe;const le=Y.left+(r.value?0:window.scrollX),ge=Y.top+(r.value?0:window.scrollY);if(o.anchor.x==="center"?ee=le+o.anchorElement.offsetWidth/2-ve/2:o.anchor.x==="left"||o.anchor.x==="right"&&(ee=le+o.anchorElement.offsetWidth),o.anchor.y==="center"?xe=ge-ne/2:o.anchor.y==="top"||o.anchor.y==="bottom"&&(xe=ge+o.anchorElement.offsetHeight),r.value){ee+ve>window.innerWidth-en&&(ee=window.innerWidth-en-ve);const ke=window.innerHeight-en-zt-xe,ae=Y.top-zt;xe+ne>window.innerHeight-en-zt?o.noOverlap&&o.anchor.x==="center"?ke>=ae/3?s.value=ke:(s.value=ae,xe=ae+zt-ne):xe=window.innerHeight-en-zt-ne:s.value=ke}else{ee+ve-window.scrollX>window.innerWidth-en&&(ee=window.innerWidth-en-ve+window.scrollX-1);const ke=window.innerHeight-en-zt-(xe-window.scrollY),ae=Y.top-zt;xe+ne-window.scrollY>window.innerHeight-en-zt?o.noOverlap&&o.anchor.x==="center"?ke>=ae/3?s.value=ke:(s.value=ae,xe=window.scrollY+(ae+zt-ne)):xe=window.innerHeight-en-zt-ne+window.scrollY-1:s.value=ke}xe<0&&(xe=zt),ee<0&&(ee=0);let Re="center",Fe="center";xe>=Y.top+o.anchorElement.offsetHeight+(r.value?0:window.scrollY)?Fe="top":xe+ne<=Y.top+(r.value?0:window.scrollY)&&(Fe="bottom"),ee>=Y.left+o.anchorElement.offsetWidth+(r.value?0:window.scrollX)?Re="left":ee+ve<=Y.left+(r.value?0:window.scrollX)&&(Re="right"),l.value=`${Re} ${Fe}`,w.value.style.left=ee+"px",w.value.style.top=xe+"px"},L=()=>{a("opened"),Be(()=>{if(w.value==null)return;w.value.children[0].addEventListener("mousedown",ve=>{_=!0,window.addEventListener("mouseup",ne=>{window.setTimeout(()=>{_=!1},100)},{passive:!0,once:!0})},{passive:!0})})},q=()=>{a("closed")},G=new ResizeObserver((Y,ve)=>{P()});return We(()=>{oe(()=>o.anchorElement,async()=>{o.anchorElement&&(o.anchorElement.style.pointerEvents="none"),r.value=g.value==="drawer"||i(o.anchorElement)!=null,await Be(),P()},{immediate:!0}),oe([f,()=>o.manualShowing],([Y,ve])=>{if(ve===!0||ve==null&&Y===!0){if(h.value!=null){const{release:ne}=ds(h.value,o.hasInteractionWithOtherFocusTrappedEls);k=ne,h.value.focus()}}else k?.(),zi(o.returnFocusTo??o.anchorElement,!0,!1)},{immediate:!0}),Be(()=>{G.observe(w.value)})}),nt(()=>{G.disconnect()}),t({close:C}),(Y,ve)=>{const ne=Ye("hotkey");return c(),N(St,{name:m.value,enterActiveClass:J({xEfJP:m.value==="modal-drawer",xdflJ:m.value==="modal-popup",xnO1Z:m.value==="modal",xm2ih:m.value==="send"}),leaveActiveClass:J({xied9:m.value==="modal-drawer",xogLu:m.value==="modal-popup",xwDkx:m.value==="modal",xw1Cv:m.value==="send"}),enterFromClass:J({xAU4X:m.value==="modal-drawer",xqaDC:m.value==="modal-popup",xfIJQ:m.value==="modal",xjKae:m.value==="send"}),leaveToClass:J({xmmQV:m.value==="modal-drawer",xxHuc:m.value==="modal-popup",xzhL2:m.value==="modal",xi3lA:m.value==="send"}),duration:x.value,appear:"",onAfterLeave:q,onEnter:ve[0]||(ve[0]=ee=>a("opening")),onAfterEnter:L},{default:H(()=>[te((c(),v("div",{ref_key:"modalRootEl",ref:h,class:J(["xc6MI",{x7RPt:g.value==="drawer",xfC1o:g.value==="dialog",xEzLL:g.value==="popup"}]),style:$e({zIndex:E(u),pointerEvents:(e.manualShowing!=null?e.manualShowing:f.value)?"auto":"none","--transformOrigin":l.value})},[b("div",{"data-cy-bg":"","data-cy-transparent":p.value,class:J(["_modalBg",["xfLhG",{xtIzE:p.value}]]),style:$e({zIndex:E(u)}),onClick:T,onMousedown:T,onContextmenu:fe(()=>{},["prevent","stop"])},null,46,ih),b("div",{ref_key:"content",ref:w,class:J(["xr8AW",{xzO6v:r.value}]),style:$e({zIndex:E(u)}),onClick:fe(T,["self"])},[Ae(Y.$slots,"default",{maxHeight:s.value,type:g.value})],6)],6)),[[Ft,e.manualShowing!=null?e.manualShowing:f.value],[ne,R,void 0,{global:!0}]])]),_:3},8,["name","enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass","duration"])}}});const io=(e,t)=>{const n=e.__vccOpts||e;for(const[i,o]of t)n[i]=o;return n};var ka={},Bt={},Nn={},$t={},co={},qr;function oh(){return qr||(qr=1,Object.defineProperty(co,"__esModule",{value:!0}),co.default=/(?:\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83d\udc68\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc68\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc68\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc68\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffc-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffd-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb\udffc\udffe\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffd\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc68\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83d\udc69\ud83c[\udffb-\udfff]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc68\ud83c[\udffb-\udffe]|\ud83d\udc69\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83d\udc69\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udffb\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffc-\udfff]|\ud83e\uddd1\ud83c\udffb\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffd-\udfff]|\ud83e\uddd1\ud83c\udffc\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\uddd1\ud83c\udffd\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffd\udfff]|\ud83e\uddd1\ud83c\udffe\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83e\uddd1\ud83c\udfff\u200d\u2764\ufe0f\u200d\ud83e\uddd1\ud83c[\udffb-\udffe]|\ud83e\uddd1\ud83c\udfff\u200d\ud83e\udd1d\u200d\ud83e\uddd1\ud83c[\udffb-\udfff]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d\udc8b\u200d\ud83d[\udc68\udc69]|\ud83e\udef1\ud83c\udffb\u200d\ud83e\udef2\ud83c[\udffc-\udfff]|\ud83e\udef1\ud83c\udffc\u200d\ud83e\udef2\ud83c[\udffb\udffd-\udfff]|\ud83e\udef1\ud83c\udffd\u200d\ud83e\udef2\ud83c[\udffb\udffc\udffe\udfff]|\ud83e\udef1\ud83c\udffe\u200d\ud83e\udef2\ud83c[\udffb-\udffd\udfff]|\ud83e\udef1\ud83c\udfff\u200d\ud83e\udef2\ud83c[\udffb-\udffe]|\ud83d\udc68\u200d\u2764\ufe0f\u200d\ud83d\udc68|\ud83d\udc69\u200d\u2764\ufe0f\u200d\ud83d[\udc68\udc69]|\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1|\ud83d\udc6b\ud83c[\udffb-\udfff]|\ud83d\udc6c\ud83c[\udffb-\udfff]|\ud83d\udc6d\ud83c[\udffb-\udfff]|\ud83d\udc8f\ud83c[\udffb-\udfff]|\ud83d\udc91\ud83c[\udffb-\udfff]|\ud83e\udd1d\ud83c[\udffb-\udfff]|\ud83d[\udc6b-\udc6d\udc8f\udc91]|\ud83e\udd1d)|(?:\ud83d[\udc68\udc69]|\ud83e\uddd1)(?:\ud83c[\udffb-\udfff])?\u200d(?:\u2695\ufe0f|\u2696\ufe0f|\u2708\ufe0f|\ud83c[\udf3e\udf73\udf7c\udf84\udf93\udfa4\udfa8\udfeb\udfed]|\ud83d[\udcbb\udcbc\udd27\udd2c\ude80\ude92]|\ud83e[\uddaf-\uddb3\uddbc\uddbd])(?:\u200d\u27a1\ufe0f)?|(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75]|\u26f9)((?:\ud83c[\udffb-\udfff]|\ufe0f)\u200d[\u2640\u2642]\ufe0f(?:\u200d\u27a1\ufe0f)?)|(?:\ud83c[\udfc3\udfc4\udfca]|\ud83d[\udc6e\udc70\udc71\udc73\udc77\udc81\udc82\udc86\udc87\ude45-\ude47\ude4b\ude4d\ude4e\udea3\udeb4-\udeb6]|\ud83e[\udd26\udd35\udd37-\udd39\udd3d\udd3e\uddb8\uddb9\uddcd-\uddcf\uddd4\uddd6-\udddd])(?:\ud83c[\udffb-\udfff])?\u200d[\u2640\u2642]\ufe0f(?:\u200d\u27a1\ufe0f)?|(?:\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc68\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc68\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc66\u200d\ud83d\udc66|\ud83d\udc69\u200d\ud83d\udc67\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83e\uddd1\u200d\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddd1\u200d\ud83e\uddd2\u200d\ud83e\uddd2|\ud83c\udff3\ufe0f\u200d\u26a7\ufe0f|\ud83c\udff3\ufe0f\u200d\ud83c\udf08|\ud83d\ude36\u200d\ud83c\udf2b\ufe0f|\u26d3\ufe0f\u200d\ud83d\udca5|\u2764\ufe0f\u200d\ud83d\udd25|\u2764\ufe0f\u200d\ud83e\ude79|\ud83c\udf44\u200d\ud83d\udfeb|\ud83c\udf4b\u200d\ud83d\udfe9|\ud83c\udff4\u200d\u2620\ufe0f|\ud83d\udc15\u200d\ud83e\uddba|\ud83d\udc26\u200d\ud83d\udd25|\ud83d\udc3b\u200d\u2744\ufe0f|\ud83d\udc41\u200d\ud83d\udde8|\ud83d\udc68\u200d\ud83d[\udc66\udc67]|\ud83d\udc69\u200d\ud83d[\udc66\udc67]|\ud83d\udc6f\u200d\u2640\ufe0f|\ud83d\udc6f\u200d\u2642\ufe0f|\ud83d\ude2e\u200d\ud83d\udca8|\ud83d\ude35\u200d\ud83d\udcab|\ud83d\ude42\u200d\u2194\ufe0f|\ud83d\ude42\u200d\u2195\ufe0f|\ud83e\udd3c\u200d\u2640\ufe0f|\ud83e\udd3c\u200d\u2642\ufe0f|\ud83e\uddd1\u200d\ud83e\uddd2|\ud83e\uddde\u200d\u2640\ufe0f|\ud83e\uddde\u200d\u2642\ufe0f|\ud83e\udddf\u200d\u2640\ufe0f|\ud83e\udddf\u200d\u2642\ufe0f|\ud83d\udc08\u200d\u2b1b|\ud83d\udc26\u200d\u2b1b)|[#*0-9]\ufe0f?\u20e3|(?:[\u2122\u265f]\ufe0f)|(?:\ud83c[\udc04\udd70\udd71\udd7e\udd7f\ude02\ude1a\ude2f\ude37\udf21\udf24-\udf2c\udf36\udf7d\udf96\udf97\udf99-\udf9b\udf9e\udf9f\udfcd\udfce\udfd4-\udfdf\udff3\udff5\udff7]|\ud83d[\udc3f\udc41\udcfd\udd49\udd4a\udd6f\udd70\udd73\udd76-\udd79\udd87\udd8a-\udd8d\udda5\udda8\uddb1\uddb2\uddbc\uddc2-\uddc4\uddd1-\uddd3\udddc-\uddde\udde1\udde3\udde8\uddef\uddf3\uddfa\udecb\udecd-\udecf\udee0-\udee5\udee9\udef0\udef3]|[\u203c\u2049\u2139\u2194-\u2199\u21a9\u21aa\u231a\u231b\u2328\u23cf\u23ed-\u23ef\u23f1\u23f2\u23f8-\u23fa\u24c2\u25aa\u25ab\u25b6\u25c0\u25fb-\u25fe\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u2620\u2622\u2623\u2626\u262a\u262e\u262f\u2638-\u263a\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267b\u267f\u2692-\u2697\u2699\u269b\u269c\u26a0\u26a1\u26a7\u26aa\u26ab\u26b0\u26b1\u26bd\u26be\u26c4\u26c5\u26c8\u26cf\u26d1\u26d3\u26d4\u26e9\u26ea\u26f0-\u26f5\u26f8\u26fa\u26fd\u2702\u2708\u2709\u270f\u2712\u2714\u2716\u271d\u2721\u2733\u2734\u2744\u2747\u2757\u2763\u2764\u27a1\u2934\u2935\u2b05-\u2b07\u2b1b\u2b1c\u2b50\u2b55\u3030\u303d\u3297\u3299])(?:\ufe0f|(?!\ufe0e))|(?:(?:\ud83c[\udfcb\udfcc]|\ud83d[\udd74\udd75\udd90]|\ud83e\udef0|[\u261d\u26f7\u26f9\u270c\u270d])(?:\ufe0f|(?!\ufe0e))|(?:\ud83c\udfc3|\ud83d\udeb6|\ud83e\uddce)(?:\ud83c[\udffb-\udfff])?(?:\u200d\u27a1\ufe0f)?|(?:\ud83c[\udf85\udfc2\udfc4\udfc7\udfca]|\ud83d[\udc42\udc43\udc46-\udc50\udc66-\udc69\udc6e\udc70-\udc78\udc7c\udc81-\udc83\udc85-\udc87\udcaa\udd7a\udd95\udd96\ude45-\ude47\ude4b-\ude4f\udea3\udeb4\udeb5\udec0\udecc]|\ud83e[\udd0c\udd0f\udd18-\udd1c\udd1e\udd1f\udd26\udd30-\udd39\udd3d\udd3e\udd77\uddb5\uddb6\uddb8\uddb9\uddbb\uddcd\uddcf\uddd1-\udddd\udec3-\udec5\udef1-\udef8]|[\u270a\u270b]))(?:\ud83c[\udffb-\udfff])?|(?:\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc65\udb40\udc6e\udb40\udc67\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc73\udb40\udc63\udb40\udc74\udb40\udc7f|\ud83c\udff4\udb40\udc67\udb40\udc62\udb40\udc77\udb40\udc6c\udb40\udc73\udb40\udc7f|\ud83c\udde6\ud83c[\udde8-\uddec\uddee\uddf1\uddf2\uddf4\uddf6-\uddfa\uddfc\uddfd\uddff]|\ud83c\udde7\ud83c[\udde6\udde7\udde9-\uddef\uddf1-\uddf4\uddf6-\uddf9\uddfb\uddfc\uddfe\uddff]|\ud83c\udde8\ud83c[\udde6\udde8\udde9\uddeb-\uddee\uddf0-\uddf7\uddfa-\uddff]|\ud83c\udde9\ud83c[\uddea\uddec\uddef\uddf0\uddf2\uddf4\uddff]|\ud83c\uddea\ud83c[\udde6\udde8\uddea\uddec\udded\uddf7-\uddfa]|\ud83c\uddeb\ud83c[\uddee-\uddf0\uddf2\uddf4\uddf7]|\ud83c\uddec\ud83c[\udde6\udde7\udde9-\uddee\uddf1-\uddf3\uddf5-\uddfa\uddfc\uddfe]|\ud83c\udded\ud83c[\uddf0\uddf2\uddf3\uddf7\uddf9\uddfa]|\ud83c\uddee\ud83c[\udde8-\uddea\uddf1-\uddf4\uddf6-\uddf9]|\ud83c\uddef\ud83c[\uddea\uddf2\uddf4\uddf5]|\ud83c\uddf0\ud83c[\uddea\uddec-\uddee\uddf2\uddf3\uddf5\uddf7\uddfc\uddfe\uddff]|\ud83c\uddf1\ud83c[\udde6-\udde8\uddee\uddf0\uddf7-\uddfb\uddfe]|\ud83c\uddf2\ud83c[\udde6\udde8-\udded\uddf0-\uddff]|\ud83c\uddf3\ud83c[\udde6\udde8\uddea-\uddec\uddee\uddf1\uddf4\uddf5\uddf7\uddfa\uddff]|\ud83c\uddf4\ud83c\uddf2|\ud83c\uddf5\ud83c[\udde6\uddea-\udded\uddf0-\uddf3\uddf7-\uddf9\uddfc\uddfe]|\ud83c\uddf6\ud83c\udde6|\ud83c\uddf7\ud83c[\uddea\uddf4\uddf8\uddfa\uddfc]|\ud83c\uddf8\ud83c[\udde6-\uddea\uddec-\uddf4\uddf7-\uddf9\uddfb\uddfd-\uddff]|\ud83c\uddf9\ud83c[\udde6\udde8\udde9\uddeb-\udded\uddef-\uddf4\uddf7\uddf9\uddfb\uddfc\uddff]|\ud83c\uddfa\ud83c[\udde6\uddec\uddf2\uddf3\uddf8\uddfe\uddff]|\ud83c\uddfb\ud83c[\udde6\udde8\uddea\uddec\uddee\uddf3\uddfa]|\ud83c\uddfc\ud83c[\uddeb\uddf8]|\ud83c\uddfd\ud83c\uddf0|\ud83c\uddfe\ud83c[\uddea\uddf9]|\ud83c\uddff\ud83c[\udde6\uddf2\uddfc]|\ud83c[\udccf\udd8e\udd91-\udd9a\udde6-\uddff\ude01\ude32-\ude36\ude38-\ude3a\ude50\ude51\udf00-\udf20\udf2d-\udf35\udf37-\udf7c\udf7e-\udf84\udf86-\udf93\udfa0-\udfc1\udfc5\udfc6\udfc8\udfc9\udfcf-\udfd3\udfe0-\udff0\udff4\udff8-\udfff]|\ud83d[\udc00-\udc3e\udc40\udc44\udc45\udc51-\udc65\udc6a\udc6f\udc79-\udc7b\udc7d-\udc80\udc84\udc88-\udc8e\udc90\udc92-\udca9\udcab-\udcfc\udcff-\udd3d\udd4b-\udd4e\udd50-\udd67\udda4\uddfb-\ude44\ude48-\ude4a\ude80-\udea2\udea4-\udeb3\udeb7-\udebf\udec1-\udec5\uded0-\uded2\uded5-\uded7\udedc-\udedf\udeeb\udeec\udef4-\udefc\udfe0-\udfeb\udff0]|\ud83e[\udd0d\udd0e\udd10-\udd17\udd20-\udd25\udd27-\udd2f\udd3a\udd3c\udd3f-\udd45\udd47-\udd76\udd78-\uddb4\uddb7\uddba\uddbc-\uddcc\uddd0\uddde-\uddff\ude70-\ude7c\ude80-\ude89\ude8f-\udec2\udec6\udece-\udedc\udedf-\udee9]|[\u23e9-\u23ec\u23f0\u23f3\u267e\u26ce\u2705\u2728\u274c\u274e\u2753-\u2755\u2795-\u2797\u27b0\u27bf\ue50a])|\ufe0f/g),co}var Ea={},Wr;function ah(){return Wr||(Wr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.createLanguage=e.lazy=e.lineEnd=e.lineBegin=e.char=e.newline=e.crlf=e.lf=e.cr=e.notMatch=e.alt=e.seq=e.regexp=e.str=e.Parser=e.failure=e.success=void 0;function t(u,y){return{success:!0,value:y,index:u}}e.success=t;function n(){return{success:!1}}e.failure=n;class i{constructor(y,g){this.handler=(p,m,x)=>{if(x.trace&&this.name!=null){const k=`${m}`;console.log(`${k.padEnd(6," ")}enter ${this.name}`);const _=y(p,m,x);if(_.success){const C=`${m}:${_.index}`;console.log(`${C.padEnd(6," ")}match ${this.name}`)}else{const C=`${m}`;console.log(`${C.padEnd(6," ")}fail ${this.name}`)}return _}return y(p,m,x)},this.name=g}map(y){return new i((g,p,m)=>{const x=this.handler(g,p,m);return x.success?t(x.index,y(x.value)):x})}text(){return new i((y,g,p)=>{const m=this.handler(y,g,p);if(!m.success)return m;const x=y.slice(g,m.index);return t(m.index,x)})}many(y){return new i((g,p,m)=>{let x,k=p;const _=[];for(;k<g.length&&(x=this.handler(g,k,m),!!x.success);)k=x.index,_.push(x.value);return _.length<y?n():t(k,_)})}sep(y,g){if(g<1)throw new Error('"min" must be a value greater than or equal to 1.');return s(this,s(y,this).select(1).many(g-1)).map(p=>[p[0],...p[1]])}select(y){return this.map(g=>g[y])}option(){return r([this,l(null)])}}e.Parser=i;function o(u){return new i((y,g,p)=>y.length-g<u.length||y.substr(g,u.length)!==u?n():t(g+u.length,u))}e.str=o;function a(u){const y=RegExp(`^(?:${u.source})`,u.flags);return new i((g,p,m)=>{const x=g.slice(p),k=y.exec(x);return k==null?n():t(p+k[0].length,k[0])})}e.regexp=a;function s(...u){return new i((y,g,p)=>{let m,x=g;const k=[];for(let _=0;_<u.length;_++){if(m=u[_].handler(y,x,p),!m.success)return m;x=m.index,k.push(m.value)}return t(x,k)})}e.seq=s;function r(u){return new i((y,g,p)=>{for(let m=0;m<u.length;m++){const k=u[m].handler(y,g,p);if(k.success)return k}return n()})}e.alt=r;function l(u){return new i((y,g,p)=>t(g,u))}function f(u){return new i((y,g,p)=>u.handler(y,g,p).success?n():t(g,null))}e.notMatch=f,e.cr=o("\r"),e.lf=o(`
`),e.crlf=o(`\r
`),e.newline=r([e.crlf,e.cr,e.lf]),e.char=new i((u,y,g)=>{if(u.length-y<1)return n();const p=u.charAt(y);return t(y+1,p)}),e.lineBegin=new i((u,y,g)=>y===0||e.cr.handler(u,y-1,g).success||e.lf.handler(u,y-1,g).success?t(y,null):n()),e.lineEnd=new i((u,y,g)=>y===u.length||e.cr.handler(u,y,g).success||e.lf.handler(u,y,g).success?t(y,null):n());function h(u){const y=new i((g,p,m)=>(y.handler=u().handler,y.handler(g,p,m)));return y}e.lazy=h;function w(u){const y={};for(const g of Object.keys(u))y[g]=h(()=>{const p=u[g](y);if(p==null)throw new Error("syntax must return a parser.");return p.name=g,p});return y}e.createLanguage=w})(Ea)),Ea}var Ht={},Da={},Jr;function Vu(){return Jr||(Jr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TEXT=e.PLAIN=e.FN=e.LINK=e.N_URL=e.HASHTAG=e.MENTION=e.MATH_INLINE=e.INLINE_CODE=e.STRIKE=e.ITALIC=e.SMALL=e.BOLD=e.EMOJI_CODE=e.UNI_EMOJI=e.CENTER=e.MATH_BLOCK=e.CODE_BLOCK=e.SEARCH=e.QUOTE=e.isMfmBlock=void 0;const t=["quote","search","blockCode","mathBlock","center"];function n(P){return t.includes(P.type)}e.isMfmBlock=n;const i=P=>({type:"quote",children:P});e.QUOTE=i;const o=(P,L)=>({type:"search",props:{query:P,content:L}});e.SEARCH=o;const a=(P,L)=>({type:"blockCode",props:{code:P,lang:L}});e.CODE_BLOCK=a;const s=P=>({type:"mathBlock",props:{formula:P}});e.MATH_BLOCK=s;const r=P=>({type:"center",children:P});e.CENTER=r;const l=P=>({type:"unicodeEmoji",props:{emoji:P}});e.UNI_EMOJI=l;const f=P=>({type:"emojiCode",props:{name:P}});e.EMOJI_CODE=f;const h=P=>({type:"bold",children:P});e.BOLD=h;const w=P=>({type:"small",children:P});e.SMALL=w;const u=P=>({type:"italic",children:P});e.ITALIC=u;const y=P=>({type:"strike",children:P});e.STRIKE=y;const g=P=>({type:"inlineCode",props:{code:P}});e.INLINE_CODE=g;const p=P=>({type:"mathInline",props:{formula:P}});e.MATH_INLINE=p;const m=(P,L,q)=>({type:"mention",props:{username:P,host:L,acct:q}});e.MENTION=m;const x=P=>({type:"hashtag",props:{hashtag:P}});e.HASHTAG=x;const k=(P,L)=>{const q={type:"url",props:{url:P}};return L&&(q.props.brackets=L),q};e.N_URL=k;const _=(P,L,q)=>({type:"link",props:{silent:P,url:L},children:q});e.LINK=_;const C=(P,L,q)=>({type:"fn",props:{name:P,args:L},children:q});e.FN=C;const T=P=>({type:"plain",children:[(0,e.TEXT)(P)]});e.PLAIN=T;const R=P=>({type:"text",props:{text:P}});e.TEXT=R})(Da)),Da}var Kr;function Ws(){if(Kr)return Ht;Kr=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.inspectOne=Ht.stringifyTree=Ht.stringifyNode=Ht.mergeText=void 0;const e=Vu();function t(s){const r=[],l=[];function f(){l.length>0&&(r.push((0,e.TEXT)(l.join(""))),l.length=0)}const h=s.flat(1);for(const w of h)typeof w=="string"?l.push(w):!Array.isArray(w)&&w.type==="text"?l.push(w.props.text):(f(),r.push(w));return f(),r}Ht.mergeText=t;function n(s){var r;switch(s.type){case"quote":return o(s.children).split(`
`).map(l=>`> ${l}`).join(`
`);case"search":return s.props.content;case"blockCode":return`\`\`\`${(r=s.props.lang)!==null&&r!==void 0?r:""}
${s.props.code}
\`\`\``;case"mathBlock":return`\\[
${s.props.formula}
\\]`;case"center":return`<center>
${o(s.children)}
</center>`;case"emojiCode":return`:${s.props.name}:`;case"unicodeEmoji":return s.props.emoji;case"bold":return`**${o(s.children)}**`;case"small":return`<small>${o(s.children)}</small>`;case"italic":return`<i>${o(s.children)}</i>`;case"strike":return`~~${o(s.children)}~~`;case"inlineCode":return`\`${s.props.code}\``;case"mathInline":return`\\(${s.props.formula}\\)`;case"mention":return s.props.acct;case"hashtag":return`#${s.props.hashtag}`;case"url":return s.props.brackets?`<${s.props.url}>`:s.props.url;case"link":return`${s.props.silent?"?":""}[${o(s.children)}](${s.props.url})`;case"fn":{const l=Object.keys(s.props.args).map(h=>{const w=s.props.args[h];return w===!0?h:`${h}=${w}`}),f=l.length>0?"."+l.join(","):"";return`$[${s.props.name}${f} ${o(s.children)}]`}case"plain":return`<plain>
${o(s.children)}
</plain>`;case"text":return s.props.text}throw new Error("unknown mfm node")}Ht.stringifyNode=n;var i;(function(s){s[s.none=0]="none",s[s.inline=1]="inline",s[s.block=2]="block"})(i||(i={}));function o(s){const r=[];let l=i.none;for(const f of s){let h=!0;(0,e.isMfmBlock)(f)?(l===i.none&&(h=!1),l=i.block):((l===i.none||l===i.inline)&&(h=!1),l=i.inline),h&&r.push((0,e.TEXT)(`
`)),r.push(f)}return r.map(f=>n(f)).join("")}Ht.stringifyTree=o;function a(s,r){if(r(s),s.children!=null)for(const l of s.children)a(l,r)}return Ht.inspectOne=a,Ht}var Yr;function sh(){if(Yr)return $t;Yr=1;var e=$t&&$t.__createBinding||(Object.create?function(p,m,x,k){k===void 0&&(k=x);var _=Object.getOwnPropertyDescriptor(m,x);(!_||("get"in _?!m.__esModule:_.writable||_.configurable))&&(_={enumerable:!0,get:function(){return m[x]}}),Object.defineProperty(p,k,_)}:function(p,m,x,k){k===void 0&&(k=x),p[k]=m[x]}),t=$t&&$t.__setModuleDefault||(Object.create?function(p,m){Object.defineProperty(p,"default",{enumerable:!0,value:m})}:function(p,m){p.default=m}),n=$t&&$t.__importStar||(function(p){if(p&&p.__esModule)return p;var m={};if(p!=null)for(var x in p)x!=="default"&&Object.prototype.hasOwnProperty.call(p,x)&&e(m,p,x);return t(m,p),m}),i=$t&&$t.__importDefault||(function(p){return p&&p.__esModule?p:{default:p}});Object.defineProperty($t,"__esModule",{value:!0}),$t.language=void 0;const o=i(oh()),a=n(Uu()),s=n(ah()),r=Ws(),l=s.regexp(/[\u0020\u3000\t]/),f=s.regexp(/[a-z0-9]/i),h=s.alt([s.crlf,s.cr,s.lf]);function w(...p){return new s.Parser((m,x,k)=>{const _=[];let C=x;for(let T=0;T<p.length;T++){const R=p[T].handler(m,C,k);if(!R.success)return C===x?s.failure():s.success(C,m.slice(x,C));_.push(R.value),C=R.index}return s.success(C,_)})}const u=new s.Parser((p,m,x)=>x.linkLabel?s.failure():s.success(m,null)),y=new s.Parser((p,m,x)=>x.depth<x.nestLimit?s.success(m,null):s.failure());function g(p,m){const x=s.alt([s.seq(y,p).select(1),m??s.char]);return new s.Parser((k,_,C)=>{C.depth++;const T=x.handler(k,_,C);return C.depth--,T})}return $t.language=s.createLanguage({fullParser:p=>p.full.many(0),simpleParser:p=>p.simple.many(0),full:p=>s.alt([p.unicodeEmoji,p.centerTag,p.smallTag,p.plainTag,p.boldTag,p.italicTag,p.strikeTag,p.urlAlt,p.big,p.boldAsta,p.italicAsta,p.boldUnder,p.italicUnder,p.codeBlock,p.inlineCode,p.quote,p.mathBlock,p.mathInline,p.strikeWave,p.fn,p.mention,p.hashtag,p.emojiCode,p.link,p.url,p.search,p.text]),simple:p=>s.alt([p.unicodeEmoji,p.emojiCode,p.plainTag,p.text]),inline:p=>s.alt([p.unicodeEmoji,p.smallTag,p.plainTag,p.boldTag,p.italicTag,p.strikeTag,p.urlAlt,p.big,p.boldAsta,p.italicAsta,p.boldUnder,p.italicUnder,p.inlineCode,p.mathInline,p.strikeWave,p.fn,p.mention,p.hashtag,p.emojiCode,p.link,p.url,p.text]),quote:p=>{const m=s.seq(s.str(">"),l.option(),s.seq(s.notMatch(h),s.char).select(1).many(0).text()).select(2).sep(h,1),x=s.seq(h.option(),h.option(),s.lineBegin,m,h.option(),h.option()).select(3);return new s.Parser((k,_,C)=>{let T;if(T=x.handler(k,_,C),!T.success)return T;const R=T.value,P=T.index;return R.length===1&&R[0].length===0?s.failure():(T=g(p.fullParser).many(0).handler(R.join(`
`),0,C),T.success?s.success(P,a.QUOTE((0,r.mergeText)(T.value))):T)})},codeBlock:()=>{const p=s.str("```");return s.seq(h.option(),s.lineBegin,p,s.seq(s.notMatch(h),s.char).select(1).many(0),h,s.seq(s.notMatch(s.seq(h,p,s.lineEnd)),s.char).select(1).many(1),h,p,s.lineEnd,h.option()).map(m=>{const x=m[3].join("").trim(),k=m[5].join("");return a.CODE_BLOCK(k,x.length>0?x:null)})},mathBlock:()=>{const p=s.str("\\["),m=s.str("\\]");return s.seq(h.option(),s.lineBegin,p,h.option(),s.seq(s.notMatch(s.seq(h.option(),m)),s.char).select(1).many(1),h.option(),m,s.lineEnd,h.option()).map(x=>{const k=x[4].join("");return a.MATH_BLOCK(k)})},centerTag:p=>{const m=s.str("<center>"),x=s.str("</center>");return s.seq(h.option(),s.lineBegin,m,h.option(),s.seq(s.notMatch(s.seq(h.option(),x)),g(p.inline)).select(1).many(1),h.option(),x,s.lineEnd,h.option()).map(k=>a.CENTER((0,r.mergeText)(k[4])))},big:p=>{const m=s.str("***");return w(m,s.seq(s.notMatch(m),g(p.inline)).select(1).many(1),m).map(x=>typeof x=="string"?x:a.FN("tada",{},(0,r.mergeText)(x[1])))},boldAsta:p=>{const m=s.str("**");return w(m,s.seq(s.notMatch(m),g(p.inline)).select(1).many(1),m).map(x=>typeof x=="string"?x:a.BOLD((0,r.mergeText)(x[1])))},boldTag:p=>{const m=s.str("<b>"),x=s.str("</b>");return w(m,s.seq(s.notMatch(x),g(p.inline)).select(1).many(1),x).map(k=>typeof k=="string"?k:a.BOLD((0,r.mergeText)(k[1])))},boldUnder:()=>{const p=s.str("__");return s.seq(p,s.alt([f,l]).many(1),p).map(m=>a.BOLD((0,r.mergeText)(m[1])))},smallTag:p=>{const m=s.str("<small>"),x=s.str("</small>");return w(m,s.seq(s.notMatch(x),g(p.inline)).select(1).many(1),x).map(k=>typeof k=="string"?k:a.SMALL((0,r.mergeText)(k[1])))},italicTag:p=>{const m=s.str("<i>"),x=s.str("</i>");return w(m,s.seq(s.notMatch(x),g(p.inline)).select(1).many(1),x).map(k=>typeof k=="string"?k:a.ITALIC((0,r.mergeText)(k[1])))},italicAsta:()=>{const p=s.str("*"),m=s.seq(p,s.alt([f,l]).many(1),p);return new s.Parser((x,k,_)=>{const C=m.handler(x,k,_);if(!C.success)return s.failure();const T=x.slice(0,k);return/[a-z0-9]$/i.test(T)?s.failure():s.success(C.index,a.ITALIC((0,r.mergeText)(C.value[1])))})},italicUnder:()=>{const p=s.str("_"),m=s.seq(p,s.alt([f,l]).many(1),p);return new s.Parser((x,k,_)=>{const C=m.handler(x,k,_);if(!C.success)return s.failure();const T=x.slice(0,k);return/[a-z0-9]$/i.test(T)?s.failure():s.success(C.index,a.ITALIC((0,r.mergeText)(C.value[1])))})},strikeTag:p=>{const m=s.str("<s>"),x=s.str("</s>");return w(m,s.seq(s.notMatch(x),g(p.inline)).select(1).many(1),x).map(k=>typeof k=="string"?k:a.STRIKE((0,r.mergeText)(k[1])))},strikeWave:p=>{const m=s.str("~~");return w(m,s.seq(s.notMatch(s.alt([m,h])),g(p.inline)).select(1).many(1),m).map(x=>typeof x=="string"?x:a.STRIKE((0,r.mergeText)(x[1])))},unicodeEmoji:()=>{const p=RegExp(o.default.source);return s.regexp(p).map(m=>m===""?m:a.UNI_EMOJI(m))},plainTag:()=>{const p=s.str("<plain>"),m=s.str("</plain>");return s.seq(p,h.option(),s.seq(s.notMatch(s.seq(h.option(),m)),s.char).select(1).many(1).text(),h.option(),m).select(2).map(x=>a.PLAIN(x))},fn:p=>{const m=new s.Parser((C,T,R)=>{const P=s.regexp(/[a-z0-9_]+/i).handler(C,T,R);return P.success?s.success(P.index,P.value):P}),x=s.seq(s.regexp(/[a-z0-9_]+/i),s.seq(s.str("="),s.regexp(/[a-z0-9_.-]+/i)).select(1).option()).map(C=>({k:C[0],v:C[1]!=null?C[1]:!0})),k=s.seq(s.str("."),x.sep(s.str(","),1)).select(1).map(C=>{const T={};for(const R of C)T[R.k]=R.v;return T}),_=s.str("]");return w(s.str("$["),m,k.option(),s.str(" "),s.seq(s.notMatch(_),g(p.inline)).select(1).many(1),_).map(C=>{if(typeof C=="string")return C;const T=C[1],R=C[2]||{},P=C[4];return a.FN(T,R,(0,r.mergeText)(P))})},inlineCode:()=>{const p=s.str("`");return s.seq(p,s.seq(s.notMatch(s.alt([p,s.str(""),h])),s.char).select(1).many(1),p).map(m=>a.INLINE_CODE(m[1].join("")))},mathInline:()=>{const p=s.str("\\("),m=s.str("\\)");return s.seq(p,s.seq(s.notMatch(s.alt([m,h])),s.char).select(1).many(1),m).map(x=>a.MATH_INLINE(x[1].join("")))},mention:()=>{const p=s.seq(u,s.str("@"),s.regexp(/[a-z0-9_.-]+/i),s.seq(s.str("@"),s.regexp(/[a-z0-9_.-]+/i)).select(1).option());return new s.Parser((m,x,k)=>{let _;if(_=p.handler(m,x,k),!_.success)return s.failure();const C=m.slice(0,x);if(/[a-z0-9]$/i.test(C))return s.failure();let T=!1;const R=_.index,P=_.value[2],L=_.value[3];let q=L;L!=null&&(_=/[.-]+$/.exec(L),_!=null&&(q=L.slice(0,-1*_[0].length),q.length===0&&(T=!0,q=null)));let G=P;if(_=/[.-]+$/.exec(P),_!=null&&(q==null?G=P.slice(0,-1*_[0].length):T=!0),(G.length===0||/^[.-]/.test(G))&&(T=!0),q!=null&&/^[.-]/.test(q)&&(T=!0),T)return s.success(R,m.slice(x,R));const Y=q!=null?`@${G}@${q}`:`@${G}`;return s.success(x+Y.length,a.MENTION(G,q,Y))})},hashtag:()=>{const p=s.str("#"),m=s.seq(s.notMatch(s.alt([s.regexp(/[ \u3000\t.,!?'"#:/[\]()<>]/),l,h])),s.char).select(1),x=s.lazy(()=>s.alt([s.seq(s.str("("),g(x,m).many(0),s.str(")")),s.seq(s.str("["),g(x,m).many(0),s.str("]")),s.seq(s.str(""),g(x,m).many(0),s.str("")),s.seq(s.str(""),g(x,m).many(0),s.str("")),m])),k=s.seq(u,p,x.many(1).text()).select(2);return new s.Parser((_,C,T)=>{const R=k.handler(_,C,T);if(!R.success)return s.failure();const P=_.slice(0,C);if(/[a-z0-9]$/i.test(P))return s.failure();const L=R.index,q=R.value;return/^[0-9]+$/.test(q)?s.failure():s.success(L,a.HASHTAG(q))})},emojiCode:()=>{const p=s.notMatch(s.regexp(/[a-z0-9]/i)),m=s.str(":");return s.seq(s.alt([s.lineBegin,p]),m,s.regexp(/[a-z0-9_+-]+/i),m,s.alt([s.lineEnd,p])).select(2).map(x=>a.EMOJI_CODE(x))},link:p=>{const m=new s.Parser((_,C,T)=>{T.linkLabel=!0;const R=p.inline.handler(_,C,T);return T.linkLabel=!1,R}),x=s.str("]"),k=s.seq(u,s.alt([s.str("?["),s.str("[")]),s.seq(s.notMatch(s.alt([x,h])),g(m)).select(1).many(1),x,s.str("("),s.alt([p.urlAlt,p.url]),s.str(")"));return new s.Parser((_,C,T)=>{const R=k.handler(_,C,T);if(!R.success)return s.failure();const[,P,L,,,q]=R.value,G=P==="?[";return typeof q=="string"?s.failure():s.success(R.index,a.LINK(G,q.props.url,(0,r.mergeText)(L)))})},url:()=>{const p=s.regexp(/[.,a-z0-9_/:%#@$&?!~=+-]/i),m=s.lazy(()=>s.alt([s.seq(s.str("("),g(m,p).many(0),s.str(")")),s.seq(s.str("["),g(m,p).many(0),s.str("]")),p])),x=s.seq(u,s.regexp(/https?:\/\//),m.many(1).text());return new s.Parser((k,_,C)=>{let T;if(T=x.handler(k,_,C),!T.success)return s.failure();const R=T.index;let P=R;const L=T.value[1];let q=T.value[2];return T=/[.,]+$/.exec(q),T!=null&&(P-=T[0].length,q=q.slice(0,-1*T[0].length),q.length===0)?s.success(R,k.slice(_,R)):s.success(P,a.N_URL(L+q,!1))})},urlAlt:()=>{const p=s.str("<"),m=s.str(">"),x=s.seq(u,p,s.regexp(/https?:\/\//),s.seq(s.notMatch(s.alt([m,l])),s.char).select(1).many(1),m).text();return new s.Parser((k,_,C)=>{const T=x.handler(k,_,C);if(!T.success)return s.failure();const R=T.value.slice(1,T.value.length-1);return s.success(T.index,a.N_URL(R,!0))})},search:()=>{const p=s.alt([s.regexp(/\[(|search)\]/i),s.regexp(/(|search)/i)]);return s.seq(h.option(),s.lineBegin,s.seq(s.notMatch(s.alt([h,s.seq(l,p,s.lineEnd)])),s.char).select(1).many(1),l,p,s.lineEnd,h.option()).map(m=>{const x=m[2].join("");return a.SEARCH(x,`${x}${m[3]}${m[4]}`)})},text:()=>s.char}),$t}var Xr;function rh(){if(Xr)return Nn;Xr=1,Object.defineProperty(Nn,"__esModule",{value:!0}),Nn.simpleParser=Nn.fullParser=void 0;const e=sh(),t=Ws();function n(o,a){const s=e.language.fullParser.handler(o,0,{nestLimit:a.nestLimit!=null?a.nestLimit:20,depth:0,linkLabel:!1,trace:!1});if(!s.success)throw new Error("Unexpected parse error");return(0,t.mergeText)(s.value)}Nn.fullParser=n;function i(o){const a=e.language.simpleParser.handler(o,0,{depth:0,nestLimit:1/0});if(!a.success)throw new Error("Unexpected parse error");return(0,t.mergeText)(a.value)}return Nn.simpleParser=i,Nn}var Gr;function lh(){if(Gr)return Bt;Gr=1,Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.extract=Bt.inspect=Bt.toString=Bt.parseSimple=Bt.parse=void 0;const e=rh(),t=Ws();function n(r,l={}){return(0,e.fullParser)(r,{nestLimit:l.nestLimit})}Bt.parse=n;function i(r){return(0,e.simpleParser)(r)}Bt.parseSimple=i;function o(r){return Array.isArray(r)?(0,t.stringifyTree)(r):(0,t.stringifyNode)(r)}Bt.toString=o;function a(r,l){if(Array.isArray(r))for(const f of r)(0,t.inspectOne)(f,l);else(0,t.inspectOne)(r,l)}Bt.inspect=a;function s(r,l){const f=[];return a(r,h=>{l(h)&&f.push(h)}),f}return Bt.extract=s,Bt}var Qr;function Uu(){return Qr||(Qr=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.TEXT=e.PLAIN=e.FN=e.LINK=e.N_URL=e.HASHTAG=e.MENTION=e.MATH_INLINE=e.INLINE_CODE=e.STRIKE=e.ITALIC=e.SMALL=e.BOLD=e.EMOJI_CODE=e.UNI_EMOJI=e.CENTER=e.MATH_BLOCK=e.CODE_BLOCK=e.SEARCH=e.QUOTE=e.extract=e.inspect=e.toString=e.parseSimple=e.parse=void 0;var t=lh();Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return t.parse}}),Object.defineProperty(e,"parseSimple",{enumerable:!0,get:function(){return t.parseSimple}}),Object.defineProperty(e,"toString",{enumerable:!0,get:function(){return t.toString}}),Object.defineProperty(e,"inspect",{enumerable:!0,get:function(){return t.inspect}}),Object.defineProperty(e,"extract",{enumerable:!0,get:function(){return t.extract}});var n=Vu();Object.defineProperty(e,"QUOTE",{enumerable:!0,get:function(){return n.QUOTE}}),Object.defineProperty(e,"SEARCH",{enumerable:!0,get:function(){return n.SEARCH}}),Object.defineProperty(e,"CODE_BLOCK",{enumerable:!0,get:function(){return n.CODE_BLOCK}}),Object.defineProperty(e,"MATH_BLOCK",{enumerable:!0,get:function(){return n.MATH_BLOCK}}),Object.defineProperty(e,"CENTER",{enumerable:!0,get:function(){return n.CENTER}}),Object.defineProperty(e,"UNI_EMOJI",{enumerable:!0,get:function(){return n.UNI_EMOJI}}),Object.defineProperty(e,"EMOJI_CODE",{enumerable:!0,get:function(){return n.EMOJI_CODE}}),Object.defineProperty(e,"BOLD",{enumerable:!0,get:function(){return n.BOLD}}),Object.defineProperty(e,"SMALL",{enumerable:!0,get:function(){return n.SMALL}}),Object.defineProperty(e,"ITALIC",{enumerable:!0,get:function(){return n.ITALIC}}),Object.defineProperty(e,"STRIKE",{enumerable:!0,get:function(){return n.STRIKE}}),Object.defineProperty(e,"INLINE_CODE",{enumerable:!0,get:function(){return n.INLINE_CODE}}),Object.defineProperty(e,"MATH_INLINE",{enumerable:!0,get:function(){return n.MATH_INLINE}}),Object.defineProperty(e,"MENTION",{enumerable:!0,get:function(){return n.MENTION}}),Object.defineProperty(e,"HASHTAG",{enumerable:!0,get:function(){return n.HASHTAG}}),Object.defineProperty(e,"N_URL",{enumerable:!0,get:function(){return n.N_URL}}),Object.defineProperty(e,"LINK",{enumerable:!0,get:function(){return n.LINK}}),Object.defineProperty(e,"FN",{enumerable:!0,get:function(){return n.FN}}),Object.defineProperty(e,"PLAIN",{enumerable:!0,get:function(){return n.PLAIN}}),Object.defineProperty(e,"TEXT",{enumerable:!0,get:function(){return n.TEXT}})})(ka)),ka}var pn=Uu(),Ca;function Zr(e){if(e.nodeName!=="TEXTAREA")return!1;if(typeof Ca>"u"){var t=document.createElement("textarea");t.value=1,Ca=!!t.firstChild}return Ca}function Aa(e,t){if(e.focus(),document.selection){var n=document.selection.createRange();n.text=t,n.collapse(!1),n.select();return}var i=document.execCommand("insertText",!1,t);if(!i){var o=e.selectionStart,a=e.selectionEnd;if(typeof e.setRangeText=="function")e.setRangeText(t);else{var s=document.createRange(),r=document.createTextNode(t);if(Zr(e)){var l=e.firstChild;if(!l)e.appendChild(r);else{for(var f=0,h=null,w=null;l&&(h===null||w===null);){var u=l.nodeValue.length;o>=f&&o<=f+u&&s.setStart(h=l,o-f),a>=f&&a<=f+u&&s.setEnd(w=l,a-f),f+=u,l=l.nextSibling}o!==a&&s.deleteContents()}}if(Zr(e)&&s.commonAncestorContainer.nodeName==="#text")s.insertNode(r);else{var y=e.value;e.value=y.slice(0,o)+t+y.slice(a)}}e.setSelectionRange(o+t.length,o+t.length);var g=document.createEvent("UIEvent");g.initEvent("input",!0,!1),e.dispatchEvent(g)}}const li=2147483647,on=36,Js=1,Hi=26,uh=38,ch=700,zu=72,Hu=128,qu="-",dh=/^xn--/,fh=/[^\0-\x7F]/,mh=/[\x2E\u3002\uFF0E\uFF61]/g,hh={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},Ia=on-Js,an=Math.floor,Ta=String.fromCharCode;function bn(e){throw new RangeError(hh[e])}function ph(e,t){const n=[];let i=e.length;for(;i--;)n[i]=t(e[i]);return n}function Wu(e,t){const n=e.split("@");let i="";n.length>1&&(i=n[0]+"@",e=n[1]),e=e.replace(mh,".");const o=e.split("."),a=ph(o,t).join(".");return i+a}function vh(e){const t=[];let n=0;const i=e.length;for(;n<i;){const o=e.charCodeAt(n++);if(o>=55296&&o<=56319&&n<i){const a=e.charCodeAt(n++);(a&64512)==56320?t.push(((o&1023)<<10)+(a&1023)+65536):(t.push(o),n--)}else t.push(o)}return t}const gh=function(e){return e>=48&&e<58?26+(e-48):e>=65&&e<91?e-65:e>=97&&e<123?e-97:on},el=function(e,t){return e+22+75*(e<26)-((t!=0)<<5)},Ju=function(e,t,n){let i=0;for(e=n?an(e/ch):e>>1,e+=an(e/t);e>Ia*Hi>>1;i+=on)e=an(e/Ia);return an(i+(Ia+1)*e/(e+uh))},yh=function(e){const t=[],n=e.length;let i=0,o=Hu,a=zu,s=e.lastIndexOf(qu);s<0&&(s=0);for(let r=0;r<s;++r)e.charCodeAt(r)>=128&&bn("not-basic"),t.push(e.charCodeAt(r));for(let r=s>0?s+1:0;r<n;){const l=i;for(let h=1,w=on;;w+=on){r>=n&&bn("invalid-input");const u=gh(e.charCodeAt(r++));u>=on&&bn("invalid-input"),u>an((li-i)/h)&&bn("overflow"),i+=u*h;const y=w<=a?Js:w>=a+Hi?Hi:w-a;if(u<y)break;const g=on-y;h>an(li/g)&&bn("overflow"),h*=g}const f=t.length+1;a=Ju(i-l,f,l==0),an(i/f)>li-o&&bn("overflow"),o+=an(i/f),i%=f,t.splice(i++,0,o)}return String.fromCodePoint(...t)},wh=function(e){const t=[];e=vh(e);const n=e.length;let i=Hu,o=0,a=zu;for(const l of e)l<128&&t.push(Ta(l));const s=t.length;let r=s;for(s&&t.push(qu);r<n;){let l=li;for(const h of e)h>=i&&h<l&&(l=h);const f=r+1;l-i>an((li-o)/f)&&bn("overflow"),o+=(l-i)*f,i=l;for(const h of e)if(h<i&&++o>li&&bn("overflow"),h===i){let w=o;for(let u=on;;u+=on){const y=u<=a?Js:u>=a+Hi?Hi:u-a;if(w<y)break;const g=w-y,p=on-y;t.push(Ta(el(y+g%p,0))),w=an(g/p)}t.push(Ta(el(w,0))),a=Ju(o,f,r===s),o=0,++r}++o,++i}return t.join("")},kn=function(e){return Wu(e,function(t){return dh.test(t)?yh(t.slice(4).toLowerCase()):t})},Ii=function(e){return Wu(e,function(t){return fh.test(t)?"xn--"+wh(t):t})};function Ks(e){return e.tagName==="A"?!0:e.parentElement?Ks(e.parentElement):!1}const bh=["type","name","value","disabled"],_h=["data-children-class"],xh=["data-children-class"],mt=K({__name:"MkButton",props:{type:{},primary:{type:Boolean},gradate:{type:Boolean},rounded:{type:Boolean},inline:{type:Boolean},link:{type:Boolean},to:{},linkBehavior:{},autofocus:{type:Boolean},wait:{type:Boolean},danger:{type:Boolean},full:{type:Boolean},small:{type:Boolean},large:{type:Boolean},transparent:{type:Boolean},asLike:{type:Boolean},name:{},value:{},disabled:{type:Boolean},iconOnly:{type:Boolean},active:{type:Boolean}},emits:["click"],setup(e,{emit:t}){const n=e,i=t,o=de("el"),a=de("ripples");We(()=>{n.autofocus&&Be(()=>{o.value.focus()})});function s(f,h){return Math.hypot(f.x-h.x,f.y-h.y)}function r(f,h,w,u){const y={x:w,y:u},g=s({x:0,y:0},y),p=s({x:f,y:0},y),m=s({x:0,y:h},y),x=s({x:f,y:h},y);return Math.max(g,p,m,x)*2}function l(f){const h=f.target,w=h.getBoundingClientRect(),u=window.document.createElement("div");u.classList.add(a.value.dataset.childrenClass),u.style.top=(f.clientY-w.top-1).toString()+"px",u.style.left=(f.clientX-w.left-1).toString()+"px",a.value.appendChild(u);const y=f.clientX-w.left,g=f.clientY-w.top,p=r(h.clientWidth,h.clientHeight,y,g);window.setTimeout(()=>{u.style.transform="scale("+p/2+")"},1),window.setTimeout(()=>{u.style.transition="all 1s ease",u.style.opacity="0"},1e3),window.setTimeout(()=>{a.value&&a.value.removeChild(u)},2e3)}return(f,h)=>{const w=Q("MkA");return e.link?(c(),N(w,{key:1,class:J(["_button",["xbaFh",{xfjt2:e.inline,x2hCn:e.primary,xze7V:e.gradate,xB0oK:e.danger,xlA8v:e.rounded,xdt0l:e.full,xrmjY:e.small,x3MCF:e.large,xxs1Q:e.transparent,xzgmv:e.asLike,xm5Tm:e.iconOnly,xpr1U:e.wait,xn08u:e.active}]]),to:e.to??"#",behavior:e.linkBehavior,onMousedown:l},{default:H(()=>[b("div",{ref_key:"ripples",ref:a,class:"xDPWR","data-children-class":"x4uZY"},null,10,xh),b("div",{class:"xossv"},[Ae(f.$slots,"default")],2)]),_:3},8,["class","to","behavior"])):(c(),v("button",{key:0,ref_key:"el",ref:o,class:J(["_button",["xbaFh",{xfjt2:e.inline,x2hCn:e.primary,xze7V:e.gradate,xB0oK:e.danger,xlA8v:e.rounded,xdt0l:e.full,xrmjY:e.small,x3MCF:e.large,xxs1Q:e.transparent,xzgmv:e.asLike,xm5Tm:e.iconOnly,xpr1U:e.wait,xn08u:e.active}]]),type:e.type,name:e.name,value:e.value,disabled:e.disabled||e.wait,onClick:h[0]||(h[0]=u=>i("click",u)),onMousedown:l},[b("div",{ref_key:"ripples",ref:a,class:"xDPWR","data-children-class":"x4uZY"},null,10,_h),b("div",{class:"xossv"},[Ae(f.$slots,"default")],2)],42,bh))}}});const Sn=(e,t=0)=>{if(e==null)return"?";const n=["B","KB","MB","GB","TB","PB","EB","ZB","YB","RB","QB"];if(e===0)return"0";const i=e<0;i&&(e=-e);const o=Math.floor(Math.log(e)/Math.log(1024));return(i?"-":"")+(e/Math.pow(1024,o)).toFixed(t).replace(/(\.[1-9]*)0+$/,"$1").replace(/\.$/,"")+(n[o]??`e+${o*3}B`)},kh=["onContextmenu"],Eh=["onClick"],Dh={key:0,style:{color:"var(--MI_THEME-warn)","margin-right":"0.5em"},class:"ti ti-eye-exclamation"},Ch={key:0},Ah={key:1},Ih={key:2},Th=K({__name:"MkUploaderItems",props:{items:{}},emits:["showMenu","showMenuViaContextmenu"],setup(e,{emit:t}){const n=e,i=t;function o(s,r){r.target&&Ks(r.target)||window.getSelection()?.toString()===""&&i("showMenuViaContextmenu",s,r)}function a(s,r){}return(s,r)=>{const l=Q("MkCondensedLine"),f=Q("MkLoading"),h=Q("MkSystemIcon"),w=Ye("panel");return c(),v("div",{class:"xjEI9 _gaps_s"},[(c(!0),v(pe,null,ze(n.items,u=>te((c(),v("div",{key:u.id,class:J(["xuk6C",{xeMY8:u.preprocessing,xbyCm:u.uploaded,xjJtF:u.uploadFailed}]),style:$e({"--p":u.progress!=null?`${u.progress.value/u.progress.max*100}%`:"0%","--pp":u.preprocessProgress!=null?`${u.preprocessProgress*100}%`:"100%"}),onContextmenu:fe(y=>o(u,y),["prevent","stop"])},[b("div",{class:"xvehD"},[b("div",{class:"x5AeZ"},[j(mt,{iconOnly:!0,rounded:"",onClick:y=>i("showMenu",u,y)},{default:H(()=>[...r[0]||(r[0]=[b("i",{class:"ti ti-dots"},null,-1)])]),_:1},8,["onClick"])],2),b("div",{class:"xlqtR",style:$e({backgroundImage:`url(${u.thumbnail})`}),onClick:y=>void 0},null,14,Eh),b("div",{class:"xekKy"},[b("div",null,[u.isSensitive?(c(),v("i",Dh)):M("",!0),j(l,{minScale:2/3},{default:H(()=>[Z(S(u.name),1)]),_:2},1024)]),b("div",{class:"x5gTE"},[b("span",null,S(u.file.type),1),u.compressedSize?(c(),v("span",Ch,"("+S((({x})=>("Comprimit a "+x))({x:E(Sn)(u.compressedSize)}))+" = "+S((({x})=>(x+"% d'estalvi "))({x:Math.round((1-u.compressedSize/u.file.size)*100)}))+")",1)):(c(),v("span",Ah,S(E(Sn)(u.file.size)),1)),u.preprocessing?(c(),v("span",Ih,[Z(S("Preparant"),1),j(f,{inline:"",em:"",style:{"margin-left":"0.5em"}})])):M("",!0)],2),r[1]||(r[1]=b("div",null,null,-1))],2),b("div",{class:"xprHv"},[u.uploading?(c(),N(h,{key:0,class:"x1Xv3",type:"waiting"},null,8,["class"])):u.uploaded?(c(),N(h,{key:1,class:"x1Xv3",type:"success"},null,8,["class"])):u.uploadFailed?(c(),N(h,{key:2,class:"x1Xv3",type:"error"},null,8,["class"])):M("",!0)],2)],2)],46,kh)),[[w]])),128))],2)}}});function Mh(e){return[].concat(...e)}function Fh(e,t){return t.filter(n=>n!==e)}function Ku(e){return[...new Set(e)]}function Ex(e,t){const n=new Map;for(const i of e){const o=t(i);n.has(o)||n.set(o,i)}return[...n.values()]}function Sh(e){return e.reduce((t,n)=>t+n,0)}const oa=K({__name:"MkCwButton",props:{modelValue:{type:Boolean},text:{},renote:{},files:{},poll:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,o=z(()=>Mh([n.text?[(({count})=>(count+" carcters "))({count:n.text.length})]:[],n.renote?["Cita"]:[],n.files&&n.files.length!==0?[(({count})=>(count+" fitxer(s)"))({count:n.files.length})]:[],n.poll!=null?["Enquesta"]:[]]).join(" / "));function a(){i("update:modelValue",!n.modelValue)}return(s,r)=>(c(),N(mt,{rounded:"",full:"",small:"",onClick:a},{default:H(()=>[b("b",null,S(e.modelValue?"Amagar":"Carregar ms"),1),e.modelValue?M("",!0):(c(),v("span",{key:0,class:"x4iKD"},S(o.value),3))]),_:1}))}});const Ph=K({__name:"MkNotePreview",props:{text:{},files:{},poll:{},useCw:{type:Boolean},cw:{},user:{}},setup(e){const t=F(!1);return(n,i)=>{const o=Q("MkAvatar"),a=Q("MkUserName"),s=Q("Mfm");return c(),v("div",{class:"xEd72"},[j(o,{class:"xlPkH",user:e.user},null,8,["class","user"]),b("div",{class:"xi18j"},[b("div",{class:"xct11"},[j(a,{user:e.user,nowrap:!0},null,8,["user"])],2),b("div",null,[e.useCw?(c(),v("p",{key:0,class:"xhY0o"},[e.cw!=null&&e.cw!=""?(c(),N(s,{key:0,text:e.cw,author:e.user,nyaize:"respect",i:e.user,style:{"margin-right":"8px"}},null,8,["text","author","i"])):M("",!0),j(oa,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=r=>t.value=r),text:e.text.trim(),files:e.files,poll:e.poll,style:{margin:"4px 0"}},null,8,["modelValue","text","files","poll"])],2)):M("",!0),te(b("div",null,[j(s,{text:e.text.trim(),author:e.user,nyaize:"respect",i:e.user},null,8,["text","author","i"])],512),[[Ft,!e.useCw||t.value]])])],2)],2)}}});function fo(e){let t=0;for(let n=0;n<e.length;n++)t=t*83+"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#$%*+,-.:;=?@[]^_{|}~".indexOf(e[n]);return t}function tl(e,t){return Math.cos(Math.PI*e/t)}function Rh(e,t){t[0]=Ma(e>>16),t[1]=Ma(e>>8&255),t[2]=Ma(e&255)}function Ma(e){const t=e/255;return t<=.04045?t/12.92:((t+.055)/1.055)**2.4}function Bh(e,t,n){t[0]=Fa(Math.floor(e/361))*n,t[1]=Fa(Math.floor(e/19)%19)*n,t[2]=Fa(e%19)*n}function Fa(e){const t=(e-9)/9;return Math.sign(t)*Math.abs(t)**2}function $h(e,t,n=1){const i=fo(e[0]),o=i%9+1,a=(i-o+1)/9+1,s=(fo(e[1])+1)/166*n,r=new Float32Array(3*o*a);for(let _=0;_<o*a;_++)_?Bh(fo(e.slice(_*2+4,_*2+6)),r.subarray(_*3,(_+1)*3),s):Rh(fo(e.slice(2,6)),r.subarray(0,3));const l=new Float32Array(o*a*3);for(let _=0;_<o*a;_++){const C=_%o,T=a-1-(_-C)/o,R=l.subarray(_*3,(_+1)*3);for(let P=0;P<a;P++){const L=tl(P*T,a);for(let q=0;q<o;q++){const G=L*tl(q*C,o),Y=r.subarray(P*o*3+q*3,P*o*3+(q+1)*3);for(let ve=0;ve<3;ve++)R[ve]+=Y[ve]*G}}}const f=t.getContext("webgl2"),h=f.createShader(f.VERTEX_SHADER);f.shaderSource(h,`#version 300 es
in vec2 a;in vec2 b;out vec2 c;void main(){gl_Position=vec4(a,0.,1.);c=b;}`),f.compileShader(h);const w=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(w,`#version 300 es
precision mediump float;in vec2 c;uniform sampler2D d;out vec4 e;vec3 f(vec3 a,vec3 b,vec3 c,vec3 d,float e){float f=e*e,g=f*e;return(d/2.-c*3./2.+b*3./2.-a/2.)*g+(a-b*5./2.+c*2.-d/2.)*f+(c/2.-a/2.)*e+b;}void main(){vec2 g=vec2(${o},${a}),h=c*g+vec2(1.,0.),i=fract(h);h=(floor(h)-.5)/g;vec3 k=f(f(texture(d,h+vec2(-1.)/g).rgb,texture(d,h+vec2(0.,-1.)/g).rgb,texture(d,h+vec2(1.,-1.)/g).rgb,texture(d,h+vec2(2.,-1.)/g).rgb,i.x),f(texture(d,h+vec2(-1.,0.)/g).rgb,texture(d,h).rgb,texture(d,h+vec2(1.,0.)/g).rgb,texture(d,h+vec2(2.,0.)/g).rgb,i.x),f(texture(d,h+vec2(-1.,1.)/g).rgb,texture(d,h+vec2(0.,1.)/g).rgb,texture(d,h+vec2(1.)/g).rgb,texture(d,h+vec2(2.,1.)/g).rgb,i.x),f(texture(d,h+vec2(-1.,2.)/g).rgb,texture(d,h+vec2(0.,2.)/g).rgb,texture(d,h+vec2(1.,2.)/g).rgb,texture(d,h+vec2(2.)/g).rgb,i.x),i.y),l=pow(abs(k),vec3(1./2.4))*1.055-vec3(.055);l=mix(k*12.92,l,step(.0031308,k));e=vec4(l,1.);}`),f.compileShader(w);const u=f.createProgram();f.attachShader(u,h),f.attachShader(u,w),f.linkProgram(u),f.useProgram(u);const y=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,y),f.bufferData(f.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,1,1]),f.STATIC_DRAW);const g=f.createBuffer();f.bindBuffer(f.ARRAY_BUFFER,g),f.bufferData(f.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,1,1]),f.STATIC_DRAW);const p=f.getAttribLocation(u,"a");f.enableVertexAttribArray(p),f.bindBuffer(f.ARRAY_BUFFER,y),f.vertexAttribPointer(p,2,f.FLOAT,!1,0,0);const m=f.getAttribLocation(u,"b");f.enableVertexAttribArray(m),f.bindBuffer(f.ARRAY_BUFFER,g),f.vertexAttribPointer(m,2,f.FLOAT,!1,0,0);const x=f.createTexture();f.bindTexture(f.TEXTURE_2D,x),f.pixelStorei(f.UNPACK_ALIGNMENT,1),f.texImage2D(f.TEXTURE_2D,0,f.RGB16F,o,a,0,f.RGB,f.FLOAT,l),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_S,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_WRAP_T,f.CLAMP_TO_EDGE),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MIN_FILTER,f.LINEAR),f.texParameteri(f.TEXTURE_2D,f.TEXTURE_MAG_FILTER,f.LINEAR);const k=f.getUniformLocation(u,"d");f.uniform1i(k,0),f.drawArrays(f.TRIANGLE_STRIP,0,4)}function Lh(e){return new Worker(window.location.origin + "/vite/draw-blurhash-CkyvlvUa.js",{type:"module",name:e?.name})}function Oh(e){return new Worker(window.location.origin + "/vite/test-webgl2-Bpyoe01b.js",{type:"module",name:e?.name})}function Nh(e){return e+1}class Do{symbol=Symbol("WorkerMultiDispatch");workers=[];terminated=!1;prevWorkerNumber=0;getUseWorkerNumber;finalizationRegistry;constructor(t,n,i=Nh){this.getUseWorkerNumber=i;for(let o=0;o<n;o++)this.workers.push(t());this.finalizationRegistry=new FinalizationRegistry(()=>{this.terminate()}),this.finalizationRegistry.register(this,this.symbol)}postMessage(t,n,i=this.getUseWorkerNumber){let o=i(this.prevWorkerNumber,this.workers.length);return o=Math.abs(Math.round(o))%this.workers.length,this.prevWorkerNumber=o,Array.isArray(n)?this.workers[o].postMessage(t,n):this.workers[o].postMessage(t,n),o}addListener(t,n){this.workers.forEach(i=>{i.addEventListener("message",t,n)})}removeListener(t,n){this.workers.forEach(i=>{i.removeEventListener("message",t,n)})}terminate(){this.terminated=!0,this.workers.forEach(t=>{t.terminate()}),this.workers=[],this.finalizationRegistry.unregister(this)}isTerminated(){return this.terminated}getWorkers(){return this.workers}getSymbol(){return this.symbol}}function Yu(e){return typeof e=="string"?"#"+[...e.slice(2,6)].map(t=>"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz#$%*+,-.:;=?@[]^_{|}~".indexOf(t)).reduce((t,n)=>t*83+n,0).toString(16).padStart(6,"0"):void 0}const jh=["title"],Vh=["width","height","title"],Uh=["height","width","src","title","alt"],Xu=window.Cypress!=null,Sa=new Promise(e=>{if(Xu){const n=window.document.createElement("canvas");n.width=64,n.height=64,e(n);return}const t=new Oh;t.addEventListener("message",n=>{if(n.data.result){const i=new Do(()=>new Lh,Math.min(navigator.hardwareConcurrency-1,4));e(i)}else{const i=window.document.createElement("canvas");i.width=64,i.height=64,e(i)}t.terminate()})}),Ys=K({__name:"MkImgWithBlurhash",props:{transition:{default:null},src:{default:null},hash:{},alt:{default:""},title:{default:null},height:{default:64},width:{default:64},cover:{type:Boolean,default:!0},forceBlurhash:{type:Boolean,default:!1},onlyAvgColor:{type:Boolean,default:!1}},setup(e){const t=e,n=Dt(),i=de("canvas"),o=de("root"),a=de("img"),s=F(!1),r=F(64),l=F(64),f=F(t.width),h=F(t.height),w=F(),u=z(()=>!s.value||t.forceBlurhash);function y(){t.src!=null&&t.src!==""?Be().then(()=>a.value?.decode()).then(()=>{s.value=!0},k=>{console.log("Error occurred during decoding image",a.value,k)}):s.value=!1}oe([()=>t.width,()=>t.height,o],()=>{const k=t.width/t.height;k>1?(r.value=Math.round(64*k),l.value=64):(r.value=64,l.value=Math.round(64/k));const _=o.value?.clientWidth??300;f.value=_,h.value=Math.round(_/k)},{immediate:!0});function g(k){if(!i.value){w.value=k;return}w.value=void 0;const _=i.value.getContext("2d");_&&_.drawImage(k,0,0,r.value,l.value)}function p(){if(!i.value)return;const k=t.hash!=null&&Yu(t.hash)||"#888",_=i.value.getContext("2d");_&&(_.beginPath(),_.fillStyle=k,_.fillRect(0,0,r.value,l.value))}async function m(){if(Xu&&t.hash==null||(p(),t.hash==null)||t.onlyAvgColor)return;const k=await Sa;if(k instanceof Do)k.postMessage({id:n,hash:t.hash},void 0);else try{$h(t.hash,k),g(k)}catch(_){console.error("Error occurred during drawing blurhash",_)}}function x(k){k.data.id===n&&g(k.data.bitmap)}return Sa.then(k=>{k instanceof Do&&k.addListener(x),m()}),oe(()=>t.src,()=>{y()}),oe(()=>t.hash,()=>{m()}),We(()=>{w.value&&g(w.value),y()}),nt(()=>{Sa.then(k=>{k instanceof Do&&k.removeListener(x)})}),(k,_)=>(c(),v("div",{ref_key:"root",ref:o,class:J(["chromatic-ignore","xEFF2",{x2pHm:e.cover}]),title:e.title??""},[j(Gi,{duration:E(D).s.animation&&t.transition?.duration||void 0,enterActiveClass:E(D).s.animation&&t.transition?.enterActiveClass||void 0,leaveActiveClass:E(D).s.animation&&(t.transition?.leaveActiveClass??"x9KMt")||void 0,enterFromClass:E(D).s.animation&&t.transition?.enterFromClass||void 0,leaveToClass:E(D).s.animation&&t.transition?.leaveToClass||void 0,enterToClass:E(D).s.animation&&t.transition?.enterToClass||void 0,leaveFromClass:E(D).s.animation&&t.transition?.leaveFromClass||void 0},{default:H(()=>[te(b("canvas",{key:"canvas",ref_key:"canvas",ref:i,class:"x4Rm8",width:r.value,height:l.value,title:e.title??void 0,draggable:"false",tabindex:"-1",style:{"-webkit-user-drag":"none"}},null,10,Vh),[[Ft,u.value]]),te(b("img",{key:"img",ref_key:"img",ref:a,height:h.value??void 0,width:f.value??void 0,class:"xkJBF",src:e.src??void 0,title:e.title??void 0,alt:e.alt??void 0,loading:"eager",decoding:"async",draggable:"false",tabindex:"-1",style:{"-webkit-user-drag":"none"}},null,10,Uh),[[Ft,!u.value]])]),_:1},8,["duration","enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass","enterToClass","leaveFromClass"])],10,jh))}});const zh=["src","alt","title"],Hh=K({__name:"MkDriveFileThumbnail",props:{file:{},fit:{},highlightWhenSensitive:{type:Boolean},forceBlurhash:{type:Boolean},large:{type:Boolean}},setup(e){const t=e,n=z(()=>t.file.type.startsWith("image/")?"image":t.file.type.startsWith("video/")?"video":t.file.type==="audio/midi"?"midi":t.file.type.startsWith("audio/")?"audio":t.file.type.endsWith("/csv")?"csv":t.file.type.endsWith("/pdf")?"pdf":t.file.type.startsWith("text/")?"textfile":["application/zip","application/x-cpio","application/x-bzip","application/x-bzip2","application/java-archive","application/x-rar-compressed","application/x-tar","application/gzip","application/x-7z-compressed"].some(o=>o===t.file.type)?"archive":"unknown"),i=z(()=>t.file.thumbnailUrl?n.value==="image"||n.value==="video":!1);return(o,a)=>{const s=Ye("panel");return te((c(),v("div",{class:J(["xt5SL",{xsxob:e.highlightWhenSensitive&&e.file.isSensitive,xvLcs:e.large}])},[i.value&&E(D).s.enableHighQualityImagePlaceholders?(c(),N(Ys,{key:0,hash:e.file.blurhash,src:e.file.thumbnailUrl,alt:e.file.name,title:e.file.name,class:"xE751",cover:e.fit!=="contain",forceBlurhash:e.forceBlurhash},null,8,["hash","src","alt","title","class","cover","forceBlurhash"])):i.value&&e.file.thumbnailUrl!=null?(c(),v("img",{key:1,src:e.file.thumbnailUrl,alt:e.file.name,title:e.file.name,class:"xE751",style:$e({objectFit:e.fit})},null,14,zh)):n.value==="image"?(c(),v("i",{key:2,class:"ti ti-photo x5JE1"},null,2)):n.value==="video"?(c(),v("i",{key:3,class:"ti ti-video x5JE1"},null,2)):n.value==="audio"||n.value==="midi"?(c(),v("i",{key:4,class:"ti ti-file-music x5JE1"},null,2)):n.value==="csv"?(c(),v("i",{key:5,class:"ti ti-file-text x5JE1"},null,2)):n.value==="pdf"?(c(),v("i",{key:6,class:"ti ti-file-text x5JE1"},null,2)):n.value==="textfile"?(c(),v("i",{key:7,class:"ti ti-file-text x5JE1"},null,2)):n.value==="archive"?(c(),v("i",{key:8,class:"ti ti-file-zip x5JE1"},null,2)):(c(),v("i",{key:9,class:"ti ti-file x5JE1"},null,2)),i.value&&n.value==="video"?(c(),v("i",{key:10,class:"ti ti-video x6Y9U"},null,2)):M("",!0)],2)),[[s]])}}});const yt=new wn;function nl(e,t){yt.on(e,t),Bn(()=>{yt.off(e,t)})}const qh=["onClick","onKeydown","onContextmenu"],Wh=K({__name:"MkPostFormAttaches",props:{modelValue:{},detachMediaFn:{type:Function}},emits:["update:modelValue","detach","changeSensitive","changeName"],setup(e,{emit:t}){const n=he(()=>I(()=>import("./3iSoGi4ic-D6lvPj3q.js").then(y=>y.v),__vite__mapDeps([89,2]),import.meta.url).then(y=>y.default)),i=e,o=tt(qe.mock,!1),a=t;let s=!1;function r(y){o||(i.detachMediaFn?i.detachMediaFn(y):a("detach",y))}async function l(y){if(o)return;r(y.id);const{canceled:g}=await Ze({type:"warning",text:(({name})=>("Ests segur que vols suprimir el fitxer \""+name+"\"? Les notes associades a aquest fitxer tamb seran esborrades."))({name:y.name})});g||(await Xe("drive/files/delete",{fileId:y.id}),yt.emit("driveFilesDeleted",[y]))}function f(y){if(o){a("changeSensitive",y,!y.isSensitive);return}se("drive/files/update",{fileId:y.id,isSensitive:!y.isSensitive}).then(()=>{a("changeSensitive",y,!y.isSensitive)})}async function h(y){if(o)return;const{canceled:g,result:p}=await ao({title:"Defineix nom del fitxer",default:y.name,minLength:1});g||se("drive/files/update",{fileId:y.id,name:p}).then(()=>{a("changeName",y,p),y.name=p})}async function w(y){if(o)return;const{dispose:g}=await bt(I(()=>import("./3iSoGi4ic-D4c9btWc.js"),__vite__mapDeps([90,68,2,4,3,69,5,6]),import.meta.url).then(p=>p.default),{default:y.comment!==null?y.comment:"",file:y},{done:p=>{let m=p.length===0?null:p;se("drive/files/update",{fileId:y.id,comment:m}).then(()=>{y.comment=m})},closed:()=>g()})}function u(y,g){if(s)return;const p=y.type.startsWith("image/"),m=[];m.push({text:"Canvia el nom del fitxer",icon:"ti ti-forms",action:()=>{h(y)}},{text:y.isSensitive?"Deixar de marcar com a sensible":"Marcar com a sensible",icon:y.isSensitive?"ti ti-eye-exclamation":"ti ti-eye",action:()=>{f(y)}},{text:"Afegir text alternatiu",icon:"ti ti-text-caption",action:()=>{w(y)}}),p&&m.push({text:"Vista prvia",icon:"ti ti-photo-search",action:async()=>{const{dispose:x}=await bt(I(()=>import("./3iSoGi4ic-BBCCQB-9.js"),__vite__mapDeps([91,2,3,4,5,6,92]),import.meta.url).then(k=>k.default),{file:y},{closed:()=>x()})}}),m.push({type:"divider"},{text:"Eliminar el fitxer adjunt",icon:"ti ti-circle-x",action:()=>{r(y.id)}},{text:"Esborrar l'arxiu ",icon:"ti ti-trash",danger:!0,action:()=>{l(y)}}),D.s.devMode&&m.push({type:"divider"},{icon:"ti ti-hash",text:"Copiar ID de l'arxiu",action:()=>{lt(y.id)}}),Ue(m,g.currentTarget??g.target).then(()=>s=!1),s=!0}return(y,g)=>te((c(),v("div",{class:"xj7LU"},[j(E(n),{modelValue:i.modelValue,class:"xogvv",itemKey:"id",animation:150,delay:100,delayOnTouchOnly:!0,"onUpdate:modelValue":g[0]||(g[0]=p=>a("update:modelValue",p))},{item:H(({element:p})=>[b("div",{class:"xtEVP",role:"button",tabindex:"0",onClick:m=>u(p,m),onKeydown:Bo(m=>u(p,m),["space","enter"]),onContextmenu:fe(m=>u(p,m),["prevent"])},[j(Hh,{"data-id":p.id,class:"xCSUB",file:p,fit:"cover"},null,8,["data-id","class","file"]),p.isSensitive?(c(),v("div",{key:0,class:"x3bJu"},[...g[1]||(g[1]=[b("i",{class:"ti ti-eye-exclamation",style:{margin:"auto"}},null,-1)])],2)):M("",!0)],42,qh)]),_:1},8,["modelValue","class"]),b("p",{class:J(["xeJ9I",{xavsh:i.modelValue.length>16}])},S(i.modelValue.length)+"/16 ",3)],2)),[[Ft,i.modelValue.length!=0]])}});const ui=window.document.getElementById("misskey_meta");let Gu=ce.getItem("instance")?JSON.parse(ce.getItem("instance")):null,il=ce.getItem("instanceCachedAt")?parseInt(ce.getItem("instanceCachedAt")):0;const ol=ui&&ui.textContent?JSON.parse(ui.textContent):null,Pa=ui&&ui.dataset.generatedAt?parseInt(ui.dataset.generatedAt):0;Pa>il&&(ce.setItem("instance",JSON.stringify(ol)),ce.setItem("instanceCachedAt",Pa.toString()),Gu=ol,il=Pa);const re=Qo(Gu??{});async function Qu(e=!1){if(!e){const n=ce.getItem("instanceCachedAt")?parseInt(ce.getItem("instanceCachedAt")):0;if(Date.now()-n<1e3*60*60)return re}const t=await se("meta",{detail:!0});for(const[n,i]of Object.entries(t))re[n]=i;return ce.setItem("instance",JSON.stringify(re)),ce.setItem("instanceCachedAt",Date.now().toString()),re}const Ni=e=>e==null?"N/A":Om.format(e),Jh=K({__name:"MkPostForm.TextCounter",props:{textLength:{}},setup(e){Qi(o=>({v6d9ad105:Math.min(100,i.value)+"%"}));const t=e,n=z(()=>re?re.maxNoteTextLength:1e3),i=z(()=>t.textLength/n.value*100);return(o,a)=>(c(),v("div",{class:"xd9Do"},[b("div",{class:"x1W09"},S("Nombre de carcters "),3),b("div",{class:J(["x1BUx",{xv90r:i.value>100},{xbzwI:i.value>90&&i.value<=100}])},[b("div",{class:"xoDpL"},null,2),b("div",null,[b("span",{class:"x3Jqs"},S(E(Ni)(e.textLength)),3),Z(" / "+S(E(Ni)(n.value)),1)])],2)],2))}});function Xs(e,t,n){var i=n||{},o=i.noTrailing,a=o===void 0?!1:o,s=i.noLeading,r=s===void 0?!1:s,l=i.debounceMode,f=l===void 0?void 0:l,h,w=!1,u=0;function y(){h&&clearTimeout(h)}function g(m){var x=m||{},k=x.upcomingOnly,_=k===void 0?!1:k;y(),w=!_}function p(){for(var m=arguments.length,x=new Array(m),k=0;k<m;k++)x[k]=arguments[k];var _=this,C=Date.now()-u;if(w)return;function T(){u=Date.now(),t.apply(_,x)}function R(){h=void 0}!r&&f&&!h&&T(),y(),f===void 0&&C>e?r?(u=Date.now(),a||(h=setTimeout(f?R:T,e))):T():a!==!0&&(h=setTimeout(f?R:T,f===void 0?e-C:e))}return p.cancel=g,p}function Kh(e,t,n){var i={},o=i.atBegin,a=o===void 0?!1:o;return Xs(e,t,{debounceMode:a!==!1})}function Gs(e,t,n){if(Number.isNaN(t))return;let i=null;n.afterMounted?We(()=>{n.immediate&&e(),i=window.setInterval(e,t)}):(n.immediate&&e(),i=window.setInterval(e,t));const o=()=>{i&&window.clearInterval(i),i=null};return $n(()=>{i||(n.immediate&&e(),i=window.setInterval(e,t))}),gi(()=>{o()}),nt(()=>{o()}),o}var Ra={exports:{}},al;function Yh(){return al||(al=1,(function(e){(function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],n=typeof window<"u",i=n&&window.mozInnerScreenX!=null;function o(a,s,r){if(!n)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var l=r&&r.debug||!1;if(l){var f=document.querySelector("#input-textarea-caret-position-mirror-div");f&&f.parentNode.removeChild(f)}var h=document.createElement("div");h.id="input-textarea-caret-position-mirror-div",document.body.appendChild(h);var w=h.style,u=window.getComputedStyle?window.getComputedStyle(a):a.currentStyle,y=a.nodeName==="INPUT";w.whiteSpace="pre-wrap",y||(w.wordWrap="break-word"),w.position="absolute",l||(w.visibility="hidden"),t.forEach(function(m){y&&m==="lineHeight"?w.lineHeight=u.height:w[m]=u[m]}),i?a.scrollHeight>parseInt(u.height)&&(w.overflowY="scroll"):w.overflow="hidden",h.textContent=a.value.substring(0,s),y&&(h.textContent=h.textContent.replace(/\s/g,""));var g=document.createElement("span");g.textContent=a.value.substring(s)||".",h.appendChild(g);var p={top:g.offsetTop+parseInt(u.borderTopWidth),left:g.offsetLeft+parseInt(u.borderLeftWidth),height:parseInt(u.lineHeight)};return l?g.style.backgroundColor="#aaa":document.body.removeChild(h),p}e.exports=o})()})(Ra)),Ra.exports}var Xh=Yh();const Gh=Wl(Xh);class Co{suggestion;textarea;currentType;textRef;opening;onlyType;get text(){return this.textarea.value}set text(t){this.textRef.value=t}constructor(t,n,i){this.onInput=this.onInput.bind(this),this.complete=this.complete.bind(this),this.close=this.close.bind(this),this.suggestion=null,this.textarea=t,this.textRef=n,this.opening=!1,this.onlyType=i??["user","hashtag","emoji","mfmTag","mfmParam"],this.attach()}attach(){this.textarea.addEventListener("input",this.onInput)}detach(){this.textarea.removeEventListener("input",this.onInput),this.close()}onInput(){const t=Number(this.textarea.selectionStart),n=this.text.substring(0,t).split(`
`).pop(),i=n.split(/[^a-zA-Z0-9_@.\-]+/).pop(),o=i.lastIndexOf("@"),a=n.lastIndexOf("#"),s=n.lastIndexOf(":"),r=n.lastIndexOf("$"),l=n.lastIndexOf(".");if(Math.max(o,a,s,r)===-1){this.close();return}const h=n.split(/\$\[[a-zA-Z]+/).pop(),w=o!==-1,u=a!==-1,y=l!==-1&&h?.includes(".")&&!h.includes(" "),g=r!==-1&&!y,p=s!==-1&&n.split(/:[a-z0-9_+\-]+:/).pop().includes(":"),m=!p&&s===n.length-1;let x=!1;if(w&&this.onlyType.includes("user")){const k=i.lastIndexOf("@",o-1),_=k!==-1&&k!==o-1?k:o;if(_===0||"_@.-".includes(i[_-1])){const T=i.substring(_+1);T!==""&&T.match(/^[a-zA-Z0-9_@.\-]+$/)?(this.open("user",T),x=!0):T===""&&(this.open("user",null),x=!0)}}if(u&&!x&&this.onlyType.includes("hashtag")){const k=n.substring(a+1);k.includes(" ")||(this.open("hashtag",k),x=!0)}if(p&&!x&&this.onlyType.includes("emoji")){const k=n.substring(s+1);k.includes(" ")||(this.open("emoji",k),x=!0)}if(m&&!x&&this.onlyType.includes("emoji")){const k=n.substring(n.lastIndexOf(":",n.length-2)+1,n.length-1);k.includes(" ")||(this.open("emojiComplete",k),x=!0)}if(g&&!x&&this.onlyType.includes("mfmTag")){const k=n.substring(r+1);k.includes(" ")||(this.open("mfmTag",k.replace("[","")),x=!0)}if(y&&!x&&this.onlyType.includes("mfmParam")){const k=n.substring(l+1);k.includes(" ")||(this.open("mfmParam",{tag:n.substring(r+2,l),params:k.split(",")}),x=!0)}x||this.close()}async open(t,n){if(t!==this.currentType&&this.close(),this.opening)return;this.opening=!0,this.currentType=t;const i=Gh(this.textarea,this.textarea.selectionStart),o=this.textarea.getBoundingClientRect(),a=o.left+i.left-this.textarea.scrollLeft,s=o.top+i.top-this.textarea.scrollTop;if(this.suggestion)this.suggestion.x.value=a,this.suggestion.y.value=s,this.suggestion.q.value=n,this.opening=!1;else{const r=F(a),l=F(s),f=F(n),{dispose:h}=await _e(he(()=>I(()=>import("./3iSoGi4ic-D4GX2S4n.js"),__vite__mapDeps([93,2,60,61,4,3,5,6,94]),import.meta.url)),{textarea:this.textarea,close:this.close,type:t,q:f,x:r,y:l},{done:w=>{this.complete(w)}});this.suggestion={q:f,x:r,y:l,close:()=>h()},this.opening=!1}}close(){this.suggestion!=null&&(this.suggestion.close(),this.suggestion=null,this.textarea.focus())}complete({type:t,value:n}){this.close();const i=Number(this.textarea.selectionStart);if(t==="user"){const o=this.text,a=o.substring(0,i),s=a.substring(0,a.lastIndexOf("@")),r=o.substring(i),l=n.host===null?n.username:`${n.username}@${Ii(n.host)}`;this.text=`${s}@${l} ${r}`,Be(()=>{this.textarea.focus();const f=s.length+(l.length+2);this.textarea.setSelectionRange(f,f)})}else if(t==="hashtag"){const o=this.text,a=o.substring(0,i),s=a.substring(0,a.lastIndexOf("#")),r=o.substring(i);this.text=`${s}#${n} ${r}`,Be(()=>{this.textarea.focus();const l=s.length+(n.length+2);this.textarea.setSelectionRange(l,l)})}else if(t==="emoji"){const o=this.text,a=o.substring(0,i),s=a.substring(0,a.lastIndexOf(":")),r=o.substring(i);this.text=s+n+r,Be(()=>{this.textarea.focus();const l=s.length+n.length;this.textarea.setSelectionRange(l,l)})}else if(t==="emojiComplete"){const o=this.text,a=o.substring(0,i),s=a.substring(0,a.lastIndexOf(":",a.length-2)),r=o.substring(i);this.text=s+n+r,Be(()=>{this.textarea.focus();const l=s.length+n.length;this.textarea.setSelectionRange(l,l)})}else if(t==="mfmTag"){const o=this.text,a=o.substring(0,i),s=a.substring(0,a.lastIndexOf("$")),r=o.substring(i);this.text=`${s}$[${n} ]${r}`,Be(()=>{this.textarea.focus();const l=s.length+(n.length+3);this.textarea.setSelectionRange(l,l)})}else if(t==="mfmParam"){const o=this.text,a=o.substring(0,i),s=a.substring(0,a.lastIndexOf(".")),r=o.substring(i);this.text=`${s}.${n}${r}`,Be(()=>{this.textarea.focus();const l=s.length+(n.length+1);this.textarea.setSelectionRange(l,l)})}}}const Qh={class:"_selectable"},Zh=["type","disabled","required","readonly","placeholder","pattern","autocomplete","autocapitalize","spellcheck","inputmode","step","list","min","max"],ep=["id"],tp=["value"],Ti=K({__name:"MkInput",props:{modelValue:{},type:{},required:{type:Boolean},readonly:{type:Boolean},disabled:{type:Boolean},pattern:{},placeholder:{},autofocus:{type:Boolean},autocomplete:{},mfmAutocomplete:{type:[Boolean,Array]},autocapitalize:{},spellcheck:{type:Boolean},inputmode:{},step:{},datalist:{},min:{},max:{},inline:{type:Boolean},debounce:{type:Boolean},manualSave:{type:Boolean},small:{type:Boolean},large:{type:Boolean}},emits:["change","keydown","enter","update:modelValue"],setup(e,{expose:t,emit:n}){Qi(T=>({v638e99f8:E(g)+"px"}));const i=e,o=n,{modelValue:a}=Zo(i),s=F(a.value),r=Dt(),l=F(!1),f=F(!1),h=F(!1);z(()=>s.value!==""&&s.value!=null);const w=de("inputEl"),u=de("prefixEl"),y=de("suffixEl"),g=i.small?33:i.large?39:36;let p=null;const m=()=>w.value?.focus(),x=T=>{const R=T;f.value=!0,o("change",R)},k=T=>{T.isComposing||T.key==="Process"||T.keyCode===229||(o("keydown",T),T.code==="Enter"&&o("enter",T))},_=()=>{f.value=!1,i.type==="number"?o("update:modelValue",typeof s.value=="number"?s.value:parseFloat(s.value??"0")):o("update:modelValue",s.value??"")},C=Kh(1e3,_);return oe(a,T=>{s.value=T}),oe(s,()=>{i.manualSave||(i.debounce?C():_()),h.value=w.value?.validity.badInput??!0}),Gs(()=>{w.value!=null&&(u.value&&u.value.offsetWidth&&(w.value.style.paddingLeft=u.value.offsetWidth+"px"),y.value&&y.value.offsetWidth&&(w.value.style.paddingRight=y.value.offsetWidth+"px"))},100,{immediate:!0,afterMounted:!0}),We(()=>{Be(()=>{i.autofocus&&m()}),i.mfmAutocomplete&&w.value&&(p=new Co(w.value,s,i.mfmAutocomplete===!0?void 0:i.mfmAutocomplete))}),nt(()=>{p&&p.detach()}),t({focus:m}),(T,R)=>{const P=Ye("adaptive-border");return c(),v("div",Qh,[b("div",{class:"xzokp",onClick:m},[Ae(T.$slots,"label")],2),b("div",{class:J(["xbo7Y",{xaxTj:e.inline,x7Qqw:e.disabled,x2NNv:l.value}])},[b("div",{ref_key:"prefixEl",ref:u,class:"xfi6L"},[Ae(T.$slots,"prefix")],2),te(b("input",{ref_key:"inputEl",ref:w,"onUpdate:modelValue":R[0]||(R[0]=L=>s.value=L),class:"xndfW",type:e.type,disabled:e.disabled,required:e.required,readonly:e.readonly,placeholder:e.placeholder,pattern:e.pattern,autocomplete:e.autocomplete,autocapitalize:e.autocapitalize,spellcheck:e.spellcheck,inputmode:e.inputmode,step:e.step,list:E(r),min:e.min,max:e.max,onFocus:R[1]||(R[1]=L=>l.value=!0),onBlur:R[2]||(R[2]=L=>l.value=!1),onKeydown:R[3]||(R[3]=L=>k(L)),onInput:x},null,42,Zh),[[Kd,s.value],[P]]),e.datalist?(c(),v("datalist",{key:0,id:E(r)},[(c(!0),v(pe,null,ze(e.datalist,L=>(c(),v("option",{key:L,value:L},null,8,tp))),128))],8,ep)):M("",!0),b("div",{ref_key:"suffixEl",ref:y,class:"x5MWw"},[Ae(T.$slots,"suffix")],2)],2),b("div",{class:"x5HNp"},[Ae(T.$slots,"caption")],2),e.manualSave&&f.value?(c(),N(mt,{key:0,primary:"",class:"xtB8o",onClick:_},{default:H(()=>[R[4]||(R[4]=b("i",{class:"ti ti-check"},null,-1)),Z(" "+S("Desa"),1)]),_:1},8,["class"])):M("",!0)])}}});const np=["disabled","required","readonly","placeholder"],ip={style:{"pointer-events":"none"}},op={style:{display:"none"}},fs=K({__name:"MkSelect",props:Tn({items:{},required:{type:Boolean},readonly:{type:Boolean},disabled:{type:Boolean},placeholder:{},autofocus:{type:Boolean},inline:{type:Boolean},small:{type:Boolean},large:{type:Boolean}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){Qi(g=>({v2a4148bb:E(w)+"px"}));const t=e,n=Kn(e,"modelValue"),{autofocus:i}=Zo(t),o=F(!1),a=F(!1),s=F(null),r=de("inputEl"),l=de("prefixEl"),f=de("suffixEl"),h=de("container"),w=t.small?33:t.large?39:36,u=()=>h.value?.focus();Gs(()=>{r.value!=null&&(l.value&&l.value.offsetWidth&&(r.value.style.paddingLeft=l.value.offsetWidth+"px"),f.value&&f.value.offsetWidth&&(r.value.style.paddingRight=f.value.offsetWidth+"px"))},100,{immediate:!0,afterMounted:!0}),We(()=>{Be(()=>{i.value&&u()})}),oe([n,()=>t.items],()=>{let g=null;for(const p of t.items)if(p.type==="group"){for(const m of p.items)if(m.value===n.value){g=m;break}}else if(p.value===n.value){g=p;break}g&&(s.value=g.label)},{immediate:!0,deep:!0});function y(){if(a.value||t.disabled||t.readonly)return;u(),a.value=!0;const g=[];for(const p of t.items)if(p.type==="group"){p.label!=null&&g.push({type:"label",text:p.label});for(const m of p.items)g.push({text:m.label,active:z(()=>n.value===m.value),action:()=>{n.value=m.value}})}else g.push({text:p.label,active:z(()=>n.value===p.value),action:()=>{n.value=p.value}});Ue(g,h.value,{width:h.value?.offsetWidth,onClosing:()=>{a.value=!1}})}return(g,p)=>{const m=Ye("adaptive-border");return c(),v("div",null,[b("div",{class:"x85Kr",onClick:u},[Ae(g.$slots,"label")],2),b("div",{ref_key:"container",ref:h,tabindex:"0",class:J(["xlc7p",{xCVUs:e.inline,xc0tk:e.disabled,xnYBl:o.value||a.value}]),onFocus:p[0]||(p[0]=x=>o.value=!0),onBlur:p[1]||(p[1]=x=>o.value=!1),onMousedown:fe(y,["prevent"]),onKeydown:Bo(y,["space","enter"])},[b("div",{ref_key:"prefixEl",ref:l,class:"x98ie"},[Ae(g.$slots,"prefix")],2),te((c(),v("div",{ref_key:"inputEl",ref:r,tabindex:"-1",class:"xwGUJ",disabled:e.disabled,required:e.required,readonly:e.readonly,placeholder:e.placeholder,onMousedown:fe(()=>{},["prevent"]),onKeydown:fe(()=>{},["prevent"])},[b("div",ip,S(s.value??""),1),b("div",op,[Ae(g.$slots,"default")])],42,np)),[[m]]),b("div",{ref_key:"suffixEl",ref:f,class:"xyxj5"},[b("i",{class:J(["ti ti-chevron-down",["x9iNl",{xwE7z:a.value}]])},null,2)],2)],34),b("div",{class:"xlwzG"},[Ae(g.$slots,"caption")],2)])}}});const ms=K({__name:"MkSwitch.button",props:{checked:{type:[Boolean,Object]},disabled:{type:[Boolean,Object],default:!1}},emits:["toggle"],setup(e,{emit:t}){const n=e,i=t,o=Zo(n).checked,a=()=>{i("toggle")};return(s,r)=>{const l=Ye("tooltip");return te((c(),v("span",{class:J({xbIy7:!0,xezk7:E(o),x73Cp:n.disabled}),"data-cy-switch-toggle":"",onClick:fe(a,["prevent","stop"])},[b("div",{class:J({x3kAx:!0,xo7KL:E(o)})},null,2)],2)),[[l,E(o)?"Activat":"Desactivat"]])}}});const ap=typeof window>"u"?!1:window.matchMedia("(pointer: coarse)").matches;function En(){try{if(navigator.vibrate){navigator.vibrate(50);return}if(!ap)return;const e=document.createElement("label");e.ariaHidden="true",e.style.display="none";const t=document.createElement("input");t.type="checkbox",t.setAttribute("switch",""),e.appendChild(t),document.head.appendChild(e),e.click(),document.head.removeChild(e)}catch{}}En.confirm=()=>{if(navigator.vibrate){navigator.vibrate([50,70,50]);return}En(),setTimeout(()=>En(),120)};En.error=()=>{if(navigator.vibrate){navigator.vibrate([50,70,50,70,50]);return}En(),setTimeout(()=>En(),120),setTimeout(()=>En(),240)};const sp=En;function No(){D.s["experimental.enableHapticFeedback"]&&sp()}const rp=["disabled"],lp=K({__name:"MkSwitch",props:{modelValue:{type:[Boolean,Object]},disabled:{type:Boolean},helpText:{},noBody:{type:Boolean}},emits:["update:modelValue","change"],setup(e,{emit:t}){const n=e,i=t,o=Zo(n).modelValue,a=()=>{n.disabled||(i("update:modelValue",!o.value),i("change",!o.value),No())};return(s,r)=>{const l=Ye("tooltip");return c(),v("div",{class:J(["x1kPZ",{xqcs3:e.disabled}])},[b("input",{ref:"input",type:"checkbox",disabled:e.disabled,class:"x6eY1",onClick:a},null,10,rp),j(ms,{class:"xEZjz",checked:E(o),disabled:e.disabled,onToggle:a},null,8,["class","checked","disabled"]),e.noBody?M("",!0):(c(),v("span",{key:0,class:"x9TaQ"},[b("span",{class:"xDJmg"},[b("span",{onClick:a},[Ae(s.$slots,"label"),Ae(s.$slots,"default")]),e.helpText?te((c(),v("span",{key:0,class:"_button _help xedBk"},[...r[0]||(r[0]=[b("i",{class:"ti ti-help-circle"},null,-1)])],2)),[[l,e.helpText,"dialog"]]):M("",!0)],2),b("p",{class:"xekRM"},[Ae(s.$slots,"caption")],2)],2))],2)}}});const up={weekday:"narrow",era:"narrow",year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"};function cp(e,t){return t.replace(/\{\{(\w+)(:(\w+))?\}\}/g,(n,i,o,a)=>["weekday","era","year","month","day","hour","minute","second","timeZoneName"].includes(i)?e.toLocaleString(window.navigator.language,{[i]:a||up[i]}):n)}function Ao(e,t){return t.replace(/yyyy/g,e.getFullYear().toString()).replace(/yy/g,e.getFullYear().toString().slice(-2)).replace(/MMMM/g,e.toLocaleString(window.navigator.language,{month:"long"})).replace(/MMM/g,e.toLocaleString(window.navigator.language,{month:"short"})).replace(/MM/g,`0${e.getMonth()+1}`.slice(-2)).replace(/M/g,(e.getMonth()+1).toString()).replace(/dd/g,`0${e.getDate()}`.slice(-2)).replace(/d/g,e.getDate().toString()).replace(/HH/g,`0${e.getHours()}`.slice(-2)).replace(/H/g,e.getHours().toString()).replace(/hh/g,`0${e.getHours()%12||12}`.slice(-2)).replace(/h/g,(e.getHours()%12||12).toString()).replace(/mm/g,`0${e.getMinutes()}`.slice(-2)).replace(/m/g,e.getMinutes().toString()).replace(/ss/g,`0${e.getSeconds()}`.slice(-2)).replace(/s/g,e.getSeconds().toString()).replace(/tt/g,e.getHours()>=12?"PM":"AM")}function sl(e,t){return t.replace(/\[(([^\[]|\[\])*)\]|(([yMdHhmst])\4{0,3})/g,(n,i,o,a)=>i?cp(e,i):a?Ao(e,a):n)}const dp={day:864e5,hour:36e5,ms:1};function fp(e,t,n="ms"){return new Date(e.getTime()+t*dp[n])}function hs(e){const t=F(e.initialValue??null);return{def:e.items,model:t}}const mp={class:"zmdxowus"},hp={key:0,class:"caution"},pp=["onClick"],vp={key:0},gp={key:1},yp=K({__name:"MkPollEditor",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,i=t,o=F(n.modelValue.choices),a=F(n.modelValue.multiple),{model:s,def:r}=hs({items:[{label:"Mai",value:"infinite"},{label:"Finalitza en...",value:"at"},{label:"Finalitza desprs...",value:"after"}],initialValue:"infinite"}),l=F(Ao(fp(new Date,1,"day"),"yyyy-MM-dd")),f=F("00:00"),h=F(0),{model:w,def:u}=hs({items:[{label:"Segon(s)",value:"second"},{label:"Minut(s)",value:"minute"},{label:"Hor(a)(es)",value:"hour"},{label:"Di(a)(es)",value:"day"}],initialValue:"second"});if(n.modelValue.expiresAt){s.value="at";const x=new Date(n.modelValue.expiresAt);l.value=Ao(x,"yyyy-MM-dd"),f.value=Ao(x,"HH:mm")}else typeof n.modelValue.expiredAfter=="number"?(s.value="after",h.value=n.modelValue.expiredAfter/1e3):s.value="infinite";function y(x,k){o.value[x]=k}function g(){o.value.push("")}function p(x){o.value=o.value.filter((k,_)=>_!==x)}function m(){const x=()=>new Date(`${l.value} ${f.value}`).getTime(),k=()=>{let _=parseInt(h.value.toString());switch(w.value){case"day":_*=24;case"hour":_*=60;case"minute":_*=60;case"second":return _*=1e3;default:return null}};return{choices:o.value,multiple:a.value,expiresAt:s.value==="at"?x():null,expiredAfter:s.value==="after"?k():null}}return oe([o,a,s,l,f,h,w],()=>i("update:modelValue",m()),{deep:!0}),(x,k)=>(c(),v("div",mp,[o.value.length<2?(c(),v("p",hp,[k[6]||(k[6]=b("i",{class:"ti ti-alert-triangle"},null,-1)),Z(S("Es necessita escollir dues opcions com a mnim "),1)])):M("",!0),b("ul",null,[(c(!0),v(pe,null,ze(o.value,(_,C)=>(c(),v("li",{key:C},[j(Ti,{class:"input",small:"",modelValue:_,placeholder:(({n})=>("Opci "+n))({n:C+1}),"onUpdate:modelValue":T=>y(C,T)},null,8,["modelValue","placeholder","onUpdate:modelValue"]),b("button",{class:"_button",onClick:T=>p(C)},[...k[7]||(k[7]=[b("i",{class:"ti ti-x"},null,-1)])],8,pp)]))),128))]),o.value.length<10?(c(),N(mt,{key:1,class:"add",onClick:g},{default:H(()=>[Z(S("Afegir"),1)]),_:1})):(c(),N(mt,{key:2,class:"add",disabled:""},{default:H(()=>[Z(S("No pots afegir ms opcions"),1)]),_:1})),j(lp,{modelValue:a.value,"onUpdate:modelValue":k[0]||(k[0]=_=>a.value=_)},{default:H(()=>[Z(S("Permetre escollir diferents opcions"),1)]),_:1},8,["modelValue"]),b("section",null,[b("div",null,[j(fs,{modelValue:E(s),"onUpdate:modelValue":k[1]||(k[1]=_=>Za(s)?s.value=_:null),items:E(r),small:""},{label:H(()=>[Z(S("Finalitza el"),1)]),_:1},8,["modelValue","items"]),E(s)==="at"?(c(),v("section",vp,[j(Ti,{modelValue:l.value,"onUpdate:modelValue":k[2]||(k[2]=_=>l.value=_),small:"",type:"date",class:"input"},{label:H(()=>[Z(S("Data de finalitzaci "),1)]),_:1},8,["modelValue"]),j(Ti,{modelValue:f.value,"onUpdate:modelValue":k[3]||(k[3]=_=>f.value=_),small:"",type:"time",class:"input"},{label:H(()=>[Z(S("Hor(a)(es)"),1)]),_:1},8,["modelValue"])])):E(s)==="after"?(c(),v("section",gp,[j(Ti,{modelValue:h.value,"onUpdate:modelValue":k[4]||(k[4]=_=>h.value=_),small:"",type:"number",min:1,class:"input"},{label:H(()=>[Z(S("Duraci "),1)]),_:1},8,["modelValue"]),j(fs,{modelValue:E(w),"onUpdate:modelValue":k[5]||(k[5]=_=>Za(w)?w.value=_:null),items:E(u),small:""},null,8,["modelValue","items"])])):M("",!0)])])]))}}),wp=io(yp,[["__scopeId","data-v-3b39d4f8"]]),Wt=e=>`/notes/${e.id}`,Qs=e=>ns(e),Dx=e=>e.name||e.username,Dn=(e,t,n=!1)=>`${n?ht:""}/@${Qs(e)}${t?`/${t}`:""}`,bp=["src"],_p={key:0},xp=["title"],kp={key:0,class:"ti ti-home"},Ep={key:1,class:"ti ti-lock"},Dp={key:2,ref:"specified",class:"ti ti-mail"},Cp=["title"],Ap=["title"],Zs=K({__name:"MkNoteHeader",props:{note:{}},setup(e){const t=tt(qe.mock,!1);return(n,i)=>{const o=Q("MkUserName"),a=Q("MkA"),s=Q("MkAcct"),r=Q("MkTime"),l=Ye("user-preview"),f=Ye("tooltip");return c(),v("header",{class:"xCPfz"},[E(t)?(c(),v("div",{key:0,class:"xngrp"},[j(o,{user:e.note.user},null,8,["user"])],2)):te((c(),N(a,{key:1,class:"xngrp",to:E(Dn)(e.note.user)},{default:H(()=>[j(o,{user:e.note.user},null,8,["user"])]),_:1},8,["class","to"])),[[l,e.note.user.id]]),e.note.user.isBot?(c(),v("div",{key:2,class:"xEKlD"},"bot",2)):M("",!0),b("div",{class:"xBLVI"},[j(s,{user:e.note.user},null,8,["user"])],2),e.note.user.badgeRoles?(c(),v("div",{key:3,class:"x5vC9"},[(c(!0),v(pe,null,ze(e.note.user.badgeRoles,(h,w)=>te((c(),v("img",{key:w,class:"xks9Y",src:h.iconUrl},null,10,bp)),[[f,h.name]])),128))],2)):M("",!0),b("div",{class:"xAtlm"},[E(t)?(c(),v("div",_p,[j(r,{time:e.note.createdAt,colored:""},null,8,["time"])])):(c(),N(a,{key:1,to:E(Wt)(e.note)},{default:H(()=>[j(r,{time:e.note.createdAt,colored:""},null,8,["time"])]),_:1},8,["to"])),e.note.visibility!=="public"?(c(),v("span",{key:2,style:{"margin-left":"0.5em"},title:{"public":"Pblic ","publicDescription":"La teva nota la podr veure tothom ","home":"Inici","homeDescription":"Publicar noms a la lnia de temps d'Inici ","followers":"Seguidors","followersDescription":"Fes noms visible per als teus seguidors","specified":"Directe","specifiedDescription":"Fer visible noms per alguns usuaris","disableFederation":"Sense federar","disableFederationDescription":"No enviar a altres servidors"}[e.note.visibility]},[e.note.visibility==="home"?(c(),v("i",kp)):e.note.visibility==="followers"?(c(),v("i",Ep)):e.note.visibility==="specified"?(c(),v("i",Dp,null,512)):M("",!0)],8,xp)):M("",!0),e.note.localOnly?(c(),v("span",{key:3,style:{"margin-left":"0.5em"},title:"Sense federar"},[...i[0]||(i[0]=[b("i",{class:"ti ti-rocket-off"},null,-1)])],8,Cp)):M("",!0),e.note.channel?(c(),v("span",{key:4,style:{"margin-left":"0.5em"},title:e.note.channel.name},[...i[1]||(i[1]=[b("i",{class:"ti ti-device-tv"},null,-1)])],8,Ap)):M("",!0)],2)],2)}}});function Zu(e,t){return e.cw!=null?!1:!!(e.text!=null&&(e.text.includes("$[x2")||e.text.includes("$[x3")||e.text.includes("$[x4")||e.text.includes("$[scale")||e.text.split(`
`).length>9||e.text.length>500)||t.length>=4||e.files!=null&&e.files.length>=5)}const rl=["image/png","image/gif","image/jpeg","image/webp","image/avif","image/apng","image/bmp","image/tiff","image/x-icon","audio/opus","video/ogg","audio/ogg","application/ogg","video/quicktime","video/mp4","audio/mp4","video/x-m4v","audio/x-m4a","video/3gpp","video/3gpp2","video/mpeg","audio/mpeg","video/webm","audio/webm","audio/aac","audio/flac","audio/wav","audio/x-flac","audio/vnd.wave"],ec=["tada","jelly","twitch","shake","spin","jump","bounce","flip","x2","x3","x4","scale","position","fg","bg","border","font","blur","rainbow","sparkle","rotate","ruby","unixtime"],Cx={tada:["speed=","delay="],jelly:["speed=","delay="],twitch:["speed=","delay="],shake:["speed=","delay="],spin:["speed=","delay=","left","alternate","x","y"],jump:["speed=","delay="],bounce:["speed=","delay="],flip:["h","v"],x2:[],x3:[],x4:[],scale:["x=","y="],position:["x=","y="],fg:["color="],bg:["color="],border:["width=","style=","color=","radius=","noclip"],font:["serif","monospace","cursive","fantasy","emoji","math"],blur:[],rainbow:["speed=","delay="],rotate:["deg="],ruby:[],unixtime:[]};function tc(e,t){const n={textFormat:"colon",enableSeconds:!0,enableMs:!1,...t},i={};let o=Math.floor(e/1e3);const a=e-o*1e3,s=Math.floor(o/3600);i.h=mo(s),o%=3600;const r=Math.floor(o/60);return i.m=mo(r),o%=60,o=o%60,i.s=mo(o),i.ms=mo(Math.floor(a/10)),n.textFormat==="locale"&&(i.h+="Hor(a)(es)",i.m+="Minut(s)",i.s+="Segon(s)"),[i.h.startsWith("00")?void 0:i.h,i.m,n.enableSeconds?i.s:void 0].filter(l=>l!==void 0).join(n.textFormat==="colon"?":":" ")+(n.enableMs?n.textFormat==="colon"?`.${i.ms}`:` ${i.ms}`:"")}function mo(e){return e.toString().padStart(2,"0")}const Ip=["value"],jo=K({__name:"MkMediaRange",props:Tn({buffer:{default:void 0},sliderBgWhite:{type:Boolean,default:!1}},{modelValue:{required:!0},modelModifiers:{}}),emits:Tn(["dragEnded"],["update:modelValue"]),setup(e,{emit:t}){const n=t,i=Kn(e,"modelValue"),o=z({get:()=>typeof i.value=="number"?i.value:parseFloat(i.value),set:a=>{i.value=a}});return(a,s)=>(c(),v("div",{style:$e(e.sliderBgWhite?"--sliderBg: rgba(255,255,255,.25);":"--sliderBg: var(--MI_THEME-scrollbarHandle);")},[b("div",{class:"xtPd0"},[e.buffer!==void 0?(c(),v("progress",{key:0,class:"xzx3O",value:isNaN(e.buffer)?0:e.buffer,min:"0",max:"1"},S(Math.round(e.buffer*100))+"% buffered",11,Ip)):M("",!0),te(b("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>i.value=r),class:"xtPDf",style:$e(`--value: ${o.value*100}%;`),type:"range",min:"0",max:"1",step:"any",onChange:s[1]||(s[1]=r=>n("dragEnded",o.value))},null,38),[[Si,i.value]])],2)],4))}});const Tp={key:0,style:{display:"block"}},Mp={key:1,style:{display:"block"}},Fp={style:{display:"block"}},Sp=["src"],Pp=["src"],Rp={key:0,class:"ti ti-player-pause-filled"},Bp={key:1,class:"ti ti-player-play-filled"},$p={key:0,class:"ti ti-volume-3"},Lp={key:1,class:"ti ti-volume"},Op=K({__name:"MkMediaAudio",props:{audio:{}},setup(e){const t=e,n={up:{allowRepeat:!0,callback:()=>{i()&&a.value&&(k.value=Math.min(k.value+.1,1))}},down:{allowRepeat:!0,callback:()=>{i()&&a.value&&(k.value=Math.max(k.value-.1,0))}},left:{allowRepeat:!0,callback:()=>{i()&&a.value&&(a.value.currentTime=Math.max(a.value.currentTime-5,0))}},right:{allowRepeat:!0,callback:()=>{i()&&a.value&&(a.value.currentTime=Math.min(a.value.currentTime+5,a.value.duration))}},space:()=>{i()&&P()}};function i(){return o.value?o.value===window.document.activeElement||o.value.contains(window.document.activeElement):!1}const o=de("playerEl"),a=de("audioEl"),s=F(D.s.nsfw==="force"||D.s.dataSaver.media?!0:t.audio.isSensitive&&D.s.nsfw!=="ignore");async function r(){if(t.audio.isSensitive&&D.s.confirmWhenRevealingSensitiveMedia){const{canceled:ne}=await Ze({type:"question",text:"Aquest contingut potser sensible. Segur que ho vols revelar?"});if(ne)return}s.value=!1}const l=F(!1);function f(ne){const ee=[{type:"switch",text:"Reproducci en bucle",icon:"ti ti-repeat",ref:C},{type:"radio",text:"Velocitat de reproducci ",icon:"ti ti-clock-play",ref:_,options:{"0.25x":.25,"0.5x":.5,"0.75x":.75,"1.0x":1,"1.25x":1.25,"1.5x":1.5,"2.0x":2}},{type:"divider"},{text:"Amagar",icon:"ti ti-eye-off",action:()=>{s.value=!0}}];Kt&&ee.push({text:t.audio.isSensitive?"Deixar de marcar com a sensible":"Marcar com a sensible",icon:t.audio.isSensitive?"ti ti-eye":"ti ti-eye-exclamation",danger:!0,action:()=>h(t.audio)});const xe=[];A?.id===t.audio.userId&&xe.push({type:"link",text:"Detall del fitxer",icon:"ti ti-info-circle",to:`/my/drive/file/${t.audio.id}`}),Kt&&xe.push({type:"link",text:"Moderaci",icon:"ti ti-photo-exclamation",to:`/admin/file/${t.audio.id}`}),xe.length>0&&ee.push({type:"divider"},...xe),D.s.devMode&&ee.push({type:"divider"},{icon:"ti ti-hash",text:"Copiar ID de l'arxiu",action:()=>{lt(t.audio.id)}}),l.value=!0,Ue(ee,ne.currentTarget??ne.target,{align:"right",onClosing:()=>{l.value=!1}})}async function h(ne){const{canceled:ee}=await Ze({type:"warning",text:ne.isSensitive?"Vols deixar de marcar com a sensible aquest contingut?":"Vols marcar aquest contingut com a sensible?"});ee||Xe("drive/files/update",{fileId:ne.id,isSensitive:!ne.isSensitive})}const w=F(!1),u=F(!1),y=F(!1),g=F(!1),p=F(0),m=F(0),x=z({get:()=>p.value/m.value||0,set:ne=>{a.value&&(a.value.currentTime=ne*m.value/1e3)}}),k=F(.25),_=F(1),C=F(!1),T=F(0),R=z(()=>a.value?T.value/a.value.duration:0);function P(){!u.value||!a.value||(y.value?(a.value.pause(),y.value=!1):(a.value.play(),y.value=!0,w.value=!0))}function L(){k.value===0?k.value=.25:k.value=0}let q=!1,G=null,Y;function ve(){q||(q=!0,Y=oe(a,()=>{if(a.value){let ne=function(){if(a.value){try{T.value=a.value.buffered.end(0)}catch{T.value=0}p.value=a.value.currentTime*1e3,a.value.loop!==C.value&&(C.value=a.value.loop)}G=window.requestAnimationFrame(ne)};u.value=!0,ne(),a.value.addEventListener("play",()=>{g.value=!0}),a.value.addEventListener("pause",()=>{g.value=!1,y.value=!1}),a.value.addEventListener("ended",()=>{w.value=!1,g.value=!1,y.value=!1}),m.value=a.value.duration*1e3,a.value.addEventListener("durationchange",()=>{a.value&&(m.value=a.value.duration*1e3)}),a.value.volume=k.value}},{immediate:!0}))}return oe(k,ne=>{a.value&&(a.value.volume=ne)}),oe(_,ne=>{a.value&&(a.value.playbackRate=ne)}),oe(C,ne=>{a.value&&(a.value.loop=ne)}),We(()=>{ve()}),$n(()=>{ve()}),gi(()=>{u.value=!1,y.value=!1,g.value=!1,p.value=0,m.value=0,T.value=0,s.value=D.s.nsfw==="force"||D.s.dataSaver.media?!0:t.audio.isSensitive&&D.s.nsfw!=="ignore",Y(),q=!1,G&&(window.cancelAnimationFrame(G),G=null)}),(ne,ee)=>{const xe=Ye("hotkey");return te((c(),v("div",{ref_key:"playerEl",ref:o,tabindex:"0",class:J(["x6Ija",e.audio.isSensitive&&E(D).s.highlightSensitiveMedia&&"xutdY"]),onContextmenu:ee[3]||(ee[3]=fe(()=>{},["stop"])),onKeydown:ee[4]||(ee[4]=fe(()=>{},["stop"]))},[s.value?(c(),v("button",{key:0,class:"xtlBI",onClick:r},[b("div",{class:"xri4E"},[e.audio.isSensitive?(c(),v("b",Tp,[ee[5]||(ee[5]=b("i",{class:"ti ti-eye-exclamation"},null,-1)),Z(" "+S("Sensible")+S(E(D).s.dataSaver.media?` (${"So"}${e.audio.size?" "+E(Sn)(e.audio.size):""})`:""),1)])):(c(),v("b",Mp,[ee[6]||(ee[6]=b("i",{class:"ti ti-music"},null,-1)),Z(" "+S(E(D).s.dataSaver.media&&e.audio.size?E(Sn)(e.audio.size):"So"),1)])),b("span",Fp,S("Fes clic per mostrar"),1)],2)],2)):E(D).s.useNativeUiForVideoAudioPlayer?(c(),v("div",{key:1,class:"x7bst"},[b("audio",{ref_key:"audioEl",ref:a,preload:"metadata",controls:"",class:"xnbqR",onKeydown:ee[0]||(ee[0]=fe(()=>{},["prevent"]))},[b("source",{src:e.audio.url},null,8,Sp)],34)],2)):(c(),v("div",{key:2,class:"xEb1w"},[b("audio",{ref_key:"audioEl",ref:a,preload:"metadata",onKeydown:fe(()=>{},["prevent"])},[b("source",{src:e.audio.url},null,8,Pp)],544),b("div",{class:"xf0pQ xF43l"},[b("button",{class:"_button xfV8T",tabindex:"-1",onClick:fe(P,["stop"])},[y.value?(c(),v("i",Rp)):(c(),v("i",Bp))],2)],2),b("div",{class:"xf0pQ xxEXD"},[b("button",{class:"_button xfV8T",tabindex:"-1",onClick:fe(()=>{},["stop"]),onMousedown:fe(f,["prevent","stop"])},[...ee[7]||(ee[7]=[b("i",{class:"ti ti-settings"},null,-1)])],34)],2),b("div",{class:"xf0pQ xxtkE"},S(E(tc)(p.value)),3),b("div",{class:"xf0pQ xlwDE"},[b("button",{class:"_button xfV8T",tabindex:"-1",onClick:fe(L,["stop"])},[k.value===0?(c(),v("i",$p)):(c(),v("i",Lp))],2),j(jo,{modelValue:k.value,"onUpdate:modelValue":ee[1]||(ee[1]=le=>k.value=le),class:"xBCFu"},null,8,["modelValue","class"])],2),j(jo,{modelValue:x.value,"onUpdate:modelValue":ee[2]||(ee[2]=le=>x.value=le),class:"xap6W",buffer:R.value},null,8,["modelValue","class","buffer"])],2))],34)),[[xe,n]])}}});const Np=["href","title","download"],jp=K({__name:"MkMediaBanner",props:{media:{}},setup(e){const t=e,n=F(!0);async function i(){if(t.media.isSensitive&&D.s.confirmWhenRevealingSensitiveMedia){const{canceled:o}=await Ze({type:"question",text:"Aquest contingut potser sensible. Segur que ho vols revelar?"});if(o)return}n.value=!1}return(o,a)=>(c(),v("div",{class:"xnlnd"},[e.media.type.startsWith("audio")&&e.media.type!=="audio/midi"?(c(),N(Op,{key:0,audio:e.media},null,8,["audio"])):e.media.isSensitive&&n.value?(c(),v("div",{key:1,class:"xaXVa",onClick:i},[a[0]||(a[0]=b("span",{style:{"font-size":"1.6em"}},[b("i",{class:"ti ti-alert-triangle"})],-1)),b("b",null,S("Sensible"),1),b("span",null,S("Fes clic per mostrar"),1)],2)):(c(),v("a",{key:2,class:"xhOcC",href:e.media.url,title:e.media.name,download:e.media.name},[a[1]||(a[1]=b("span",{style:{"font-size":"1.6em"}},[b("i",{class:"ti ti-download"})],-1)),b("b",null,S(e.media.name),1)],10,Np))],2))}});function Ax(e){const t=Object.entries(e).filter(([,n])=>Array.isArray(n)?n.length:n!==void 0).reduce((n,[i,o])=>(n[i]=o,n),{});return Object.entries(t).map(n=>`${n[0]}=${encodeURIComponent(n[1])}`).join("&")}function Vp(e,t){return`${e}${/\?/.test(e)?e.endsWith("?")?"":"&":"?"}${t}`}function Ix(e){const t=e.match(/^(?:https?:)?(?:\/\/)?(?:[^@\n]+@)?([^:\/\n]+)/im);return t?t[1]:null}function er(e,t){try{const n=new URL(t),i=new URL(e);return i.origin===n.origin?i.pathname+i.search+i.hash:e}catch{return""}}class tr{serverMetadata;url;constructor(t,n){this.serverMetadata=t,this.url=n}getProxiedImageUrl(t,n,i=!1,o=!1){const a=t.startsWith("http")?new URL(t):new URL(t,this.url);return a.searchParams.set("type",`${n}`),a.searchParams.set("origin",`${i}`),a.searchParams.set("fallback",`${o}`),a.href}getProxiedImageUrlNullable(t,n){return t==null?null:this.getProxiedImageUrl(t,n)}getStaticImageUrl(t){const n=t.startsWith("http")?new URL(t):new URL(t,this.url);return n.searchParams.set("static","1"),n.href}}let vn=null;function Up(...e){return vn==null&&(vn=new tr(re,ht)),vn.getProxiedImageUrl(...e)}function zp(...e){return vn==null&&(vn=new tr(re,ht)),vn.getProxiedImageUrlNullable(...e)}function qi(...e){return vn==null&&(vn=new tr(re,ht)),vn.getStaticImageUrl(...e)}const Hp=["title"],qp=["src","alt","title"],Wp={key:0,style:{display:"block"}},Jp={key:1,style:{display:"block"}},Kp={key:2,style:{display:"block"}},Yp=["title"],Xp=K({__name:"MkMediaImage",props:{image:{},raw:{type:Boolean},cover:{type:Boolean,default:!1},disableImageLink:{type:Boolean,default:!1},controls:{type:Boolean,default:!0}},setup(e){const t=e,n=F(!0),i=z(()=>t.raw||D.s.loadRawImages?t.image.url:D.s.disableShowingAnimatedImages?qi(t.image.url):t.image.thumbnailUrl);async function o(s){if(t.controls&&n.value){if(s.stopPropagation(),t.image.isSensitive&&D.s.confirmWhenRevealingSensitiveMedia){const{canceled:r}=await Ze({type:"question",text:"Aquest contingut potser sensible. Segur que ho vols revelar?"});if(r)return}n.value=!1}}oe(()=>t.image,()=>{n.value=D.s.nsfw==="force"||D.s.dataSaver.media?!0:t.image.isSensitive&&D.s.nsfw!=="ignore"},{deep:!0,immediate:!0});function a(s){const r=[];r.push({text:"Amagar",icon:"ti ti-eye-off",action:()=>{n.value=!0}}),Kt&&r.push({text:t.image.isSensitive?"Deixar de marcar com a sensible":"Marcar com a sensible",icon:"ti ti-eye-exclamation",danger:!0,action:async()=>{const{canceled:f}=await Ze({type:"warning",text:t.image.isSensitive?"Vols deixar de marcar com a sensible aquest contingut?":"Vols marcar aquest contingut com a sensible?"});f||Xe("drive/files/update",{fileId:t.image.id,isSensitive:!t.image.isSensitive})}});const l=[];A?.id===t.image.userId&&l.push({type:"link",text:"Detall del fitxer",icon:"ti ti-info-circle",to:`/my/drive/file/${t.image.id}`}),Kt&&l.push({type:"link",text:"Moderaci",icon:"ti ti-photo-exclamation",to:`/admin/file/${t.image.id}`}),l.length>0&&r.push({type:"divider"},...l),D.s.devMode&&r.push({type:"divider"},{icon:"ti ti-hash",text:"Copiar ID de l'arxiu",action:()=>{lt(t.image.id)}}),Ue(r,s.currentTarget??s.target)}return(s,r)=>(c(),v("div",{class:J([n.value?"xuA87":"xnU59",e.image.isSensitive&&E(D).s.highlightSensitiveMedia&&"xihe4"]),onClick:o},[(c(),N(Ct(e.disableImageLink?"div":"a"),Zi(Yd(e.disableImageLink?{title:e.image.name,class:"xcKaF"}:{title:e.image.name,class:"xcKaF",href:e.image.url,style:"cursor: zoom-in;"})),{default:H(()=>[E(D).s.enableHighQualityImagePlaceholders?(c(),N(Ys,{key:0,hash:e.image.blurhash,src:E(D).s.dataSaver.media&&n.value?null:i.value,forceBlurhash:n.value,cover:n.value||e.cover,alt:e.image.comment||e.image.name,title:e.image.comment||e.image.name,width:e.image.properties.width,height:e.image.properties.height,style:$e(n.value?"filter: brightness(0.7);":null),class:"x4osn"},null,8,["hash","src","forceBlurhash","cover","alt","title","width","height","style","class"])):E(D).s.dataSaver.media||n.value?(c(),v("div",{key:1,title:e.image.comment||e.image.name,style:$e(n.value?"background: #888;":null),class:"x4osn"},null,14,Hp)):(c(),v("img",{key:2,src:i.value,alt:e.image.comment||e.image.name,title:e.image.comment||e.image.name,class:"x4osn"},null,10,qp))]),_:1},16)),n.value?(c(),v("div",{key:0,class:"xmylE"},[b("div",{class:"xBp91"},[e.image.isSensitive?(c(),v("b",Wp,[r[1]||(r[1]=b("i",{class:"ti ti-eye-exclamation"},null,-1)),Z(" "+S("Sensible")+S(E(D).s.dataSaver.media?` (${"Imatge"}${e.image.size?" "+E(Sn)(e.image.size):""})`:""),1)])):(c(),v("b",Jp,[r[2]||(r[2]=b("i",{class:"ti ti-photo"},null,-1)),Z(" "+S(E(D).s.dataSaver.media&&e.image.size?E(Sn)(e.image.size):"Imatge"),1)])),e.controls?(c(),v("span",Kp,S("Fes clic per mostrar"),1)):M("",!0)],2)],2)):e.controls?(c(),v(pe,{key:1},[b("div",{class:"x4RFf"},[["image/gif","image/apng"].includes(e.image.type)?(c(),v("div",{key:0,class:"xt7Nj"},"GIF",2)):M("",!0),e.image.comment?(c(),v("div",{key:1,class:"xt7Nj"},"ALT",2)):M("",!0),e.image.isSensitive?(c(),v("div",{key:2,class:"xt7Nj",style:{color:"var(--MI_THEME-warn)"},title:"Sensible"},[...r[3]||(r[3]=[b("i",{class:"ti ti-eye-exclamation"},null,-1)])],10,Yp)):M("",!0)],2),b("button",{class:"xEvDK _button",onClick:fe(a,["stop"])},[...r[4]||(r[4]=[b("i",{class:"ti ti-dots",style:{"vertical-align":"middle"}},null,-1)])],2),b("i",{class:"ti ti-eye-off xlnR0",onClick:r[0]||(r[0]=fe(l=>n.value=!0,["stop"]))},null,2)],64)):M("",!0)],2))}});const Gp=({videoEl:e,playerEl:t,options:n})=>{if(t.requestFullscreen!=null){t.requestFullscreen(n??void 0);return}if(e.webkitEnterFullscreen!=null){e.webkitEnterFullscreen();return}},ll=({videoEl:e})=>{if(window.document.exitFullscreen!=null){window.document.exitFullscreen();return}if(e.webkitExitFullscreen!=null){e.webkitExitFullscreen();return}};async function Qp(e){const t=e.cloneNode();t.muted=t.playsInline=!0,t.play(),await new Promise(i=>t.addEventListener("playing",i));const n=!!t.audioTracks?.length||t.mozHasAudio||!!t.webkitAudioDecodedByteCount;return t.remove(),n}const Zp={key:0,style:{display:"block"}},ev={key:1,style:{display:"block"}},tv={style:{display:"block"}},nv=["poster","title","alt"],iv=["src"],ov=["title"],av=["poster","title","alt"],sv=["src"],rv=["title"],lv={key:0,class:"ti ti-player-pause-filled"},uv={key:1,class:"ti ti-player-play-filled"},cv={key:0,class:"ti ti-arrows-minimize"},dv={key:1,class:"ti ti-arrows-maximize"},fv={key:0,class:"ti ti-volume-3"},mv={key:1,class:"ti ti-volume"},hv=K({__name:"MkMediaVideo",props:{video:{}},setup(e){const t=e,n={up:{allowRepeat:!0,callback:()=>{i()&&f.value&&(R.value=Math.min(R.value+.1,1))}},down:{allowRepeat:!0,callback:()=>{i()&&f.value&&(R.value=Math.max(R.value-.1,0))}},left:{allowRepeat:!0,callback:()=>{i()&&f.value&&(f.value.currentTime=Math.max(f.value.currentTime-5,0))}},right:{allowRepeat:!0,callback:()=>{i()&&f.value&&(f.value.currentTime=Math.min(f.value.currentTime+5,f.value.duration))}},space:()=>{i()&&ee()}};function i(){return h.value?h.value===window.document.activeElement||h.value.contains(window.document.activeElement):!1}const o=F(D.s.nsfw==="force"||D.s.dataSaver.media?!0:t.video.isSensitive&&D.s.nsfw!=="ignore");async function a(){if(t.video.isSensitive&&D.s.confirmWhenRevealingSensitiveMedia){const{canceled:Ee}=await Ze({type:"question",text:"Aquest contingut potser sensible. Segur que ho vols revelar?"});if(Ee)return}o.value=!1}const s=F(!1);function r(Ee){const U=[{type:"switch",text:"Reproducci en bucle",icon:"ti ti-repeat",ref:L},{type:"radio",text:"Velocitat de reproducci ",icon:"ti ti-clock-play",ref:P,options:{"0.25x":.25,"0.5x":.5,"0.75x":.75,"1.0x":1,"1.25x":1.25,"1.5x":1.5,"2.0x":2}},...window.document.pictureInPictureEnabled?[{text:"Imatge sobre impressionada ",icon:"ti ti-picture-in-picture",action:le}]:[],{type:"divider"},{text:"Amagar",icon:"ti ti-eye-off",action:()=>{o.value=!0}}];Kt&&U.push({text:t.video.isSensitive?"Deixar de marcar com a sensible":"Marcar com a sensible",icon:t.video.isSensitive?"ti ti-eye":"ti ti-eye-exclamation",danger:!0,action:()=>l(t.video)});const Se=[];A?.id===t.video.userId&&Se.push({type:"link",text:"Detall del fitxer",icon:"ti ti-info-circle",to:`/my/drive/file/${t.video.id}`}),Kt&&Se.push({type:"link",text:"Moderaci",icon:"ti ti-photo-exclamation",to:`/admin/file/${t.video.id}`}),Se.length>0&&U.push({type:"divider"},...Se),D.s.devMode&&U.push({type:"divider"},{icon:"ti ti-hash",text:"Copiar ID de l'arxiu",action:()=>{lt(t.video.id)}}),s.value=!0,Ue(U,Ee.currentTarget??Ee.target,{align:"right",onClosing:()=>{s.value=!1}})}async function l(Ee){const{canceled:U}=await Ze({type:"warning",text:Ee.isSensitive?"Vols deixar de marcar com a sensible aquest contingut?":"Vols marcar aquest contingut com a sensible?"});U||Xe("drive/files/update",{fileId:Ee.id,isSensitive:!Ee.isSensitive})}const f=de("videoEl"),h=de("playerEl"),w=F(!1),u=z(()=>!!(!p.value||w.value||s.value)),y=F(!1);let g=null;const p=F(!1),m=F(!1),x=F(!1),k=F(!1),_=F(0),C=F(0),T=z({get:()=>_.value/C.value||0,set:Ee=>{f.value&&(f.value.currentTime=Ee*C.value/1e3)}}),R=F(.25),P=F(1),L=F(!1),q=F(0),G=z(()=>f.value?q.value/f.value.duration:0);function Y(){g&&window.clearTimeout(g),w.value=!0,g=window.setTimeout(()=>{w.value=!1},3e3)}function ve(){g&&window.clearTimeout(g),w.value=!0,g=window.setTimeout(()=>{w.value=!1},3e3)}function ne(){g&&window.clearTimeout(g),g=window.setTimeout(()=>{w.value=!1},100)}function ee(){!m.value||!f.value||(x.value?(f.value.pause(),x.value=!1):(f.value.play(),x.value=!0,p.value=!0))}function xe(){h.value==null||f.value==null||(y.value?(ll({videoEl:f.value}),y.value=!1):(Gp({videoEl:f.value,playerEl:h.value,options:{navigationUI:"hide"}}),y.value=!0))}function le(){f.value&&(window.document.pictureInPictureElement?window.document.exitPictureInPicture():f.value.requestPictureInPicture())}function ge(){R.value===0?R.value=.25:R.value=0}let Re=!1,Fe=null,ke;function ae(){Re||(Re=!0,ke=oe(f,()=>{if(f.value){let Ee=function(){if(f.value){try{q.value=f.value.buffered.end(0)}catch{q.value=0}_.value=f.value.currentTime*1e3,f.value.loop!==L.value&&(L.value=f.value.loop)}Fe=window.requestAnimationFrame(Ee)};m.value=!0,Ee(),f.value.addEventListener("play",()=>{k.value=!0}),f.value.addEventListener("pause",()=>{k.value=!1,x.value=!1}),f.value.addEventListener("ended",()=>{p.value=!1,k.value=!1,x.value=!1}),C.value=f.value.duration*1e3,f.value.addEventListener("durationchange",()=>{f.value&&(C.value=f.value.duration*1e3)}),f.value.volume=R.value,Qp(f.value).then(U=>{!U&&f.value&&(f.value.loop=f.value.muted=!0,f.value.play())})}},{immediate:!0}))}return oe(R,Ee=>{f.value&&(f.value.volume=Ee)}),oe(P,Ee=>{f.value&&(f.value.playbackRate=Ee)}),oe(L,Ee=>{f.value&&(f.value.loop=Ee)}),oe(o,Ee=>{f.value&&Ee&&y.value&&(ll({videoEl:f.value}),y.value=!1)}),We(()=>{ae()}),$n(()=>{ae()}),gi(()=>{m.value=!1,x.value=!1,k.value=!1,_.value=0,C.value=0,q.value=0,o.value=D.s.nsfw==="force"||D.s.dataSaver.media?!0:t.video.isSensitive&&D.s.nsfw!=="ignore",ke(),Re=!1,Fe&&(window.cancelAnimationFrame(Fe),Fe=null),g&&(window.clearTimeout(g),g=null)}),(Ee,U)=>{const Se=Q("MkLoading"),je=Ye("hotkey");return te((c(),v("div",{ref_key:"playerEl",ref:h,tabindex:"0",class:J(["xcZgn",u.value&&"xvyPH",e.video.isSensitive&&E(D).s.highlightSensitiveMedia&&"xsf0q"]),onMouseoverPassive:Y,onMousemovePassive:ve,onMouseleavePassive:ne,onContextmenu:U[6]||(U[6]=fe(()=>{},["stop"])),onKeydown:U[7]||(U[7]=fe(()=>{},["stop"]))},[o.value?(c(),v("button",{key:0,class:"xrG87",onClick:a},[b("div",{class:"xose6"},[e.video.isSensitive?(c(),v("b",Zp,[U[8]||(U[8]=b("i",{class:"ti ti-eye-exclamation"},null,-1)),Z(" "+S("Sensible")+S(E(D).s.dataSaver.media?` (${"Vdeo"}${e.video.size?" "+E(Sn)(e.video.size):""})`:""),1)])):(c(),v("b",ev,[U[9]||(U[9]=b("i",{class:"ti ti-movie"},null,-1)),Z(" "+S(E(D).s.dataSaver.media&&e.video.size?E(Sn)(e.video.size):"Vdeo"),1)])),b("span",tv,S("Fes clic per mostrar"),1)],2)],2)):E(D).s.useNativeUiForVideoAudioPlayer?(c(),v("div",{key:1,class:"x1mBH"},[b("video",{ref_key:"videoEl",ref:f,class:"xgOc8",poster:e.video.thumbnailUrl??void 0,title:e.video.comment??void 0,alt:e.video.comment,preload:"metadata",controls:"",onKeydown:U[0]||(U[0]=fe(()=>{},["prevent"]))},[b("source",{src:e.video.url},null,8,iv)],42,nv),b("i",{class:"ti ti-eye-off xdz7H",onClick:U[1]||(U[1]=X=>o.value=!0)},null,2),b("div",{class:"xzxGY"},[e.video.comment?(c(),v("div",{key:0,class:"xck6g"},"ALT",2)):M("",!0),e.video.isSensitive?(c(),v("div",{key:1,class:"xck6g",style:{color:"var(--MI_THEME-warn)"},title:"Sensible"},[...U[10]||(U[10]=[b("i",{class:"ti ti-eye-exclamation"},null,-1)])],10,ov)):M("",!0)],2)],2)):(c(),v("div",{key:2,class:"x1mBH"},[b("video",{ref_key:"videoEl",ref:f,class:"xgOc8",poster:e.video.thumbnailUrl??void 0,title:e.video.comment??void 0,alt:e.video.comment,preload:"metadata",playsinline:"",onKeydown:U[2]||(U[2]=fe(()=>{},["prevent"])),onClick:fe(ee,["self"])},[b("source",{src:e.video.url},null,8,sv)],42,av),m.value&&!x.value?(c(),v("button",{key:0,class:"_button xdln5",onClick:ee},[...U[11]||(U[11]=[b("i",{class:"ti ti-player-play-filled"},null,-1)])],2)):k.value?M("",!0):(c(),v("div",{key:1,class:"xkv9W"},[j(Se)],2)),b("i",{class:"ti ti-eye-off xdz7H",onClick:U[3]||(U[3]=X=>o.value=!0)},null,2),b("div",{class:"xzxGY"},[e.video.comment?(c(),v("div",{key:0,class:"xck6g"},"ALT",2)):M("",!0),e.video.isSensitive?(c(),v("div",{key:1,class:"xck6g",style:{color:"var(--MI_THEME-warn)"},title:"Sensible"},[...U[12]||(U[12]=[b("i",{class:"ti ti-eye-exclamation"},null,-1)])],10,rv)):M("",!0)],2),b("div",{class:"xlZvR",onClick:fe(ee,["self"])},[b("div",{class:"x1lq9 xutQw"},[b("button",{class:"_button xolaw",onClick:ee},[x.value?(c(),v("i",lv)):(c(),v("i",uv))],2)],2),b("div",{class:"x1lq9 xEiBA"},[b("button",{class:"_button xolaw",onClick:r},[...U[13]||(U[13]=[b("i",{class:"ti ti-settings"},null,-1)])],2),b("button",{class:"_button xolaw",onClick:xe},[y.value?(c(),v("i",cv)):(c(),v("i",dv))],2)],2),b("div",{class:"x1lq9 xeQHk"},S(E(tc)(_.value)),3),b("div",{class:"x1lq9 xcjfb"},[b("button",{class:"_button xolaw",onClick:ge},[R.value===0?(c(),v("i",fv)):(c(),v("i",mv))],2),j(jo,{modelValue:R.value,"onUpdate:modelValue":U[4]||(U[4]=X=>R.value=X),sliderBgWhite:!0,class:"xq9dn"},null,8,["modelValue","class"])],2),j(jo,{modelValue:T.value,"onUpdate:modelValue":U[5]||(U[5]=X=>T.value=X),sliderBgWhite:!0,class:"xuoIG",buffer:G.value},null,8,["modelValue","class","buffer"])],2)],2))],34)),[[je,n]])}}});const nc=K({__name:"MkMediaList",props:{mediaList:{},raw:{type:Boolean}},setup(e,{expose:t}){const n=e,i=de("gallery"),o=Ln("middle");window.document.documentElement.style.setProperty("--mk-pswp-root-z-index",o.toString());const a=z(()=>n.mediaList.filter(u=>h(u)).length);let s=null,r=null;const l=()=>{s?.pswp&&s.pswp.isOpen===!0&&s.pswp.close()};async function f(){if(!i.value)return;const u=n.mediaList[0];if(n.mediaList.length!==1||!(u.properties.width&&u.properties.height)){i.value.style.aspectRatio="";return}const y=g=>u.properties.width==null||u.properties.height==null?"":`${Math.max(g,u.properties.width/u.properties.height).toString()} / 1`;switch(D.s.mediaListWithOneImageAppearance){case"16_9":i.value.style.aspectRatio=y(16/9);break;case"1_1":i.value.style.aspectRatio=y(1/1);break;case"2_3":i.value.style.aspectRatio=y(2/3);break;default:i.value.style.aspectRatio="";break}}We(()=>{f(),i.value!=null&&(s=new nf({dataSource:n.mediaList.filter(u=>u.type==="image/svg+xml"?!0:u.type.startsWith("image")&&rl.includes(u.type)).map(u=>{const y={src:u.url,w:u.properties.width,h:u.properties.height,alt:u.comment??u.name,comment:u.comment??u.name};return u.properties.orientation!=null&&u.properties.orientation>=5&&([y.w,y.h]=[y.h,y.w]),y}),gallery:i.value,mainClass:"pswp",children:".image",thumbSelector:".image",loop:!1,padding:window.innerWidth>500?{top:32,bottom:90,left:32,right:32}:{top:0,bottom:78,left:0,right:0},imageClickAction:"close",tapAction:"close",bgOpacity:1,showAnimationDuration:100,hideAnimationDuration:100,returnFocus:!1,pswpModule:of}),s.addFilter("itemData",u=>{const{element:y}=u,g=y?.dataset.id,p=n.mediaList.find(m=>m.id===g);return p&&(u.src=p.url,u.w=Number(p.properties.width),u.h=Number(p.properties.height),p.properties.orientation!=null&&p.properties.orientation>=5&&([u.w,u.h]=[u.h,u.w]),u.msrc=p.thumbnailUrl??void 0,u.alt=p.comment??p.name,u.comment=p.comment??p.name,u.thumbCropped=!0),u}),s.on("uiRegister",()=>{s?.pswp?.ui?.registerElement({name:"altText",className:"pswp__alt-text-container",appendTo:"wrapper",onInit:(u,y)=>{const g=window.document.createElement("p");g.className="pswp__alt-text _acrylic",u.appendChild(g),y.on("change",()=>{g.textContent=y.currSlide?.data.comment})}})}),s.on("afterInit",()=>{r=window.document.activeElement instanceof HTMLElement?window.document.activeElement:null,zi(r,!0,!0),s?.pswp?.element?.focus({preventScroll:!0}),window.history.pushState(null,"","#pswp")}),s.on("destroy",()=>{zi(r,!0,!1),r=null,window.location.hash==="#pswp"&&window.history.back()}),window.addEventListener("popstate",l),s.init())}),nt(()=>{window.removeEventListener("popstate",l),s?.destroy(),s=null,r=null});const h=u=>u.type==="image/svg+xml"?!0:(u.type.startsWith("video")||u.type.startsWith("image"))&&rl.includes(u.type);return t({openGallery:()=>{n.mediaList.filter(u=>h(u)).length>0&&s?.loadAndOpen(0)}}),(u,y)=>(c(),v("div",null,[(c(!0),v(pe,null,ze(e.mediaList.filter(g=>!h(g)),g=>(c(),N(jp,{key:g.id,media:g},null,8,["media"]))),128)),e.mediaList.filter(g=>h(g)).length>0?(c(),v("div",{key:0,class:"xbIzI"},[b("div",{ref_key:"gallery",ref:i,class:J(["xutAY",a.value===1?["xsfFg",{xkfNk:E(D).s.mediaListWithOneImageAppearance==="16_9",xrbFI:E(D).s.mediaListWithOneImageAppearance==="1_1",x7QUJ:E(D).s.mediaListWithOneImageAppearance==="2_3"}]:a.value===2?"xihRJ":a.value===3?"xCjAS":a.value===4?"xqN41":"xCVRx"])},[(c(!0),v(pe,null,ze(e.mediaList.filter(g=>h(g)),g=>(c(),v(pe,null,[g.type.startsWith("video")?(c(),N(hv,{key:`video:${g.id}`,class:"xesxE",video:g},null,8,["class","video"])):g.type.startsWith("image")?(c(),N(Xp,{key:`image:${g.id}`,class:"xesxE image","data-id":g.id,image:g,raw:e.raw},null,8,["class","data-id","image","raw"])):M("",!0)],64))),256))],2)],2)):M("",!0)]))}});async function ii(e={}){if(A)return;let t;e.openOnRemote!=null&&(re.federation!=="none"||e.openOnRemote.type==="share")&&(t=e.openOnRemote);const{dispose:n}=await bt(I(()=>import("./3iSoGi4ic-DaTARTeS.js"),__vite__mapDeps([95,96,2,97,4,3,98,99,5,6,100]),import.meta.url).then(i=>i.default),{autoSet:!0,message:e.message??(t?"Per continuar necessites moure el teu servidor o registrar-te / iniciar sessi en aquest servidor.":"Si us plau, Registra't o inicia la sessi abans de continuar"),openOnRemote:t},{cancelled:()=>{e.path&&(window.location.href=e.path)},closed:()=>n()});throw new Error("signin required")}const nr=F(Date.now()),pv=1e4;Xd(nr);function ic(){const e=Date.now();return z(()=>Math.max(nr.value,e))}window.setInterval(()=>{nr.value=Date.now()},pv);const vv=["onClick"],gv={key:0,class:"ti ti-check",style:{"margin-right":"4px",color:"var(--MI_THEME-accent)"}},yv={key:1,style:{"margin-left":"4px",opacity:"0.7"}},wv={key:1},bv={key:2},_v={key:3},oc=K({__name:"MkPoll",props:{noteId:{},multiple:{},expiresAt:{},choices:{},readOnly:{type:Boolean},emojiUrls:{},author:{}},setup(e){const t=e,n=ic(),i=z(()=>t.expiresAt?new Date(t.expiresAt).getTime():null),o=z(()=>i.value==null?-1:Math.floor(Math.max(i.value-n.value,0)/1e3)),a=z(()=>Sh(t.choices.map(u=>u.votes))),s=z(()=>t.expiresAt!=null&&o.value<=0),r=z(()=>!t.multiple&&t.choices.some(u=>u.isVoted)),l=z(()=>({"noOnlyOneChoice":(({})=>("Es necessita escollir dues opcions com a mnim ")),"choiceN":(({n})=>("Opci "+n)),"noMore":(({})=>("No pots afegir ms opcions")),"canMultipleVote":(({})=>("Permetre escollir diferents opcions")),"expiration":(({})=>("Finalitza el")),"infinite":(({})=>("Mai")),"at":(({})=>("Finalitza en...")),"after":(({})=>("Finalitza desprs...")),"deadlineDate":(({})=>("Data de finalitzaci ")),"deadlineTime":(({})=>("Hor(a)(es)")),"duration":(({})=>("Duraci ")),"votesCount":(({n})=>(n+" vots")),"totalVotes":(({n})=>(n+" vots en total")),"vote":(({})=>("Votar en una enquesta")),"showResult":(({})=>("Veure resultats")),"voted":(({})=>("Has votat")),"closed":(({})=>("Finalitzada")),"remainingDays":(({d,h})=>("Queden "+d+" dies i "+h+" hores per finalitzar")),"remainingHours":(({h,m})=>("Queden "+h+" hores i "+m+" minuts")),"remainingMinutes":(({m,s})=>("Queden "+m+" minuts i "+s+" segons")),"remainingSeconds":(({s})=>("Queden "+s+" segons"))})[o.value>=86400?"remainingDays":o.value>=3600?"remainingHours":o.value>=60?"remainingMinutes":"remainingSeconds"]({s:Math.floor(o.value%60),m:Math.floor(o.value/60)%60,h:Math.floor(o.value/3600)%24,d:Math.floor(o.value/86400)})),f=F(t.readOnly||r.value||s.value);if(!s.value){const u=oe(s,y=>{y&&(f.value=!0,u())})}const h=z(()=>({type:"lookup",url:`https://${Oe}/notes/${t.noteId}`})),w=async u=>{if(t.readOnly||s.value||r.value)return;ii({openOnRemote:h.value});const{canceled:y}=await Ze({type:"question",text:(({choice})=>("Confirma el teu vot \""+choice+"\""))({choice:t.choices[u].text})});y||(await se("notes/polls/vote",{noteId:t.noteId,choice:u}),f.value||(f.value=!t.multiple))};return(u,y)=>{const g=Q("Mfm");return c(),v("div",{class:J({x2CfQ:s.value||r.value})},[b("ul",{class:"xeybi"},[(c(!0),v(pe,null,ze(e.choices,(p,m)=>(c(),v("li",{key:m,class:"xeGSn",onClick:x=>w(m)},[b("div",{class:"x7SOO",style:$e({width:`${f.value?p.votes/a.value*100:0}%`})},null,6),b("span",{class:"xrXMJ"},[p.isVoted?(c(),v("i",gv)):M("",!0),j(g,{text:p.text,plain:!0,author:e.author,emojiUrls:e.emojiUrls},null,8,["text","author","emojiUrls"]),f.value?(c(),v("span",yv,"("+S((({n})=>(n+" vots"))({n:p.votes}))+")",1)):M("",!0)],2)],10,vv))),128))],2),e.readOnly?M("",!0):(c(),v("p",{key:0,class:"xyDwL"},[b("span",null,S((({n})=>(n+" vots en total"))({n:a.value})),1),y[1]||(y[1]=b("span",null,"  ",-1)),!s.value&&!r.value?(c(),v("a",{key:0,style:{color:"inherit"},onClick:y[0]||(y[0]=p=>f.value=!f.value)},S(f.value?"Votar en una enquesta":"Veure resultats"),1)):M("",!0),r.value?(c(),v("span",wv,S("Has votat"),1)):s.value?(c(),v("span",bv,S("Finalitzada"),1)):M("",!0),o.value>0?(c(),v("span",_v,"  "+S(l.value),1)):M("",!0)],2))],2)}}});const xv={key:0,style:{opacity:"0.5"}},kv={key:1,style:{opacity:"0.5"}},Ev={key:0},Dv={key:1},ac=K({__name:"MkSubNoteContent",props:{note:{}},setup(e){const n=Zu(e.note,[]),i=F(n);return(o,a)=>{const s=Q("MkA"),r=Q("Mfm");return c(),v("div",{class:J(["xpUJO",{xmj6Q:i.value}])},[b("div",null,[e.note.isHidden?(c(),v("span",xv,"("+S("Privat")+")",1)):M("",!0),e.note.deletedAt?(c(),v("span",kv,"("+S("Publicacions eliminades")+")",1)):M("",!0),e.note.replyId?(c(),N(s,{key:2,class:"x8ivL",to:`/notes/${e.note.replyId}`},{default:H(()=>[...a[2]||(a[2]=[b("i",{class:"ti ti-arrow-back-up"},null,-1)])]),_:1},8,["class","to"])):M("",!0),e.note.text?(c(),N(r,{key:3,text:e.note.text,author:e.note.user,nyaize:"respect",emojiUrls:e.note.emojis},null,8,["text","author","emojiUrls"])):M("",!0),e.note.renoteId?(c(),N(s,{key:4,class:"xgLl8",to:`/notes/${e.note.renoteId}`},{default:H(()=>[...a[3]||(a[3]=[Z("RN: ...",-1)])]),_:1},8,["class","to"])):M("",!0)]),e.note.files&&e.note.files.length>0?(c(),v("details",Ev,[b("summary",null,"("+S((({n})=>(n+" fitxer(s)"))({n:e.note.files.length}))+")",1),j(nc,{mediaList:e.note.files},null,8,["mediaList"])])):M("",!0),e.note.poll?(c(),v("details",Dv,[b("summary",null,S("Enquesta"),1),j(oc,{noteId:e.note.id,multiple:e.note.poll.multiple,expiresAt:e.note.poll.expiresAt,choices:e.note.poll.choices,author:e.note.user,emojiUrls:e.note.emojis},null,8,["noteId","multiple","expiresAt","choices","author","emojiUrls"])])):M("",!0),e.note.hasPoll&&e.note.poll==null?(c(),N(s,{key:2,to:`/notes/${e.note.id}`},{default:H(()=>[Z("("+S("Enquesta")+")",1)]),_:1},8,["to"])):M("",!0),E(n)&&i.value?(c(),v("button",{key:3,class:"xnQD5 _button",onClick:a[0]||(a[0]=l=>i.value=!1)},[b("span",{class:"xzqug"},S("Veure ms"),3)],2)):E(n)&&!i.value?(c(),v("button",{key:4,class:"xtAtd _button",onClick:a[1]||(a[1]=l=>i.value=!0)},[b("span",{class:"xik0L"},S("Mostrar menys"),3)],2)):M("",!0)],2)}}});const ps=K({__name:"MkNoteSimple",props:{note:{}},setup(e){const t=F(!1);return(n,i)=>{const o=Q("MkAvatar"),a=Q("Mfm");return e.note?(c(),v("div",{key:0,class:"xynJn"},[j(o,{class:J(["xCcjq",E(D).s.useStickyIcons?"x9fsB":null]),user:e.note.user,link:"",preview:""},null,8,["class","user"]),b("div",{class:"xfZLP"},[j(Zs,{class:"xhuTd",note:e.note,mini:!0},null,8,["class","note"]),b("div",null,[e.note.cw!=null?(c(),v("p",{key:0,class:"xDYPO"},[e.note.cw!=""?(c(),N(a,{key:0,style:{"margin-right":"8px"},text:e.note.cw,author:e.note.user,nyaize:"respect",emojiUrls:e.note.emojis},null,8,["text","author","emojiUrls"])):M("",!0),j(oa,{modelValue:t.value,"onUpdate:modelValue":i[0]||(i[0]=s=>t.value=s),text:e.note.text,files:e.note.files,poll:e.note.poll},null,8,["modelValue","text","files","poll"])],2)):M("",!0),te(b("div",null,[j(ac,{class:"xpf5j",note:e.note},null,8,["class","note"])],512),[[Ft,e.note.cw==null||t.value]])])],2)],2)):(c(),v("div",{key:1,class:"xAM8V"},S("Publicacions eliminades"),3))}}});function Ba(e){return pn.extract(e,i=>i.type==="mention").map(i=>i.props)}const vs=1e3*60;let Hn=null,ci=null,sc=0;function hi(){return Hn||(Hn=rt(new wf(ef,A?{token:A.token}:null)),ci&&window.clearTimeout(ci),ci=window.setTimeout(gs,vs),window.document.addEventListener("visibilitychange",()=>{!Hn||window.document.visibilityState!=="visible"||Date.now()-sc<vs||gs()}),Hn)}function gs(){Hn!=null&&window.document.visibilityState==="visible"&&Hn.heartbeat(),sc=Date.now(),ci&&window.clearTimeout(ci),ci=window.setTimeout(gs,vs)}class rc extends Error{constructor(){super("Upload aborted")}}function Cv(e,t={}){const n=new XMLHttpRequest,i=new AbortController,{signal:o}=i;return{filePromise:new Promise((r,l)=>{if(A==null)return l();if(e.size>re.maxFileSize||e.size>A.policies.maxFileSizeMb*1024*1024)return Qe({type:"error",title:"Ha fallat la pujada",text:"Aquest fitxer no es pot pujar perqu supera la mida permesa."}),l();o.addEventListener("abort",()=>{l(new rc)},{once:!0}),n.open("POST",yi+"/drive/files/create",!0),n.onload=h=>{if(n.status!==200||h.target==null||h.target.response==null){if(n.status===413)Qe({type:"error",title:"Ha fallat la pujada",text:"Aquest fitxer no es pot pujar perqu supera la mida permesa."});else if(h.target?.response){const u=JSON.parse(h.target.response);u.error?.id==="bec5bd69-fba3-43c9-b4fb-2894b66ad5d2"?Qe({type:"error",title:"Ha fallat la pujada",text:"Aquest fitxer no es pot pujar perqu s'ha trobat que algunes parts sn inapropiades."}):u.error?.id==="d08dbc37-a6a9-463a-8c47-96c32ab5f064"?Qe({type:"error",title:"Ha fallat la pujada",text:"Ha fallat la pujada del fitxer perqu no hi ha capacitat al Disc."}):u.error?.id==="4becd248-7f2c-48c4-a9f0-75edc4f9a1ea"?Qe({type:"error",title:"Ha fallat la pujada",text:"Impossible pujar l'arxiu no s un tipus de fitxer autoritzat."}):Qe({type:"error",title:"Ha fallat la pujada",text:`${u.error?.message}
${u.error?.code}
${u.error?.id}`})}else Qe({type:"error",title:"Failed to upload",text:`${JSON.stringify(h.target?.response)}, ${JSON.stringify(n.response)}`});l();return}const w=JSON.parse(h.target.response);yt.emit("driveFileCreated",w),r(w)},t.onProgress&&(n.upload.onprogress=h=>{h.lengthComputable&&t.onProgress!=null&&t.onProgress({total:h.total,loaded:h.loaded})});const f=new FormData;f.append("i",A.token),f.append("force","true"),f.append("file",e),f.append("name",t.name??(e instanceof File?e.name:"untitled")),f.append("isSensitive",t.isSensitive?"true":"false"),t.caption!=null&&f.append("comment",t.caption),t.folderId&&f.append("folderId",t.folderId),n.send(f)}),abort:()=>{n.abort(),i.abort()}}}function Av(e={}){return new Promise((t,n)=>{qc({multiple:e.multiple}).then(i=>{i.length!==0&&aw(i,{folderId:e.folderId,features:e.features}).then(o=>{t(o)})})})}function lc(e={}){return new Promise(async t=>{const{dispose:n}=await bt(I(()=>import("./3iSoGi4ic-YHnu4F9t.js"),__vite__mapDeps([101,102,2,4,3,103,104,5,6]),import.meta.url).then(i=>i.default),{multiple:e.multiple??!1},{done:i=>{i&&t(i)},closed:()=>n()})})}function Iv(){return new Promise((e,t)=>{ao({title:"Carrega des d'un enlla",type:"url",placeholder:"Enlla del fitxer que vols carregar"}).then(({canceled:n,result:i})=>{if(n||i==null)return;const o=Dt(),a=hi().useChannel("main");a.on("urlUploadFinished",s=>{s.marker===o&&(e(s.file),a.dispose())}),se("drive/files/upload-from-url",{url:i,folderId:D.s.uploadFolder,marker:o}),Qe({title:"Crrega sollicitada",text:"La crrega des de l'enlla pot trigar un temps"})})})}function Tv(e,t,n,i){return new Promise((o,a)=>{Ue([t?{text:t,type:"label"}:null,{text:"Puja",icon:"ti ti-upload",action:()=>Av({multiple:n,features:i}).then(s=>o(s))},{text:"Des del Disc",icon:"ti ti-cloud",action:()=>lc({multiple:n}).then(s=>o(s))},{text:"Des d'un enlla",icon:"ti ti-link",action:()=>Iv().then(s=>o([s]))}],e)})}async function Tx(e){const t=await Tv(e.anchorElement,e.label??null,e.multiple??!1,e.features);return e.multiple?t:t[0]}async function Mx(e){return new Promise(async t=>{const{dispose:n}=await bt(I(()=>import("./3iSoGi4ic-B3gHHTAf.js"),__vite__mapDeps([105,102,2,4,3,103,104,5,6]),import.meta.url).then(i=>i.default),{initialFolder:e},{done:i=>{t(i)},closed:()=>n()})})}const $a=K({__name:"MkInfo",props:{warn:{type:Boolean},closable:{type:Boolean}},emits:["close"],setup(e,{emit:t}){const n=t;function i(){n("close")}return(o,a)=>(c(),v("div",{class:J([["x3kc0",{xyYHu:e.warn}],"_selectable"])},[e.warn?(c(),v("i",{key:0,class:"ti ti-alert-triangle xDtUw"},null,2)):(c(),v("i",{key:1,class:"ti ti-info-circle xDtUw"},null,2)),b("div",null,[Ae(o.$slots,"default")]),e.closable?(c(),v("button",{key:2,class:"xCev1 _button",onClick:a[0]||(a[0]=s=>i())},[...a[1]||(a[1]=[b("i",{class:"ti ti-x"},null,-1)])],2)):M("",!0)],2))}});function Mv(){return Qe({type:"error",title:"Aquest compte s susps",text:"Aquest compte ha sigut susps a causa de la violaci de les condicions d's o similars. Contacta l'administrador si en vol saber ms. Si us plau, no en faci un altre compte."})}async function Fv(){if(!A)return;so(),B.s.enablePreferencesAutoCloudBackup&&await Hs(),localStorage.clear();const e=new AbortController,t=window.setTimeout(()=>e.abort(),5e3),n=["MisskeyClient"].map((i,o,a)=>new Promise((s,r)=>{const l=indexedDB.deleteDatabase(i);l.onsuccess=()=>s(),l.onerror=f=>r(f),l.onblocked=()=>e.signal.aborted&&r(new Error("Operation aborted"))}));try{await Promise.race([Promise.all([...n,Um()]),new Promise((i,o)=>e.signal.addEventListener("abort",()=>o(new Error("Operation timed out"))))])}catch{}finally{window.clearTimeout(t)}try{if(navigator.serviceWorker.controller){const o=await(await navigator.serviceWorker.ready).pushManager.getSubscription();o&&await window.fetch(`${yi}/sw/unregister`,{method:"POST",body:JSON.stringify({i:A.token,endpoint:o.endpoint}),headers:{"Content-Type":"application/json"}})}await navigator.serviceWorker.getRegistrations().then(i=>Promise.all(i.map(o=>o.unregister())))}catch{}Gt("/")}async function uc(){const e=B.s.accountTokens,t=B.s.accountInfos;return D.s.accounts.map(([i,o])=>({host:i,id:o.id,username:o.username,user:t[i+"/"+o.id],token:e[i+"/"+o.id]??null}))}async function ir(e,t,n){D.s.accounts.some(i=>i[0]===e&&i[1].id===t.id)||(B.set("accountTokens",{...B.s.accountTokens,[e+"/"+t.id]:n}),B.set("accountInfos",{...B.s.accountInfos,[e+"/"+t.id]:t}),D.commit("accounts",[...D.s.accounts,[e,{id:t.id,username:t.username}]]))}async function Sv(e,t){const n=JSON.parse(JSON.stringify(B.s.accountTokens));delete n[e+"/"+t],B.set("accountTokens",n);const i=JSON.parse(JSON.stringify(B.s.accountInfos));delete i[e+"/"+t],B.set("accountInfos",i),D.commit("accounts",D.s.accounts.filter(o=>o[0]!==e||o[1].id!==t))}const cc=Symbol("isAccountDeleted");function Wi(e,t,n){return new Promise((i,o)=>{window.fetch(`${yi}/i`,{method:"POST",body:JSON.stringify({i:e}),headers:{"Content-Type":"application/json"}}).then(a=>new Promise((s,r)=>{if(a.status>=500&&a.status<600)return r(a);a.json().then(s,r)})).then(async a=>{"error"in a?(a.error.id==="a8c724b3-6e9c-4b46-b1a8-bc3ed6258370"?(n||A&&(e===A.token||t===A.id))&&await Mv():a.error.id==="e5b3b9f0-2b8f-4b9f-9c1f-8c5c1b2e1b1a"?(n||A&&(e===A.token||t===A.id))&&await Qe({type:"error",title:"Compte eliminat amb xit",text:"Aquest compte ha sigut eliminat"}):a.error.id==="b0a7f5f8-dc2f-4171-b91f-de88ad238e14"?(n||A&&(e===A.token||t===A.id))&&await Qe({type:"error",title:"Codi de seguretat no vlid",text:"La petici ms recent ha estat denegada perqu contenia un codi de seguretat no vlid. Actualitza la pgina i torna-ho a provar."}):await Qe({type:"error",title:"No es pot obtenir la informaci del compte",text:JSON.stringify(a.error)}),o(cc)):i(a)}).catch(o)})}function Pv(e){if(!A)return;const t=A.token;for(const n of Object.keys(A))delete A[n];for(const[n,i]of Object.entries(e))A[n]=i;B.set("accountInfos",{...B.s.accountInfos,[Oe+"/"+A.id]:A}),A.token=t,ce.setItem("account",JSON.stringify(A))}function xi(e){if(A){for(const[t,n]of Object.entries(e))A[t]=n;B.set("accountInfos",{...B.s.accountInfos,[Oe+"/"+A.id]:A}),ce.setItem("account",JSON.stringify(A))}}async function Rv(){if(!A)return;const e=A;return Wi(A.token,A.id).then(Pv).catch(t=>{t===cc&&(Sv(Oe,e.id),Object.keys(B.s.accountTokens).length>0?Ji(Object.values(B.s.accountTokens)[0]):Fv())})}async function Ji(e,t){const n=F(!0),{dispose:i}=_e(he(()=>I(()=>Promise.resolve().then(()=>Ug),void 0,import.meta.url)),{success:!1,showing:n},{closed:()=>i()}),o=await Wi(e,void 0,!0).catch(a=>{throw n.value=!1,a});if(ce.setItem("account",JSON.stringify({...o,token:e})),await ir(Oe,o,e),t){Lo.postMessage(null),window.location.href=t;return}Gt()}async function ho(e,t){const n=B.s.accountTokens[e+"/"+t];if(n)Ji(n);else{const{dispose:i}=_e(he(()=>I(()=>import("./3iSoGi4ic-DaTARTeS.js"),__vite__mapDeps([95,96,2,97,4,3,98,99,5,6,100]),import.meta.url)),{},{done:async o=>{B.set("accountTokens",{...B.s.accountTokens,[e+"/"+o.id]:o.i}),Ji(o.i)},closed:()=>{i()}})}}async function or(e){if(A==null)throw new Error("No current account");const t=A,n=e.onChoose;function i(s,r,l,f,h){return f?{type:"user",user:f,active:e.active!=null?e.active===r:!1,action:async()=>{n?n(f):ho(s,r)}}:h!=null?{type:"button",text:l,active:e.active!=null?e.active===r:!1,action:async()=>{n?Wi(h,r).then(w=>{n(w)}):ho(s,r)}}:{type:"button",text:l,active:e.active!=null?e.active===r:!1,action:async()=>{const{dispose:w}=_e(he(()=>I(()=>import("./3iSoGi4ic-DaTARTeS.js"),__vite__mapDeps([95,96,2,97,4,3,98,99,5,6,100]),import.meta.url)),{initialUsername:l},{done:async u=>{B.set("accountTokens",{...B.s.accountTokens,[s+"/"+u.id]:u.i}),n?Wi(u.i,r).then(y=>{n(y)}):ho(s,r)},closed:()=>{w()}})}}}const o=[],a=(await uc().then(s=>s.filter(r=>r.id!==t.id))).map(s=>i(s.host,s.id,s.username,s.user,s.token));return e.withExtraOperation?(o.push({type:"link",text:"Perfil",to:`/@${A.username}`,avatar:A},{type:"divider"}),e.includeCurrentAccount&&o.push(i(Oe,A.id,A.username,A,A.token)),o.push(...a),o.push({type:"parent",icon:"ti ti-plus",text:"Afegeix un compte",children:[{text:"Compte existent",action:()=>{Bv().then(s=>{s!=null&&yr()})}},{text:"Crea un compte",action:()=>{$v().then(s=>{s!=null&&ho(Oe,s.id)})}}]},{type:"link",icon:"ti ti-users",text:"Gestionar comptes",to:"/settings/accounts"})):(e.includeCurrentAccount&&o.push(i(Oe,A.id,A.username,A,A.token)),o.push(...a)),o}function Bv(){return new Promise(e=>{const{dispose:t}=_e(he(()=>I(()=>import("./3iSoGi4ic-DaTARTeS.js"),__vite__mapDeps([95,96,2,97,4,3,98,99,5,6,100]),import.meta.url)),{},{done:async n=>{const i=await Wi(n.i,n.id,!0);await ir(Oe,i,n.i),e({id:n.id,token:n.i})},cancelled:()=>{e(null)},closed:()=>{t()}})})}function $v(){return new Promise(e=>{const{dispose:t}=_e(he(()=>I(()=>import("./3iSoGi4ic-DienmJ9d.js"),__vite__mapDeps([106,2,3,98,4,70,71,5,6,107]),import.meta.url)),{},{done:async n=>{const i=JSON.parse(JSON.stringify(n));delete i.token,await ir(Oe,i,n.token),e({id:n.id,token:n.token})},cancelled:()=>{e(null)},closed:()=>{t()}})})}const Lv={width:"128",height:"128",viewBox:"0 0 128 128",xmlns:"http://www.w3.org/2000/svg"},Ov={fill:"none","fill-rule":"evenodd"},Nv=["fill"],jv=["values"],Vv=["values"],Uv=["values"],po=64,di=K({__name:"MkRippleEffect",props:{x:{},y:{},particle:{type:Boolean,default:!0}},emits:["end"],setup(e,{emit:t}){const n=e,i=t,o=[],a=["#FF1493","#00FFFF","#FFE202"],s=Ln("high");if(n.particle)for(let r=0;r<12;r++){const l=Math.random()*(Math.PI*2),f=Math.random()*16,h=16+Math.random()*48;o.push({size:4+Math.random()*8,xA:po+Math.sin(l)*f,yA:po+Math.cos(l)*f,xB:po+Math.sin(l)*(f+h),yB:po+Math.cos(l)*(f+h),color:a[Math.floor(Math.random()*a.length)]})}return We(()=>{window.setTimeout(()=>{i("end")},1100)}),(r,l)=>(c(),v("div",{class:"xnV39",style:$e({zIndex:E(s),top:`${e.y-64}px`,left:`${e.x-64}px`})},[(c(),v("svg",Lv,[l[0]||(l[0]=b("circle",{fill:"none",cx:"64",cy:"64",style:{stroke:"var(--MI_THEME-accent)"}},[b("animate",{attributeName:"r",begin:"0s",dur:"0.5s",values:"4; 32",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"1"}),b("animate",{attributeName:"stroke-width",begin:"0s",dur:"0.5s",values:"16; 0",calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"1"})],-1)),b("g",Ov,[(c(),v(pe,null,ze(o,(f,h)=>b("circle",{key:h,fill:f.color,style:{stroke:"var(--MI_THEME-accent)"}},[b("animate",{attributeName:"r",begin:"0s",dur:"0.8s",values:`${f.size}; 0`,calcMode:"spline",keyTimes:"0; 1",keySplines:"0.165, 0.84, 0.44, 1",repeatCount:"1"},null,8,jv),b("animate",{attributeName:"cx",begin:"0s",dur:"0.8s",values:`${f.xA}; ${f.xB}`,calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"1"},null,8,Vv),b("animate",{attributeName:"cy",begin:"0s",dur:"0.8s",values:`${f.yA}; ${f.yB}`,calcMode:"spline",keyTimes:"0; 1",keySplines:"0.3, 0.61, 0.355, 1",repeatCount:"1"},null,8,Uv)],8,Nv)),64))])]))],6))}});const Fx=["notes1","notes10","notes100","notes500","notes1000","notes5000","notes10000","notes20000","notes30000","notes40000","notes50000","notes60000","notes70000","notes80000","notes90000","notes100000","login3","login7","login15","login30","login60","login100","login200","login300","login400","login500","login600","login700","login800","login900","login1000","passedSinceAccountCreated1","passedSinceAccountCreated2","passedSinceAccountCreated3","loggedInOnBirthday","loggedInOnNewYearsDay","noteClipped1","noteFavorited1","myNoteFavorited1","profileFilled","markedAsCat","following1","following10","following50","following100","following300","followers1","followers10","followers50","followers100","followers300","followers500","followers1000","collectAchievements30","viewAchievements3min","iLoveMisskey","foundTreasure","client30min","client60min","noteDeletedWithin1min","postedAtLateNight","postedAt0min0sec","selfQuote","htl20npm","viewInstanceChart","outputHelloWorldOnScratchpad","open3windows","driveFolderCircularReference","reactWithoutRead","clickedClickHere","justPlainLucky","setNameToSyuilo","cookieClicked","brainDiver","smashTestNotificationButton","tutorialCompleted","bubbleGameExplodingHead","bubbleGameDoubleExplodingHead"],Sx={notes1:{img:"/fluent-emoji/1f4dd.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"bronze"},notes10:{img:"/fluent-emoji/1f4d1.png",bg:null,frame:"bronze"},notes100:{img:"/fluent-emoji/1f4d2.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"bronze"},notes500:{img:"/fluent-emoji/1f4da.png",bg:null,frame:"bronze"},notes1000:{img:"/fluent-emoji/1f5c3.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"bronze"},notes5000:{img:"/fluent-emoji/1f304.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"bronze"},notes10000:{img:"/fluent-emoji/1f3d9.png",bg:"linear-gradient(0deg, rgb(220 223 225), rgb(172 192 207))",frame:"silver"},notes20000:{img:"/fluent-emoji/1f307.png",bg:"linear-gradient(0deg, rgb(220 223 225), rgb(172 192 207))",frame:"silver"},notes30000:{img:"/fluent-emoji/1f306.png",bg:"linear-gradient(0deg, rgb(144 224 255), rgb(255 168 252))",frame:"silver"},notes40000:{img:"/fluent-emoji/1f303.png",bg:"linear-gradient(0deg, rgb(197 69 192), rgb(2 112 155))",frame:"silver"},notes50000:{img:"/fluent-emoji/1fa90.png",bg:"linear-gradient(0deg, rgb(144 224 255), rgb(255 168 252))",frame:"gold"},notes60000:{img:"/fluent-emoji/2604.png",bg:"linear-gradient(0deg, rgb(197 69 192), rgb(2 112 155))",frame:"gold"},notes70000:{img:"/fluent-emoji/1f30c.png",bg:"linear-gradient(0deg, rgb(144 224 255), rgb(255 168 252))",frame:"gold"},notes80000:{img:"/fluent-emoji/1f30c.png",bg:"linear-gradient(0deg, rgb(197 69 192), rgb(2 112 155))",frame:"gold"},notes90000:{img:"/fluent-emoji/1f30c.png",bg:"linear-gradient(0deg, rgb(255 232 119), rgb(255 140 41))",frame:"gold"},notes100000:{img:"/fluent-emoji/267e.png",bg:"linear-gradient(0deg, rgb(255 232 119), rgb(255 140 41))",frame:"platinum"},login3:{img:"/fluent-emoji/1f331.png",bg:null,frame:"bronze"},login7:{img:"/fluent-emoji/1f331.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"bronze"},login15:{img:"/fluent-emoji/1f331.png",bg:"linear-gradient(0deg, rgb(144, 224, 255), rgb(255, 168, 252))",frame:"bronze"},login30:{img:"/fluent-emoji/1fab4.png",bg:null,frame:"bronze"},login60:{img:"/fluent-emoji/1fab4.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"bronze"},login100:{img:"/fluent-emoji/1fab4.png",bg:"linear-gradient(0deg, rgb(144, 224, 255), rgb(255, 168, 252))",frame:"silver"},login200:{img:"/fluent-emoji/1f333.png",bg:null,frame:"silver"},login300:{img:"/fluent-emoji/1f333.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"silver"},login400:{img:"/fluent-emoji/1f333.png",bg:"linear-gradient(0deg, rgb(144, 224, 255), rgb(255, 168, 252))",frame:"silver"},login500:{img:"/fluent-emoji/1f304.png",bg:null,frame:"silver"},login600:{img:"/fluent-emoji/1f304.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"gold"},login700:{img:"/fluent-emoji/1f304.png",bg:"linear-gradient(0deg, rgb(144, 224, 255), rgb(255, 168, 252))",frame:"gold"},login800:{img:"/fluent-emoji/1f307.png",bg:null,frame:"gold"},login900:{img:"/fluent-emoji/1f307.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"gold"},login1000:{img:"/fluent-emoji/1f307.png",bg:"linear-gradient(0deg, rgb(144, 224, 255), rgb(255, 168, 252))",frame:"platinum"},noteClipped1:{img:"/fluent-emoji/1f587.png",bg:null,frame:"bronze"},noteFavorited1:{img:"/fluent-emoji/1f31f.png",bg:null,frame:"bronze"},myNoteFavorited1:{img:"/fluent-emoji/1f320.png",bg:null,frame:"silver"},profileFilled:{img:"/fluent-emoji/1f44c.png",bg:"linear-gradient(0deg, rgb(187 183 59), rgb(255 143 77))",frame:"bronze"},markedAsCat:{img:"/fluent-emoji/1f408.png",bg:"linear-gradient(0deg, rgb(187 183 59), rgb(255 143 77))",frame:"bronze"},following1:{img:"/fluent-emoji/2618.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"bronze"},following10:{img:"/fluent-emoji/1f6b8.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"bronze"},following50:{img:"/fluent-emoji/1f91d.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"bronze"},following100:{img:"/fluent-emoji/1f4af.png",bg:"linear-gradient(0deg, rgb(255 53 184), rgb(255 206 69))",frame:"silver"},following300:{img:"/fluent-emoji/1f970.png",bg:"linear-gradient(0deg, rgb(144 224 255), rgb(255 168 252))",frame:"silver"},followers1:{img:"/fluent-emoji/2618.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"bronze"},followers10:{img:"/fluent-emoji/1f44b.png",bg:"linear-gradient(0deg, rgb(59 187 116), rgb(199 211 102))",frame:"bronze"},followers50:{img:"/fluent-emoji/1f411.png",bg:"linear-gradient(0deg, rgb(220 223 225), rgb(172 192 207))",frame:"bronze"},followers100:{img:"/fluent-emoji/1f60e.png",bg:"linear-gradient(0deg, rgb(144 224 255), rgb(255 168 252))",frame:"silver"},followers300:{img:"/fluent-emoji/1f3c6.png",bg:"linear-gradient(0deg, rgb(144 224 255), rgb(255 168 252))",frame:"silver"},followers500:{img:"/fluent-emoji/1f4e1.png",bg:"linear-gradient(0deg, rgb(220 223 225), rgb(172 192 207))",frame:"gold"},followers1000:{img:"/fluent-emoji/1f451.png",bg:"linear-gradient(0deg, rgb(255 232 119), rgb(255 140 41))",frame:"platinum"},collectAchievements30:{img:"/fluent-emoji/1f3c5.png",bg:"linear-gradient(0deg, rgb(255 77 77), rgb(247 155 214))",frame:"silver"},viewAchievements3min:{img:"/fluent-emoji/1f3c5.png",bg:"linear-gradient(0deg, rgb(144 224 255), rgb(255 168 252))",frame:"bronze"},iLoveMisskey:{img:"/fluent-emoji/2764.png",bg:"linear-gradient(0deg, rgb(255 77 77), rgb(247 155 214))",frame:"silver"},foundTreasure:{img:"/fluent-emoji/1f3c6.png",bg:"linear-gradient(0deg, rgb(197 69 192), rgb(2 112 155))",frame:"gold"},client30min:{img:"/fluent-emoji/1f552.png",bg:"linear-gradient(0deg, rgb(220 223 225), rgb(172 192 207))",frame:"bronze"},client60min:{img:"/fluent-emoji/1f552.png",bg:"linear-gradient(0deg, rgb(220 223 225), rgb(172 192 207))",frame:"silver"},noteDeletedWithin1min:{img:"/fluent-emoji/1f5d1.png",bg:"linear-gradient(0deg, rgb(220 223 225), rgb(172 192 207))",frame:"bronze"},postedAtLateNight:{img:"/fluent-emoji/1f319.png",bg:"linear-gradient(0deg, rgb(197 69 192), rgb(2 112 155))",frame:"bronze"},postedAt0min0sec:{img:"/fluent-emoji/1f55b.png",bg:"linear-gradient(0deg, rgb(58 231 198), rgb(37 194 255))",frame:"bronze"},selfQuote:{img:"/fluent-emoji/1f4dd.png",bg:null,frame:"bronze"},htl20npm:{img:"/fluent-emoji/1f30a.png",bg:"linear-gradient(0deg, rgb(220 223 225), rgb(172 192 207))",frame:"bronze"},viewInstanceChart:{img:"/fluent-emoji/1f4ca.png",bg:"linear-gradient(0deg, rgb(58 231 198), rgb(37 194 255))",frame:"bronze"},outputHelloWorldOnScratchpad:{img:"/fluent-emoji/1f530.png",bg:"linear-gradient(0deg, rgb(58 231 198), rgb(37 194 255))",frame:"bronze"},open3windows:{img:"/fluent-emoji/1f5a5.png",bg:"linear-gradient(0deg, rgb(144 224 255), rgb(255 168 252))",frame:"bronze"},driveFolderCircularReference:{img:"/fluent-emoji/1f4c2.png",bg:"linear-gradient(0deg, rgb(144 224 255), rgb(255 168 252))",frame:"bronze"},reactWithoutRead:{img:"/fluent-emoji/2753.png",bg:"linear-gradient(0deg, rgb(144 224 255), rgb(255 168 252))",frame:"bronze"},clickedClickHere:{img:"/fluent-emoji/2757.png",bg:"linear-gradient(0deg, rgb(144 224 255), rgb(255 168 252))",frame:"bronze"},justPlainLucky:{img:"/fluent-emoji/1f340.png",bg:"linear-gradient(0deg, rgb(187 183 59), rgb(255 143 77))",frame:"silver"},setNameToSyuilo:{img:"/fluent-emoji/1f36e.png",bg:"linear-gradient(0deg, rgb(187 183 59), rgb(255 143 77))",frame:"bronze"},passedSinceAccountCreated1:{img:"/fluent-emoji/0031-20e3.png",bg:null,frame:"bronze"},passedSinceAccountCreated2:{img:"/fluent-emoji/0032-20e3.png",bg:null,frame:"silver"},passedSinceAccountCreated3:{img:"/fluent-emoji/0033-20e3.png",bg:null,frame:"gold"},loggedInOnBirthday:{img:"/fluent-emoji/1f382.png",bg:"linear-gradient(0deg, rgb(255 77 77), rgb(247 155 214))",frame:"silver"},loggedInOnNewYearsDay:{img:"/fluent-emoji/1f38d.png",bg:"linear-gradient(0deg, rgb(255 144 144), rgb(255 232 168))",frame:"silver"},cookieClicked:{img:"/fluent-emoji/1f36a.png",bg:"linear-gradient(0deg, rgb(187 183 59), rgb(255 143 77))",frame:"bronze"},brainDiver:{img:"/fluent-emoji/1f9e0.png",bg:"linear-gradient(0deg, rgb(144, 224, 255), rgb(255, 168, 252))",frame:"bronze"},smashTestNotificationButton:{img:"/fluent-emoji/1f514.png",bg:"linear-gradient(0deg, rgb(187 183 59), rgb(255 143 77))",frame:"bronze"},tutorialCompleted:{img:"/fluent-emoji/1f393.png",bg:"linear-gradient(0deg, rgb(220 223 225), rgb(172 192 207))",frame:"bronze"},bubbleGameExplodingHead:{img:"/fluent-emoji/1f92f.png",bg:"linear-gradient(0deg, rgb(255 77 77), rgb(247 155 214))",frame:"bronze"},bubbleGameDoubleExplodingHead:{img:"/fluent-emoji/1f92f.png",bg:"linear-gradient(0deg, rgb(255 77 77), rgb(247 155 214))",frame:"silver"}},oi=A&&A.achievements?A.achievements.map(e=>e.name):[],La=new Set;async function me(e){A!=null&&(A.movedTo||oi.includes(e)||(La.add(e),oi.push(e),await new Promise(t=>window.setTimeout(t,(La.size-1)*500)),window.setTimeout(()=>{La.delete(e)},500),se("i/claim-achievement",{name:e})))}class zv{anchorElement=F(null);manualShowing=F(!1);onChosen;onClosed;constructor(){}async init(){const t=F([]);oe([D.r.emojiPaletteForMain,D.r.emojiPalettes],()=>{t.value=D.s.emojiPaletteForMain==null?D.s.emojiPalettes[0].emojis:D.s.emojiPalettes.find(n=>n.id===D.s.emojiPaletteForMain)?.emojis??[]},{immediate:!0}),await _e(he(()=>I(()=>import("./3iSoGi4ic-XqpIfYXr.js"),__vite__mapDeps([108,2,4,3,5,6,109]),import.meta.url)),{anchorElement:this.anchorElement,pinnedEmojis:t,asReactionPicker:!1,manualShowing:this.manualShowing,choseAndClose:!1},{done:n=>{this.onChosen&&this.onChosen(n)},close:()=>{this.manualShowing.value=!1},closed:()=>{this.anchorElement.value=null,this.onClosed&&this.onClosed()}})}show(t,n,i){this.anchorElement.value=t,this.manualShowing.value=!0,this.onChosen=n,this.onClosed=i}}const ar=new zv;function Hv(e,t,n){Ue([{text:"Afegeix funcions MFM",type:"label"},...qv(t,n)],e)}function qv(e,t){return ec.map(n=>({text:n,icon:"ti ti-icons",action:()=>Wv(e,t,n)}))}function Wv(e,t,n){const i=e.selectionStart,o=e.selectionEnd;ec.forEach(r=>{if(n===r)if(i===o){const l=`${t.value.substring(0,i)}$[${n} ]${t.value.substring(o)}`;t.value=l}else{const l=`${t.value.substring(0,i)}$[${n} ${t.value.substring(i,o)}]${t.value.substring(o)}`;t.value=l}});const a=i+3+n.length,s=o+3+n.length;Be(()=>{e.focus(),e.setSelectionRange(a,s)})}let ul=null;async function dc(){const{Parser:e}=await I(async()=>{const{Parser:t}=await import("./3iSoGi4ic-s4jzJ6kJ.js");return{Parser:t}},__vite__mapDeps([110,58,59,60,61,62,2,3,4,5,6]),import.meta.url);return ul??=new e,ul}function Jv(e){try{return $s(e,"0.12.0")>=0}catch{return!1}}async function Kv(e){if(!e)throw new Error("code is required");const{Interpreter:t,utils:n}=await I(async()=>{const{Interpreter:y,utils:g}=await import("./3iSoGi4ic-s4jzJ6kJ.js");return{Interpreter:y,utils:g}},__vite__mapDeps([110,58,59,60,61,62,2,3,4,5,6]),import.meta.url),i=n.getLangVersion(e);if(i==null)throw new Error("No language version annotation found");if(!Jv(i))throw new Error(`Aiscript version '${i}' is not supported`);let o;try{o=(await dc()).parse(e)}catch{throw new Error("Aiscript syntax error")}const a=t.collectMetadata(o);if(a==null)throw new Error("Meta block not found");const s=a.get(null);if(s==null||typeof s!="object"||Array.isArray(s))throw new Error("Metadata not found or invalid");const{name:r,version:l,author:f,description:h,permissions:w,config:u}=s;if(r==null||l==null||f==null)throw new Error("Required property not found");return{name:r,version:l,author:f,description:h,permissions:w,config:u}}async function fc(e){if(e.permissions==null||e.permissions.length===0||Object.hasOwn(B.s.pluginTokens,e.installId))return;const t=await new Promise(async(n,i)=>{const{dispose:o}=await bt(I(()=>import("./3iSoGi4ic-ChpBLpgN.js"),__vite__mapDeps([111,72,4,3,2,5,6,112]),import.meta.url).then(a=>a.default),{title:"Donar accs al compte",information:"Aquest connector podr fer servir tots els permisos configurats aqu.",initialName:e.name,initialPermissions:e.permissions},{done:async a=>{const{name:s,permissions:r}=a,{token:l}=await se("miauth/gen-token",{session:null,name:s,permission:r});n(l)},closed:()=>o()})});B.set("pluginTokens",{...B.s.pluginTokens,[e.installId]:t})}async function Px(e,t){if(!e)return;let n;if(t?n=t:n=await Kv(e),D.s.plugins.some(a=>a.name===n.name))throw new Error("Plugin already installed");const i=Dt(),o={...n,config:n.config??{},installId:i,active:!0,configData:{},src:e};D.commit("plugins",D.s.plugins.concat(o)),await fc(o),await aa(i)}async function Rx(e){if(sr(e),D.commit("plugins",D.s.plugins.filter(t=>t.installId!==e.installId)),Object.keys(window.localStorage).forEach(t=>{t.startsWith("aiscript:plugins:"+e.installId)&&window.localStorage.removeItem(t)}),Object.hasOwn(B.s.pluginTokens,e.installId)){await Xe("i/revoke-token",{token:B.s.pluginTokens[e.installId]});const t={...B.s.pluginTokens};delete t[e.installId],B.set("pluginTokens",t)}}const Vo=new Map,ai=F(new Map);let Uo=[];function ei(e,t,n){ai.value.get(e).push({at:Date.now(),isSystem:!0,message:`Handler registered: ${t}`}),Uo.push({pluginInstallId:e,type:t,ctx:n})}function Yv(){return Promise.all(D.s.plugins.map(e=>e.active?aa(e.installId):Promise.resolve()))}async function aa(e){if(ni)return;const t=D.s.plugins.find(l=>l.installId===e);if(!t||t.src==null)return;ai.value.set(t.installId,[]);function n(l,f=!1){ai.value.get(t.installId)?.push({at:Date.now(),isSystem:!0,message:l,isError:f})}n("Starting plugin..."),await fc(t);const{Interpreter:i,utils:o}=await I(async()=>{const{Interpreter:l,utils:f}=await import("./3iSoGi4ic-s4jzJ6kJ.js");return{Interpreter:l,utils:f}},__vite__mapDeps([110,58,59,60,61,62,2,3,4,5,6]),import.meta.url),{aiScriptReadline:a}=await I(async()=>{const{aiScriptReadline:l}=await import("./3iSoGi4ic-CCt4ZT5M.js").then(f=>f.d);return{aiScriptReadline:l}},__vite__mapDeps([63,58,59,60,61,3]),import.meta.url),s=new i(await Gv({plugin:t,storageKey:"plugins:"+t.installId}),{in:a,out:l=>{ai.value.get(t.installId).push({at:Date.now(),message:o.reprValue(l)})},log:()=>{},err:l=>{throw ai.value.get(t.installId).push({at:Date.now(),message:`${l}`,isError:!0}),l}});Vo.set(t.installId,s);const r=await dc();await s.exec(r.parse(t.src)).then(()=>{console.info("Plugin installed:",t.name,"v"+t.version),n("Plugin started")},l=>{throw console.error("Plugin install failed:",t.name,"v"+t.version),n(`${l}`,!0),l})}function sr(e){const t=Vo.get(e.installId);t&&(t.abort(),Vo.delete(e.installId),ai.value.delete(e.installId),Uo=Uo.filter(n=>n.pluginInstallId!==e.installId))}function Xv(e){sr(e),aa(e.installId)}async function Bx(e){if(e.config==null)throw new Error("This plugin does not have a config");const t=e.config;for(const o in e.configData)t[o].default=e.configData[o];const{canceled:n,result:i}=await wr(e.name,t);n||(D.commit("plugins",D.s.plugins.map(o=>o.installId===e.installId?{...o,configData:i}:o)),Xv(e))}function $x(e,t){D.commit("plugins",D.s.plugins.map(n=>n.installId===e.installId?{...n,active:t}:n)),t?aa(e.installId):sr(e)}async function Gv(e){const t=e.plugin.installId,n=await I(()=>import("./3iSoGi4ic-s4jzJ6kJ.js"),__vite__mapDeps([110,58,59,60,61,62,2,3,4,5,6]),import.meta.url),i=n.values,o=n.utils,{createAiScriptEnv:a}=await I(async()=>{const{createAiScriptEnv:f}=await import("./3iSoGi4ic-CCt4ZT5M.js").then(h=>h.d);return{createAiScriptEnv:f}},__vite__mapDeps([63,58,59,60,61,3]),import.meta.url),s=new Map;for(const[f,h]of Object.entries(e.plugin.config??{}))s.set(f,o.jsToVal(typeof e.plugin.configData[f]<"u"?e.plugin.configData[f]:h.default));function r(f){const h=Vo.get(t);if(!h)throw new Error("Plugin context not found");return f(h)}const l={...a({...e,token:B.s.pluginTokens[t]}),"Plugin:register:post_form_action":i.FN_NATIVE(([f,h])=>{o.assertString(f),o.assertFunction(h),ei(t,"post_form_action",{title:f.value,handler:(w,u)=>r(y=>{y.execFn(h,[o.jsToVal(w),i.FN_NATIVE(([g,p])=>{!g||!p||u(o.valToJs(g),o.valToJs(p))})])})})}),"Plugin:register:user_action":i.FN_NATIVE(([f,h])=>{o.assertString(f),o.assertFunction(h),ei(t,"user_action",{title:f.value,handler:w=>r(u=>{u.execFn(h,[o.jsToVal(w)])})})}),"Plugin:register:note_action":i.FN_NATIVE(([f,h])=>{o.assertString(f),o.assertFunction(h),ei(t,"note_action",{title:f.value,handler:w=>r(u=>{u.execFn(h,[o.jsToVal(w)])})})}),"Plugin:register:note_view_interruptor":i.FN_NATIVE(([f])=>{o.assertFunction(f),ei(t,"note_view_interruptor",{handler:h=>r(w=>o.valToJs(w.execFnSync(f,[o.jsToVal(h)])))})}),"Plugin:register:note_post_interruptor":i.FN_NATIVE(([f])=>{o.assertFunction(f),ei(t,"note_post_interruptor",{handler:h=>r(w=>o.valToJs(w.execFnSync(f,[o.jsToVal(h)])))})}),"Plugin:register:page_view_interruptor":i.FN_NATIVE(([f])=>{o.assertFunction(f),ei(t,"page_view_interruptor",{handler:h=>r(w=>o.valToJs(w.execFnSync(f,[o.jsToVal(h)])))})}),"Plugin:open_url":i.FN_NATIVE(([f])=>{o.assertString(f),window.open(f.value,"_blank","noopener")}),"Plugin:config":i.OBJ(s)};return l["Plugin:register_post_form_action"]=l["Plugin:register:post_form_action"],l["Plugin:register_user_action"]=l["Plugin:register:user_action"],l["Plugin:register_note_action"]=l["Plugin:register:note_action"],l["Plugin:register_note_view_interruptor"]=l["Plugin:register:note_view_interruptor"],l["Plugin:register_note_post_interruptor"]=l["Plugin:register:note_post_interruptor"],l["Plugin:register_page_view_interruptor"]=l["Plugin:register:page_view_interruptor"],l}function Ki(e){return Uo.filter(t=>t.type===e).map(t=>t.ctx)}function Lx(e,t,n){e.dataTransfer!=null&&e.dataTransfer.setData(`misskey/${t}`.toLowerCase(),JSON.stringify(n))}function Ox(e,t){e.dataTransfer!=null&&e.dataTransfer.setData("text/plain",t)}function Qv(e,t){if(e.dataTransfer==null)return null;const n=e.dataTransfer.getData(`misskey/${t}`.toLowerCase());return n==null||n===""?null:JSON.parse(n)}function Nx(e){if(e.dataTransfer==null)return null;const t=e.dataTransfer.getData("text/plain");return t==null||t===""?null:t}function Zv(e,t){if(e.dataTransfer==null)return!1;const n=e.dataTransfer.types[0];return n==null||n===""?!1:t.some(i=>`misskey/${i}`.toLowerCase()===n.toLowerCase())}function eg(e,t,n){function i(P,L,q,G,Y,ve){let ne=1-Y,ee=1-ve;return P*ne*ee+L*Y*ee+q*ne*ve+G*Y*ve}let o,a,s,r,l,f,h,w,u,y,g,p,m,x,k,_,C,T,R;for(o=0;o<t.height;++o)for(s=o/n,r=Math.floor(s),l=Math.ceil(s)>e.height-1?e.height-1:Math.ceil(s),a=0;a<t.width;++a)f=a/n,h=Math.floor(f),w=Math.ceil(f)>e.width-1?e.width-1:Math.ceil(f),u=(a+t.width*o)*4,y=(h+e.width*r)*4,g=(w+e.width*r)*4,p=(h+e.width*l)*4,m=(w+e.width*l)*4,x=f-h,k=s-r,_=i(e.data[y],e.data[g],e.data[p],e.data[m],x,k),t.data[u]=_,C=i(e.data[y+1],e.data[g+1],e.data[p+1],e.data[m+1],x,k),t.data[u+1]=C,T=i(e.data[y+2],e.data[g+2],e.data[p+2],e.data[m+2],x,k),t.data[u+2]=T,R=i(e.data[y+3],e.data[g+3],e.data[p+3],e.data[m+3],x,k),t.data[u+3]=R}var zo;function mc(){return typeof navigator>"u"||!navigator.userAgent?!1:/iPad|iPhone|iPod/.test(navigator.userAgent)}function hc(e,t,n){return Math.min(Math.floor(e*t),n.maxHeight)}function tg(e,t){const n=t.width/t.height;let i=Math.min(t.width,e.maxWidth,n*e.maxHeight);e.maxSize&&e.maxSize>0&&e.maxSize<t.width*t.height/1e3&&(i=Math.min(i,Math.floor(e.maxSize*1e3/t.height))),e.scaleRatio&&(i=Math.min(i,Math.floor(e.scaleRatio*t.width)));const o=hc(t.height,i/t.width,e);if(e.debug&&(console.log("browser-image-resizer: original image size = "+t.width+" px (width) X "+t.height+" px (height)"),console.log("browser-image-resizer: scaled image size = "+i+" px (width) X "+o+" px (height)")),i<=0&&(i=1,console.warn("browser-image-resizer: image size is too small")),mc()&&i*o>167777216)throw console.error("browser-image-resizer: image size is too large for iOS WebKit.",i,o),new Error("browser-image-resizer: image size is too large for iOS WebKit.");return i}function ys(e,t){const n=e?.getContext("2d")?.getImageData(0,0,e.width,e.height),i=t?.getContext("2d")?.createImageData(t.width,t.height);if(!n||!i)throw Error("Canvas is empty (scaleCanvasWithAlgorithm). You should run this script after the document is ready.");return{srcImgData:n,destImgData:i}}function cl(){zo||(zo=new ag)}async function ng(e,t){const n=t.outputWidth/e.width,i=new OffscreenCanvas(Math.floor(t.outputWidth),hc(e.height,n,t));switch(t.argorithm){case"hermite":{cl(),await zo.resampleAuto(e,i,t);break}case"hermite_single":{const{srcImgData:o,destImgData:a}=ys(e,i);cl(),zo.resampleSingle(o,a,t),i?.getContext("2d")?.putImageData(a,0,0);break}case"bilinear":{const{srcImgData:o,destImgData:a}=ys(e,i);eg(o,a,n),i?.getContext("2d")?.putImageData(a,0,0);break}default:{i.getContext("2d")?.drawImage(e,0,0,i.width,i.height);break}}return i}function ig(e){const t=new OffscreenCanvas(e.width/2,e.height/2);return t?.getContext("2d")?.drawImage(e,0,0,t.width,t.height),t}async function og({img:e,config:t}){t.debug&&console.log("browser-image-resizer: Scale: Started",e);let n;if(e instanceof OffscreenCanvas)n=e;else{const a=await createImageBitmap(e);if(mc()&&a.width*a.height>16777216){const s=Math.sqrt(16777216/(a.width*a.height));t.debug&&console.log("browser-image-resizer: scale: Image is too large in iOS WebKit"),n=new OffscreenCanvas(Math.floor(a.width*s),Math.floor(a.height*s)),n.getContext("2d")?.drawImage(a,0,0,n.width,n.height)}else n=new OffscreenCanvas(a.width,a.height),n.getContext("2d")?.drawImage(a,0,0)}if(!n?.getContext("2d"))throw Error("browser-image-resizer: Canvas Context is empty.");const i=tg(t,n);if(!i)throw Error(`browser-image-resizer: maxWidth is ${i}!!`);for(t.debug&&console.log(`browser-image-resizer: scale: maxWidth is ${i}`);t.processByHalf&&n.width>=2*i;)t.debug&&console.log(`browser-image-resizer: scale: Scaling canvas by half from ${n.width}`),n=ig(n);return n.width>i&&(t.debug&&console.log(`browser-image-resizer: scale: Scaling canvas by ${t.argorithm} from ${n.width} to ${i}`),n=await ng(n,Object.assign(t,{outputWidth:i}))),t.mimeType===null?n:await n.convertToBlob({type:t.mimeType,quality:t.quality})}var ag=class{constructor(){this.workersArchive=[],this.cores=Math.min(navigator.hardwareConcurrency||4,4),this.workerBlobURL=globalThis.URL.createObjectURL(new Blob(["(",(function(){onmessage=function(e){e.data.debug&&(console.log("browser-image-resizer: hermite worker: start",e.data.core,e.data),console.time("work"));const t=e.data.core,n=e.data.srcWidth,i=e.data.srcHeight,o=e.data.destWidth,a=e.data.destHeight,s=n/o,r=i/a,l=Math.ceil(s/2),f=Math.ceil(r/2),h=new Uint8ClampedArray(e.data.source),w=o*a*4,u=new ArrayBuffer(w),y=new Uint8ClampedArray(u,0,w);for(let p=0;p<a;p++)for(let m=0;m<o;m++){const x=(m+p*o)*4;let k=0,_=0,C=0,T=0,R=0,P=0,L=0;const q=p*r,G=Math.floor(m*s),Y=Math.min(Math.ceil((m+1)*s),n),ve=Math.floor(p*r),ne=Math.min(Math.ceil((p+1)*r),i);for(let ee=ve;ee<ne;ee++){let xe=Math.abs(q-ee)/f,le=m*s,ge=xe*xe;for(let Re=G;Re<Y;Re++){let Fe=Math.abs(le-Re)/l,ke=Math.sqrt(ge+Fe*Fe);if(ke>=1)continue;k=2*ke*ke*ke-3*ke*ke+1;let ae=4*(Re+ee*n);L+=k*h[ae+3],C+=k,h[ae+3]<255&&(k=k*h[ae+3]/250),T+=k*h[ae],R+=k*h[ae+1],P+=k*h[ae+2],_+=k}}y[x]=T/_,y[x+1]=R/_,y[x+2]=P/_,y[x+3]=L/C}const g={core:t,target:y};globalThis.postMessage(g,[y.buffer]),e.data.debug&&(console.timeEnd("work"),console.log("browser-image-resizer: Worker: end",e.data.core))}}).toString(),")()"],{type:"application/javascript"}))}resampleAuto(e,t,n){if(globalThis.Worker&&this.cores>1&&n?.argorithm!=="hermite_single")return this.resample(e,t,n);{const{srcImgData:i,destImgData:o}=ys(e,t);this.resampleSingle(i,o,n),t.getContext("2d").putImageData(o,0,0);return}}async resample(e,t,n){return new Promise((i,o)=>{n.debug&&console.time("hermite_multi");const a=e.height/t.height;if(this.workersArchive.length>0)for(let u=0;u<this.cores;u++)this.workersArchive[u]!=null&&(this.workersArchive[u].terminate(),delete this.workersArchive[u]);this.workersArchive=new Array(this.cores);const s=e.getContext("2d");if(!s)return o("Canvas is empty (resample)");n.debug&&(console.log("browser-image-resizer: hermite_multi: ",this.cores,"cores"),console.log("browser-image-resizer: source size: ",e.width,e.height,"ratio_h: ",a),console.log("browser-image-resizer: target size: ",t.width,t.height));const r=[],l=Math.ceil(e.height/this.cores/2)*2;let f=-1;for(let u=0;u<this.cores;u++){const y=f+1;if(y>=e.height)continue;f=Math.min(y+l-1,e.height-1);const g=Math.min(l,e.height-y);n.debug&&console.log("browser-image-resizer: source split: ","#"+u,y,f,"height: "+g),r.push({source:s.getImageData(0,y,e.width,l),startY:Math.ceil(y/a),height:g})}const h=t.getContext("2d");if(!h)return o("Canvas is empty (resample dest)");let w=r.length;for(let u=0;u<r.length;u++){const y=new Worker(this.workerBlobURL);this.workersArchive[u]=y,y.onmessage=p=>{w--;const m=p.data.core,x=Math.ceil(r[m].height/a),k=h.createImageData(t.width,x);k.data.set(p.data.target),h.putImageData(k,0,r[m].startY),w<=0&&(i(),n.debug&&console.timeEnd("hermite_multi")),this.workersArchive[m].terminate(),delete this.workersArchive[m]},y.onerror=p=>o(p);const g={srcWidth:e.width,srcHeight:r[u].height,destWidth:t.width,destHeight:Math.ceil(r[u].height/a),core:u,source:r[u].source.data.buffer,debug:n.debug};y.postMessage(g,[g.source])}})}resampleSingle(e,t,n){const i=e.width/t.width,o=e.height/t.height,a=Math.ceil(i/2),s=Math.ceil(o/2),r=e.data,l=t.data;n.debug&&(console.log("browser-image-resizer: source size: ",e.width,e.height,"ratio_h: ",o),console.log("browser-image-resizer: target size: ",t.width,t.height),console.time("hermite_single"));for(let f=0;f<t.height;f++)for(let h=0;h<t.width;h++){const w=(h+f*t.width)*4;let u=0,y=0,g=0,p=0,m=0,x=0,k=0;const _=f*o,C=Math.floor(h*i),T=Math.min(Math.ceil((h+1)*i),e.width),R=Math.floor(f*o),P=Math.min(Math.ceil((f+1)*o),e.height);for(let L=R;L<P;L++){let q=Math.abs(_-L)/s,G=h*i,Y=q*q;for(let ve=C;ve<T;ve++){let ne=Math.abs(G-ve)/a,ee=Math.sqrt(Y+ne*ne);if(ee>=1)continue;u=2*ee*ee*ee-3*ee*ee+1;let xe=4*(ve+L*e.width);k+=u*r[xe+3],g+=u,r[xe+3]<255&&(u=u*r[xe+3]/250),p+=u*r[xe],m+=u*r[xe+1],x+=u*r[xe+2],y+=u}}l[w]=p/y,l[w+1]=m/y,l[w+2]=x/y,l[w+3]=k/g}n.debug&&console.timeEnd("hermite_single")}},sg={argorithm:"null",processByHalf:!0,quality:.5,maxWidth:800,maxHeight:600,debug:!1,mimeType:"image/jpeg"};async function rg(e,t){const n=Object.assign({},sg,t);return og({img:e,config:n})}class lg{constructor(t){this.source=t}async size(){return(await this.source.stat()).size}async read(t,n){const i=new Uint8Array(n);return await this.source.read({buffer:i,position:t,length:n}),i}}class ug{constructor(t){this.source=t}async size(){return this.source.size}async read(t,n){return new Uint8Array(await this.source.slice(t,t+n).arrayBuffer())}}function bi(e){if(e instanceof Blob)return new ug(e);if(!e||e.constructor.name!=="FileHandle")throw new Error(`Unknown source type: ${e.constructor.name}. Please pass an instance of Blob or FileHandle if in Node.js.`);return new lg(e)}async function Io(e,t){return(await e.read(t,1))[0]}async function dl(e,t){for(var n=0;;){const i=await Io(e,t+n);if(!i)break;n+=i+1}return n+1}async function pc(e){const t=bi(e);var i=new TextDecoder().decode(await t.read(0,3));return i==="GIF"}async function cg(e){var t,n,i,o=0,a=0;if(!await pc(e))return!1;const s=bi(e),r=await s.size();for(t=await Io(s,10),n=t&128,i=t&7,o+=6,o+=7,o+=n?3*Math.pow(2,i+1):0;a<2&&o<r;)switch(await Io(s,o)){case 44:a+=1,t=await Io(s,o+9),n=t&128,i=t&7,o+=10,o+=n?3*Math.pow(2,i+1):0,o+=await dl(s,o+1)+1;break;case 33:o+=2,o+=await dl(s,o);break;case 59:o=r;break;default:o=r;break}return a>1}async function vc(e){var n=[...await bi(e).read(0,8)].map(i=>i.toString(16).padStart(2,"0")).join("");return n==="89504e470d0a1a0a"}function dg(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}async function fg(e){if(!await vc(e))return!1;var t=!1,n=!1,i=!1,o=null,a=8;const s=bi(e),r=await s.size(),l=new TextDecoder;for(;a<r&&(!t||!n||!i);){var f=dg(await s.read(a,4)).getUint32(0),h=l.decode(await s.read(a+4,4));switch(h){case"acTL":t=!0;break;case"IDAT":if(!t||o!=="fcTL"&&o!=="IDAT")return!1;n=!0;break;case"fdAT":if(!n||o!=="fcTL"&&o!=="fdAT")return!1;i=!0;break}o=h,a+=8+f+4}return t&&n&&i}async function gc(e){const t=bi(e),n=new TextDecoder;return n.decode(await t.read(0,4))==="RIFF"&&n.decode(await t.read(8,4))==="WEBP"}async function mg(e){if(!await gc(e))return!1;const t=bi(e),n=new TextDecoder;return["VP8 ","VP8X"].includes(n.decode(await t.read(12,4)))?n.decode(await t.read(30,4))==="ANIM":!1}async function hg(e){return await pc(e)?await cg(e):await vc(e)?await fg(e):await gc(e)?await mg(e):!1}let Oa;function fl(){if(Oa===void 0){const e=window.document.createElement("canvas");e.width=1,e.height=1,Oa=e.toDataURL("image/webp").startsWith("data:image/webp")}return Oa}const Na=["image/jpeg","image/png","image/webp","image/svg+xml","image/gif"],un=["image/jpeg","image/png","image/webp"],To=["video/mp4","video/quicktime","video/x-matroska"],pg=[...un],vg=[...To],gg={"image/webp":"webp","image/jpeg":"jpg","image/png":"png"};function yg(e){return e===1?{maxWidth:2e3,maxHeight:2e3}:e===2?{maxWidth:2e3*.75,maxHeight:2e3*.75}:e===3?{maxWidth:2e3*.75*.75,maxHeight:2e3*.75*.75}:null}function wg(e={}){const t=Ls(),n=new wn,i=z(()=>({imageEditing:e.features?.imageEditing??!0,watermark:e.features?.watermark??!0})),o=F([]);function a(m){const x=Dt(),k=m.name??"untitled",_=k.split(".").length>1?"."+k.split(".").pop():"",C=i.value.watermark&&t.policies.watermarkAvailable?D.s.watermarkPresets.find(R=>R.id===D.s.defaultWatermarkPresetId)??null:null;o.value.push({id:x,name:D.s.keepOriginalFilename?k:x+_,progress:null,thumbnail:Na.includes(m.type)?window.URL.createObjectURL(m):null,preprocessing:!1,preprocessProgress:null,uploading:!1,aborted:!1,uploaded:null,uploadFailed:!1,compressionLevel:un.includes(m.type)?D.s.defaultImageCompressionLevel:To.includes(m.type)?D.s.defaultVideoCompressionLevel:0,watermarkPreset:C,watermarkLayers:C?.layers??null,imageFrameParams:null,file:rt(m)});const T=o.value.at(-1);u(T).then(()=>{Nt(o)})}function s(m){for(const x of m)a(x)}function r(m){m.thumbnail!=null&&URL.revokeObjectURL(m.thumbnail),o.value.splice(o.value.indexOf(m),1)}function l(m){const x=[];if(!m.preprocessing&&!m.uploading&&!m.uploaded&&x.push({icon:"ti ti-forms",text:"Canvia el nom",action:async()=>{const{result:k,canceled:_}=await ao({type:"text",title:"Canvia el nom",placeholder:m.name,default:m.name});_||k.trim()!==""&&(m.name=k)}},{type:"switch",text:"Sensible",icon:"ti ti-eye-exclamation",ref:z({get:()=>m.isSensitive??!1,set:k=>m.isSensitive=k})},{text:"Afegir text alternatiu",icon:"ti ti-text-caption",action:async()=>{const{dispose:k}=await bt(I(()=>import("./3iSoGi4ic-D4c9btWc.js"),__vite__mapDeps([90,68,2,4,3,69,5,6]),import.meta.url).then(_=>_.default),{default:m.caption??null},{done:_=>{_!=null&&(m.caption=_.trim().length===0?null:_)},closed:()=>k()})}},{type:"divider"}),i.value.imageEditing&&un.includes(m.file.type)&&!m.preprocessing&&!m.uploading&&!m.uploaded&&x.push({type:"parent",icon:"ti ti-photo-edit",text:"Edici d'imatges",children:[{icon:"ti ti-crop",text:"Retalla la imatge",action:async()=>{const k=await ow(m.file,{aspectRatio:null});m.thumbnail!=null&&URL.revokeObjectURL(m.thumbnail),o.value.splice(o.value.indexOf(m),1,{...m,file:rt(k),thumbnail:window.URL.createObjectURL(k)});const _=o.value.find(C=>C.id===m.id);u(_).then(()=>{Nt(o)})}},{icon:"ti ti-sparkles",text:"Efecte",action:async()=>{const{dispose:k}=await bt(I(()=>import("./3iSoGi4ic-4nLyZIDY.js"),__vite__mapDeps([113,2,4,3,114,115,59,60,61,70,71,116,117,118,119,120,121,5,6,122]),import.meta.url).then(_=>_.default),{image:m.file},{ok:_=>{m.thumbnail!=null&&URL.revokeObjectURL(m.thumbnail),o.value.splice(o.value.indexOf(m),1,{...m,file:rt(_),thumbnail:window.URL.createObjectURL(_)});const C=o.value.find(T=>T.id===m.id);u(C).then(()=>{Nt(o)})},closed:()=>k()})}}]}),i.value.watermark&&t.policies.watermarkAvailable&&un.includes(m.file.type)&&!m.preprocessing&&!m.uploading&&!m.uploaded){let k=function(_,C){m.watermarkPreset=C??null,m.watermarkLayers=_,u(m).then(()=>{Nt(o)})};x.push({icon:"ti ti-copyright",text:"Marca d'aigua ",caption:z(()=>m.watermarkPreset!=null?m.watermarkPreset.name:m.watermarkLayers!=null?"Personalitzat":null),type:"parent",children:[{type:"button",icon:"ti ti-pencil",text:"Editar",action:async()=>{const{dispose:_}=await bt(I(()=>import("./3iSoGi4ic-DVwivaKr.js"),__vite__mapDeps([123,124,125,3,115,114,4,2,5,6,70,71,120,121,126,127,128]),import.meta.url).then(C=>C.default),{layers:m.watermarkLayers,image:m.file},{ok:C=>{k(C)},closed:()=>_()})}},{type:"button",icon:"ti ti-x",text:"Eliminar",action:()=>k(null)},{type:"divider"},{type:"label",text:"Predefinit"},...D.s.watermarkPresets.map(_=>({type:"radioOption",text:_.name,active:z(()=>m.watermarkPreset?.id===_.id),action:()=>k(_.layers,_)}))]})}if(i.value.imageEditing&&un.includes(m.file.type)&&!m.preprocessing&&!m.uploading&&!m.uploaded){let k=function(_){m.imageFrameParams=_,u(m).then(()=>{Nt(o)})};x.push({icon:"ti ti-device-ipad-horizontal",text:"Marc",type:"parent",children:[{type:"button",icon:"ti ti-pencil",text:"Editar",action:async()=>{const{dispose:_}=await bt(I(()=>import("./3iSoGi4ic-C00oWnDL.js"),__vite__mapDeps([129,130,131,125,3,115,2,4,5,6,70,71,120,121,68,69,132]),import.meta.url).then(C=>C.default),{params:m.imageFrameParams,image:m.file,imageCaption:m.caption??null,imageFilename:m.name},{ok:C=>{k(C)},closed:()=>_()})}},...m.imageFrameParams!=null?[{type:"button",icon:"ti ti-x",text:"Eliminar",action:()=>k(null)}]:[],{type:"divider"},{type:"label",text:"Predefinit"},...D.s.imageFramePresets.map(_=>({type:"button",text:_.name,action:async()=>{const{dispose:C}=await bt(I(()=>import("./3iSoGi4ic-C00oWnDL.js"),__vite__mapDeps([129,130,131,125,3,115,2,4,5,6,70,71,120,121,68,69,132]),import.meta.url).then(T=>T.default),{params:_.params,image:m.file,imageCaption:m.caption??null,imageFilename:m.name},{ok:T=>{k(T)},closed:()=>C()})}}))]})}if((un.includes(m.file.type)||To.includes(m.file.type))&&!m.preprocessing&&!m.uploading&&!m.uploaded){let k=function(_){m.compressionLevel=_,u(m).then(()=>{Nt(o)})};x.push({icon:"ti ti-leaf",text:z(()=>{let _="Comprimir ";return m.compressionLevel===0||m.compressionLevel==null?_+=`: ${"Res"}`:m.compressionLevel===1?_+=`: ${"Baixa"}`:m.compressionLevel===2?_+=`: ${"Mitj"}`:m.compressionLevel===3&&(_+=`: ${"Alta"}`),_}),type:"parent",children:[{type:"radioOption",text:"Res",active:z(()=>m.compressionLevel===0||m.compressionLevel==null),action:()=>k(0)},{type:"divider"},{type:"radioOption",text:"Baixa",active:z(()=>m.compressionLevel===1),action:()=>k(1)},{type:"radioOption",text:"Mitj",active:z(()=>m.compressionLevel===2),action:()=>k(2)},{type:"radioOption",text:"Alta",active:z(()=>m.compressionLevel===3),action:()=>k(3)}]})}return!m.preprocessing&&!m.uploading&&!m.uploaded?x.push({type:"divider"},{icon:"ti ti-upload",text:"Puja",action:()=>{f(m)}},{icon:"ti ti-x",text:"Eliminar",danger:!0,action:()=>{r(m)}}):m.preprocessing&&m.abortPreprocess!=null?x.push({type:"divider"},{icon:"ti ti-player-stop",text:"Cancellar",danger:!0,action:()=>{m.abortPreprocess!=null&&m.abortPreprocess()}}):m.uploading&&x.push({type:"divider"},{icon:"ti ti-cloud-pause",text:"Cancellar",danger:!0,action:()=>{m.abort!=null&&m.abort()}}),x}async function f(m){m.uploadFailed=!1,m.uploading=!0;const{filePromise:x,abort:k}=Cv(m.preprocessedFile??m.file,{name:m.uploadName??m.name,folderId:e.folderId===void 0?D.s.uploadFolder:e.folderId,isSensitive:m.isSensitive??!1,caption:m.caption??null,onProgress:_=>{m.progress==null?m.progress={max:_.total,value:_.loaded}:(m.progress.value=_.loaded,m.progress.max=_.total)}});m.abort=()=>{m.abort=null,k(),m.uploading=!1,m.uploadFailed=!0},await x.then(_=>{m.uploaded=_,m.abort=null,n.emit("itemUploaded",{item:m})}).catch(_=>{if(m.uploadFailed=!0,m.progress=null,!(_ instanceof rc))throw _}).finally(()=>{m.uploading=!1})}async function h(){o.value=o.value.map(m=>({...m,aborted:!1,uploadFailed:!1,uploading:!1}));for(const m of o.value.filter(x=>x.uploaded==null))m.aborted||await f(m)}function w(){for(const m of o.value)m.uploaded==null&&(m.abortPreprocess!=null&&m.abortPreprocess(),m.abort!=null&&m.abort(),m.aborted=!0,m.uploadFailed=!0)}async function u(m){if(m.preprocessing=!0,m.preprocessProgress=null,pg.includes(m.file.type))try{await y(m)}catch(x){console.error("Failed to preprocess image",x)}if(vg.includes(m.file.type))try{await g(m)}catch(x){console.error("Failed to preprocess video",x)}m.preprocessing=!1,m.preprocessProgress=null}async function y(m){const x=await window.createImageBitmap(m.file);let k=m.file;if(m.watermarkLayers!=null&&un.includes(k.type)&&t.policies.watermarkAvailable&&m.watermarkLayers!=null){const P=window.document.createElement("canvas"),L=await I(()=>import("./3iSoGi4ic-B2w6PCOa.js"),__vite__mapDeps([124,125,3,115,114,4,2,5,6]),import.meta.url).then(G=>G.WatermarkRenderer),q=new L({canvas:P,renderWidth:x.width,renderHeight:x.height,image:x});await q.render(m.watermarkLayers),k=await new Promise(G=>{P.toBlob(Y=>{if(Y==null)throw new Error("Failed to convert canvas to blob");G(Y),q.destroy()},"image/png")})}if(m.imageFrameParams!=null&&un.includes(k.type)&&m.imageFrameParams!=null){const P=window.document.createElement("canvas"),q=await(await I(()=>import("./3iSoGi4ic-CBiS4VhD.js"),[],import.meta.url)).load(await m.file.arrayBuffer()),G=await I(()=>import("./3iSoGi4ic-CXdqbDJK.js"),__vite__mapDeps([131,125,3,115,2,4,5,6]),import.meta.url).then(ve=>ve.ImageFrameRenderer),Y=new G({canvas:P,image:await window.createImageBitmap(k),exif:q,caption:m.caption??null,filename:m.name});await Y.render(m.imageFrameParams),k=await new Promise(ve=>{P.toBlob(ne=>{if(ne==null)throw new Error("Failed to convert canvas to blob");ve(ne),Y.destroy()},"image/png")})}const T=yg(m.compressionLevel);if(m.compressionLevel!==0&&T&&un.includes(k.type)&&!await hg(k)){const P={mimeType:fl()?"image/webp":"image/jpeg",maxWidth:T.maxWidth,maxHeight:T.maxHeight,quality:fl()?.85:.8};try{const L=await rg(k,P);(L.size<k.size||k.type==="image/webp")&&(k=L,m.compressedSize=L.size,m.uploadName=k.type!==P.mimeType?`${m.name}.${gg[P.mimeType]}`:m.name)}catch(L){console.error("Failed to resize image",L)}}else m.compressedSize=null,m.uploadName=m.name;x.close(),m.thumbnail!=null&&URL.revokeObjectURL(m.thumbnail),m.thumbnail=Na.includes(k.type)?window.URL.createObjectURL(k):null,m.preprocessedFile=rt(k)}async function g(m){let x=m.file;if(m.compressionLevel!==0&&To.includes(x.type)){const _=await I(()=>import("./3iSoGi4ic-DmNFh-kA.js"),__vite__mapDeps([133,61]),import.meta.url),C=new _.BlobSource(x),T=new _.Input({source:C,formats:_.ALL_FORMATS}),R=new _.Output({target:new _.BufferTarget,format:new _.Mp4OutputFormat}),P=await _.Conversion.init({input:T,output:R,video:{bitrate:m.compressionLevel===1?_.QUALITY_VERY_HIGH:m.compressionLevel===2?_.QUALITY_MEDIUM:_.QUALITY_VERY_LOW},audio:{discard:!1}});P.onProgress=L=>m.preprocessProgress=L,m.abortPreprocess=()=>{m.abortPreprocess=null,P.cancel(),m.preprocessing=!1,m.preprocessProgress=null},await P.execute(),m.abortPreprocess=null,x=new Blob([R.target.buffer],{type:R.format.mimeType}),m.compressedSize=R.target.buffer.byteLength,m.uploadName=`${m.name}.mp4`}else m.compressedSize=null,m.uploadName=m.name;m.thumbnail!=null&&URL.revokeObjectURL(m.thumbnail),m.thumbnail=Na.includes(x.type)?window.URL.createObjectURL(x):null,m.preprocessedFile=rt(x)}function p(){for(const m of o.value)m.thumbnail!=null&&URL.revokeObjectURL(m.thumbnail);w()}return nt(()=>{p()}),{items:o,addFiles:s,removeItem:r,abortAll:w,dispose:p,upload:h,getMenu:l,uploading:z(()=>o.value.some(m=>m.uploading)),readyForUpload:z(()=>o.value.length>0&&o.value.some(m=>m.uploaded==null)&&!o.value.some(m=>m.uploading||m.preprocessing)),allItemsUploaded:z(()=>o.value.every(m=>m.uploaded!=null)),events:n}}function bg(e){return new Promise(async t=>{const n=F(0),i=F(e[0].title),o=F(e[0].description),a=jt(e[0].element);oe(n,r=>{const l=e[r];i.value=l.title,o.value=l.description,a.value=l.element});const{dispose:s}=_e(he(()=>I(()=>import("./3iSoGi4ic-qiI96ppG.js"),__vite__mapDeps([134,2,4,3,5,6,135]),import.meta.url)),{title:i,description:o,anchorElement:a,hasPrev:z(()=>n.value>0),hasNext:z(()=>n.value<e.length-1)},{next:()=>{if(n.value>=e.length-1){s(),t();return}n.value++},prev:()=>{n.value--}})})}const _g=["drive","uploader","postFormUploader","clips","userLists","postForm","deck","tl.home","tl.local","tl.social","tl.global","abuses"];function ws(e){B.set("tips",{...B.r.tips.value,[e]:!0})}function jx(){B.set("tips",{})}function xg(){const e={};for(const t of _g)e[t]=!0;B.set("tips",e)}const kg=["src"],Eg={key:0},Dg={key:1},Cg={key:2},Ag={key:3},Ig=["disabled"],Tg={key:0},Mg={key:1},Fg=["disabled"],Sg={style:{"margin-right":"8px"}},Pg=["onClick"],Rg=["placeholder"],Bg=["disabled","readonly","placeholder"],$g=["placeholder"],Lg={key:7,style:{padding:"12px"}},Og={key:10,style:{padding:"8px 16px"}},Ng={id:"hashtags"},jg=["value"],vo=100,ml="yyyy-MM-dd HH-mm-ss [{{number}}]",yc=K({__name:"MkPostForm",props:{reply:{},renote:{},channel:{},mention:{},specified:{},initialText:{},initialCw:{},initialVisibility:{},initialFiles:{},initialLocalOnly:{type:Boolean,default:void 0},initialVisibleUsers:{default:()=>[]},initialNote:{},instant:{type:Boolean},fixed:{type:Boolean},autofocus:{type:Boolean,default:!0},freezeAfterPosted:{type:Boolean},mock:{type:Boolean,default:!1}},emits:["posted","cancel","esc","fileChangeSensitive"],setup(e,{expose:t,emit:n}){const i=Ls(),o=e;ct(qe.mock,o.mock);const a=n,s=de("textareaEl"),r=de("cwInputEl"),l=de("hashtagsInputEl"),f=de("visibilityButton"),h=de("otherSettingsButton"),w=de("accountMenuEl"),u=de("footerEl"),y=de("submitButtonEl"),g=F(!1),p=F(!1),m=F(o.initialText??""),x=F(o.initialFiles??[]),k=F(null),_=F(!!o.initialCw),C=F(B.s.showPreview);oe(C,()=>B.set("showPreview",C.value));const T=F(D.s.enableQuickAddMfmFunction);oe(T,()=>D.commit("enableQuickAddMfmFunction",T.value));const R=F(o.initialCw??null),P=F(o.initialLocalOnly??(D.s.rememberNoteVisibility?B.s.localOnly:D.s.defaultNoteLocalOnly)),L=F(o.initialVisibility??(D.s.rememberNoteVisibility?B.s.visibility:D.s.defaultNoteVisibility)),q=F([]);o.initialVisibleUsers&&o.initialVisibleUsers.forEach(O=>Qt(O));const G=F(B.s.reactionAcceptance),Y=F(null),ve=F(!1),ne=F(null),ee=F(!1),xe=F(JSON.parse(ce.getItem("hashtags")??"[]")),le=F(""),ge=F(!1),Re=F(!1),Fe=F(!1),ke=jt(o.renote),ae=jt(o.reply),Ee=jt(o.channel),U=F(null),Se=Ki("post_form_action"),je=wg({});nt(()=>{je.dispose()}),je.events.on("itemUploaded",O=>{x.value.push(O.item.uploaded),je.removeItem(O.item)});const X=z(()=>{let O=Ee.value?`channel:${Ee.value.id}`:"";return ke.value?O+=`renote:${ke.value.id}`:ae.value?O+=`reply:${ae.value.id}`:O+=`note:${i.id}`,O}),be=z(()=>{if(ke.value)return "Citar...";if(ae.value)return "Contestar...";if(Ee.value)return "Publicar a un canal...";{const O=["Que vols dir?...","Alguna cosa interessant al teu voltant?...","Qu et passa pel cap?...","Qu vols dir?...","Escriu alguna cosa...","Esperant que escriguis qualsevol cosa..."];return O[Math.floor(Math.random()*O.length)]}}),Ve=z(()=>Y.value!=null?"Programa":ke.value?"Cita":ae.value?"Respostes":"Nota"),Ce=z(()=>p.value?"ti ti-check":Y.value!=null?"ti ti-calendar-time":ae.value?"ti ti-arrow-back-up":ke.value?"ti ti-quote":"ti ti-send"),Ne=z(()=>(m.value+le.value).length),it=z(()=>re?re.maxNoteTextLength:1e3),et=z(()=>R.value?.length??0),_t=z(()=>!o.mock&&!g.value&&!p.value&&!je.uploading.value&&(je.items.value.length===0||je.readyForUpload.value)&&(1<=Ne.value||1<=x.value.length||1<=je.items.value.length||k.value!=null||ke.value!=null||ne.value!=null)&&Ne.value<=it.value&&(_.value?R.value!=null&&R.value.trim()!==""&&et.value<=vo:!0)&&x.value.length<=16&&(!k.value||k.value.choices.length>=2)),Xn=z(()=>_t.value&&(Ne.value>0||x.value.length>0||k.value!=null)),Ut=z(B.makeGetterSetter("postFormWithHashtags")),Rt=z(B.makeGetterSetter("postFormHashtags"));if(oe(m,()=>{ie()},{immediate:!0}),oe(L,()=>{ie()},{immediate:!0}),oe(q,()=>{ie()},{deep:!0}),o.mention&&(m.value=o.mention.host?`@${o.mention.username}@${Ii(o.mention.host)}`:`@${o.mention.username}`,m.value+=" "),ae.value&&(ae.value.user.username!==i.username||ae.value.user.host!=null&&ae.value.user.host!==Oe)&&(m.value=`@${ae.value.user.username}${ae.value.user.host!=null?"@"+Ii(ae.value.user.host):""} `),ae.value&&ae.value.text!=null){const O=pn.parse(ae.value.text),$=ae.value.user.host;for(const De of Ba(O)){const Ke=De.host?`@${De.username}@${Ii(De.host)}`:$==null||$===Oe?`@${De.username}`:`@${De.username}@${Ii($)}`;i.username===De.username&&(De.host==null||De.host===Oe)||m.value.includes(`${Ke} `)||(m.value+=`${Ke} `)}}i.isSilenced&&L.value==="public"&&(L.value="home"),Ee.value&&(L.value="public",P.value=!0),ae.value&&["home","followers","specified"].includes(ae.value.visibility)&&(ae.value.visibility==="home"&&L.value==="followers"?L.value="followers":["home","followers"].includes(ae.value.visibility)&&L.value==="specified"?L.value="specified":L.value=ae.value.visibility,L.value==="specified"&&(ae.value.visibleUserIds&&se("users/show",{userIds:ae.value.visibleUserIds.filter(O=>O!==i.id&&O!==ae.value?.userId)}).then(O=>{O.forEach($=>Qt($))}),ae.value.userId!==i.id&&se("users/show",{userId:ae.value.userId}).then(O=>{Qt(O)}))),o.specified&&(L.value="specified",Qt(o.specified)),D.s.keepCw&&ae.value&&ae.value.cw&&(_.value=!0,R.value=ae.value.cw);function ye(){oe(m,()=>Zt()),oe(_,()=>Zt()),oe(R,()=>Zt()),oe(k,()=>Zt()),oe(x,()=>Zt(),{deep:!0}),oe(L,()=>Zt()),oe(P,()=>Zt()),oe(ne,()=>Zt()),oe(G,()=>Zt()),oe(Y,()=>Zt())}function ie(){if(L.value==="specified"){const O=pn.parse(m.value);for(const $ of Ba(O))if(!q.value.some(De=>De.username===$.username&&De.host===$.host)){ee.value=!0;return}}ee.value=!1}function Ge(){const O=pn.parse(m.value);for(const $ of Ba(O))q.value.some(De=>De.username===$.username&&De.host===$.host)||se("users/show",{username:$.username,host:$.host}).then(De=>{Qt(De)})}function ut(){k.value?k.value=null:k.value={choices:["",""],multiple:!1,expiresAt:null,expiredAfter:null}}function Je(){s.value&&(s.value.focus(),s.value.setSelectionRange(s.value.value.length,s.value.value.length))}function xt(O){o.mock||qc({multiple:!0}).then($=>{$.length!==0&&je.addFiles($)})}function ma(O){o.mock||lc({multiple:!0}).then($=>{x.value.push(...$)})}function Gn(O){x.value=x.value.filter($=>$.id!==O)}function ha(O,$){o.mock&&a("fileChangeSensitive",O.id,$),x.value[x.value.findIndex(De=>De.id===O.id)].isSensitive=$}function Qn(O,$){x.value[x.value.findIndex(De=>De.id===O.id)].name=$}function pa(){if(Ee.value){L.value="public",P.value=!0;return}const{dispose:O}=_e(he(()=>I(()=>import("./3iSoGi4ic-Cga1h9L-.js"),__vite__mapDeps([136,4,3,2,5,6,137]),import.meta.url)),{currentVisibility:L.value,isSilenced:i.isSilenced,localOnly:P.value,anchorElement:f.value,...ae.value?{isReplyVisibilitySpecified:ae.value.visibility==="specified"}:{}},{changeVisibility:$=>{L.value=$,D.s.rememberNoteVisibility&&B.set("visibility",L.value)},closed:()=>O()})}async function pt(){if(Ee.value){L.value="public",P.value=!0;return}const O=ce.getItem("neverShowLocalOnlyInfo");if(!P.value&&O!=="true"){const $=await Cs({type:"question",title:"Vols treure la federaci?",text:"Fins i tot traient la federaci, les publicacions continuaren sent pbliques, a no ser que es digui el contrari. Normalment no has de tocar aix.",actions:[{value:"yes",text:"Desactivar",primary:!0},{value:"neverShow",text:`${"Desactivar"} (${"No mostrar ms "})`,danger:!0},{value:"no",text:"Cancellar"}]});if($.canceled||$.result==="no")return;$.result==="neverShow"&&ce.setItem("neverShowLocalOnlyInfo","true")}P.value=!P.value,D.s.rememberNoteVisibility&&B.set("localOnly",P.value)}async function kd(){const O=await Xi({title:"Acceptaci de reaccions ",items:[{value:null,label:"tot"},{value:"likeOnlyForRemote",label:"Tot (noms m'agraden d'instncies remotes)"},{value:"nonSensitiveOnly",label:"Noms sense contingut sensible"},{value:"nonSensitiveOnlyForLocalLikeOnlyForRemote",label:"Noms contingut no sensible (Noms m'agraden d'instncies remotes)"},{value:"likeOnly",label:"Noms m'agraden "}],default:G.value});O.canceled||(G.value=O.result)}function Ed(){let O="ti ti-icons",$="";switch(G.value){case"likeOnly":O="ti ti-heart _love",$="Noms m'agraden ";break;case"likeOnlyForRemote":O="ti ti-heart-plus",$="Tot (noms m'agraden d'instncies remotes)";break;case"nonSensitiveOnly":$="Noms sense contingut sensible";break;case"nonSensitiveOnlyForLocalLikeOnlyForRemote":$="Noms contingut no sensible (Noms m'agraden d'instncies remotes)";break;default:$="tot";break}const De=[{type:"component",component:Jh,props:{textLength:Ne}},{type:"divider"},{icon:O,text:"Acceptaci de reaccions ",caption:$,action:()=>{kd()}},{type:"divider"},{type:"button",text:"Desar com a esborrany",icon:"ti ti-cloud-upload",action:async()=>{if(!Xn.value)return Qe({type:"error",text:"Amb aquest contingut no es poden crear esborranys."});Cr()}},...i.policies.scheduledNoteLimit>0?[{icon:"ti ti-calendar-time",text:"Programar una nota"+"...",action:()=>{zd()}}]:[],{type:"divider"},{type:"switch",icon:"ti ti-eye",text:"Vista prvia",ref:C},{icon:"ti ti-trash",text:"Reiniciar",danger:!0,action:async()=>{if(o.mock)return;const{canceled:Ke}=await Ze({type:"question",text:"Segur que vols restablir-ho?"});Ke||ro()}}];Ue(De,h.value)}function Qt(O){q.value.some($=>$.username===O.username&&$.host===O.host)||q.value.push(O)}function Dd(){Tl().then(O=>{Qt(O),m.value.toLowerCase().includes(`@${O.username.toLowerCase()}`)||(m.value=`@${ns(O)} ${m.value}`)})}function Cd(O){q.value=Fh(O,q.value)}function ro(){m.value="",R.value=null,x.value=[],k.value=null,ne.value=null,Y.value=null}function kr(O){O.key==="Enter"&&(O.ctrlKey||O.metaKey)&&_t.value&&Tr(),O.key==="Escape"&&!Fe.value&&!O.isComposing&&a("esc")}function Er(O){Fe.value=!1}function Ad(O){le.value=O.data}function Dr(O){le.value="",Fe.value=!0}async function Id(O){if(o.mock||!O.clipboardData)return;let $=[];for(const{item:Ke,i:Te}of Array.from(O.clipboardData.items,(ue,dt)=>({item:ue,i:dt})))if(Ke.kind==="file"){const ue=Ke.getAsFile();if(!ue)continue;const dt=ue.name.lastIndexOf("."),kt=dt>=0?ue.name.slice(dt):"",vt=`${sl(new Date(ue.lastModified),ml).replace(/{{number}}/g,`${Te+1}`)}${kt}`,He=new File([ue],vt,{type:ue.type});$.push(He)}if($.length>0){O.preventDefault(),je.addFiles($);return}const De=O.clipboardData.getData("text");!ke.value&&!ne.value&&De.startsWith(ht+"/notes/")&&(O.preventDefault(),Ze({type:"info",text:"Vols annexar-la com a cita?"}).then(({canceled:Ke})=>{if(Ke){Aa(s.value,De);return}ne.value=De.substring(ht.length).match(/^\/notes\/(.+?)\/?$/)?.[1]??null})),De.length>1e3&&(O.preventDefault(),Ze({type:"info",text:"El text copiat s massa llarg. Vols adjuntar-lo com un fitxer de text?"}).then(({canceled:Ke})=>{if(Ke){Aa(s.value,De);return}const Te=sl(new Date,ml).replace(/{{number}}/g,"0"),ue=new File([De],`${Te}.txt`,{type:"text/plain"});je.addFiles([ue])}))}function Td(O){if(!O.dataTransfer.items[0])return;if(O.dataTransfer.items[0].kind==="file"||Zv(O,["driveFiles"]))switch(O.preventDefault(),ve.value=!0,O.dataTransfer.effectAllowed){case"all":case"uninitialized":case"copy":case"copyLink":case"copyMove":O.dataTransfer.dropEffect="copy";break;case"linkMove":case"move":O.dataTransfer.dropEffect="move";break;default:O.dataTransfer.dropEffect="none";break}}function Md(){ve.value=!0}function Fd(){ve.value=!1}function Sd(O){if(ve.value=!1,O.dataTransfer&&O.dataTransfer.files.length>0){O.preventDefault(),je.addFiles(Array.from(O.dataTransfer.files));return}{const $=Qv(O,"driveFiles");$!=null&&(x.value.push(...$),O.preventDefault())}}function Zt(){if(o.instant||o.mock)return;const O=JSON.parse(ce.getItem("drafts")??"{}");O[X.value]={updatedAt:new Date,data:{text:m.value,useCw:_.value,cw:R.value,visibility:L.value,localOnly:P.value,files:x.value,poll:k.value,...q.value.length>0?{visibleUserIds:q.value.map($=>$.id)}:{},quoteId:ne.value,reactionAcceptance:G.value,scheduledAt:Y.value}},ce.setItem("drafts",JSON.stringify(O))}function Pd(){const O=JSON.parse(ce.getItem("drafts")??"{}");delete O[X.value],ce.setItem("drafts",JSON.stringify(O))}async function Cr(O={}){return await Xe(U.value==null?"notes/drafts/create":"notes/drafts/update",{...U.value==null?{}:{draftId:U.value},text:m.value,cw:_.value&&R.value||null,visibility:L.value,localOnly:P.value,hashtag:Rt.value,fileIds:x.value.map($=>$.id),poll:k.value,visibleUserIds:q.value.map($=>$.id),renoteId:ke.value?ke.value.id:ne.value?ne.value:null,replyId:ae.value?ae.value.id:null,channelId:Ee.value?Ee.value.id:null,reactionAcceptance:G.value,scheduledAt:Y.value,isActuallyScheduled:O.isActuallyScheduled??!1})}function Ar(O){return O.includes("$[x2")||O.includes("$[x3")||O.includes("$[x4")||O.includes("$[scale")||O.includes("$[position")}async function Ir(){await je.upload();for(const O of je.items.value.filter($=>$.uploaded!=null))x.value.push(O.uploaded),je.removeItem(O)}async function Tr(O){if(O){const Te=O.currentTarget??O.target;if(Te&&D.s.animation){const ue=Te.getBoundingClientRect(),dt=ue.left+Te.offsetWidth/2,kt=ue.top+Te.offsetHeight/2,{dispose:vt}=_e(di,{x:dt,y:kt},{end:()=>vt()})}}if(Y.value!=null){if(je.items.value.some(Te=>Te.uploaded==null)&&(await Ir(),je.items.value.some(Te=>Te.uploaded==null)))return;await Rd(),ro();return}if(o.mock)return;if(L.value==="public"&&(_.value&&R.value!=null&&R.value.trim()!==""&&Ar(R.value)||(!_.value||R.value==null||R.value.trim()==="")&&m.value!=null&&m.value.trim()!==""&&Ar(m.value))){const{canceled:Te,result:ue}=await Cs({type:"warning",text:"Aquesta nota pot ser molesta per alg.",actions:[{value:"home",text:"Publicar a la lnia de temps d'Inici",primary:!0},{value:"cancel",text:"Cancellar "},{value:"ignore",text:"Publicar de totes maneres"}]});if(Te||ue==="cancel")return;ue==="home"&&(L.value="home")}if(je.items.value.some(Te=>Te.uploaded==null)&&(await Ir(),je.items.value.some(Te=>Te.uploaded==null)))return;let $={text:m.value===""?null:m.value,fileIds:x.value.length>0?x.value.map(Te=>Te.id):void 0,replyId:ae.value?ae.value.id:void 0,renoteId:ke.value?ke.value.id:ne.value?ne.value:void 0,channelId:Ee.value?Ee.value.id:void 0,poll:k.value,cw:_.value?R.value??"":null,localOnly:P.value,visibility:L.value,visibleUserIds:L.value==="specified"?q.value.map(Te=>Te.id):void 0,reactionAcceptance:G.value};if(Ut.value&&Rt.value&&Rt.value.trim()!==""){const Te=Rt.value.trim().split(" ").map(ue=>ue.startsWith("#")?ue:"#"+ue).join(" ");if(!$.text)$.text=Te;else{const ue=$.text.split(`
`);ue[ue.length-1].trim()===""?ue[ue.length-1]+=Te:ue[ue.length-1]+=" "+Te,$.text=ue.join(`
`)}}const De=Ki("note_post_interruptor");if(De.length>0)for(const Te of De)try{$=await Te.handler(sn($))}catch(ue){console.error(ue)}let Ke;if(rn.value){const ue=(await uc()).find(dt=>dt.id===rn.value?.id);if(ue&&ue.token!=null)Ke=ue.token;else{await Qe({type:"error",text:"cannot find the token of the selected account."});return}}g.value=!0,se("notes/create",$,Ke).then(Te=>{o.freezeAfterPosted?p.value=!0:ro(),yt.emit("notePosted",Te.createdNote),Be(()=>{if(Pd(),a("posted"),$.text&&$.text!==""){const va=pn.parse($.text).map(lo=>lo.type==="hashtag"&&lo.props.hashtag).filter(lo=>lo),Jd=JSON.parse(ce.getItem("hashtags")??"[]");ce.setItem("hashtags",JSON.stringify(Ku(va.concat(Jd))))}g.value=!1,rn.value=null,Lf(),lu===1&&me("notes1");const ue=$.text??"",dt=ue.toLowerCase();(dt.includes("love")||dt.includes(""))&&dt.includes("misskey")&&me("iLoveMisskey"),["https://youtu.be/Efrlqw8ytg4","https://www.youtube.com/watch?v=Efrlqw8ytg4","https://m.youtube.com/watch?v=Efrlqw8ytg4","https://youtu.be/XVCwzwxdHuA","https://www.youtube.com/watch?v=XVCwzwxdHuA","https://m.youtube.com/watch?v=XVCwzwxdHuA","https://open.spotify.com/track/3Cuj0mZrlLoXx9nydNi7RB","https://open.spotify.com/track/7anfcaNPQWlWCwyCHmZqNy","https://open.spotify.com/track/5Odr16TvEN4my22K9nbH7l","https://open.spotify.com/album/5bOlxyl4igOrp2DwVQxBco"].some(va=>ue.includes(va))&&me("brainDiver"),ke.value&&ke.value.userId===i.id&&ue.length>0&&me("selfQuote");const kt=new Date,vt=kt.getHours(),He=kt.getMinutes(),Zn=kt.getSeconds();vt>=0&&vt<=3&&me("postedAtLateNight"),He===0&&Zn===0&&me("postedAt0min0sec"),U.value!=null&&se("notes/drafts/delete",{draftId:U.value})})}).catch(Te=>{g.value=!1,Qe({type:"error",text:Te.message+`
`+Te.id})})}async function Rd(){o.mock||await Cr({isActuallyScheduled:!0})}function Bd(){a("cancel")}function $d(){Tl({localOnly:P.value,includeSelf:!0}).then(O=>{Aa(s.value,"@"+ns(O)+" ")})}async function Ld(O){Re.value=!0;const $=O.currentTarget??O.target;if($==null)return;let De=s.value?.selectionStart??0,Ke=s.value?.selectionEnd??m.value.length;ar.show($,Te=>{const ue=m.value.substring(0,De),dt=m.value.substring(Ke);m.value=ue+Te+dt,De+=Te.length,Ke+=Te.length},()=>{Re.value=!1,Be(()=>Je())})}async function Od(O){s.value!=null&&Hv(O.currentTarget??O.target,s.value,m)}function Nd(O){Ue(Se.map($=>({text:$.title,action:()=>{$.handler({text:m.value,cw:R.value},(De,Ke)=>{typeof De!="string"||typeof Ke!="string"||(De==="text"&&(m.value=Ke),De==="cw"&&(_.value=Ke!==null,R.value=Ke))})}})),O.currentTarget??O.target)}const rn=F(null);async function jd(O){if(o.mock)return;function $(Ke){const{dispose:Te}=_e(he(()=>I(()=>import("./3iSoGi4ic-CZvBRCQR.js"),__vite__mapDeps([138,139,2,4,3,140,141,142,5,6,143]),import.meta.url)),{scheduled:Ke},{restore:async ue=>{m.value=ue.text??"",_.value=ue.cw!=null,R.value=ue.cw??null,L.value=ue.visibility,P.value=ue.localOnly??!1,x.value=ue.files??[],Rt.value=ue.hashtag??"",ue.hashtag&&(Ut.value=!0),ue.poll&&(k.value=null,Be(()=>{k.value={choices:ue.poll.choices,multiple:ue.poll.multiple,expiresAt:ue.poll.expiresAt?new Date(ue.poll.expiresAt).getTime():null,expiredAfter:null}})),ue.visibleUserIds&&se("users/show",{userIds:ue.visibleUserIds}).then(dt=>{dt.forEach(kt=>Qt(kt))}),ne.value=ue.renoteId??null,ke.value=ue.renote,ae.value=ue.reply,G.value=ue.reactionAcceptance,Y.value=ue.scheduledAt??null,ue.channel&&(Ee.value=ue.channel),q.value=[],ue.visibleUserIds?.forEach(dt=>{q.value.some(kt=>kt.id===dt)||se("users/show",{userId:dt}).then(kt=>{Qt(kt)})}),U.value=ue.id},cancel:()=>{},closed:()=>{Te()}})}const De=await or({withExtraOperation:!1,includeCurrentAccount:!0,active:rn.value!=null?rn.value.id:i.id,onChoose:Ke=>{Ke.id===i.id?rn.value=null:rn.value=Ke}});Ue([{type:"button",text:"Llistat d'esborranys",icon:"ti ti-cloud-download",action:()=>{$(!1)}},{type:"button",text:"Llista de notes programades",icon:"ti ti-clock-down",action:()=>{$(!0)}},{type:"divider"},...De],O.currentTarget??O.target??void 0)}function Vd(O,$){const De=je.getMenu(O);Ue(De,$.currentTarget??$.target)}function Ud(O,$){const De=je.getMenu(O);ca(De,$)}async function zd(){const{canceled:O,result:$}=await iw({title:"Programar una nota"});O||$.getTime()<=Date.now()||(Y.value=$.getTime())}function Hd(){Y.value=null}function qd(){s.value==null||u.value==null||w.value==null||f.value==null||h.value==null||y.value==null||bg([{element:s.value,title:"Cos principal",description:"Introdueix el contingut que vols publicar."},{element:u.value,title:"Barra d'eines ",description:"Pots adjuntar arxius o enquestes, afegir anotacions o etiquetes i inserir emojis o mencions."},{element:w.value,title:"Men del compte",description:"Pots anar canviant de comptes per publicar o veure una llista d'esborranys i les publicacions programades del teu compte."},{element:f.value,title:"Visibilitat",description:"Pots configurar la visibilitat de les teves notes."},{element:h.value,title:"Men",description:"Pots fer altres accions com desar esborranys, programar publicacions i configurar reaccions."},{element:y.value,title:"Bot per publicar",description:"Publica les teves notes. Tamb pots fer servir Ctrl + Enter / Cmd + Enter"}]).then(()=>{ws("postForm")})}We(()=>{o.autofocus&&(Je(),Be(()=>{Je()})),s.value&&new Co(s.value,m),r.value&&new Co(r.value,R),l.value&&new Co(l.value,Rt),Be(()=>{if(!o.instant&&!o.mention&&!o.specified&&!o.mock){const O=JSON.parse(ce.getItem("drafts")??"{}")[X.value];O&&(m.value=O.data.text,_.value=O.data.useCw,R.value=O.data.cw,L.value=O.data.visibility,P.value=O.data.localOnly,x.value=(O.data.files||[]).filter($=>$),O.data.poll&&(k.value=O.data.poll),O.data.visibleUserIds&&se("users/show",{userIds:O.data.visibleUserIds}).then($=>{$.forEach(De=>Qt(De))}),ne.value=O.data.quoteId,G.value=O.data.reactionAcceptance,Y.value=O.data.scheduledAt??null)}if(o.initialNote){const O=o.initialNote;m.value=O.text?O.text:"",_.value=O.cw!=null,R.value=O.cw??null,L.value=O.visibility,P.value=O.localOnly??!1,x.value=O.files??[],O.poll&&(k.value={choices:O.poll.choices.map($=>$.text),multiple:O.poll.multiple,expiresAt:O.poll.expiresAt?new Date(O.poll.expiresAt).getTime():null,expiredAfter:null}),O.visibleUserIds&&se("users/show",{userIds:O.visibleUserIds}).then($=>{$.forEach(De=>Qt(De))}),ne.value=ke.value?ke.value.id:null,G.value=O.reactionAcceptance}Be(()=>ye())})});async function Wd(){if(!je.allItemsUploaded.value){const{canceled:O}=await Ze({type:"question",text:"Hi ha arxius que no s'han carregat, vols descartar-los i tancar el formulari?",okText:"S ",cancelText:"No"});if(O)return!1}return!0}return t({clear:ro,abortUploader:()=>je.abortAll(),canClose:Wd}),(O,$)=>{const De=Q("MkEllipsis"),Ke=Q("MkAcct"),Te=Q("MkTime"),ue=Q("I18n"),dt=Q("MkTip"),kt=Ye("click-anime"),vt=Ye("tooltip");return c(),v("div",{class:"xpDI4",onDragover:fe(Td,["stop"]),onDragenter:Md,onDragleave:Fd,onDrop:fe(Sd,["stop"])},[b("header",{class:"x6ccQ"},[b("div",{class:"xCpWa"},[e.fixed?M("",!0):(c(),v("button",{key:0,class:"xjSpm _button",onClick:Bd},[...$[14]||($[14]=[b("i",{class:"ti ti-x"},null,-1)])],2)),te((c(),v("button",{ref_key:"accountMenuEl",ref:w,class:"_button",onClick:jd},[b("img",{class:"xdKUg",src:(rn.value??E(i)).avatarUrl,style:{"border-radius":"100%"}},null,10,kg)],2)),[[kt],[vt,"Compte"]])],2),b("div",{class:"x1Ye0"},[Ee.value!=null&&e.fixed?M("",!0):(c(),v(pe,{key:0},[Ee.value==null?te((c(),v("button",{key:0,ref_key:"visibilityButton",ref:f,class:"_button x9WHn xrrzA",onClick:pa},[L.value==="public"?(c(),v("span",Eg,[...$[15]||($[15]=[b("i",{class:"ti ti-world"},null,-1)])])):M("",!0),L.value==="home"?(c(),v("span",Dg,[...$[16]||($[16]=[b("i",{class:"ti ti-home"},null,-1)])])):M("",!0),L.value==="followers"?(c(),v("span",Cg,[...$[17]||($[17]=[b("i",{class:"ti ti-lock"},null,-1)])])):M("",!0),L.value==="specified"?(c(),v("span",Ag,[...$[18]||($[18]=[b("i",{class:"ti ti-mail"},null,-1)])])):M("",!0),b("span",{class:"xbDCc"},S({"public":"Pblic ","publicDescription":"La teva nota la podr veure tothom ","home":"Inici","homeDescription":"Publicar noms a la lnia de temps d'Inici ","followers":"Seguidors","followersDescription":"Fes noms visible per als teus seguidors","specified":"Directe","specifiedDescription":"Fer visible noms per alguns usuaris","disableFederation":"Sense federar","disableFederationDescription":"No enviar a altres servidors"}[L.value]),3)],2)),[[vt,"Visibilitat"]]):(c(),v("button",{key:1,class:"_button x9WHn xrrzA",disabled:""},[$[19]||($[19]=b("span",null,[b("i",{class:"ti ti-device-tv"})],-1)),b("span",{class:"xbDCc"},S(Ee.value.name),3)],2))],64)),te((c(),v("button",{class:J(["_button",["x9WHn",{x6GzG:P.value}]]),disabled:Ee.value!=null||L.value==="specified",onClick:pt},[P.value?(c(),v("span",Mg,[...$[21]||($[21]=[b("i",{class:"ti ti-rocket-off"},null,-1)])])):(c(),v("span",Tg,[...$[20]||($[20]=[b("i",{class:"ti ti-rocket"},null,-1)])]))],10,Ig)),[[vt,"Sense federar"]]),te((c(),v("button",{ref_key:"otherSettingsButton",ref:h,class:"_button x9WHn",onClick:Ed},[...$[22]||($[22]=[b("i",{class:"ti ti-dots"},null,-1)])],2)),[[vt,"Altres"]]),te((c(),v("button",{ref_key:"submitButtonEl",ref:y,class:"_button xBTsK",disabled:!_t.value,"data-cy-open-post-form-submit":"",onClick:Tr},[b("div",{class:"xiS7Q"},[p.value?(c(),v(pe,{key:0},[],64)):g.value?(c(),N(De,{key:1})):(c(),v(pe,{key:2},[Z(S(Ve.value),1)],64)),b("i",{style:{"margin-left":"6px"},class:J(Ce.value)},null,2)],2)],10,Fg)),[[kt]])],2)],2),ae.value?(c(),N(ps,{key:0,class:"xhv1G",note:ae.value},null,8,["class","note"])):M("",!0),ke.value?(c(),N(ps,{key:1,class:"xhv1G",note:ke.value},null,8,["class","note"])):M("",!0),ne.value?(c(),v("div",{key:2,class:"xy4gH"},[$[24]||($[24]=b("i",{class:"ti ti-quote"},null,-1)),Z(" "+S("Frase adjunta"),1),b("button",{onClick:$[0]||($[0]=He=>{ne.value=null,ke.value=null})},[...$[23]||($[23]=[b("i",{class:"ti ti-x"},null,-1)])])],2)):M("",!0),L.value==="specified"?(c(),v("div",{key:3,class:"x9eP3"},[b("span",Sg,S("Destinatari"),1),b("div",{class:"x8ZVp"},[(c(!0),v(pe,null,ze(q.value,He=>(c(),v("span",{key:He.id,class:"xfPy3"},[j(Ke,{user:He},null,8,["user"]),b("button",{class:"_button",style:{padding:"4px 8px"},onClick:Zn=>Cd(He)},[...$[25]||($[25]=[b("i",{class:"ti ti-x"},null,-1)])],8,Pg)],2))),128)),b("button",{class:"_buttonPrimary",style:{padding:"4px","border-radius":"8px"},onClick:Dd},[...$[26]||($[26]=[b("i",{class:"ti ti-plus ti-fw"},null,-1)])])],2)],2)):M("",!0),E(B).r.tips.value.postForm?M("",!0):(c(),N($a,{key:4,class:"x7oCb",closable:"",onClose:$[1]||($[1]=He=>E(ws)("postForm"))},{default:H(()=>[b("button",{class:"_textButton",onClick:qd},S("Mostrar les instruccions"),1)]),_:1},8,["class"])),Y.value!=null?(c(),N($a,{key:5,class:"xbJnX"},{default:H(()=>[j(ue,{src:"Programar una nota per {x}",tag:"span"},{x:H(()=>[j(Te,{time:Y.value,mode:"detail",style:{"font-weight":"bold"}},null,8,["time"])]),_:1},8,["src"]),$[27]||($[27]=Z(" - ",-1)),b("button",{class:"_textButton",onClick:$[2]||($[2]=He=>Hd())},S("Cancellar"),1)]),_:1},8,["class"])):M("",!0),ee.value?(c(),N($a,{key:6,warn:"",class:"xeg2G"},{default:H(()=>[Z(S("Aquesta nota esmenta usuaris que no es troben com a destinataris")+" - ",1),b("button",{class:"_textButton",onClick:$[3]||($[3]=He=>Ge())},S("Afegir"),1)]),_:1},8,["class"])):M("",!0),te(b("div",{class:"xDrbJ"},[te(b("input",{ref_key:"cwInputEl",ref:r,"onUpdate:modelValue":$[4]||($[4]=He=>R.value=He),class:"xxQx9",placeholder:"Comentaris",onKeydown:kr,onKeyup:Er,onCompositionend:Dr},null,42,Rg),[[Si,R.value]]),vo-et.value<20?(c(),v("div",{key:0,class:J(["_acrylic","xrlSO",{xAM9h:et.value>vo}])},S(vo-et.value),3)):M("",!0)],2),[[Ft,_.value]]),b("div",{class:J(["xnEld",{xu6Ni:_.value}])},[Ee.value?(c(),v("div",{key:0,class:"x6HLb",style:$e({background:Ee.value.color})},null,6)):M("",!0),te(b("textarea",{ref_key:"textareaEl",ref:s,"onUpdate:modelValue":$[5]||($[5]=He=>m.value=He),class:"x8B0D",disabled:g.value||p.value,readonly:Re.value,placeholder:be.value,"data-cy-post-form-text":"",onKeydown:kr,onKeyup:Er,onPaste:Id,onCompositionupdate:Ad,onCompositionend:Dr},null,42,Bg),[[Si,m.value]]),it.value-Ne.value<100?(c(),v("div",{key:1,class:J(["_acrylic","xoS7Y",{xukGL:Ne.value>it.value}])},S(it.value-Ne.value),3)):M("",!0)],2),te(b("input",{ref_key:"hashtagsInputEl",ref:l,"onUpdate:modelValue":$[6]||($[6]=He=>Rt.value=He),class:"xqwIh",placeholder:"Etiquetes",list:"hashtags"},null,10,$g),[[Ft,Ut.value],[Si,Rt.value]]),j(Wh,{modelValue:x.value,"onUpdate:modelValue":$[7]||($[7]=He=>x.value=He),onDetach:Gn,onChangeSensitive:ha,onChangeName:Qn},null,8,["modelValue"]),E(je).items.value.length>0?(c(),v("div",Lg,[j(dt,{k:"postFormUploader"},{default:H(()=>[Z(S("L'arxiu encara no s'ha carregat. Des del men arxiu pots canviar el nom, retallar imatges, posar marques d'aigua i comprimir o no l'arxiu. Els arxius es carreguen automticament quan pbliques una nota."),1)]),_:1}),j(Th,{items:E(je).items.value,onShowMenu:$[8]||($[8]=(He,Zn)=>Vd(He,Zn)),onShowMenuViaContextmenu:$[9]||($[9]=(He,Zn)=>Ud(He,Zn))},null,8,["items"])])):M("",!0),k.value?(c(),N(wp,{key:8,modelValue:k.value,"onUpdate:modelValue":$[10]||($[10]=He=>k.value=He),onDestroyed:$[11]||($[11]=He=>k.value=null)},null,8,["modelValue"])):M("",!0),C.value?(c(),N(Ph,{key:9,class:"xoGjR",text:m.value,files:x.value,poll:k.value??void 0,useCw:_.value,cw:R.value,user:rn.value??E(i)},null,8,["class","text","files","poll","useCw","cw","user"])):M("",!0),ge.value?(c(),v("div",Og)):M("",!0),b("footer",{ref_key:"footerEl",ref:u,class:"xkr7J"},[b("div",{class:"xwaYk"},[te((c(),v("button",{class:"_button xjAub",onClick:xt},[...$[28]||($[28]=[b("i",{class:"ti ti-photo-plus"},null,-1)])],2)),[[vt,"Afegeix un arxiu"+" ("+"Puja"+")"]]),te((c(),v("button",{class:"_button xjAub",onClick:ma},[...$[29]||($[29]=[b("i",{class:"ti ti-cloud-download"},null,-1)])],2)),[[vt,"Afegeix un arxiu"+" ("+"Des del Disc"+")"]]),te((c(),v("button",{class:J(["_button",["xjAub",{xfRaq:k.value}]]),onClick:ut},[...$[30]||($[30]=[b("i",{class:"ti ti-chart-arrows"},null,-1)])],2)),[[vt,"Enquesta"]]),te((c(),v("button",{class:J(["_button",["xjAub",{xfRaq:_.value}]]),onClick:$[12]||($[12]=He=>_.value=!_.value)},[...$[31]||($[31]=[b("i",{class:"ti ti-eye-off"},null,-1)])],2)),[[vt,"Amaga el contingut"]]),te((c(),v("button",{class:J(["_button",["xjAub",{xfRaq:Ut.value}]]),onClick:$[13]||($[13]=He=>Ut.value=!Ut.value)},[...$[32]||($[32]=[b("i",{class:"ti ti-hash"},null,-1)])],2)),[[vt,"Etiquetes"]]),te((c(),v("button",{class:"_button xjAub",onClick:$d},[...$[33]||($[33]=[b("i",{class:"ti ti-at"},null,-1)])],2)),[[vt,"Menci"]]),T.value?te((c(),v("button",{key:0,class:"_button xjAub",onClick:Od},[...$[34]||($[34]=[b("i",{class:"ti ti-palette"},null,-1)])],2)),[[vt,"Afegeix funcions MFM"]]):M("",!0),E(Se).length>0?te((c(),v("button",{key:1,class:"_button xjAub",onClick:Nd},[...$[35]||($[35]=[b("i",{class:"ti ti-plug"},null,-1)])],2)),[[vt,"Extensions"]]):M("",!0)],2),b("div",{class:"xizQe"},[te((c(),v("button",{class:"_button xjAub",onClick:Ld},[...$[36]||($[36]=[b("i",{class:"ti ti-mood-happy"},null,-1)])],2)),[[vt,"Emoji"]])],2)],2),b("datalist",Ng,[(c(!0),v(pe,null,ze(xe.value,He=>(c(),v("option",{key:He,value:He},null,8,jg))),128))])],34)}}});const Vg=K({__name:"MkPostFormDialog",props:{reply:{},renote:{},channel:{},mention:{},specified:{},initialText:{},initialCw:{},initialVisibility:{},initialFiles:{},initialLocalOnly:{type:Boolean,default:void 0},initialVisibleUsers:{},initialNote:{},instant:{type:Boolean},fixed:{type:Boolean},autofocus:{type:Boolean}},emits:["closed"],setup(e,{emit:t}){const n=e,i=t,o=de("modal"),a=de("form");function s(){o.value?.close({useSendAnimation:!0})}async function r(){await a.value?.canClose()&&(a.value?.abortUploader(),o.value?.close())}function l(){r()}function f(){r()}function h(){i("closed")}return(w,u)=>(c(),N(no,{ref_key:"modal",ref:o,preferType:"dialog",onClick:u[2]||(u[2]=y=>f()),onClosed:u[3]||(u[3]=y=>h()),onEsc:l},{default:H(()=>[j(yc,Xt({ref_key:"form",ref:a,class:["xxski","_popup"]},n,{autofocus:"",freezeAfterPosted:"",onPosted:s,onCancel:u[0]||(u[0]=y=>r()),onEsc:u[1]||(u[1]=y=>r())}),null,16,["class"])]),_:1},512))}});const sa=K({__name:"MkWaitingDialog",props:{success:{type:Boolean},showing:{type:Boolean},text:{}},emits:["done","closed"],setup(e,{emit:t}){const n=de("modal"),i=e,o=t;function a(){o("done"),n.value?.close()}return oe(()=>i.showing,()=>{i.showing||a()}),(s,r)=>{const l=Q("MkLoading"),f=Q("MkEllipsis");return c(),N(no,{ref_key:"modal",ref:n,preferType:"dialog",zPriority:"high",onClick:r[0]||(r[0]=h=>e.success?a():()=>{}),onClosed:r[1]||(r[1]=h=>o("closed"))},{default:H(()=>[b("div",{class:J(["x56Ev",{xkW4j:e.text==null||e.success}])},[e.success?(c(),v("i",{key:0,class:"xiIhY xjFsq ti ti-check"},null,2)):(c(),N(l,{key:1,class:"xiIhY xt0yC",em:!0},null,8,["class"])),e.text&&!e.success?(c(),v("div",{key:2,class:"xBKDx"},[Z(S(e.text),1),j(f)],2)):M("",!0)],2)]),_:1},512)}}});const Ug=Object.freeze(Object.defineProperty({__proto__:null,default:sa},Symbol.toStringTag,{value:"Module"})),zg={};function Hg(e,t){const n=Q("MkLoading");return c(),N(n)}const ra=io(zg,[["render",Hg]]),qg="abcdefghijklmnopqrstuvwxyz";function Wg(e=32,t=qg){let n="";const i=t.length;for(let o=0;o<e;o++)n+=t.charAt(Math.floor(Math.random()*i));return n}const wc=K({__name:"RouterView",props:{router:{}},setup(e){const n=e.router??tt(qe.router);if(n==null)throw new Error("no router provided");const i=n,o=Wg();ct(qe.viewId,o);const a=tt(qe.routerCurrentDepth,0);ct(qe.routerCurrentDepth,a+1);const s=i.current,r=jt("component"in s.route?s.route.component:ra),l=F(s.props);let f=s.route.path;const h=F(i.getCurrentFullPath());return i.useListener("change",({resolved:w})=>{w==null||"redirect"in w.route||w.route.path===f&&Mt(w.props,l.value)||(r.value=w.route.component,l.value=w.props,h.value=i.getCurrentFullPath(),f=w.route.path)}),(w,u)=>{const y=Q("MkLoading");return c(),v("div",{class:"_pageContainer xmvLQ"},[(c(),N(Gd,{max:E(D).s.numberOfPageCache},[(c(),N(ea,{timeout:0},{fallback:H(()=>[j(y)]),default:H(()=>[(c(),N(Ct(r.value),Xt({key:h.value},Object.fromEntries(l.value)),null,16))]),_:1}))],1032,["max"]))],2)}}});const bc=(e,t,n=!0)=>{if(n&&e===t)return!0;let i=t.parentNode;for(;i;){if(i===e)return!0;i=i.parentNode}return!1},Jg=["onClick"],Kg=["onClick"],ki=50,ti=250,Yg=K({__name:"MkWindow",props:{initialWidth:{default:400},initialHeight:{default:null},canResize:{type:Boolean,default:!1},closeButton:{type:Boolean,default:!0},mini:{type:Boolean,default:!1},front:{type:Boolean,default:!1},contextmenu:{default:null},buttonsLeft:{default:()=>[]},buttonsRight:{default:()=>[]}},emits:["closed"],setup(e,{expose:t,emit:n}){function i(X){window.addEventListener("mousemove",X),window.addEventListener("touchmove",X),window.addEventListener("mouseleave",o.bind(null,X)),window.addEventListener("mouseup",o.bind(null,X)),window.addEventListener("touchend",o.bind(null,X))}function o(X){window.removeEventListener("mousemove",X),window.removeEventListener("touchmove",X),window.removeEventListener("mouseleave",o),window.removeEventListener("mouseup",o),window.removeEventListener("touchend",o)}const a=e,s=n;ct("inWindow",!0);const r=de("rootEl"),l=F(!0);let f=0;const h=F(!1),w=F(!1);let u="",y="",g="",p="";function m(){l.value=!1}function x(X){X.which===27&&(X.preventDefault(),X.stopPropagation(),m())}function k(X){a.contextmenu&&ca(a.contextmenu,X)}function _(){r.value&&(r.value.style.zIndex=Ln(a.front?"middle":"low").toString())}function C(){r.value!=null&&(h.value=!0,u=r.value.style.top,y=r.value.style.left,g=r.value.style.width,p=r.value.style.height,r.value.style.top="0",r.value.style.left="0",r.value.style.width="100%",r.value.style.height="100%")}function T(){r.value!=null&&(h.value=!1,r.value.style.top=u,r.value.style.left=y,r.value.style.width=g,r.value.style.height=p)}function R(){r.value!=null&&(w.value=!0,g=r.value.style.width,p=r.value.style.height,r.value.style.width=ti+"px",r.value.style.height=a.mini?"32px":"39px")}function P(){if(r.value==null)return;const X=r.value;w.value=!1,r.value.style.width=g,r.value.style.height=p;const be=window.innerWidth,Ve=window.innerHeight,Ce=X.offsetWidth,Ne=X.offsetHeight,it=X.getBoundingClientRect();it.top+Ne>Ve&&(X.style.top=Ve-Ne+"px"),it.left+Ce>be&&(X.style.left=be-Ce+"px")}function L(){_()}function q(){w.value?P():C()}function G(X){return"touches"in X&&X.touches.length>0?X.touches[0].clientX:"clientX"in X?X.clientX:0}function Y(X){return"touches"in X&&X.touches.length>0?X.touches[0].clientY:"clientY"in X?X.clientY:0}function ve(X){if("button"in X&&X.button===2)return;let be=!1;if(h.value&&(be=!0,T()),Date.now()-f<300){f=Date.now(),q();return}f=Date.now();const Ve=r.value;if(Ve==null)return;bc(Ve,window.document.activeElement)||Ve.focus();const Ce=Ve.getBoundingClientRect(),Ne=G(X),it=Y(X),et=be?parseInt(g,10)/2:Ne-Ce.left,_t=be?20:it-Ce.top,Xn=window.innerWidth,Ut=window.innerHeight,Rt=Ve.offsetWidth,ye=Ve.offsetHeight;function ie(Ge,ut){let Je=Ge-et,xt=ut-_t;xt+ye>Ut&&(xt=Ut-ye),Je<0&&(Je=0),xt<0&&(xt=0),Je+Rt>Xn&&(Je=Xn-Rt),r.value&&(r.value.style.left=Je+"px",r.value.style.top=xt+"px")}be&&ie(Ne,it),i(Ge=>{const ut=G(Ge),Je=Y(Ge);ie(ut,Je)})}function ne(X){const be=r.value;if(be==null)return;const Ve=Y(X),Ce=parseInt(getComputedStyle(be,"").height,10),Ne=parseInt(getComputedStyle(be,"").top,10);i(it=>{const et=Y(it)-Ve;Ne+et>0?Ce+-et>ki?(ae(Ce+-et),U(Ne+et)):(ae(ki),U(Ne+(Ce-ki))):(ae(Ne+Ce),U(0))})}function ee(X){const be=r.value;if(be==null)return;const Ve=G(X),Ce=parseInt(getComputedStyle(be,"").width,10),Ne=parseInt(getComputedStyle(be,"").left,10),it=window.innerWidth;i(et=>{const _t=G(et)-Ve;Ne+Ce+_t<it?Ce+_t>ti?Ee(Ce+_t):Ee(ti):Ee(it-Ne)})}function xe(X){const be=r.value;if(be==null)return;const Ve=Y(X),Ce=parseInt(getComputedStyle(be,"").height,10),Ne=parseInt(getComputedStyle(be,"").top,10),it=window.innerHeight;i(et=>{const _t=Y(et)-Ve;Ne+Ce+_t<it?Ce+_t>ki?ae(Ce+_t):ae(ki):ae(it-Ne)})}function le(X){const be=r.value;if(be==null)return;const Ve=G(X),Ce=parseInt(getComputedStyle(be,"").width,10),Ne=parseInt(getComputedStyle(be,"").left,10);i(it=>{const et=G(it)-Ve;Ne+et>0?Ce+-et>ti?(Ee(Ce+-et),Se(Ne+et)):(Ee(ti),Se(Ne+(Ce-ti))):(Ee(Ne+Ce),Se(0))})}function ge(X){ne(X),le(X)}function Re(X){ne(X),ee(X)}function Fe(X){xe(X),ee(X)}function ke(X){xe(X),le(X)}function ae(X){X>window.innerHeight&&(X=window.innerHeight),r.value&&(r.value.style.height=X+"px")}function Ee(X){X>window.innerWidth&&(X=window.innerWidth),r.value&&(r.value.style.width=X+"px")}function U(X){r.value&&(r.value.style.top=X+"px")}function Se(X){r.value&&(r.value.style.left=X+"px")}function je(){const X=r.value;if(X==null)return;const be=X.getBoundingClientRect(),Ve=window.innerWidth,Ce=window.innerHeight,Ne=X.offsetWidth,it=X.offsetHeight;be.left<0&&(X.style.left="0"),be.top+it>Ce&&(X.style.top=Ce-it+"px"),be.left+Ne>Ve&&(X.style.left=Ve-Ne+"px"),be.top<0&&(X.style.top="0")}return We(()=>{Ee(a.initialWidth),a.initialHeight&&ae(a.initialHeight),r.value&&(U(window.innerHeight/2-r.value.offsetHeight/2),Se(window.innerWidth/2-r.value.offsetWidth/2)),_(),window.addEventListener("resize",je)}),Bn(()=>{window.removeEventListener("resize",je)}),t({close:m}),(X,be)=>{const Ve=Ye("tooltip");return c(),N(St,{enterActiveClass:E(D).s.animation?"xAyR3":"",leaveActiveClass:E(D).s.animation?"xCCbe":"",enterFromClass:E(D).s.animation?"xeaYl":"",leaveToClass:E(D).s.animation?"x1xGm":"",appear:"",onAfterLeave:be[5]||(be[5]=Ce=>s("closed"))},{default:H(()=>[l.value?(c(),v("div",{key:0,ref_key:"rootEl",ref:r,class:J(["xpAOc",{xwAht:h.value}])},[b("div",{class:"xnMEB _shadow",onMousedown:L,onKeydown:x},[b("div",{class:J(["xbt7a",{xnNqM:e.mini}]),onContextmenu:fe(k,["prevent","stop"])},[b("span",{class:"xF9hE"},[w.value?M("",!0):(c(!0),v(pe,{key:0},ze(e.buttonsLeft,Ce=>te((c(),v("button",{class:J(["_button",["x7LLr",{xD8eR:Ce.highlighted}]]),onClick:Ce.onClick},[b("i",{class:J(Ce.icon)},null,2)],10,Jg)),[[Ve,Ce.title]])),256))],2),b("span",{class:"x3FS8",onMousedown:fe(ve,["prevent"]),onTouchstart:fe(ve,["prevent"])},[Ae(X.$slots,"header")],34),b("span",{class:"xaEYs"},[w.value?M("",!0):(c(!0),v(pe,{key:0},ze(e.buttonsRight,Ce=>te((c(),v("button",{class:J(["_button",["x7LLr",{xD8eR:Ce.highlighted}]]),onClick:Ce.onClick},[b("i",{class:J(Ce.icon)},null,2)],10,Kg)),[[Ve,Ce.title]])),256)),e.canResize&&w.value?te((c(),v("button",{key:1,class:"_button x7LLr",onClick:be[0]||(be[0]=Ce=>P())},[...be[6]||(be[6]=[b("i",{class:"ti ti-maximize"},null,-1)])],2)),[[Ve,"Restaurar"]]):e.canResize&&!h.value?te((c(),v("button",{key:2,class:"_button x7LLr",onClick:be[1]||(be[1]=Ce=>R())},[...be[7]||(be[7]=[b("i",{class:"ti ti-minimize"},null,-1)])],2)),[[Ve,"Minimitzar"]]):M("",!0),e.canResize&&h.value?te((c(),v("button",{key:3,class:"_button x7LLr",onClick:be[2]||(be[2]=Ce=>T())},[...be[8]||(be[8]=[b("i",{class:"ti ti-picture-in-picture"},null,-1)])],2)),[[Ve,"Restaurar"]]):e.canResize&&!h.value&&!w.value?te((c(),v("button",{key:4,class:"_button x7LLr",onClick:be[3]||(be[3]=Ce=>C())},[...be[9]||(be[9]=[b("i",{class:"ti ti-rectangle"},null,-1)])],2)),[[Ve,"Maximitzar "]]):M("",!0),e.closeButton?te((c(),v("button",{key:5,class:"_button x7LLr",onClick:be[4]||(be[4]=Ce=>m())},[...be[10]||(be[10]=[b("i",{class:"ti ti-x"},null,-1)])],2)),[[Ve,"Tanca"]]):M("",!0)],2)],34),b("div",{class:"xfc6t"},[Ae(X.$slots,"default")],2)],34),e.canResize&&!w.value?(c(),v(pe,{key:0},[b("div",{class:"x6GRm xe7xr",onMousedown:fe(ne,["prevent"])},null,34),b("div",{class:"xpwnF xe7xr",onMousedown:fe(ee,["prevent"])},null,34),b("div",{class:"xnqRB xe7xr",onMousedown:fe(xe,["prevent"])},null,34),b("div",{class:"xuyYZ xe7xr",onMousedown:fe(le,["prevent"])},null,34),b("div",{class:"xawgF xe7xr",onMousedown:fe(ge,["prevent"])},null,34),b("div",{class:"x6Jrb xe7xr",onMousedown:fe(Re,["prevent"])},null,34),b("div",{class:"xviz9 xe7xr",onMousedown:fe(Fe,["prevent"])},null,34),b("div",{class:"xij7W xe7xr",onMousedown:fe(ke,["prevent"])},null,34)],64)):M("",!0)],2)):M("",!0)]),_:3},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass"])}}});function Xg(e,t){let n=e.startsWith("http://")||e.startsWith("https://")?e:ht+e;if(n=Vp(n,"zen"),t){const i=t.getBoundingClientRect(),o=parseInt(getComputedStyle(t,"").width,10),a=parseInt(getComputedStyle(t,"").height,10),s=window.screenX+i.left,r=window.screenY+i.top;window.open(n,n,`width=${o}, height=${a}, top=${r}, left=${s}`)}else{const a=window.top==null?0:window.top.outerHeight/2+window.top.screenY-250,s=window.top==null?0:window.top.outerWidth/2+window.top.screenX-400/2;window.open(n,n,`width=400, height=500, top=${a}, left=${s}`)}}const _c=Symbol("ReceiverKey"),Gg=e=>{ct(_c,e)},Qg=()=>tt(_c),Zg=Symbol("MetadataKey"),e0=e=>{ct(Zg,e)},xc=e=>{const t=F(Mr(e)),n=()=>t.value,i=Qg();i?.(n),Bn(oe(()=>Mr(e),o=>{t.value=o,i?.(n)},{deep:!0})),$n(()=>{i?.(n)}),ct(qe.pageMetadata,t)},kc=e=>{Gg(e)},Ec=e=>{e0(e)};function pi(e,t,n=300){let i=!1,o=!1,a,s,r;const l=()=>{if(f(),!i||e.value==null)return;const p=e.value instanceof Element?e.value:e.value.$el;if(!window.document.body.contains(p))return;const m=F(!0);t(m),s=()=>{m.value=!1},r=window.setInterval(()=>{if(e.value==null||!window.document.body.contains(e.value instanceof Element?e.value:e.value.$el)){if(!i)return;i=!1,window.clearTimeout(a),f(),window.clearInterval(r)}},1e3)},f=()=>{s!=null&&(s(),s=null)},h=()=>{i||o||(i=!0,a=window.setTimeout(l,n))},w=()=>{i&&(i=!1,window.clearTimeout(a),window.clearInterval(r),f())},u=()=>{o=!0,!i&&(i=!0,a=window.setTimeout(l,n))},y=()=>{i&&(i=!1,window.clearTimeout(a),window.clearInterval(r),f())},g=oe(e,()=>{if(e.value){g();const p=e.value instanceof Element?e.value:e.value.$el;p.addEventListener("mouseover",h,{passive:!0}),p.addEventListener("mouseleave",w,{passive:!0}),p.addEventListener("touchstart",u,{passive:!0}),p.addEventListener("touchend",y,{passive:!0}),p.addEventListener("click",f,{passive:!0})}},{immediate:!0,flush:"post"});nt(()=>{f()})}const rr=z(()=>re.enableUrlPreview&&!D.r.dataSaver.value.disableUrlPreview);function t0(e){const t=new URL(e);if(!["https:","http:"].includes(t.protocol))throw new Error("Invalid protocol");const n=new URLSearchParams(t.search);return t.hostname==="player.twitch.tv"||t.hostname==="clips.twitch.tv"?(n.set("parent",tf),n.set("allowfullscreen",""),n.set("autoplay","true")):(n.set("autoplay","1"),n.set("auto_play","1")),t.search=n.toString(),t.toString()}const lr=K({__name:"MkLink",props:{url:{},rel:{},navigationBehavior:{}},setup(e){const t=e,n=er(t.url,ht),i=n!==t.url,o=i?"to":"href",a=i?null:"_blank",s=F();return rr.value&&pi(s,r=>{const l=s.value instanceof HTMLElement?s.value:s.value?.$el;if(l==null)return;const{dispose:f}=_e(he(()=>I(()=>import("./3iSoGi4ic-DNhx-gkC.js"),__vite__mapDeps([144,2,3,4,5,6,145]),import.meta.url)),{showing:r,url:t.url,anchorElement:l},{closed:()=>f()})}),(r,l)=>(c(),N(Ct(i?"MkA":"a"),Zi({ref_key:"el",ref:s,style:{"word-break":"break-all"},class:"_link",[E(o)||""]:E(n),rel:e.rel??"nofollow noopener",target:E(a),behavior:t.navigationBehavior,title:e.url}),{default:H(()=>[Ae(r.$slots,"default"),E(a)==="_blank"?(c(),v("i",{key:0,class:"ti ti-external-link xyxFI"},null,2)):M("",!0)]),_:3},16,["rel","target","behavior","title"]))}});const n0=["src"],i0={class:"_gaps"},o0={key:0},a0={key:1},s0={key:3,style:{opacity:"0.7"}},r0=K({__name:"_error_",props:{error:{}},setup(e){const t=F(!1),n=F(!1),i=F(null);se("meta",{detail:!1}).then(a=>{t.value=!0,n.value=!1,i.value=a,ce.setItem("v",a.version)},()=>{t.value=!0,n.value=!0});function o(){Gt()}return z(()=>[]),z(()=>[]),xc(()=>({title:"Error",icon:"ti ti-alert-triangle"})),(a,s)=>{const r=Q("MkLoading");return c(),v(pe,null,[t.value?M("",!0):(c(),N(r,{key:0})),j(St,{name:E(D).s.animation?"_transition_zoom":"",appear:""},{default:H(()=>[te(b("div",{class:"xiqec"},[E(re).serverErrorImageUrl?(c(),v("img",{key:0,src:E(re).serverErrorImageUrl,draggable:"false",class:"xAD11"},null,10,n0)):M("",!0),b("div",i0,[b("div",null,[b("b",null,[s[0]||(s[0]=b("i",{class:"ti ti-alert-triangle"},null,-1)),Z(" "+S("S'ha produt un error en carregar la pgina"),1)])]),i.value&&E(mn)===i.value.version?(c(),v("div",o0,S("Aix normalment s a causa d'errors a la xarxa o a la memria cau del navegador. Prova d'esborrar la memria cau i torna-ho a provar desprs d'esperar un temps."),1)):n.value?(c(),v("div",a0,S("Aquest servidor no respon. Espera una estona i torna-ho a provar."),1)):(c(),v(pe,{key:2},[b("div",null,S("Tens disponible una versi del client ms recent."),1),b("div",null,S("Per veure aquesta pgina, actualitzeu-la per actualitzar el vostre client."),1),j(mt,{style:{margin:"8px auto"},onClick:o},{default:H(()=>[Z(S("Actualitzar"),1)]),_:1})],64)),b("div",null,[j(lr,{url:"https://misskey-hub.net/docs/for-users/resources/troubleshooting/",target:"_blank"},{default:H(()=>[Z(S("Solucionar problemes"),1)]),_:1})]),e.error?(c(),v("div",s0,"ERROR: "+S(e.error),1)):M("",!0)])],2),[[Ft,t.value]])]),_:1},8,["name"])],64)}}});function l0(){const e=F(window.document.visibilityState),t=()=>{e.value=window.document.visibilityState};return We(()=>{window.document.addEventListener("visibilitychange",t)}),nt(()=>{window.document.removeEventListener("visibilitychange",t)}),e}const u0=10,ja=200,hl=200,c0=1.5,d0=170,f0=K({__name:"MkPullToRefresh",props:{refresher:{type:Function,default:()=>Promise.resolve()}},emits:["refresh"],setup(e,{emit:t}){const i=F(!1),o=F(!1),a=F(!1),s=F(0);let r=null;const l=de("rootEl");let f=null;const h=e,w=t;function u(L){return"touches"in L&&L.touches[0]&&L.touches[0].screenY!=null?L.touches[0].screenY:"screenY"in L?L.screenY:0}function y(){f!=null&&(f.style.touchAction="pan-x pan-down pinch-zoom",f.style.overscrollBehavior="auto none")}function g(){f!=null&&(f.style.touchAction="auto",f.style.overscrollBehavior="auto contain")}function p(L){if(L.button!==1||a.value)return;if(f.scrollTop!==0){g();return}y(),L.preventDefault(),i.value=!0,r=u(L),s.value=0,window.addEventListener("mousemove",R,{passive:!0}),window.addEventListener("mouseup",()=>{window.removeEventListener("mousemove",R),C()},{passive:!0,once:!0})}function m(L){if(a.value)return;if(f.scrollTop!==0){g();return}y(),i.value=!0,r=u(L),s.value=0,window.addEventListener("touchmove",R,{passive:!0}),window.addEventListener("touchend",()=>{window.removeEventListener("touchmove",R),C()},{passive:!0,once:!0})}function x(L){return new Promise(q=>{const G=s.value,Y=s.value-L;if(Y<1){q();return}const ve=Date.now();let ne=window.setInterval(()=>{const ee=Date.now()-ve;if(ee>hl){s.value=L,window.clearInterval(ne),q();return}const xe=G-Y/hl*ee;s.value<xe||(s.value=xe)},1)})}async function k(){s.value>ja&&await x(ja)}async function _(){s.value>0&&await x(0)}function C(){r=null,o.value?(o.value=!1,a.value=!0,k().then(()=>{w("refresh"),h.refresher().then(()=>{P()})})):_().then(()=>i.value=!1)}function T(){f.scrollTop===0?y():g()}function R(L){if((f?.scrollTop??0)>u0+s.value||Ai.value){s.value=0,o.value=!1,C();return}r===null&&(r=u(L));const G=u(L)-r;s.value=Math.min(Math.max(G,0),1/0),o.value=s.value>=ja,o.value&&No()}function P(){_().then(()=>{i.value=!1,a.value=!1})}return We(()=>{l.value!=null&&(f=wi(l.value),y(),l.value.addEventListener("mousedown",p,{passive:!1}),l.value.addEventListener("touchstart",m,{passive:!0}),l.value.addEventListener("touchend",T,{passive:!0}))}),nt(()=>{g(),l.value&&l.value.removeEventListener("mousedown",p),l.value&&l.value.removeEventListener("touchstart",m),l.value&&l.value.removeEventListener("touchend",T)}),(L,q)=>{const G=Q("MkLoading");return c(),v("div",{ref_key:"rootEl",ref:l,class:J(i.value?"xnkSQ":null)},[i.value?(c(),v("div",{key:0,class:"xEgaA",style:$e(`--frame-min-height: ${Math.round(s.value/(c0+s.value/d0))}px;`)},[b("div",{class:"xtE7l"},[a.value?(c(),N(G,{key:0,class:"xw9Uo",em:!0},null,8,["class"])):(c(),v("i",{key:1,class:J(["ti ti-arrow-bar-to-down",["xkVoI",{xfjHf:o.value}]])},null,2)),b("div",{class:"xjTNU"},[o.value?(c(),v(pe,{key:0},[Z(S("Deixar anar per actualitzar"),1)],64)):a.value?(c(),v(pe,{key:1},[Z(S("Recarregant..."),1)],64)):(c(),v(pe,{key:2},[Z(S("Llisca cap a baix per recarregar"),1)],64))],2)],2)],6)):M("",!0),Ae(L.$slots,"default")],2)}}});let Cn;const Va=new Map;let Ua=!0;const Vx=[null,"_driveFile_","syuilo/n-aec","syuilo/n-aec-4va","syuilo/n-aec-4vb","syuilo/n-aec-8va","syuilo/n-aec-8vb","syuilo/n-cea","syuilo/n-cea-4va","syuilo/n-cea-4vb","syuilo/n-cea-8va","syuilo/n-cea-8vb","syuilo/n-eca","syuilo/n-eca-4va","syuilo/n-eca-4vb","syuilo/n-eca-8va","syuilo/n-eca-8vb","syuilo/n-ea","syuilo/n-ea-4va","syuilo/n-ea-4vb","syuilo/n-ea-8va","syuilo/n-ea-8vb","syuilo/n-ea-harmony","syuilo/up","syuilo/down","syuilo/pope1","syuilo/pope2","syuilo/waon","syuilo/popo","syuilo/triple","syuilo/bubble1","syuilo/bubble2","syuilo/poi1","syuilo/poi2","syuilo/pirori","syuilo/pirori-wet","syuilo/pirori-square-wet","syuilo/square-pico","syuilo/reverved","syuilo/ryukyu","syuilo/kick","syuilo/snare","syuilo/queue-jammed","aisha/1","aisha/2","aisha/3","noizenecio/kick_gaba1","noizenecio/kick_gaba2","noizenecio/kick_gaba3","noizenecio/kick_gaba4","noizenecio/kick_gaba5","noizenecio/kick_gaba6","noizenecio/kick_gaba7"],Ux=["noteMy","note","notification","reaction","chatMessage"];async function Dc(e,t){if(Cn==null&&(Cn=new AudioContext,window.addEventListener("beforeunload",()=>{Cn.close()})),Va.has(e))return Va.get(e);let n;try{n=await window.fetch(e)}catch{return}const i=await n.arrayBuffer(),o=await Cn.decodeAudioData(i);return Va.set(e,o),o}function In(e){const t=D.s[`sound.on.${e}`];Cc(t).then(n=>{if(!n&&t.type==="_driveFile_"){const o=$i(`sound.on.${e}`).type;Ac({type:o,volume:t.volume})}})}async function Cc(e){return!Ua||"userActivation"in navigator&&!navigator.userActivation.hasBeenActive||e.type===null||e.type==="_driveFile_"&&!e.fileUrl?!1:(Ua=!1,await Ac(e).finally(()=>{window.setTimeout(()=>{Ua=!0},25)}))}async function Ac(e){if(e.type===null||e.type==="_driveFile_"&&!e.fileUrl)return!1;const t=D.s["sound.masterVolume"];if(m0()||t===0||e.volume===0)return!0;const n=e.type==="_driveFile_"?e.fileUrl:`/client-assets/sounds/${e.type}.mp3`,i=await Dc(n).catch(()=>{});if(!i)return!1;const o=e.volume*t;return Ic(i,{volume:o}).soundSource.start(),!0}async function zx(e,t){if(t.volume===0)return;const n=await Dc(e);n&&Ic(n,t).soundSource.start()}function Ic(e,t){const n=Cn.createStereoPanner();n.pan.value=t.pan??0;const i=Cn.createGain();i.gain.value=t.volume??1;const o=Cn.createBufferSource();return o.buffer=e,o.playbackRate.value=t.playbackRate??1,o.connect(n).connect(i).connect(Cn.destination),{soundSource:o,panNode:n,gainNode:i}}async function Hx(e){const t=window.document.createElement("audio");return t.src=e,new Promise(n=>{const i=window.setInterval(()=>{t.readyState>0&&(n(t.duration*1e3),window.clearInterval(i),t.remove())},100)})}function m0(){return!!(D.s["sound.notUseSound"]||D.s["sound.useSoundOnlyWhenActive"]&&window.document.visibilityState==="hidden")}function Mo(e,t,n){if(t&&e.userId===t.id)return!1;if(n.length>0){const i=((e.cw??"")+`
`+(e.text??"")).trim();if(i==="")return!1;const o=n.filter(a=>{if(Array.isArray(a)){const s=a.filter(r=>r!=="");return s.length===0?!1:s.every(r=>i.includes(r))}else{const s=a.match(/^\/(.+)\/(.*)$/);if(!s)return!1;try{return new RegExp(s[1],s[2]).test(i)}catch{return!1}}});if(o.length>0)return o}return!1}const h0=K({__name:"MkNoteSub",props:{note:{},detail:{type:Boolean},depth:{default:1}},setup(e){const t=e,n=F(t.note&&A?Mo(t.note,A,A.mutedWords):!1),i=F(!1),o=F([]);return t.detail&&t.note&&se("notes/children",{noteId:t.note.id,limit:5}).then(a=>{o.value=a}),(a,s)=>{const r=Q("MkAvatar"),l=Q("Mfm"),f=Q("MkNoteSub",!0),h=Q("MkA"),w=Q("MkUserName"),u=Q("I18n"),y=Ye("user-preview");return e.note==null?(c(),v("div",{key:0,class:"xtIQK"},S("Publicacions eliminades"),3)):n.value?(c(),v("div",{key:2,class:"xs9Pb",onClick:s[1]||(s[1]=g=>n.value=!1)},[j(u,{src:"{name} n'ha dit alguna cosa",tag:"small"},{name:H(()=>[te((c(),N(h,{to:E(Dn)(e.note.user)},{default:H(()=>[j(w,{user:e.note.user},null,8,["user"])]),_:1},8,["to"])),[[y,e.note.userId]])]),_:1},8,["src"])],2)):(c(),v("div",{key:1,class:J(["xD2mX",{x4kQA:e.depth>1}])},[b("div",{class:"x3YLY"},[e.note.channel?(c(),v("div",{key:0,class:"xq0fT",style:$e({background:e.note.channel.color})},null,6)):M("",!0),j(r,{class:"xAnvZ",user:e.note.user,link:"",preview:""},null,8,["class","user"]),b("div",{class:"x3COt"},[j(Zs,{class:"xbanO",note:e.note,mini:!0},null,8,["class","note"]),b("div",null,[e.note.cw!=null?(c(),v("p",{key:0,class:"xpfPt"},[e.note.cw!=""?(c(),N(l,{key:0,style:{"margin-right":"8px"},text:e.note.cw,author:e.note.user,nyaize:"respect"},null,8,["text","author"])):M("",!0),j(oa,{modelValue:i.value,"onUpdate:modelValue":s[0]||(s[0]=g=>i.value=g),text:e.note.text,files:e.note.files,poll:e.note.poll},null,8,["modelValue","text","files","poll"])],2)):M("",!0),te(b("div",null,[j(ac,{class:"x37Ma",note:e.note},null,8,["class","note"])],512),[[Ft,e.note.cw==null||i.value]])])],2)],2),e.depth<5?(c(!0),v(pe,{key:0},ze(o.value,g=>(c(),N(f,{key:g.id,note:g,class:"x7J6A",detail:!0,depth:e.depth+1},null,8,["note","class","depth"]))),128)):(c(),v("div",{key:1,class:"xyLO6"},[j(h,{class:"_link",to:E(Wt)(e.note)},{default:H(()=>[Z(S("Veure la continuaci del fil")+" ",1),s[2]||(s[2]=b("i",{class:"ti ti-chevron-double-right"},null,-1))]),_:1},8,["to"])],2))],2))}}});const p0=JSON.parse('[["","grinning",0],["","grimacing",0],["","grin",0],["","joy",0],["","rofl",0],["","partying",0],["","smiley",0],["","smile",0],["","sweat_smile",0],["","smiling_face_with_tear",0],["","laughing",0],["","innocent",0],["","wink",0],["","blush",0],["","slightly_smiling_face",0],["","upside_down_face",0],["","relaxed",0],["","yum",0],["","relieved",0],["","heart_eyes",0],["","smiling_face_with_three_hearts",0],["","kissing_heart",0],["","kissing",0],["","kissing_smiling_eyes",0],["","kissing_closed_eyes",0],["","stuck_out_tongue_winking_eye",0],["","zany",0],["","raised_eyebrow",0],["","monocle",0],["","stuck_out_tongue_closed_eyes",0],["","stuck_out_tongue",0],["","money_mouth_face",0],["","nerd_face",0],["","disguised_face",0],["","sunglasses",0],["","star_struck",0],["","clown_face",0],["","cowboy_hat_face",0],["","hugs",0],["","smirk",0],["","no_mouth",0],["","neutral_face",0],["","expressionless",0],["","unamused",0],["","roll_eyes",0],["","head_shaking_horizontally",0],["","head_shaking_vertically",0],["","thinking",0],["","lying_face",0],["","hand_over_mouth",0],["","shushing",0],["","symbols_over_mouth",0],["","exploding_head",0],["","flushed",0],["","disappointed",0],["","worried",0],["","angry",0],["","rage",0],["","pensive",0],["","confused",0],["","slightly_frowning_face",0],["","frowning_face",0],["","persevere",0],["","confounded",0],["","tired_face",0],["","weary",0],["","pleading",0],["","triumph",0],["","open_mouth",0],["","scream",0],["","fearful",0],["","cold_sweat",0],["","hushed",0],["","frowning",0],["","anguished",0],["","cry",0],["","disappointed_relieved",0],["","drooling_face",0],["","sleepy",0],["","face_with_bags_under_eyes",0],["","sweat",0],["","hot",0],["","cold",0],["","sob",0],["","dizzy_face",0],["","astonished",0],["","zipper_mouth_face",0],["","nauseated_face",0],["","sneezing_face",0],["","vomiting",0],["","mask",0],["","face_with_thermometer",0],["","face_with_head_bandage",0],["","woozy",0],["","yawning",0],["","sleeping",0],["","eye_in_speech_bubble",0],["","zzz",0],["","face_in_clouds",0],["","face_exhaling",0],["","face_with_spiral_eyes",0],["","melting_face",0],["","face_with_open_eyes_and_hand_over_mouth",0],["","face_with_peeking_eye",0],["","saluting_face",0],["","dotted_line_face",0],["","face_with_diagonal_mouth",0],["","face_holding_back_tears",0],["","shaking_face",0],["","poop",0],["","smiling_imp",0],["","imp",0],["","japanese_ogre",0],["","japanese_goblin",0],["","skull",0],["","ghost",0],["","alien",0],["","robot",0],["","smiley_cat",0],["","smile_cat",0],["","joy_cat",0],["","heart_eyes_cat",0],["","smirk_cat",0],["","kissing_cat",0],["","scream_cat",0],["","crying_cat_face",0],["","pouting_cat",0],["","palms_up",1],["","raised_hands",1],["","clap",1],["","wave",1],["","call_me_hand",1],["","+1",1],["","-1",1],["","facepunch",1],["","fist",1],["","fist_left",1],["","fist_right",1],["","leftwards_pushing_hand",1],["","rightwards_pushing_hand",1],["","v",1],["","ok_hand",1],["","raised_hand",1],["","raised_back_of_hand",1],["","open_hands",1],["","muscle",1],["","mechanical_arm",1],["","pray",1],["","foot",1],["","leg",1],["","mechanical_leg",1],["","handshake",1],["","point_up",1],["","point_up_2",1],["","point_down",1],["","point_left",1],["","point_right",1],["","fu",1],["","raised_hand_with_fingers_splayed",1],["","love_you",1],["","metal",1],["","crossed_fingers",1],["","vulcan_salute",1],["","writing_hand",1],["","hand_with_index_finger_and_thumb_crossed",1],["","rightwards_hand",1],["","leftwards_hand",1],["","palm_down_hand",1],["","palm_up_hand",1],["","index_pointing_at_the_viewer",1],["","heart_hands",1],["","pinching_hand",1],["","pinched_fingers",1],["","selfie",1],["","nail_care",1],["","lips",1],["","biting_lip",1],["","tooth",1],["","tongue",1],["","ear",1],["","ear_with_hearing_aid",1],["","nose",1],["","eye",1],["","eyes",1],["","brain",1],["","anatomical_heart",1],["","lungs",1],["","bust_in_silhouette",1],["","busts_in_silhouette",1],["","speaking_head",1],["","fingerprint",1],["","baby",1],["","child",1],["","boy",1],["","girl",1],["","adult",1],["","man",1],["","woman",1],["","curly_hair",1],["","curly_hair_woman",1],["","curly_hair_man",1],["","red_hair",1],["","red_hair_woman",1],["","red_hair_man",1],["","blonde_person",1],["","blonde_woman",1],["","blonde_man",1],["","white_hair",1],["","white_hair_woman",1],["","white_hair_man",1],["","bald",1],["","bald_woman",1],["","bald_man",1],["","bearded_person",1],["","beard_woman",1],["","beard_man",1],["","older_adult",1],["","older_man",1],["","older_woman",1],["","man_with_gua_pi_mao",1],["","woman_with_headscarf",1],["","person_with_turban",1],["","woman_with_turban",1],["","man_with_turban",1],["","police_officer",1],["","policewoman",1],["","policeman",1],["","construction_worker",1],["","construction_worker_woman",1],["","construction_worker_man",1],["","guard",1],["","guardswoman",1],["","guardsman",1],["","detective",1],["","female_detective",1],["","male_detective",1],["","health_worker",1],["","woman_health_worker",1],["","man_health_worker",1],["","farmer",1],["","woman_farmer",1],["","man_farmer",1],["","cook",1],["","woman_cook",1],["","man_cook",1],["","student",1],["","woman_student",1],["","man_student",1],["","singer",1],["","woman_singer",1],["","man_singer",1],["","teacher",1],["","woman_teacher",1],["","man_teacher",1],["","factory_worker",1],["","woman_factory_worker",1],["","man_factory_worker",1],["","technologist",1],["","woman_technologist",1],["","man_technologist",1],["","office_worker",1],["","woman_office_worker",1],["","man_office_worker",1],["","mechanic",1],["","woman_mechanic",1],["","man_mechanic",1],["","scientist",1],["","woman_scientist",1],["","man_scientist",1],["","artist",1],["","woman_artist",1],["","man_artist",1],["","firefighter",1],["","woman_firefighter",1],["","man_firefighter",1],["","pilot",1],["","woman_pilot",1],["","man_pilot",1],["","astronaut",1],["","woman_astronaut",1],["","man_astronaut",1],["","judge",1],["","woman_judge",1],["","man_judge",1],["","superhero",1],["","woman_superhero",1],["","man_superhero",1],["","supervillain",1],["","woman_supervillain",1],["","man_supervillain",1],["","mrs_claus",1],["","mx_claus",1],["","santa",1],["","ninja",1],["","mage",1],["","sorceress",1],["","wizard",1],["","elf",1],["","woman_elf",1],["","man_elf",1],["","vampire",1],["","woman_vampire",1],["","man_vampire",1],["","zombie",1],["","woman_zombie",1],["","man_zombie",1],["","genie",1],["","woman_genie",1],["","man_genie",1],["","merperson",1],["","mermaid",1],["","merman",1],["","fairy",1],["","woman_fairy",1],["","man_fairy",1],["","angel",1],["","troll",1],["","pregnant_woman",1],["","pregnant_man",1],["","pregnant_person",1],["","person_with_crown",1],["","breastfeeding",1],["","woman_feeding_baby",1],["","man_feeding_baby",1],["","person_feeding_baby",1],["","princess",1],["","prince",1],["","person_with_veil",1],["","bride_with_veil",1],["","man_with_veil",1],["","person_in_tuxedo",1],["","woman_in_tuxedo",1],["","man_in_tuxedo",1],["","running_person",1],["","running_person_facing_right",1],["","running_woman",1],["","running_woman_facing_right",1],["","running_man",1],["","running_man_facing_right",1],["","walking_person",1],["","walking_person_facing_right",1],["","walking_woman",1],["","walking_woman_facing_right",1],["","walking_man",1],["","walking_man_facing_right",1],["","dancer",1],["","man_dancing",1],["","dancing_people",1],["","dancing_women",1],["","dancing_men",1],["","couple",1],["","people_holding_hands",1],["","two_men_holding_hands",1],["","two_women_holding_hands",1],["","people_hugging",1],["","bowing_person",1],["","bowing_woman",1],["","bowing_man",1],["","person_facepalming",1],["","man_facepalming",1],["","woman_facepalming",1],["","person_shrugging",1],["","woman_shrugging",1],["","man_shrugging",1],["","tipping_hand_person",1],["","tipping_hand_woman",1],["","tipping_hand_man",1],["","no_good_person",1],["","no_good_woman",1],["","no_good_man",1],["","ok_person",1],["","ok_woman",1],["","ok_man",1],["","raising_hand_person",1],["","raising_hand_woman",1],["","raising_hand_man",1],["","pouting_person",1],["","pouting_woman",1],["","pouting_man",1],["","frowning_person",1],["","frowning_woman",1],["","frowning_man",1],["","haircut_person",1],["","haircut_woman",1],["","haircut_man",1],["","massage_person",1],["","massage_woman",1],["","massage_man",1],["","person_in_steamy_room",1],["","woman_in_steamy_room",1],["","man_in_steamy_room",1],["","person_deaf",1],["","woman_deaf",1],["","man_deaf",1],["","person_standing",1],["","woman_standing",1],["","man_standing",1],["","person_kneeling",1],["","person_kneeling_facing_right",1],["","woman_kneeling",1],["","woman_kneeling_facing_right",1],["","man_kneeling",1],["","man_kneeling_facing_right",1],["","person_with_probing_cane",1],["","person_with_probing_cane_facing_right",1],["","woman_with_probing_cane",1],["","woman_with_probing_cane_facing_right",1],["","man_with_probing_cane",1],["","man_with_probing_cane_facing_right",1],["","person_in_motorized_wheelchair",1],["","person_in_motorized_wheelchair_facing_right",1],["","woman_in_motorized_wheelchair",1],["","woman_in_motorized_wheelchair_facing_right",1],["","man_in_motorized_wheelchair",1],["","man_in_motorized_wheelchair_facing_right",1],["","person_in_manual_wheelchair",1],["","person_in_manual_wheelchair_facing_right",1],["","woman_in_manual_wheelchair",1],["","woman_in_manual_wheelchair_facing_right",1],["","man_in_manual_wheelchair",1],["","man_in_manual_wheelchair_facing_right",1],["","couple_with_heart",1],["","couple_with_heart_woman_man",1],["","couple_with_heart_woman_woman",1],["","couple_with_heart_man_man",1],["","couplekiss",1],["","couplekiss_woman_man",1],["","couplekiss_woman_woman",1],["","couplekiss_man_man",1],["","family_man_woman_boy",1],["","family_man_woman_girl",1],["","family_man_woman_girl_boy",1],["","family_man_woman_boy_boy",1],["","family_man_woman_girl_girl",1],["","family_woman_woman_boy",1],["","family_woman_woman_girl",1],["","family_woman_woman_girl_boy",1],["","family_woman_woman_boy_boy",1],["","family_woman_woman_girl_girl",1],["","family_man_man_boy",1],["","family_man_man_girl",1],["","family_man_man_girl_boy",1],["","family_man_man_boy_boy",1],["","family_man_man_girl_girl",1],["","family_woman_boy",1],["","family_woman_girl",1],["","family_woman_girl_boy",1],["","family_woman_boy_boy",1],["","family_woman_girl_girl",1],["","family_man_boy",1],["","family_man_girl",1],["","family_man_girl_boy",1],["","family_man_boy_boy",1],["","family_man_girl_girl",1],["","family",1],["","family_adult_adult_child",1],["","family_adult_adult_child_child",1],["","family_adult_child",1],["","family_adult_child_child",1],["","yarn",1],["","thread",1],["","coat",1],["","labcoat",1],["","womans_clothes",1],["","tshirt",1],["","jeans",1],["","necktie",1],["","dress",1],["","bikini",1],["","one_piece_swimsuit",1],["","kimono",1],["","sari",1],["","briefs",1],["","shorts",1],["","lipstick",1],["","kiss",1],["","footprints",1],["","flat_shoe",1],["","high_heel",1],["","sandal",1],["","boot",1],["","mans_shoe",1],["","athletic_shoe",1],["","thong_sandal",1],["","ballet_shoes",1],["","socks",1],["","gloves",1],["","scarf",1],["","womans_hat",1],["","tophat",1],["","billed_hat",1],["","rescue_worker_helmet",1],["","military_helmet",1],["","mortar_board",1],["","crown",1],["","school_satchel",1],["","luggage",1],["","pouch",1],["","purse",1],["","handbag",1],["","briefcase",1],["","eyeglasses",1],["","dark_sunglasses",1],["","goggles",1],["","ring",1],["","closed_umbrella",1],["","dog",2],["","cat",2],["","black_cat",2],["","mouse",2],["","hamster",2],["","rabbit",2],["","fox_face",2],["","bear",2],["","panda_face",2],["","koala",2],["","tiger",2],["","lion",2],["","cow",2],["","pig",2],["","pig_nose",2],["","frog",2],["","squid",2],["","octopus",2],["","jellyfish",2],["","shrimp",2],["","monkey_face",2],["","gorilla",2],["","see_no_evil",2],["","hear_no_evil",2],["","speak_no_evil",2],["","monkey",2],["","chicken",2],["","penguin",2],["","bird",2],["","baby_chick",2],["","hatching_chick",2],["","hatched_chick",2],["","goose",2],["","duck",2],["","black_bird",2],["","eagle",2],["","owl",2],["","phoenix",2],["","bat",2],["","wolf",2],["","boar",2],["","horse",2],["","unicorn",2],["","moose",2],["","honeybee",2],["","bug",2],["","butterfly",2],["","snail",2],["","lady_beetle",2],["","ant",2],["","grasshopper",2],["","spider",2],["","beetle",2],["","cockroach",2],["","fly",2],["","worm",2],["","scorpion",2],["","crab",2],["","snake",2],["","lizard",2],["","t-rex",2],["","sauropod",2],["","turtle",2],["","tropical_fish",2],["","fish",2],["","blowfish",2],["","dolphin",2],["","shark",2],["","whale",2],["","whale2",2],["","crocodile",2],["","leopard",2],["","zebra",2],["","tiger2",2],["","water_buffalo",2],["","ox",2],["","cow2",2],["","deer",2],["","dromedary_camel",2],["","camel",2],["","giraffe",2],["","elephant",2],["","rhinoceros",2],["","goat",2],["","ram",2],["","sheep",2],["","donkey",2],["","racehorse",2],["","pig2",2],["","rat",2],["","mouse2",2],["","rooster",2],["","turkey",2],["","dove",2],["","dog2",2],["","poodle",2],["","cat2",2],["","rabbit2",2],["","chipmunk",2],["","hedgehog",2],["","raccoon",2],["","llama",2],["","hippopotamus",2],["","kangaroo",2],["","badger",2],["","swan",2],["","peacock",2],["","parrot",2],["","lobster",2],["","microbe",2],["","mosquito",2],["","bison",2],["","mammoth",2],["","beaver",2],["","polar_bear",2],["","dodo",2],["","feather",2],["","wing",2],["","seal",2],["","paw_prints",2],["","dragon",2],["","dragon_face",2],["","orangutan",2],["","guide_dog",2],["","service_dog",2],["","sloth",2],["","otter",2],["","skunk",2],["","flamingo",2],["","cactus",2],["","christmas_tree",2],["","evergreen_tree",2],["","deciduous_tree",2],["","palm_tree",2],["","seedling",2],["","herb",2],["","shamrock",2],["","four_leaf_clover",2],["","leafless_tree",2],["","bamboo",2],["","tanabata_tree",2],["","leaves",2],["","fallen_leaf",2],["","maple_leaf",2],["","ear_of_rice",2],["","hibiscus",2],["","sunflower",2],["","rose",2],["","wilted_flower",2],["","hyacinth",2],["","tulip",2],["","blossom",2],["","cherry_blossom",2],["","bouquet",2],["","mushroom",2],["","potted_plant",2],["","chestnut",2],["","jack_o_lantern",2],["","shell",2],["","spider_web",2],["","earth_americas",2],["","earth_africa",2],["","earth_asia",2],["","ringed_planet",2],["","full_moon",2],["","waning_gibbous_moon",2],["","last_quarter_moon",2],["","waning_crescent_moon",2],["","new_moon",2],["","waxing_crescent_moon",2],["","first_quarter_moon",2],["","waxing_gibbous_moon",2],["","new_moon_with_face",2],["","full_moon_with_face",2],["","first_quarter_moon_with_face",2],["","last_quarter_moon_with_face",2],["","sun_with_face",2],["","crescent_moon",2],["","star",2],["","star2",2],["","dizzy",2],["","sparkles",2],["","comet",2],["","sunny",2],["","sun_behind_small_cloud",2],["","partly_sunny",2],["","sun_behind_large_cloud",2],["","sun_behind_rain_cloud",2],["","cloud",2],["","cloud_with_rain",2],["","cloud_with_lightning_and_rain",2],["","cloud_with_lightning",2],["","zap",2],["","fire",2],["","boom",2],["","snowflake",2],["","cloud_with_snow",2],["","snowman",2],["","snowman_with_snow",2],["","wind_face",2],["","dash",2],["","tornado",2],["","fog",2],["","open_umbrella",2],["","umbrella",2],["","droplet",2],["","sweat_drops",2],["","ocean",2],["","lotus",2],["","coral",2],["","empty_nest",2],["","nest_with_eggs",2],["","lime",3],["","green_apple",3],["","apple",3],["","pear",3],["","tangerine",3],["","lemon",3],["","banana",3],["","watermelon",3],["","grapes",3],["","strawberry",3],["","melon",3],["","cherries",3],["","peach",3],["","pineapple",3],["","coconut",3],["","kiwi_fruit",3],["","mango",3],["","avocado",3],["","pea_pod",3],["","broccoli",3],["","brown_mushroom",3],["","root_vegetable",3],["","tomato",3],["","eggplant",3],["","cucumber",3],["","blueberries",3],["","olive",3],["","bell_pepper",3],["","carrot",3],["","hot_pepper",3],["","potato",3],["","corn",3],["","leafy_greens",3],["","sweet_potato",3],["","ginger_root",3],["","peanuts",3],["","garlic",3],["","onion",3],["","honey_pot",3],["","croissant",3],["","bread",3],["","baguette_bread",3],["","bagel",3],["","pretzel",3],["","cheese",3],["","egg",3],["","bacon",3],["","steak",3],["","pancakes",3],["","poultry_leg",3],["","meat_on_bone",3],["","bone",3],["","fried_shrimp",3],["","fried_egg",3],["","hamburger",3],["","fries",3],["","stuffed_flatbread",3],["","hotdog",3],["","pizza",3],["","sandwich",3],["","canned_food",3],["","spaghetti",3],["","taco",3],["","burrito",3],["","green_salad",3],["","shallow_pan_of_food",3],["","ramen",3],["","stew",3],["","fish_cake",3],["","fortune_cookie",3],["","sushi",3],["","bento",3],["","curry",3],["","rice_ball",3],["","rice",3],["","rice_cracker",3],["","oden",3],["","dango",3],["","shaved_ice",3],["","ice_cream",3],["","icecream",3],["","pie",3],["","cake",3],["","cupcake",3],["","moon_cake",3],["","birthday",3],["","custard",3],["","candy",3],["","lollipop",3],["","chocolate_bar",3],["","popcorn",3],["","dumpling",3],["","doughnut",3],["","cookie",3],["","waffle",3],["","falafel",3],["","butter",3],["","oyster",3],["","flatbread",3],["","tamale",3],["","fondue",3],["","milk_glass",3],["","beer",3],["","beers",3],["","clinking_glasses",3],["","wine_glass",3],["","tumbler_glass",3],["","cocktail",3],["","tropical_drink",3],["","champagne",3],["","sake",3],["","tea",3],["","cup_with_straw",3],["","coffee",3],["","teapot",3],["","bubble_tea",3],["","baby_bottle",3],["","beverage_box",3],["","mate",3],["","ice_cube",3],["","salt",3],["","spoon",3],["","fork_and_knife",3],["","plate_with_cutlery",3],["","bowl_with_spoon",3],["","takeout_box",3],["","chopsticks",3],["","pouring_liquid",3],["","beans",3],["","jar",3],["","soccer",4],["","basketball",4],["","football",4],["","baseball",4],["","softball",4],["","tennis",4],["","volleyball",4],["","rugby_football",4],["","flying_disc",4],["","8ball",4],["","golf",4],["","golfing_person",4],["","golfing_woman",4],["","golfing_man",4],["","ping_pong",4],["","badminton",4],["","goal_net",4],["","ice_hockey",4],["","field_hockey",4],["","lacrosse",4],["","cricket",4],["","ski",4],["","skier",4],["","snowboarder",4],["","person_fencing",4],["","people_wrestling",4],["","women_wrestling",4],["","men_wrestling",4],["","person_cartwheeling",4],["","woman_cartwheeling",4],["","man_cartwheeling",4],["","person_playing_handball",4],["","woman_playing_handball",4],["","man_playing_handball",4],["","ice_skate",4],["","curling_stone",4],["","skateboard",4],["","sled",4],["","bow_and_arrow",4],["","fishing_pole_and_fish",4],["","boxing_glove",4],["","martial_arts_uniform",4],["","rowing_person",4],["","rowing_woman",4],["","rowing_man",4],["","climbing_person",4],["","climbing_woman",4],["","climbing_man",4],["","swimming_person",4],["","swimming_woman",4],["","swimming_man",4],["","person_playing_water_polo",4],["","woman_playing_water_polo",4],["","man_playing_water_polo",4],["","person_in_lotus_position",4],["","woman_in_lotus_position",4],["","man_in_lotus_position",4],["","surfing_person",4],["","surfing_woman",4],["","surfing_man",4],["","bath",4],["","basketball_person",4],["","basketball_woman",4],["","basketball_man",4],["","weight_lifting_person",4],["","weight_lifting_woman",4],["","weight_lifting_man",4],["","biking_person",4],["","biking_woman",4],["","biking_man",4],["","mountain_biking_person",4],["","mountain_biking_woman",4],["","mountain_biking_man",4],["","horse_racing",4],["","diving_mask",4],["","yo_yo",4],["","kite",4],["","safety_vest",4],["","sewing_needle",4],["","knot",4],["","business_suit_levitating",4],["","trophy",4],["","running_shirt_with_sash",4],["","medal_sports",4],["","medal_military",4],["","1st_place_medal",4],["","2nd_place_medal",4],["","3rd_place_medal",4],["","reminder_ribbon",4],["","rosette",4],["","ticket",4],["","tickets",4],["","performing_arts",4],["","art",4],["","circus_tent",4],["","person_juggling",4],["","woman_juggling",4],["","man_juggling",4],["","microphone",4],["","headphones",4],["","musical_score",4],["","musical_keyboard",4],["","maracas",4],["","drum",4],["","saxophone",4],["","trumpet",4],["","flute",4],["","guitar",4],["","violin",4],["","banjo",4],["","accordion",4],["","long_drum",4],["","harp",4],["","clapper",4],["","video_game",4],["","space_invader",4],["","dart",4],["","game_die",4],["","chess_pawn",4],["","slot_machine",4],["","jigsaw",4],["","bowling",4],["","magic_wand",4],["","pinata",4],["","nesting_dolls",4],["","hamsa",4],["","mirror_ball",4],["","red_car",5],["","taxi",5],["","blue_car",5],["","bus",5],["","trolleybus",5],["","racing_car",5],["","police_car",5],["","ambulance",5],["","fire_engine",5],["","minibus",5],["","truck",5],["","articulated_lorry",5],["","tractor",5],["","kick_scooter",5],["","motorcycle",5],["","bike",5],["","motor_scooter",5],["","manual_wheelchair",5],["","motorized_wheelchair",5],["","auto_rickshaw",5],["","parachute",5],["","rotating_light",5],["","oncoming_police_car",5],["","oncoming_bus",5],["","oncoming_automobile",5],["","oncoming_taxi",5],["","aerial_tramway",5],["","mountain_cableway",5],["","suspension_railway",5],["","railway_car",5],["","train",5],["","monorail",5],["","bullettrain_side",5],["","bullettrain_front",5],["","light_rail",5],["","mountain_railway",5],["","steam_locomotive",5],["","train2",5],["","metro",5],["","tram",5],["","station",5],["","flying_saucer",5],["","helicopter",5],["","small_airplane",5],["","airplane",5],["","flight_departure",5],["","flight_arrival",5],["","sailboat",5],["","motor_boat",5],["","speedboat",5],["","ferry",5],["","passenger_ship",5],["","rocket",5],["","artificial_satellite",5],["","pickup_truck",5],["","roller_skate",5],["","seat",5],["","canoe",5],["","anchor",5],["","construction",5],["","fuelpump",5],["","busstop",5],["","vertical_traffic_light",5],["","traffic_light",5],["","checkered_flag",5],["","ship",5],["","ferris_wheel",5],["","roller_coaster",5],["","carousel_horse",5],["","building_construction",5],["","foggy",5],["","factory",5],["","fountain",5],["","rice_scene",5],["","mountain",5],["","mountain_snow",5],["","mount_fuji",5],["","volcano",5],["","japan",5],["","camping",5],["","tent",5],["","national_park",5],["","motorway",5],["","railway_track",5],["","sunrise",5],["","sunrise_over_mountains",5],["","desert",5],["","beach_umbrella",5],["","desert_island",5],["","city_sunrise",5],["","city_sunset",5],["","cityscape",5],["","night_with_stars",5],["","bridge_at_night",5],["","milky_way",5],["","stars",5],["","sparkler",5],["","fireworks",5],["","rainbow",5],["","houses",5],["","european_castle",5],["","japanese_castle",5],["","tokyo_tower",5],["","shibuya_109",5],["","stadium",5],["","statue_of_liberty",5],["","house",5],["","house_with_garden",5],["","derelict_house",5],["","office",5],["","department_store",5],["","post_office",5],["","european_post_office",5],["","hospital",5],["","bank",5],["","hotel",5],["","convenience_store",5],["","school",5],["","love_hotel",5],["","wedding",5],["","classical_building",5],["","church",5],["","mosque",5],["","synagogue",5],["","kaaba",5],["","shinto_shrine",5],["","hindu_temple",5],["","rock",5],["","wood",5],["","hut",5],["","playground_slide",5],["","wheel",5],["","ring_buoy",5],["","watch",6],["","iphone",6],["","calling",6],["","computer",6],["","keyboard",6],["","desktop_computer",6],["","printer",6],["","computer_mouse",6],["","trackball",6],["","joystick",6],["","clamp",6],["","minidisc",6],["","floppy_disk",6],["","cd",6],["","dvd",6],["","vhs",6],["","camera",6],["","camera_flash",6],["","video_camera",6],["","movie_camera",6],["","film_projector",6],["","film_strip",6],["","telephone_receiver",6],["","phone",6],["","pager",6],["","fax",6],["","tv",6],["","radio",6],["","studio_microphone",6],["","level_slider",6],["","control_knobs",6],["","compass",6],["","stopwatch",6],["","timer_clock",6],["","alarm_clock",6],["","mantelpiece_clock",6],["","hourglass_flowing_sand",6],["","hourglass",6],["","satellite",6],["","battery",6],["","low_battery",6],["","electric_plug",6],["","bulb",6],["","flashlight",6],["","candle",6],["","fire_extinguisher",6],["","wastebasket",6],["","oil_drum",6],["","money_with_wings",6],["","dollar",6],["","yen",6],["","euro",6],["","pound",6],["","moneybag",6],["","coin",6],["","credit_card",6],["","identification_card",6],["","hiking_boot",6],["","gem",6],["","balance_scale",6],["","broken_chain",6],["","toolbox",6],["","wrench",6],["","hammer",6],["","hammer_and_pick",6],["","hammer_and_wrench",6],["","pick",6],["","axe",6],["","probing_cane",6],["","nut_and_bolt",6],["","gear",6],["","boomerang",6],["","carpentry_saw",6],["","screwdriver",6],["","hook",6],["","ladder",6],["","shovel",6],["","brick",6],["","chains",6],["","magnet",6],["","gun",6],["","bomb",6],["","firecracker",6],["","hocho",6],["","dagger",6],["","crossed_swords",6],["","shield",6],["","smoking",6],["","skull_and_crossbones",6],["","coffin",6],["","funeral_urn",6],["","amphora",6],["","crystal_ball",6],["","prayer_beads",6],["","nazar_amulet",6],["","barber",6],["","alembic",6],["","telescope",6],["","microscope",6],["","hole",6],["","pill",6],["","syringe",6],["","drop_of_blood",6],["","adhesive_bandage",6],["","stethoscope",6],["","razor",6],["","hair_pick",6],["","xray",6],["","crutch",6],["","dna",6],["","petri_dish",6],["","test_tube",6],["","thermometer",6],["","broom",6],["","basket",6],["","toilet_paper",6],["","label",6],["","bookmark",6],["","toilet",6],["","shower",6],["","bathtub",6],["","soap",6],["","sponge",6],["","lotion_bottle",6],["","key",6],["","old_key",6],["","couch_and_lamp",6],["","diya_Lamp",6],["","sleeping_bed",6],["","bed",6],["","door",6],["","chair",6],["","bellhop_bell",6],["","teddy_bear",6],["","framed_picture",6],["","world_map",6],["","elevator",6],["","mirror",6],["","window",6],["","plunger",6],["","mouse_trap",6],["","bucket",6],["","toothbrush",6],["","bubbles",6],["","parasol_on_ground",6],["","moyai",6],["","shopping",6],["","shopping_cart",6],["","balloon",6],["","flags",6],["","ribbon",6],["","gift",6],["","confetti_ball",6],["","tada",6],["","dolls",6],["","folding_hand_fan",6],["","wind_chime",6],["","crossed_flags",6],["","izakaya_lantern",6],["","red_envelope",6],["","email",6],["","envelope_with_arrow",6],["","incoming_envelope",6],["","e-mail",6],["","love_letter",6],["","postbox",6],["","mailbox_closed",6],["","mailbox",6],["","mailbox_with_mail",6],["","mailbox_with_no_mail",6],["","package",6],["","postal_horn",6],["","inbox_tray",6],["","outbox_tray",6],["","scroll",6],["","page_with_curl",6],["","bookmark_tabs",6],["","receipt",6],["","bar_chart",6],["","chart_with_upwards_trend",6],["","chart_with_downwards_trend",6],["","page_facing_up",6],["","date",6],["","calendar",6],["","spiral_calendar",6],["","card_index",6],["","card_file_box",6],["","ballot_box",6],["","file_cabinet",6],["","clipboard",6],["","spiral_notepad",6],["","file_folder",6],["","open_file_folder",6],["","card_index_dividers",6],["","newspaper_roll",6],["","newspaper",6],["","notebook",6],["","closed_book",6],["","green_book",6],["","blue_book",6],["","orange_book",6],["","notebook_with_decorative_cover",6],["","ledger",6],["","books",6],["","open_book",6],["","safety_pin",6],["","link",6],["","paperclip",6],["","paperclips",6],["","scissors",6],["","triangular_ruler",6],["","straight_ruler",6],["","abacus",6],["","pushpin",6],["","round_pushpin",6],["","triangular_flag_on_post",6],["","white_flag",6],["","black_flag",6],["","rainbow_flag",6],["","transgender_flag",6],["","closed_lock_with_key",6],["","lock",6],["","unlock",6],["","lock_with_ink_pen",6],["","pen",6],["","fountain_pen",6],["","black_nib",6],["","memo",6],["","pencil2",6],["","crayon",6],["","paintbrush",6],["","mag",6],["","mag_right",6],["","headstone",6],["","placard",6],["","100",7],["","1234",7],["","pink_heart",7],["","heart",7],["","orange_heart",7],["","yellow_heart",7],["","green_heart",7],["","light_blue_heart",7],["","blue_heart",7],["","purple_heart",7],["","brown_heart",7],["","black_heart",7],["","grey_heart",7],["","white_heart",7],["","broken_heart",7],["","heavy_heart_exclamation",7],["","two_hearts",7],["","revolving_hearts",7],["","heartbeat",7],["","heartpulse",7],["","sparkling_heart",7],["","cupid",7],["","gift_heart",7],["","heart_decoration",7],["","heart_on_fire",7],["","mending_heart",7],["","peace_symbol",7],["","latin_cross",7],["","star_and_crescent",7],["","om",7],["","wheel_of_dharma",7],["","khanda",7],["","star_of_david",7],["","six_pointed_star",7],["","menorah",7],["","yin_yang",7],["","orthodox_cross",7],["","place_of_worship",7],["","ophiuchus",7],["","aries",7],["","taurus",7],["","gemini",7],["","cancer",7],["","leo",7],["","virgo",7],["","libra",7],["","scorpius",7],["","sagittarius",7],["","capricorn",7],["","aquarius",7],["","pisces",7],["","id",7],["","atom_symbol",7],["","female_sign",7],["","male_sign",7],["","transgender_symbol",7],["","u7a7a",7],["","u5272",7],["","radioactive",7],["","biohazard",7],["","mobile_phone_off",7],["","vibration_mode",7],["","u6709",7],["","u7121",7],["","u7533",7],["","u55b6",7],["","u6708",7],["","eight_pointed_black_star",7],["","vs",7],["","accept",7],["","white_flower",7],["","ideograph_advantage",7],["","secret",7],["","congratulations",7],["","u5408",7],["","u6e80",7],["","u7981",7],["","a",7],["","b",7],["","ab",7],["","cl",7],["","o2",7],["","sos",7],["","no_entry",7],["","name_badge",7],["","no_entry_sign",7],["","x",7],["","o",7],["","stop_sign",7],["","anger",7],["","hotsprings",7],["","no_pedestrians",7],["","do_not_litter",7],["","no_bicycles",7],["","non-potable_water",7],["","underage",7],["","no_mobile_phones",7],["","exclamation",7],["","grey_exclamation",7],["","question",7],["","grey_question",7],["","bangbang",7],["","interrobang",7],["","low_brightness",7],["","high_brightness",7],["","trident",7],["","fleur_de_lis",7],["","part_alternation_mark",7],["","warning",7],["","children_crossing",7],["","beginner",7],["","recycle",7],["","u6307",7],["","chart",7],["","sparkle",7],["","eight_spoked_asterisk",7],["","negative_squared_cross_mark",7],["","white_check_mark",7],["","diamond_shape_with_a_dot_inside",7],["","cyclone",7],["","loop",7],["","globe_with_meridians",7],["","m",7],["","atm",7],["","sa",7],["","passport_control",7],["","customs",7],["","baggage_claim",7],["","left_luggage",7],["","wireless",7],["","wheelchair",7],["","no_smoking",7],["","wc",7],["","parking",7],["","potable_water",7],["","mens",7],["","womens",7],["","baby_symbol",7],["","restroom",7],["","put_litter_in_its_place",7],["","cinema",7],["","signal_strength",7],["","koko",7],["","ng",7],["","ok",7],["","up",7],["","cool",7],["","new",7],["","free",7],["0","zero",7],["1","one",7],["2","two",7],["3","three",7],["4","four",7],["5","five",7],["6","six",7],["7","seven",7],["8","eight",7],["9","nine",7],["","keycap_ten",7],["*","asterisk",7],["","eject_button",7],["","arrow_forward",7],["","pause_button",7],["","next_track_button",7],["","stop_button",7],["","record_button",7],["","play_or_pause_button",7],["","previous_track_button",7],["","fast_forward",7],["","rewind",7],["","twisted_rightwards_arrows",7],["","repeat",7],["","repeat_one",7],["","arrow_backward",7],["","arrow_up_small",7],["","arrow_down_small",7],["","arrow_double_up",7],["","arrow_double_down",7],["","arrow_right",7],["","arrow_left",7],["","arrow_up",7],["","arrow_down",7],["","arrow_upper_right",7],["","arrow_lower_right",7],["","arrow_lower_left",7],["","arrow_upper_left",7],["","arrow_up_down",7],["","left_right_arrow",7],["","arrows_counterclockwise",7],["","arrow_right_hook",7],["","leftwards_arrow_with_hook",7],["","arrow_heading_up",7],["","arrow_heading_down",7],["#","hash",7],["","information_source",7],["","abc",7],["","abcd",7],["","capital_abcd",7],["","symbols",7],["","musical_note",7],["","notes",7],["","wavy_dash",7],["","curly_loop",7],["","heavy_check_mark",7],["","arrows_clockwise",7],["","heavy_plus_sign",7],["","heavy_minus_sign",7],["","heavy_division_sign",7],["","heavy_multiplication_x",7],["","heavy_equals_sign",7],["","infinity",7],["","heavy_dollar_sign",7],["","currency_exchange",7],["","medical_symbol",7],["","copyright",7],["","registered",7],["","tm",7],["","splatter",7],["","end",7],["","back",7],["","on",7],["","top",7],["","soon",7],["","ballot_box_with_check",7],["","radio_button",7],["","black_circle",7],["","white_circle",7],["","red_circle",7],["","orange_circle",7],["","yellow_circle",7],["","green_circle",7],["","large_blue_circle",7],["","purple_circle",7],["","brown_circle",7],["","small_orange_diamond",7],["","small_blue_diamond",7],["","large_orange_diamond",7],["","large_blue_diamond",7],["","small_red_triangle",7],["","black_small_square",7],["","white_small_square",7],["","black_large_square",7],["","white_large_square",7],["","red_square",7],["","orange_square",7],["","yellow_square",7],["","green_square",7],["","blue_square",7],["","purple_square",7],["","brown_square",7],["","small_red_triangle_down",7],["","black_medium_square",7],["","white_medium_square",7],["","black_medium_small_square",7],["","white_medium_small_square",7],["","black_square_button",7],["","white_square_button",7],["","speaker",7],["","sound",7],["","loud_sound",7],["","mute",7],["","mega",7],["","loudspeaker",7],["","bell",7],["","no_bell",7],["","black_joker",7],["","mahjong",7],["","spades",7],["","clubs",7],["","hearts",7],["","diamonds",7],["","flower_playing_cards",7],["","thought_balloon",7],["","right_anger_bubble",7],["","speech_balloon",7],["","left_speech_bubble",7],["","clock1",7],["","clock2",7],["","clock3",7],["","clock4",7],["","clock5",7],["","clock6",7],["","clock7",7],["","clock8",7],["","clock9",7],["","clock10",7],["","clock11",7],["","clock12",7],["","clock130",7],["","clock230",7],["","clock330",7],["","clock430",7],["","clock530",7],["","clock630",7],["","clock730",7],["","clock830",7],["","clock930",7],["","clock1030",7],["","clock1130",7],["","clock1230",7],["","afghanistan",8],["","aland_islands",8],["","albania",8],["","algeria",8],["","american_samoa",8],["","andorra",8],["","angola",8],["","anguilla",8],["","antarctica",8],["","antigua_barbuda",8],["","argentina",8],["","armenia",8],["","aruba",8],["","ascension_island",8],["","australia",8],["","austria",8],["","azerbaijan",8],["","bahamas",8],["","bahrain",8],["","bangladesh",8],["","barbados",8],["","belarus",8],["","belgium",8],["","belize",8],["","benin",8],["","bermuda",8],["","bhutan",8],["","bolivia",8],["","bouvet_island",8],["","caribbean_netherlands",8],["","bosnia_herzegovina",8],["","botswana",8],["","brazil",8],["","british_indian_ocean_territory",8],["","british_virgin_islands",8],["","brunei",8],["","bulgaria",8],["","burkina_faso",8],["","burundi",8],["","cape_verde",8],["","cambodia",8],["","cameroon",8],["","canada",8],["","canary_islands",8],["","cayman_islands",8],["","central_african_republic",8],["","ceuta_melilla",8],["","chad",8],["","chile",8],["","cn",8],["","christmas_island",8],["","clipperton_island",8],["","cocos_islands",8],["","colombia",8],["","comoros",8],["","congo_brazzaville",8],["","congo_kinshasa",8],["","cook_islands",8],["","costa_rica",8],["","croatia",8],["","cuba",8],["","curacao",8],["","cyprus",8],["","czech_republic",8],["","denmark",8],["","diego_garcia",8],["","djibouti",8],["","dominica",8],["","dominican_republic",8],["","ecuador",8],["","egypt",8],["","el_salvador",8],["","equatorial_guinea",8],["","eritrea",8],["","estonia",8],["","ethiopia",8],["","eu",8],["","falkland_islands",8],["","faroe_islands",8],["","fiji",8],["","finland",8],["","fr",8],["","french_guiana",8],["","french_polynesia",8],["","french_southern_territories",8],["","gabon",8],["","gambia",8],["","georgia",8],["","de",8],["","ghana",8],["","gibraltar",8],["","greece",8],["","greenland",8],["","grenada",8],["","guadeloupe",8],["","guam",8],["","guatemala",8],["","guernsey",8],["","guinea",8],["","guinea_bissau",8],["","guyana",8],["","haiti",8],["","heard_mcdonald_islands",8],["","honduras",8],["","hong_kong",8],["","hungary",8],["","iceland",8],["","india",8],["","indonesia",8],["","iran",8],["","iraq",8],["","ireland",8],["","isle_of_man",8],["","israel",8],["","it",8],["","cote_divoire",8],["","jamaica",8],["","jp",8],["","jersey",8],["","jordan",8],["","kazakhstan",8],["","kenya",8],["","kiribati",8],["","kosovo",8],["","kuwait",8],["","kyrgyzstan",8],["","laos",8],["","latvia",8],["","lebanon",8],["","lesotho",8],["","liberia",8],["","libya",8],["","liechtenstein",8],["","lithuania",8],["","luxembourg",8],["","macau",8],["","macedonia",8],["","madagascar",8],["","malawi",8],["","malaysia",8],["","maldives",8],["","mali",8],["","malta",8],["","marshall_islands",8],["","martinique",8],["","mauritania",8],["","mauritius",8],["","mayotte",8],["","mexico",8],["","micronesia",8],["","moldova",8],["","monaco",8],["","mongolia",8],["","montenegro",8],["","montserrat",8],["","morocco",8],["","mozambique",8],["","myanmar",8],["","namibia",8],["","nauru",8],["","nepal",8],["","netherlands",8],["","new_caledonia",8],["","new_zealand",8],["","nicaragua",8],["","niger",8],["","nigeria",8],["","niue",8],["","norfolk_island",8],["","northern_mariana_islands",8],["","north_korea",8],["","norway",8],["","oman",8],["","pakistan",8],["","palau",8],["","palestinian_territories",8],["","panama",8],["","papua_new_guinea",8],["","paraguay",8],["","peru",8],["","philippines",8],["","pitcairn_islands",8],["","poland",8],["","portugal",8],["","puerto_rico",8],["","qatar",8],["","reunion",8],["","romania",8],["","ru",8],["","rwanda",8],["","sark",8],["","st_barthelemy",8],["","st_helena",8],["","st_kitts_nevis",8],["","st_lucia",8],["","st_martin",8],["","st_pierre_miquelon",8],["","st_vincent_grenadines",8],["","samoa",8],["","san_marino",8],["","sao_tome_principe",8],["","saudi_arabia",8],["","senegal",8],["","serbia",8],["","seychelles",8],["","sierra_leone",8],["","singapore",8],["","sint_maarten",8],["","slovakia",8],["","slovenia",8],["","solomon_islands",8],["","somalia",8],["","south_africa",8],["","south_georgia_south_sandwich_islands",8],["","kr",8],["","south_sudan",8],["","es",8],["","sri_lanka",8],["","sudan",8],["","suriname",8],["","swaziland",8],["","svalbard_jan_mayen",8],["","sweden",8],["","switzerland",8],["","syria",8],["","taiwan",8],["","tajikistan",8],["","tanzania",8],["","thailand",8],["","timor_leste",8],["","togo",8],["","tokelau",8],["","tonga",8],["","trinidad_tobago",8],["","tristan_da_cunha",8],["","tunisia",8],["","tr",8],["","turkmenistan",8],["","turks_caicos_islands",8],["","tuvalu",8],["","uganda",8],["","ukraine",8],["","united_arab_emirates",8],["","uk",8],["","england",8],["","scotland",8],["","wales",8],["","us",8],["","us_outlying_islands",8],["","us_virgin_islands",8],["","uruguay",8],["","uzbekistan",8],["","vanuatu",8],["","vatican_city",8],["","venezuela",8],["","vietnam",8],["","wallis_futuna",8],["","western_sahara",8],["","yemen",8],["","zambia",8],["","zimbabwe",8],["","united_nations",8],["","pirate_flag",8]]'),v0=["face","people","animals_and_nature","food_and_drink","activity","travel_and_places","objects","symbols","flags"],Ho=p0.map(e=>({name:e[1],char:e[0],category:v0[e[2]]})),qo=new Map(Ho.map(e=>[e.char,e])),bs=new Map,Fo=new Map;for(let e=0;e<Ho.length;e++){const t=Ho[e];bs.set(t.char,e),Fo.has(t.category)?Fo.get(t.category)?.push(t.char):Fo.set(t.category,[t.char])}const qx=Fo;function Tc(e){return qo.get(ur(e))??qo.get(e)??null}function Wx(e){return Tc(e)??e}function g0(e){return qo.has(ur(e))||qo.has(e)}function Mc(e){const t=bs.get(ur(e))??bs.get(e);return t===void 0?e:Ho[t].name}function y0(e){return Array.from(e).length===1?`${e}`:e}function ur(e){const t=Array.from(e);return t.includes("")?e:(t.splice(1,0,""),t.join(""))}const w0={key:1,style:{padding:"0 16px","place-content":"center"}},b0=K({__name:"MkModalWindow",props:{withOkButton:{type:Boolean,default:!1},withCloseButton:{type:Boolean,default:!0},okButtonDisabled:{type:Boolean,default:!1},width:{default:400},height:{default:500}},emits:["click","close","closed","ok","esc"],setup(e,{expose:t,emit:n}){const i=n,o=de("modal");function a(){o.value?.close()}function s(){i("click")}return t({close:a}),(r,l)=>(c(),N(no,{ref_key:"modal",ref:o,preferType:E(Yn)==="smartphone"?"drawer":"dialog",onClick:s,onClosed:l[2]||(l[2]=f=>i("closed")),onEsc:l[3]||(l[3]=f=>i("esc"))},{default:H(({type:f})=>[b("div",{ref:"rootEl",class:J(["xEAqs",f==="drawer"?"xeELt":null]),style:$e({width:f==="drawer"?"":`${e.width}px`,height:f==="drawer"?"":`min(${e.height}px, 100%)`})},[b("div",{class:"xbAsX"},[e.withCloseButton?(c(),v("button",{key:0,class:"x8VpB _button","data-cy-modal-window-close":"",onClick:l[0]||(l[0]=h=>i("close"))},[...l[4]||(l[4]=[b("i",{class:"ti ti-x"},null,-1)])],2)):M("",!0),b("span",{class:"xDxWK"},[Ae(r.$slots,"header")],2),e.withOkButton?(c(),v("div",w0,[j(mt,{primary:"",gradate:"",small:"",rounded:"",disabled:e.okButtonDisabled,onClick:l[1]||(l[1]=h=>i("ok"))},{default:H(()=>[Z(S("Fet")+" ",1),l[5]||(l[5]=b("i",{class:"ti ti-check"},null,-1))]),_:1},8,["disabled"])])):M("",!0)],2),b("div",{class:"xlH8n"},[Ae(r.$slots,"default")],2),r.$slots.footer?(c(),v("div",{key:0,class:"xojf0"},[Ae(r.$slots,"footer")],2)):M("",!0)],6)]),_:3},8,["preferType"]))}});const jn=K({__name:"MkKeyValue",props:{copy:{default:null},oneline:{type:Boolean,default:!1}},setup(e){const t=e,n=()=>{lt(t.copy)};return(i,o)=>{const a=Ye("tooltip");return c(),v("div",{class:J(["x5Eyz",{xpgKk:e.oneline}])},[b("div",{class:"xzSZ0"},[Ae(i.$slots,"key")],2),b("div",{class:"xrVvR _selectable"},[Ae(i.$slots,"value"),e.copy?te((c(),v("button",{key:0,class:"_textButton",style:{"margin-left":"0.5em"},onClick:n},[...o[0]||(o[0]=[b("i",{class:"ti ti-copy"},null,-1)])])),[[a,"Copiar"]]):M("",!0)],2)],2)}}});const _0={class:"_spacer"},x0={style:{display:"flex","flex-direction":"column",gap:"1em"}},k0={key:0},Fc=K({__name:"MkCustomEmojiDetailedDialog",props:{emoji:{}},emits:["ok","cancel","closed"],setup(e,{emit:t}){const n=t,i=de("dialogEl");function o(){n("cancel"),i.value.close()}return(a,s)=>{const r=Q("MkCustomEmoji"),l=Q("Mfm");return c(),N(b0,{ref_key:"dialogEl",ref:i,onClose:s[0]||(s[0]=f=>o()),onClosed:s[1]||(s[1]=f=>n("closed"))},{header:H(()=>[Z(":"+S(e.emoji.name)+":",1)]),default:H(()=>[b("div",_0,[b("div",x0,[b("div",{class:"x1aDf"},[j(r,{name:e.emoji.name,normal:!0,useOriginalSize:!0,style:{height:"100%"}},null,8,["name"])],2),j(jn,{copy:`:${e.emoji.name}:`},{key:H(()=>[Z(S("Nom"),1)]),value:H(()=>[Z(S(e.emoji.name),1)]),_:1},8,["copy"]),j(jn,null,{key:H(()=>[Z(S("Etiquetes"),1)]),value:H(()=>[e.emoji.aliases.length===0?(c(),v("div",k0,S("Res"),1)):(c(),v("div",{key:1,class:"xlHld"},[(c(!0),v(pe,null,ze(e.emoji.aliases,f=>(c(),v("span",{key:f,class:"x6O1I"},S(f),3))),128))],2))]),_:1}),j(jn,null,{key:H(()=>[Z(S("Categoria"),1)]),value:H(()=>[Z(S(e.emoji.category??"Res"),1)]),_:1}),j(jn,null,{key:H(()=>[Z(S("Sensible"),1)]),value:H(()=>[Z(S(e.emoji.isSensitive?"S ":"No"),1)]),_:1}),j(jn,null,{key:H(()=>[Z(S("Noms local"),1)]),value:H(()=>[Z(S(e.emoji.localOnly?"S ":"No"),1)]),_:1}),j(jn,null,{key:H(()=>[Z(S("Llicncia"),1)]),value:H(()=>[j(l,{text:e.emoji.license??"Res"},null,8,["text"])]),_:1}),j(jn,{copy:e.emoji.url},{key:H(()=>[Z(S("URL del emoji"),1)]),value:H(()=>[j(lr,{url:e.emoji.url,target:"_blank"},{default:H(()=>[Z(S(e.emoji.url),1)]),_:1},8,["url"])]),_:1},8,["copy"])])])]),_:1},512)}}});function E0(e,t){const n=e.offsetWidth,i=e.offsetHeight;let o;t.anchorElement&&(o=t.anchorElement.getBoundingClientRect());const a=()=>{let h,w;return t.anchorElement?(h=o.left+window.scrollX+t.anchorElement.offsetWidth/2,w=o.top+window.scrollY-i-t.innerMargin):(h=t.x,w=t.y-i-t.innerMargin),h-=e.offsetWidth/2,h+n-window.scrollX>window.innerWidth&&(h=window.innerWidth-n+window.scrollX-1),h<window.scrollX&&(h=window.scrollX),[h,w]},s=()=>{let h,w;return t.anchorElement?(h=o.left+window.scrollX+t.anchorElement.offsetWidth/2,w=o.top+window.scrollY+t.anchorElement.offsetHeight+t.innerMargin):(h=t.x,w=t.y+t.innerMargin),h-=e.offsetWidth/2,h+n-window.scrollX>window.innerWidth&&(h=window.innerWidth-n+window.scrollX-1),h<window.scrollX&&(h=window.scrollX),[h,w]},r=()=>{let h,w;return t.anchorElement?(h=o.left+window.scrollX-n-t.innerMargin,w=o.top+window.scrollY+t.anchorElement.offsetHeight/2):(h=t.x-n-t.innerMargin,w=t.y),w-=e.offsetHeight/2,w+i-window.scrollY>window.innerHeight&&(w=window.innerHeight-i+window.scrollY-1),h<window.scrollX&&(h=window.scrollX),[h,w]},l=()=>{let h=0,w=0;return t.anchorElement?(h=o.left+t.anchorElement.offsetWidth+window.scrollX+t.innerMargin,t.align==="top"?(w=o.top+window.scrollY,t.alignOffset!=null&&(w+=t.alignOffset)):t.align==="bottom"||(w=o.top+window.scrollY+t.anchorElement.offsetHeight/2,w-=e.offsetHeight/2)):(h=t.x+t.innerMargin,w=t.y,w-=e.offsetHeight/2),w+i-window.scrollY>window.innerHeight&&(w=window.innerHeight-i+window.scrollY-1),h<window.scrollX&&(h=window.scrollX),[h,w]};return(()=>{switch(t.direction){case"top":{const[h,w]=a();if(w-window.scrollY<0){const[u,y]=s();return{left:u,top:y,transformOrigin:"center top"}}return{left:h,top:w,transformOrigin:"center bottom"}}case"bottom":{const[h,w]=s();return{left:h,top:w,transformOrigin:"center top"}}case"left":{const[h,w]=r();if(h-window.scrollX<0){const[u,y]=l();return{left:u,top:y,transformOrigin:"left center"}}return{left:h,top:w,transformOrigin:"right center"}}case"right":{const[h,w]=l();return{left:h,top:w,transformOrigin:"left center"}}}})()}const D0={key:1},cr=K({__name:"MkTooltip",props:{showing:{type:Boolean},anchorElement:{},x:{},y:{},text:{},asMfm:{type:Boolean},maxWidth:{default:250},direction:{default:"top"},innerMargin:{default:0}},emits:["closed"],setup(e,{emit:t}){const n=e,i=t;n.showing||i("closed");const o=de("el"),a=Ln("high");function s(){if(o.value==null)return;const l=E0(o.value,{anchorElement:n.anchorElement,direction:n.direction,align:"center",innerMargin:n.innerMargin,x:n.x,y:n.y});o.value.style.transformOrigin=l.transformOrigin,o.value.style.left=l.left+"px",o.value.style.top=l.top+"px"}let r;return We(()=>{Be(()=>{s();const l=()=>{s(),r=window.requestAnimationFrame(l)};l()})}),nt(()=>{window.cancelAnimationFrame(r)}),(l,f)=>{const h=Q("Mfm");return c(),N(St,{enterActiveClass:E(D).s.animation?"xCDnz":"",leaveActiveClass:E(D).s.animation?"xjnFO":"",enterFromClass:E(D).s.animation?"xj66A":"",leaveToClass:E(D).s.animation?"xdzld":"",appear:"",css:E(D).s.animation,onAfterLeave:f[0]||(f[0]=w=>i("closed"))},{default:H(()=>[te(b("div",{ref_key:"el",ref:o,class:"xu3k3 _acrylic _shadow",style:$e({zIndex:E(a),maxWidth:e.maxWidth+"px"})},[Ae(l.$slots,"default",{},()=>[e.text?(c(),v(pe,{key:0},[e.asMfm?(c(),N(h,{key:0,text:e.text},null,8,["text"])):(c(),v("span",D0,S(e.text),1))],64)):M("",!0)])],6),[[Ft,e.showing]])]),_:3},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass","css"])}}});const C0=Object.freeze(Object.defineProperty({__proto__:null,default:cr},Symbol.toStringTag,{value:"Module"})),Yi=K({__name:"MkReactionIcon",props:{reaction:{},noStyle:{type:Boolean},emojiUrl:{},withTooltip:{type:Boolean}},setup(e){const t=e,n=de("elRef");return t.withTooltip&&pi(n,i=>{if(n.value==null)return;const{dispose:o}=_e(he(()=>I(()=>import("./3iSoGi4ic-DbkfZFKC.js"),__vite__mapDeps([146,2,3,4,5,6,147]),import.meta.url)),{showing:i,reaction:t.reaction.replace(/^:(\w+):$/,":$1@.:"),anchorElement:n.value.$el},{closed:()=>o()})}),(i,o)=>{const a=Q("MkCustomEmoji"),s=Q("MkEmoji");return e.reaction[0]===":"?(c(),N(a,{key:0,ref_key:"elRef",ref:n,name:e.reaction,normal:!0,noStyle:e.noStyle,url:e.emojiUrl,fallbackToImage:!0},null,8,["name","noStyle","url"])):(c(),N(s,{key:1,ref_key:"elRef",ref:n,emoji:e.reaction,normal:!0,noStyle:e.noStyle},null,8,["emoji","noStyle"]))}}}),Sc=K({__name:"MkReactionsViewer.details",props:{showing:{type:Boolean},reaction:{},users:{},count:{},anchorElement:{}},emits:["closed"],setup(e,{emit:t}){const n=t;function i(o){const a=o.replace("@.","");return a.startsWith(":")?a:Mc(o)}return(o,a)=>{const s=Q("MkAvatar"),r=Q("MkUserName");return c(),N(cr,{ref:"tooltip",showing:e.showing,anchorElement:e.anchorElement,maxWidth:340,onClosed:a[0]||(a[0]=l=>n("closed"))},{default:H(()=>[b("div",{class:"xnojU"},[b("div",{class:"xtYVU"},[j(Yi,{reaction:e.reaction,class:"xunY9",noStyle:!0},null,8,["reaction","class"]),b("div",{class:"xBtQq"},S(i(e.reaction)),3)],2),b("div",{class:"xtB4B"},[(c(!0),v(pe,null,ze(e.users,l=>(c(),v("div",{key:l.id,class:"x6Dog"},[j(s,{class:"xpkfw",user:l},null,8,["class","user"]),j(r,{user:l,nowrap:!0},null,8,["user"])],2))),128)),e.count>10?(c(),v("div",{key:0,class:"xmmt5"},"+"+S(e.count-10),3)):M("",!0)],2)],2)]),_:1},8,["showing","anchorElement"])}}});const A0=K({__name:"MkReactionEffect",props:{reaction:{},x:{},y:{}},emits:["end"],setup(e,{emit:t}){Qi(s=>({a9b327ca:a}));const n=t,i=F(!1),o=Ln("middle"),a=90-Math.random()*180+"deg";return We(()=>{window.setTimeout(()=>{i.value=!0},10),window.setTimeout(()=>{n("end")},1100)}),(s,r)=>(c(),v("div",{class:"xCquH",style:$e({zIndex:E(o),top:`${e.y-64}px`,left:`${e.x-64}px`})},[b("span",{class:J(["xn1vP",{xa9Kg:i.value}])},[j(Yi,{class:"icon",reaction:e.reaction},null,8,["reaction"])],2)],6))}});const pl=await dn("emojis"),Vt=jt(Array.isArray(pl)?pl:[]),Jx=z(()=>{const e=new Set;for(const t of Vt.value)t.category&&t.category!=="null"&&e.add(t.category);return rt([...Array.from(e),null])}),Wn=new Map;oe(Vt,e=>{Wn.clear();for(const t of e)Wn.set(t.name,t)},{immediate:!0});function I0(e){Vt.value=[e,...Vt.value],Ot("emojis",Vt.value)}function T0(e){Vt.value=Vt.value.map(t=>e.find(n=>n.name===t.name)??t),Ot("emojis",Vt.value)}function M0(e){Vt.value=Vt.value.filter(t=>!e.some(n=>n.name===t.name)),Ot("emojis",Vt.value)}async function Pc(e=!1){const t=Date.now();let n;if(e)n=await se("emojis",{});else{const i=await dn("lastEmojisFetchedAt");if(i&&t-i<1e3*60*60)return;n=await fi("emojis",{})}Vt.value=n.emojis,Ot("emojis",n.emojis),Ot("lastEmojisFetchedAt",t)}const Et=new wn,_s=new wn,An=new Map;function F0(e){if(An.has(e.id)){const t=An.get(e.id);An.set(e.id,{...t,referenceCount:t.referenceCount+1,lastAddedAt:Date.now()})}else An.set(e.id,{referenceCount:1,lastAddedAt:Date.now()})}function S0(e){const t=An.get(e.id);t!=null&&(t.referenceCount===1?An.delete(e.id):An.set(e.id,{...t,referenceCount:t.referenceCount-1}))}const P0=30,go=1e3*10,R0=D.s.pollingInterval===1?go*1.5*1.5:D.s.pollingInterval===2?go*1.5:(D.s.pollingInterval===3,go);window.setInterval(()=>{const e=[...An.entries()].filter(([t,n])=>Date.now()-n.lastAddedAt<3e5).map(([t,n])=>t).sort((t,n)=>t>n?-1:1).slice(0,P0);e.length!==0&&(window.document.hidden||se("notes/show-partial-bulk",{noteIds:e}).then(t=>{for(const n of t)_s.emit(n.id,{reactions:n.reactions,reactionEmojis:n.reactionEmojis})}))},R0);function B0(e){const{note:t,$note:n}=e;function i(o){n.reactions=o.reactions,n.reactionCount=Object.values(o.reactions).reduce((a,s)=>a+s,0),n.reactionEmojis=o.reactionEmojis}F0(t),_s.on(t.id,i),nt(()=>{S0(t),_s.off(t.id,i)})}function $0(e){const t=e.note,n=hi();function i(r){const{type:l,id:f,body:h}=r;if(f===t.id)switch(l){case"reacted":{Et.emit(`reacted:${f}`,{userId:h.userId,reaction:h.reaction,emoji:h.emoji});break}case"unreacted":{Et.emit(`unreacted:${f}`,{userId:h.userId,reaction:h.reaction,emoji:h.emoji});break}case"pollVoted":{Et.emit(`pollVoted:${f}`,{userId:h.userId,choice:h.choice});break}case"deleted":{yt.emit("noteDeleted",f);break}}}function o(r=!1){n.send("sr",{id:t.id}),r&&n.on("noteUpdated",i)}function a(r=!1){n.send("un",{id:t.id}),r&&n.off("noteUpdated",i)}function s(){o(!1)}o(!0),n.on("_connected_",s),nt(()=>{a(!0),n.off("_connected_",s)})}const vl=Symbol();function L0(e){const{note:t,parentNote:n,mock:i}=e,o=Qo({reactions:Object.entries(t.reactions).reduce((w,[u,y])=>{const g=u.replace(/^:(\w+):$/,":$1@.:");return w[g]==null?w[g]=y:w[g]+=y,w},{}),reactionCount:t.reactionCount,reactionEmojis:t.reactionEmojis,myReaction:t.myReaction,pollChoices:t.poll?.choices??[]});Et.on(`reacted:${t.id}`,r),Et.on(`unreacted:${t.id}`,l),Et.on(`pollVoted:${t.id}`,f);const a=new Map;let s=null;function r(w){let u=w.reaction.replace(/^:(\w+):$/,":$1@.:");if(u=u.match("")?u:u.replace(/\ufe0f/g,""),a.has(w.userId)&&a.get(w.userId)===u)return;a.set(w.userId,u),w.emoji&&!(w.emoji.name in o.reactionEmojis)&&(o.reactionEmojis[w.emoji.name]=w.emoji.url);const y=o.reactions[u]||0;o.reactions[u]=y+1,o.reactionCount+=1,A&&w.userId===A.id&&(o.myReaction=u)}function l(w){let u=w.reaction.replace(/^:(\w+):$/,":$1@.:");if(u=u.match("")?u:u.replace(/\ufe0f/g,""),a.has(w.userId)&&a.get(w.userId)===vl)return;a.set(w.userId,vl);const y=o.reactions[u]||0;o.reactions[u]=Math.max(0,y-1),o.reactionCount=Math.max(0,o.reactionCount-1),o.reactions[u]===0&&delete o.reactions[u],A&&w.userId===A.id&&(o.myReaction=null)}function f(w){const u=`${w.userId}:${w.choice}`;if(u===s)return;s=u;const y=[...o.pollChoices];y[w.choice]={...y[w.choice],votes:y[w.choice].votes+1,...A&&w.userId===A.id?{isVoted:!0}:{}},o.pollChoices=y}function h(){i||(A&&B.s.realtimeMode?$0({note:t}):B0({note:t,$note:o}))}if(nt(()=>{Et.off(`reacted:${t.id}`,r),Et.off(`unreacted:${t.id}`,l),Et.off(`pollVoted:${t.id}`,f)}),n==null){if(Date.now()-new Date(t.createdAt).getTime()>1e3*60*5)return{$note:o,subscribe:()=>{h()}}}else if(Date.now()-new Date(n.createdAt).getTime()>1e3*60*5)return{$note:o,subscribe:()=>{h()}};return h(),{$note:o,subscribe:()=>{}}}function la(e){return e.name.startsWith(":")?e.name:`:${e.name}${e.host?`@${e.host}`:""}:`}function dr(e){return(e[0]===":"?e.substring(1,e.length-1):e).replace("@.","").split("@")[0]}function fr(e){const t=e.indexOf("@");if(t===-1)return null;const n=e.substring(t+1,e.length-1);return n===""||n==="."?null:n}function mr(e){const n=e.startsWith(":")&&e.endsWith(":")?la({name:dr(e),host:fr(e)}):e,i=D.r.mutingEmojis.value;if(!i.includes(n))return D.commit("mutingEmojis",[...i,n]);throw new Error("Emoji is already muted",{cause:`${n} is Already Muted`})}function hr(e){const n=e.startsWith(":")&&e.endsWith(":")?la({name:dr(e),host:fr(e)}):e,i=D.r.mutingEmojis.value;console.log("unmute",e,n),console.log("mutedEmojis",i),D.commit("mutingEmojis",i.filter(o=>o!==n))}function pr(e){const n=e.startsWith(":")&&e.endsWith(":")?la({name:dr(e),host:fr(e)}):e;return z(()=>D.r.mutingEmojis.value.includes(n))}const O0=K({__name:"MkReactionsViewer.reaction",props:{noteId:{},reaction:{},reactionEmojis:{},myReaction:{},count:{},isInitial:{type:Boolean}},emits:["reactionToggled"],setup(e,{emit:t}){const n=e,i=tt(qe.mock,!1),o=t,a=de("buttonEl"),s=z(()=>n.reaction.replace(/:/g,"").replace(/@\./,"")),r=z(()=>{const y=Wn.get(s.value)??Tc(n.reaction);return n.reaction.match(/@\w/)==null&&A!=null&&y!=null}),l=z(()=>!n.reaction.match(/@\w/)&&n.reaction.includes(":")),f=n.reaction[0]===":"&&n.reaction.includes("@.");async function h(){if(!r.value||A==null)return;const y=A,g=n.myReaction;if(g){if((await Ze({type:"warning",text:g!==n.reaction?"Vols canviar la teva reacci?":"Vols esborrar la teva reacci?"})).canceled)return;if(g!==n.reaction&&(In("reaction"),No()),i){o("reactionToggled",n.reaction,n.count-1);return}se("notes/reactions/delete",{noteId:n.noteId}).then(()=>{Et.emit(`unreacted:${n.noteId}`,{userId:y.id,reaction:g}),g!==n.reaction&&se("notes/reactions/create",{noteId:n.noteId,reaction:n.reaction}).then(()=>{const m=Wn.get(s.value);m!=null&&Et.emit(`reacted:${n.noteId}`,{userId:y.id,reaction:n.reaction,emoji:m})})})}else{if(D.s.confirmOnReact&&(await Ze({type:"question",text:(({emoji})=>("Vols reaccionar amb \""+emoji+"\"?"))({emoji:n.reaction.replace("@.","")})})).canceled)return;if(In("reaction"),No(),i){o("reactionToggled",n.reaction,n.count+1);return}se("notes/reactions/create",{noteId:n.noteId,reaction:n.reaction}).then(()=>{const p=Wn.get(s.value);p!=null&&Et.emit(`reacted:${n.noteId}`,{userId:y.id,reaction:n.reaction,emoji:p})})}}async function w(y){let g=[];l.value&&g.push({text:"Informaci",icon:"ti ti-info-circle",action:async()=>{const{dispose:p}=_e(Fc,{emoji:await fi("emoji",{name:n.reaction.replace(/:/g,"").replace(/@\./,"")})},{closed:()=>p()})}}),pr(n.reaction).value?g.push({text:"Deixar de silenciar emojis",icon:"ti ti-mood-smile",action:()=>{Ze({type:"question",title:(({x})=>("Deixar de silenciar "+x))({x:f?`:${s.value}:`:n.reaction})}).then(({canceled:p})=>{p||hr(n.reaction)})}}):g.push({text:"Silenciar emojis",icon:"ti ti-mood-off",action:()=>{Ze({type:"question",title:(({x})=>("Silenciar "+x))({x:f?`:${s.value}:`:n.reaction})}).then(({canceled:p})=>{p||mr(n.reaction)})}}),Ue(g,y.currentTarget??y.target)}function u(){if(window.document.hidden||!D.s.animation||a.value==null)return;const y=a.value.getBoundingClientRect(),g=y.left+16,p=y.top+a.value.offsetHeight/2,{dispose:m}=_e(A0,{reaction:n.reaction,x:g,y:p},{end:()=>m()})}return oe(()=>n.count,(y,g)=>{g<y&&u()}),We(()=>{n.isInitial||u()}),i||pi(a,async y=>{if(a.value==null)return;const p=(await fi("notes/reactions",{noteId:n.noteId,type:n.reaction,limit:10,_cacheKey_:n.count})).map(x=>x.user),{dispose:m}=_e(Sc,{showing:y,reaction:n.reaction,users:p,count:n.count,anchorElement:a.value},{closed:()=>m()})},100),(y,g)=>{const p=Ye("ripple");return te((c(),v("button",{ref_key:"buttonEl",ref:a,class:J(["_button",["xDRXD",{x9Z4v:e.myReaction==e.reaction,xhTzr:r.value,xqToC:E(D).s.reactionsDisplaySize==="small",x1RtL:E(D).s.reactionsDisplaySize==="large"}]]),onClick:g[0]||(g[0]=m=>h()),onContextmenu:fe(w,["prevent","stop"])},[j(Yi,{style:{"pointer-events":"none"},class:J(E(D).s.limitWidthOfReaction?"xlm2r":""),reaction:e.reaction,emojiUrl:e.reactionEmojis[e.reaction.substring(1,e.reaction.length-1)]},null,8,["class","reaction","emojiUrl"]),b("span",{class:"xDpSv"},S(e.count),3)],34)),[[p,r.value]])}}});const N0=K({__name:"MkReactionsViewer",props:{noteId:{},reactions:{},reactionEmojis:{},myReaction:{},maxNumber:{default:1/0}},emits:["mockUpdateMyReaction"],setup(e,{emit:t}){const n=e,i=tt(qe.mock,!1),o=t,a=new Set(Object.keys(n.reactions)),s=F([]),r=F(!1);n.myReaction&&!Object.keys(s.value).includes(n.myReaction)&&(s.value[n.myReaction]=n.reactions[n.myReaction]);function l(h,w){if(!i)return;const u=s.value.findIndex(y=>y[0]===h);u<0||o("mockUpdateMyReaction",h,w-s.value[u][1])}function f(h){return A?!h.match(/@\w/)&&(Wn.has(h)||g0(h)):!1}return oe([()=>n.reactions,()=>n.maxNumber],([h,w])=>{let u=[];r.value=Object.keys(h).length>w;for(let g=0;g<s.value.length;g++){const p=s.value[g][0];p in h&&h[p]!==0&&(s.value[g][1]=h[p],u.push(s.value[g]))}const y=u.map(([g])=>g);u=[...u,...Object.entries(h).sort(([g,p],[m,x])=>D.s.showAvailableReactionsFirstInNote?!f(g)&&f(m)?1:f(g)&&!f(m)?-1:x-p:x-p).filter(([g],p)=>p<w&&!y.includes(g))],u=u.slice(0,n.maxNumber),n.myReaction&&!u.map(([g])=>g).includes(n.myReaction)&&u.push([n.myReaction,h[n.myReaction]]),s.value=u},{immediate:!0,deep:!0}),(h,w)=>(c(),N(Ct(E(D).s.animation?Gi:"div"),{enterActiveClass:"xAfX0",leaveActiveClass:"xpbCy",enterFromClass:"xkpzU",leaveToClass:"x6Ovb",moveClass:"xpncO",tag:"div",class:"xlT1y"},{default:H(()=>[(c(!0),v(pe,null,ze(s.value,([u,y])=>(c(),N(O0,{key:u,reaction:u,reactionEmojis:n.reactionEmojis,count:y,isInitial:E(a).has(u),noteId:n.noteId,myReaction:n.myReaction,onReactionToggled:l},null,8,["reaction","reactionEmojis","count","isInitial","noteId","myReaction"]))),128)),r.value?Ae(h.$slots,"more",{key:0}):M("",!0)]),_:3},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass","moveClass","class"]))}});const j0={key:0},V0=K({__name:"MkUsersTooltip",props:{showing:{type:Boolean},users:{},count:{},anchorElement:{}},emits:["closed"],setup(e,{emit:t}){const n=t;return(i,o)=>{const a=Q("MkAvatar"),s=Q("MkUserName");return c(),N(cr,{ref:"tooltip",showing:e.showing,anchorElement:e.anchorElement,maxWidth:250,onClosed:o[0]||(o[0]=r=>n("closed"))},{default:H(()=>[b("div",{class:"xycT9"},[(c(!0),v(pe,null,ze(e.users,r=>(c(),v("div",{key:r.id,class:"xdayH"},[j(a,{class:"x3SbT",user:r},null,8,["class","user"]),j(s,{user:r,nowrap:!0},null,8,["user"])],2))),128)),e.users.length<e.count?(c(),v("div",j0,"+"+S(e.count-e.users.length),1)):M("",!0)],2)]),_:1},8,["showing","anchorElement"])}}});const U0=["allow","src"],z0={key:1},H0={ref:"twitter"},q0=["src"],W0={key:2},J0=["title"],K0=["title"],Y0=["src"],X0=["title"],G0=500,Rc=K({__name:"MkUrlPreview",props:{url:{},detail:{type:Boolean,default:!1},compact:{type:Boolean,default:!1},showActions:{type:Boolean,default:!0}},setup(e){const t=e,n=F(Yn==="smartphone"||window.innerWidth<=G0),i=er(t.url,ht),o=i!==t.url,a=o?"to":"href",s=o?null:"_blank",r=F(!0),l=F(null),f=F(null),h=F(null),w=F(null),u=F(null),y=F(!1),g=F({url:null,width:null,height:null}),p=F(!1),m=F(null),x=F(t.detail),k=`embed${Math.random().toString().replace(/\D/,"")}`,_=F(150),C=F(!1);gi(()=>{p.value=!1});const T=new URL(t.url);if(!["http:","https:"].includes(T.protocol))throw new Error("invalid url");if(T.hostname==="twitter.com"||T.hostname==="mobile.twitter.com"||T.hostname==="x.com"||T.hostname==="mobile.x.com"){const L=T.pathname.match(/^\/.+\/status(?:es)?\/(\d+)/);L&&(m.value=L[1])}T.hostname==="music.youtube.com"&&T.pathname.match("^/(?:watch|channel)")&&(T.hostname="www.youtube.com"),T.hash="",window.fetch(`/url?url=${encodeURIComponent(T.href)}&lang=${Us}`).then(L=>L.ok?L.json():null).then(L=>{if(!L||L.url==null){r.value=!1,C.value=!0;return}r.value=!1,C.value=!1,l.value=L.title,f.value=L.description,h.value=L.thumbnail,w.value=L.icon,u.value=L.sitename,g.value=L.player,y.value=L.sensitive??!1});function R(L){if(L.origin!=="https://platform.twitter.com")return;const q=L.data?.["twttr.embed"];if(q?.method!=="twttr.private.resize"||q?.id!==k)return;const G=q?.params[0]?.height;G&&(_.value=G)}function P(){const{dispose:L}=_e(he(()=>I(()=>import("./3iSoGi4ic-CcUuajVg.js"),__vite__mapDeps([148,2,3,4,5,6,149]),import.meta.url)),{url:T.href},{closed:()=>{L()}})}return window.addEventListener("message",R),nt(()=>{window.removeEventListener("message",R)}),(L,q)=>{const G=Q("MkEllipsis");return g.value.url&&p.value?(c(),v(pe,{key:0},[b("div",{class:"xBA01",style:$e(g.value.width?`padding: ${(g.value.height||0)/g.value.width*100}% 0 0`:`padding: ${g.value.height||0}px 0 0`)},[g.value.url.startsWith("http://")||g.value.url.startsWith("https://")?(c(),v("iframe",{key:0,sandbox:"allow-popups allow-popups-to-escape-sandbox allow-scripts allow-storage-access-by-user-activation allow-same-origin",scrolling:"no",allow:g.value.allow==null?"autoplay;encrypted-media;fullscreen":g.value.allow.filter(Y=>["autoplay","clipboard-write","fullscreen","encrypted-media","picture-in-picture","web-share"].includes(Y)).join(";"),class:"xhXT7",src:E(t0)(g.value.url),style:{border:0}},null,10,U0)):(c(),v("span",z0,"invalid url"))],6),b("div",{class:"xEQzv"},[j(mt,{small:!0,inline:"",onClick:q[0]||(q[0]=Y=>p.value=!1)},{default:H(()=>[q[5]||(q[5]=b("i",{class:"ti ti-x"},null,-1)),Z(" "+S("Tanca el reproductor de vdeo"),1)]),_:1})],2)],64)):m.value&&x.value?(c(),v(pe,{key:1},[b("div",H0,[b("iframe",{ref:"tweet",allow:"fullscreen;web-share",sandbox:"allow-popups allow-popups-to-escape-sandbox allow-scripts allow-same-origin",scrolling:"no",style:$e({position:"relative",width:"100%",height:`${_.value}px`,border:0}),src:`https://platform.twitter.com/embed/index.html?embedId=${k}&hideCard=false&hideThread=false&lang=en&theme=${E(B).s.darkMode?"dark":"light"}&id=${m.value}`},null,12,q0)],512),b("div",{class:"xEQzv"},[j(mt,{small:!0,inline:"",onClick:q[1]||(q[1]=Y=>x.value=!1)},{default:H(()=>[q[6]||(q[6]=b("i",{class:"ti ti-x"},null,-1)),Z(" "+S("Tanca"),1)]),_:1})],2)],64)):(c(),v("div",W0,[(c(),N(Ct(o?"MkA":"a"),Zi({class:["xlXwJ",{x4Jn8:e.compact}],[E(a)||""]:E(i),rel:"nofollow noopener",target:E(s),title:e.url}),{default:H(()=>[h.value&&!y.value?(c(),v("div",{key:0,class:"x3uMi",style:$e(E(D).s.dataSaver.urlPreviewThumbnail?"":{backgroundImage:`url('${h.value}')`})},null,6)):M("",!0),b("article",{class:"xo52c"},[b("header",{class:"xfNOp"},[C.value?(c(),v("h1",{key:0,class:"xgWab"},S(e.url),3)):r.value?(c(),v("h1",{key:1,class:"xgWab"},[j(G)],2)):(c(),v("h1",{key:2,class:"xgWab",title:l.value??void 0},S(l.value),11,J0))],2),C.value?(c(),v("p",{key:0,class:"xbyHy"},S("Vista prvia no disponible"),3)):r.value?(c(),v("p",{key:1,class:"xbyHy"},[j(G)],2)):f.value?(c(),v("p",{key:2,class:"xbyHy",title:f.value},S(f.value.length>85?f.value.slice(0,85)+"":f.value),11,K0)):M("",!0),b("footer",{class:"xv626"},[w.value?(c(),v("img",{key:0,class:"xzLrO",src:w.value},null,10,Y0)):M("",!0),C.value?(c(),v("p",{key:1,class:"xuHaL"},S(E(T).host),3)):r.value?(c(),v("p",{key:2,class:"xuHaL"},[j(G)],2)):(c(),v("p",{key:3,class:"xuHaL",title:u.value??E(T).host},S(u.value??E(T).host),11,X0))],2)],2)]),_:1},16,["class","target","title"])),e.showActions?(c(),v(pe,{key:0},[m.value?(c(),v("div",{key:0,class:"xEQzv"},[j(mt,{small:!0,inline:"",onClick:q[2]||(q[2]=Y=>x.value=!0)},{default:H(()=>[q[7]||(q[7]=b("i",{class:"ti ti-brand-x"},null,-1)),Z(" "+S("Expandir post"),1)]),_:1})],2)):M("",!0),!p.value&&g.value.url?(c(),v("div",{key:1,class:"xEQzv"},[j(mt,{small:!0,inline:"",onClick:q[3]||(q[3]=Y=>p.value=!0)},{default:H(()=>[q[8]||(q[8]=b("i",{class:"ti ti-player-play"},null,-1)),Z(" "+S("Obre el reproductor de vdeo"),1)]),_:1}),n.value?M("",!0):(c(),N(mt,{key:0,small:!0,inline:"",onClick:q[4]||(q[4]=Y=>P())},{default:H(()=>[q[9]||(q[9]=b("i",{class:"ti ti-picture-in-picture"},null,-1)),Z(" "+S("Obrir en una finestra nova"),1)]),_:1}))],2)):M("",!0)],64)):M("",!0)]))}}});const Kx=Object.freeze(Object.defineProperty({__proto__:null,default:Rc},Symbol.toStringTag,{value:"Module"})),Q0=["src"],Z0=K({__name:"MkInstanceTicker",props:{host:{},instance:{}},setup(e){const t=e,n=z(()=>t.host==null?es:t.instance?.name??t.host),i=z(()=>{let a=null;if(t.host==null){if(re.iconUrl==null)return"/favicon.ico";a=re.iconUrl}else a=t.instance?.faviconUrl??null;return zp(a)}),o=z(()=>{const a=(t.host==null?re.themeColor:t.instance?.themeColor)??"#777777";return{background:`linear-gradient(90deg, ${a}, ${a}00)`}});return(a,s)=>(c(),v("div",{class:"xaVIe",style:$e(o.value)},[i.value?(c(),v("img",{key:0,class:"xuevx",src:i.value},null,10,Q0)):M("",!0),b("div",{class:"xiWQB"},S(n.value),3)],6))}});class ey{anchorElement=F(null);manualShowing=F(!1);targetNote=F(null);onChosen;onClosed;constructor(){}async init(){const t=F([]);oe([D.r.emojiPaletteForReaction,D.r.emojiPalettes],()=>{t.value=D.s.emojiPaletteForReaction==null?D.s.emojiPalettes[0].emojis:D.s.emojiPalettes.find(n=>n.id===D.s.emojiPaletteForReaction)?.emojis??[]},{immediate:!0}),await _e(he(()=>I(()=>import("./3iSoGi4ic-XqpIfYXr.js"),__vite__mapDeps([108,2,4,3,5,6,109]),import.meta.url)),{anchorElement:this.anchorElement,pinnedEmojis:t,asReactionPicker:!0,targetNote:this.targetNote,manualShowing:this.manualShowing},{done:n=>{this.onChosen&&this.onChosen(n)},close:()=>{this.manualShowing.value=!1},closed:()=>{this.anchorElement.value=null,this.onClosed&&this.onClosed()}})}show(t,n,i,o){this.anchorElement.value=t,this.targetNote.value=n,this.manualShowing.value=!0,this.onChosen=i,this.onClosed=o}}const Bc=new ey,gl=e=>e.replace(/#[^#]*$/,"");function ty(e,t=!0){const n=pn.extract(e,o=>o.type==="url"||o.type==="link"&&(!t||!o.props.silent));return Ku(n.map(o=>o.props.url)).reduce((o,a)=>{const s=gl(a);return o.map(r=>gl(r)).includes(s)||o.push(a),o},[])}const ny=A==null&&re.policies!=null&&re.policies.canSearchNotes||A!=null&&A.policies.canSearchNotes||!1,iy=re.noteSearchableScope==="global",Yx=A==null&&re.policies!=null&&re.policies.canSearchUsers||A!=null&&A.policies.canSearchUsers||!1;class oo{cachedAt=null;value=F();lifetime;fetcher;constructor(t,n){this.lifetime=t,this.fetcher=n}set(t){this.cachedAt=Date.now(),this.value.value=t}get(){if(this.cachedAt!=null){if(Date.now()-this.cachedAt>this.lifetime){this.value.value=void 0,this.cachedAt=null;return}return this.value.value}}delete(){this.cachedAt=null}async fetch(){const t=this.get();if(t!==void 0)return t;const n=await this.fetcher();return this.set(n),n}}const yo=new oo(1e3*60*30,()=>se("clips/list",{limit:30})),oy=new oo(1e3*60*30,()=>se("admin/roles/list",{limit:30})),$c=new oo(1e3*60*30,()=>se("users/lists/list")),xs=new oo(1e3*60*30,()=>se("antennas/list",{limit:30})),Lc=new oo(1e3*60*30,()=>se("channels/my-favorites",{limit:100})),ay=["clips","tags","user-timeline"],sy={maxHeight:void 0,colorMode:void 0,rounded:!0,border:!0,autoload:!1,header:!0},ry=500;function ly(e){const t={};for(const n in e)if(!(e[n]==null||e[n]===sy[n]))switch(typeof e[n]){case"number":t[n]=e[n].toString();break;case"boolean":t[n]=e[n]?"true":"false";break;default:t[n]=e[n];break}return t}function uy(e,t){const n="v1_"+Dt();let i="";if(t){const a=new URLSearchParams(ly(t));i=a.toString()===""?"":"?"+a.toString()}return[`<iframe src="${ht+e+i}" data-misskey-embed-id="${n}" loading="lazy" referrerpolicy="strict-origin-when-cross-origin" style="border: none; width: 100%; max-width: 500px; height: 300px; color-scheme: light dark;"></iframe>`,`<script defer src="${ht}/embed.js"><\/script>`].join(`
`)}async function Oc(e,t,n){const i={...n};if(ay.includes(e)&&i.maxHeight==null&&(i.maxHeight=700),window.innerWidth<ry)lt(uy(`/embed/${e}/${t}`,i));else{const{dispose:o}=await bt(I(()=>import("./3iSoGi4ic-j2fwoXPe.js"),__vite__mapDeps([150,2,3,4,5,6,151]),import.meta.url).then(a=>a.default),{entity:e,id:t,params:i},{closed:()=>o()})}}function cy(e,t=Pt){const n=A?A.id:null,i=[];async function o(){if(e.isMuted)Xe("mute/delete",{userId:e.id}).then(()=>{e.isMuted=!1});else{const{canceled:p,result:m}=await Xi({title:"Duraci del silenci",items:[{value:"indefinitely",label:"Permanent"},{value:"tenMinutes",label:"10 minuts"},{value:"oneHour",label:"1 hora"},{value:"oneDay",label:"Un dia"},{value:"oneWeek",label:"Una setmana"}],default:"indefinitely"});if(p)return;const x=m==="indefinitely"?null:m==="tenMinutes"?Date.now()+1e3*60*10:m==="oneHour"?Date.now()+1e3*60*60:m==="oneDay"?Date.now()+1e3*60*60*24:m==="oneWeek"?Date.now()+1e3*60*60*24*7:null;Xe("mute/create",{userId:e.id,expiresAt:x}).then(()=>{e.isMuted=!0})}}async function a(){Xe(e.isRenoteMuted?"renote-mute/delete":"renote-mute/create",{userId:e.id}).then(()=>{e.isRenoteMuted=!e.isRenoteMuted})}async function s(){await f(e.isBlocking?"Vols desbloquejar-lo?":"Vols bloquejar-lo?")&&Xe(e.isBlocking?"blocking/delete":"blocking/create",{userId:e.id}).then(()=>{e.isBlocking=!e.isBlocking})}async function r(){Xe("following/update",{userId:e.id,notify:e.notify==="normal"?"none":"normal"}).then(()=>{e.notify=e.notify==="normal"?"none":"normal"})}async function l(){const{dispose:p}=await bt(I(()=>import("./3iSoGi4ic-qfX4D5dB.js"),__vite__mapDeps([152,68,2,4,3,69,5,6,153]),import.meta.url).then(m=>m.default),{user:e},{closed:()=>p()})}async function f(p){return!(await Ze({type:"warning",title:"confirm",text:p})).canceled}async function h(){Xe("federation/update-remote-user",{userId:e.id})}async function w(){await f("Vols deixar de seguir?")&&Xe("following/invalidate",{userId:e.id}).then(()=>{e.isFollowed=!e.isFollowed})}async function u(){const p=await se("users/show",{userId:e.id}),{canceled:m,result:x}=await wr("Editar recordatori",{memo:{type:"string",required:!0,multiline:!0,label:"Recordatori",default:p.memo}});m||Xe("users/update-memo",{memo:x.memo,userId:e.id})}const y=[];if(Kt&&y.push({icon:"ti ti-user-exclamation",text:"Moderaci",action:()=>{t.push("/admin/user/:userId",{params:{userId:e.id}})}},{type:"divider"}),y.push({icon:"ti ti-at",text:"Copiar nom d'usuari",action:()=>{lt(`@${e.username}@${e.host??Oe}`)}}),y.push({icon:"ti ti-share",text:"Copiar adrea URL del perfil",action:()=>{const p=e.host===null?`@${e.username}`:`@${e.username}@${kn(e.host)}`;lt(`${ht}/${p}`)}}),y.push({icon:"ti ti-rss",text:"Copiar RSS",action:()=>{lt(`${e.host??Oe}/@${e.username}.atom`)}}),e.host!=null&&e.url!=null?y.push({icon:"ti ti-external-link",text:"Navega ms en el perfil original",action:()=>{e.url!=null&&window.open(e.url,"_blank","noopener")}}):y.push({icon:"ti ti-code",text:"Incrustar",type:"parent",children:[{text:"Notes d'aquest usuari",action:()=>{Oc("user-timeline",e.id)}}]}),A&&n===e.id&&y.push({icon:"ti ti-qrcode",text:"Codi QR",action:()=>{t.push("/qr")}}),ny&&(e.host==null||iy)&&y.push({icon:"ti ti-search",text:"Cercar les publicacions de l'usuari",action:()=>{const p={username:e.username};e.host!==null&&(p.host=e.host),t.push("/search",{query:p})}}),A&&y.push({type:"divider"},{icon:"ti ti-pencil",text:"Editar recordatori",action:u},{type:"parent",icon:"ti ti-list",text:"Afegir a una llista",children:async()=>(await $c.fetch()).map(m=>{const x=F(m.userIds?.includes(e.id)??!1);return i.push(oe(x,()=>{x.value?Xe("users/lists/push",{listId:m.id,userId:e.id}).then(()=>{m.userIds?.push(e.id)}):Xe("users/lists/pull",{listId:m.id,userId:e.id}).then(()=>{m.userIds?.splice(m.userIds.indexOf(e.id),1)})})),{type:"switch",text:m.name,ref:x}})},{type:"parent",icon:"ti ti-antenna",text:"Afegir a una antena",children:async()=>{const p=await xs.fetch(),m=e.host===null?`@${e.username}`:`@${e.username}@${kn(e.host)}`;return p.filter(x=>x.src==="users").map(x=>({text:x.name,action:async()=>{await Xe("antennas/update",{antennaId:x.id,name:x.name,keywords:x.keywords,excludeKeywords:x.excludeKeywords,src:x.src,userListId:x.userListId,users:[...x.users,m],caseSensitive:x.caseSensitive,withReplies:x.withReplies,withFile:x.withFile}),xs.delete()}}))}}),A&&n!==e.id){Kt&&y.push({type:"parent",icon:"ti ti-badges",text:"Rols",children:async()=>(await oy.fetch()).filter(x=>x.target==="manual").map(x=>({text:x.name,action:async()=>{const{canceled:k,result:_}=await Xi({title:"Lmit de temps"+": "+x.name,items:[{value:"indefinitely",label:"Permanent"},{value:"oneHour",label:"1 hora"},{value:"oneDay",label:"Un dia"},{value:"oneWeek",label:"Una setmana"},{value:"oneMonth",label:"Un mes"}],default:"indefinitely"});if(k)return;const C=_==="indefinitely"?null:_==="oneHour"?Date.now()+1e3*60*60:_==="oneDay"?Date.now()+1e3*60*60*24:_==="oneWeek"?Date.now()+1e3*60*60*24*7:_==="oneMonth"?Date.now()+1e3*60*60*24*30:null;Xe("admin/roles/assign",{roleId:x.id,userId:e.id,expiresAt:C})}}))});const p=F(e.withReplies??!1);y.push({type:"switch",icon:"ti ti-messages",text:"Mostrar les respostes a altres a la lnia de temps",ref:p},{icon:e.notify==="none"?"ti ti-bell":"ti ti-bell-off",text:e.notify==="none"?"Notificar quan hi hagi notes noves":"Deixar de notificar quan hi hagi notes noves",action:r}),oe(p,m=>{se("following/update",{userId:e.id,withReplies:m}).then(()=>{e.withReplies=m})}),y.push({type:"divider"},{icon:"ti ti-pencil-heart",text:"Crear notes especificades per l'usuari ",action:()=>{const m=e.host===null?`@${e.username}`:`@${e.username}@${e.host}`;Pn({specified:e,initialText:`${m} `})}}),A.policies.chatAvailability==="available"&&e.canChat&&e.host==null&&y.push({type:"link",icon:"ti ti-messages",text:"Xateja amb aquest usuari",to:`/chat/user/${e.id}`}),y.push({type:"divider"},{icon:e.isMuted?"ti ti-eye":"ti ti-eye-off",text:e.isMuted?"Deixa de silenciar":"Silencia",action:o},{icon:e.isRenoteMuted?"ti ti-repeat":"ti ti-repeat-off",text:e.isRenoteMuted?"Treure el silenci dels impulsos":"Silenciar impulsos",action:a},{icon:"ti ti-ban",text:e.isBlocking?"Desbloqueja":"Bloqueja",action:s}),e.isFollowed&&y.push({icon:"ti ti-link-off",text:"Deixar de seguir",action:w}),y.push({type:"divider"},{icon:"ti ti-exclamation-circle",text:"Denuncia un abs ",action:l})}e.host!==null&&y.push({type:"divider"},{icon:"ti ti-refresh",text:"Actualitzar la informaci de l'usuari remot",action:h}),D.s.devMode&&y.push({type:"divider"},{icon:"ti ti-hash",text:"Copiar ID d'usuari",action:()=>{lt(e.id)}}),A&&n===e.id&&y.push({type:"divider"},{icon:"ti ti-pencil",text:"Edita el perfil",action:()=>{t.push("/settings/profile")}});const g=Ki("user_action");return g.length>0&&y.push({type:"divider"},...g.map(p=>({icon:"ti ti-plug",text:p.title,action:()=>{p.handler(e)}}))),{menu:y,cleanup:()=>{for(const p of i)p()}}}function dy(){return"share"in navigator}function ua(e){return Xl(e)?e.renote:e}const yl="LanguageDetector"in window&&"Translator"in window;async function Nc(e){function t(a){return A&&a.userId===A.id&&a.notesCount!=null?`${a.name} (${a.notesCount}/${A.policies.noteEachClipsLimit})`:a.name}const n=ua(e.note)??e.note,i=await yo.fetch();return[...i.map(a=>({text:t(a),action:()=>{me("noteClipped1"),gr(se("clips/add-note",{clipId:a.id,noteId:n.id}),null,async s=>{s.id==="734806c4-542c-463a-9311-15c512803965"?(await Ze({type:"warning",text:(({name})=>("Aquesta nota ja s inclosa al Retall \""+name+"\". Vols treure-la d'aquest retall?"))({name:a.name})})).canceled||Xe("clips/remove-note",{clipId:a.id,noteId:n.id}).then(()=>{yo.set(i.map(l=>l.id===a.id?{...l,notesCount:Math.max(0,(l.notesCount??0)-1)}:l))}):s.id==="f0dba960-ff73-4615-8df4-d6ac5d9dc118"?Qe({type:"error",text:"No es poden afegir ms notes a aquest clip."}):Qe({type:"error",text:s.message+`
`+s.id})}).then(()=>{yo.set(i.map(s=>s.id===a.id?{...s,notesCount:(s.notesCount??0)+1}:s))})}})),{type:"divider"},{icon:"ti ti-plus",text:"Crear",action:async()=>{const{canceled:a,result:s}=await wr("Crear un nou Retall",{name:{type:"string",default:null,label:"Nom"},description:{type:"string",required:!1,default:null,multiline:!0,label:"Descripci"},isPublic:{type:"boolean",label:"Pblic ",default:!1}});if(a)return;const r=await Xe("clips/create",s);yo.delete(),me("noteClipped1"),Xe("clips/add-note",{clipId:r.id,noteId:n.id})}}]}function jc(e,t){return{icon:"ti ti-exclamation-circle",text:t,action:async()=>{const n=`${ht}/notes/${e.id}`;let i="";(e.url??e.uri!=null)&&(i=`Note: ${e.url??e.uri}
`),i+=`Local Note: ${n}
`;const{dispose:o}=await bt(I(()=>import("./3iSoGi4ic-qfX4D5dB.js"),__vite__mapDeps([152,68,2,4,3,69,5,6,153]),import.meta.url).then(a=>a.default),{user:e.user,initialComment:`${i}-----
`},{closed:()=>o()})}}}function Wo(e,t){return{icon:"ti ti-link",text:t,action:()=>{lt(`${ht}/notes/${e.id}`)}}}function wl(e,t){if(!(e.url!=null||e.uri!=null)&&!["specified","followers"].includes(e.visibility))return{icon:"ti ti-code",text:t,action:()=>{Oc("notes",e.id)}}}function bl(e){const t=ua(e.note)??e.note,n=t.url??t.uri,i=[];function o(){Ze({type:"warning",text:"Segur que voleu eliminar aquesta publicaci?"}).then(({canceled:x})=>{x||A!=null&&(se("notes/delete",{noteId:t.id}).then(()=>{yt.emit("noteDeleted",t.id)}),Date.now()-new Date(t.createdAt).getTime()<1e3*60&&t.userId===A.id&&me("noteDeletedWithin1min"))})}function a(){Ze({type:"warning",text:"Segur que vols eliminar aquesta publicaci i editar-la? Perdrs totes les reaccions, impulsos i respostes."}).then(({canceled:x})=>{x||A!=null&&(se("notes/delete",{noteId:t.id}).then(()=>{yt.emit("noteDeleted",t.id)}),Pn({initialNote:t,renote:t.renote,reply:t.reply,channel:t.channel}),Date.now()-new Date(t.createdAt).getTime()<1e3*60&&t.userId===A.id&&me("noteDeletedWithin1min"))})}function s(x){me("noteFavorited1"),Xe(x?"notes/favorites/create":"notes/favorites/delete",{noteId:t.id})}function r(x){Xe(x?"notes/thread-muting/create":"notes/thread-muting/delete",{noteId:t.id})}function l(){lt(t.text)}function f(x){Xe(x?"i/pin":"i/unpin",{noteId:t.id},void 0,{"72dab508-c64d-498f-8740-a8eec1ba385a":{text:"No podeu fixar ms publicacions"}})}async function h(){e.currentClip&&Xe("clips/remove-note",{clipId:e.currentClip.id,noteId:t.id})}function w(){navigator.share({title:(({user})=>("Publicaci de: "+user))({user:t.user.name??t.user.username}),text:t.text??"",url:`${ht}/notes/${t.id}`})}function u(){Ds(`/notes/${t.id}`)}async function y(){if(e.translation.value==null){if(D.s["experimental.enableWebTranslatorApi"]&&yl&&t.text!=null){e.translating.value=!0;try{const k=await(await LanguageDetector.create()).detect(t.text);let _=ce.getItem("lang");if(_!=null&&(_=_.split("-")[0]),k[0]?.detectedLanguage===_||k[0]?.detectedLanguage===navigator.language){e.translation.value={sourceLang:k[0]?.detectedLanguage??"unknown",text:t.text};return}const T=await(await Translator.create({sourceLanguage:k[0]?.detectedLanguage,targetLanguage:_??navigator.language})).translate(t.text);e.translation.value={sourceLang:k[0]?.detectedLanguage??"unknown",text:T}}finally{e.translating.value=!1}}else if(A?.policies.canUseTranslator&&re.translatorAvailable){e.translating.value=!0;const x=await se("notes/translate",{noteId:t.id,targetLang:ce.getItem("lang")??navigator.language});e.translating.value=!1,e.translation.value=x}}}const g=[];if(A){const x=se("notes/state",{noteId:t.id});if(e.currentClip?.userId===A.id&&g.push({icon:"ti ti-backspace",text:"Treure Retall",danger:!0,action:h},{type:"divider"}),g.push({icon:"ti ti-info-circle",text:"Detalls",action:u},{icon:"ti ti-copy",text:"Copia el contingut",action:l},Wo(t,"Copia l'enlla")),n)g.push({icon:"ti ti-link",text:"Copiar l'enlla remot",action:()=>{lt(n)}},{icon:"ti ti-external-link",text:"Navega ms en el perfil original",action:()=>{window.open(n,"_blank","noopener")}});else{const k=wl(t,"Incrustar");k!=null&&g.push(k)}dy()&&g.push({icon:"ti ti-share",text:"Comparteix",action:w}),(D.s["experimental.enableWebTranslatorApi"]&&yl||A.policies.canUseTranslator&&re.translatorAvailable)&&g.push({icon:"ti ti-language-hiragana",text:"Traduir ",action:y}),g.push({type:"divider"}),g.push(x.then(k=>k.isFavorited?{icon:"ti ti-star-off",text:"Eliminar dels preferits",action:()=>s(!1)}:{icon:"ti ti-star",text:"Afegeix als preferits",action:()=>s(!0)})),g.push({type:"parent",icon:"ti ti-paperclip",text:"Retalls",children:()=>Nc(e)}),g.push(x.then(k=>k.isMutedThread?{icon:"ti ti-message-off",text:"Deixar de silenciar el fil",action:()=>r(!1)}:{icon:"ti ti-message-off",text:"Silenciar el fil",action:()=>r(!0)})),t.userId===A.id&&((A.pinnedNoteIds??[]).includes(t.id)?g.push({icon:"ti ti-pinned-off",text:"Para de fixar del perfil",action:()=>f(!1)}):g.push({icon:"ti ti-pin",text:"Fixa al perfil",action:()=>f(!0)})),g.push({type:"parent",icon:"ti ti-user",text:"Usuaris",children:async()=>{const k=t.userId===A?.id?A:await se("users/show",{userId:t.userId}),{menu:_,cleanup:C}=cy(k);return i.push(C),_}}),t.userId!==A.id&&(g.push({type:"divider"}),g.push(jc(t,"Denuncia un abs "))),t.channel&&(t.channel.userId===A.id||A.isModerator||A.isAdmin)&&(g.push({type:"divider"}),g.push({type:"parent",icon:"ti ti-device-tv",text:"Canals",children:async()=>{const k=[],_=await se("channels/show",{channelId:t.channel.id});return _.pinnedNoteIds.includes(t.id)?k.push({icon:"ti ti-pinned-off",text:"Para de fixar del perfil",action:()=>Xe("channels/update",{channelId:t.channel.id,pinnedNoteIds:_.pinnedNoteIds.filter(C=>C!==t.id)})}):k.push({icon:"ti ti-pin",text:"Fixa al perfil",action:()=>Xe("channels/update",{channelId:t.channel.id,pinnedNoteIds:[..._.pinnedNoteIds,t.id]})}),k}})),(t.userId===A.id||A.isModerator||A.isAdmin)&&(g.push({type:"divider"}),t.userId===A.id&&g.push({icon:"ti ti-edit",text:"Eliminar i editar",action:a}),g.push({icon:"ti ti-trash",text:"Elimina",danger:!0,action:o}))}else if(g.push({icon:"ti ti-info-circle",text:"Detalls",action:u},{icon:"ti ti-copy",text:"Copia el contingut",action:l},Wo(t,"Copia l'enlla")),n!=null)g.push({icon:"ti ti-link",text:"Copiar l'enlla remot",action:()=>{lt(n)}},{icon:"ti ti-external-link",text:"Navega ms en el perfil original",action:()=>{window.open(n,"_blank","noopener")}});else{const x=wl(t,"Incrustar");x!=null&&g.push(x)}const p=Ki("note_action");return p.length>0&&(g.push({type:"divider"}),g.push(...p.map(x=>({icon:"ti ti-plug",text:x.title,action:()=>{x.handler(t)}})))),D.s.devMode&&g.push({type:"divider"},{icon:"ti ti-hash",text:"Copiar ID de la nota",action:()=>{lt(t.id)}}),{menu:g,cleanup:()=>{for(const x of i)x()}}}function _l(e,t){return e==="specified"||t==="specified"?"specified":e==="followers"||t==="followers"?"followers":e==="home"||t==="home"?"home":"public"}function fy(e){const t=ua(e.note)??e.note,n=[],i=[],o=[];return t.channel&&n.push({text:"Impulsar noms a un canal",icon:"ti ti-repeat",action:()=>{const s=e.renoteButton.value;if(s&&D.s.animation){const r=s.getBoundingClientRect(),l=r.left+s.offsetWidth/2,f=r.top+s.offsetHeight/2,{dispose:h}=_e(di,{x:l,y:f},{end:()=>h()})}e.mock||se("notes/create",{renoteId:t.id,channelId:t.channelId}).then(r=>{So("S'ha impulsat"),yt.emit("notePosted",r.createdNote)})}},{text:"Citar noms a un canal",icon:"ti ti-quote",action:()=>{e.mock||Pn({renote:t,channel:t.channel})}}),(!t.channel||t.channel.allowRenoteToExternal)&&(i.push({text:"Impulsar",icon:"ti ti-repeat",action:()=>{const s=e.renoteButton.value;if(s&&D.s.animation){const h=s.getBoundingClientRect(),w=h.left+s.offsetWidth/2,u=h.top+s.offsetHeight/2,{dispose:y}=_e(di,{x:w,y:u},{end:()=>y()})}const r=D.s.rememberNoteVisibility?B.s.visibility:D.s.defaultNoteVisibility,l=D.s.rememberNoteVisibility?B.s.localOnly:D.s.defaultNoteLocalOnly;let f=t.visibility;f=_l(f,r),t.channel?.isSensitive&&(f=_l(f,"home")),e.mock||se("notes/create",{localOnly:l,visibility:f,renoteId:t.id}).then(h=>{So("S'ha impulsat"),yt.emit("notePosted",h.createdNote)})}},...e.mock?[]:[{text:"Cita",icon:"ti ti-quote",action:()=>{Pn({renote:t})}}]),o.push({type:"parent",icon:"ti ti-repeat",text:t.channel?"Impulsar a un altre canal":"Impulsar a un canal",children:async()=>(await Lc.fetch()).filter(r=>t.channelId?r.id!==t.channelId:!0).map(r=>({text:r.name,action:()=>{const l=e.renoteButton.value;if(l&&D.s.animation){const f=l.getBoundingClientRect(),h=f.left+l.offsetWidth/2,w=f.top+l.offsetHeight/2,{dispose:u}=_e(di,{x:h,y:w},{end:()=>u()})}e.mock||se("notes/create",{renoteId:t.id,channelId:r.id}).then(f=>{So((({name})=>("Impulsat per "+name+"."))({name:r.name})),yt.emit("notePosted",f.createdNote)})}}))})),{menu:[...i,...n.length>0&&i.length>0?[{type:"divider"}]:[],...n,...o.length>0&&(i.length>0||n.length>0)?[{type:"divider"}]:[],...o]}}const gt=(e,t)=>{const n=Object.assign({showFiles:!0,showPoll:!0,showReply:!0,showRenote:!0},t);if(e==null)return"";if("deletedAt"in e&&e.deletedAt)return`(${"Publicacions eliminades"})`;if("isHidden"in e&&e.isHidden)return`(${"Publicacions amagades"})`;let i="";return e.cw!=null?i+=e.cw:i+=e.text?e.text:"",n.showFiles&&(e.files||[]).length!==0&&(i+=` (${(({n})=>(n+" fitxer(s)"))({n:e.files.length})})`),n.showPoll&&e.poll&&(i+=` (${"Enquesta"})`),n.showReply&&e.replyId&&(e.reply?i+=`

RE: ${gt(e.reply)}`:i+=`

RE: ...`),n.showRenote&&e.renoteId&&(e.renote?i+=`

RN: ${gt(e.renote)}`:i+=`

RN: ...`),i.trim()};function ks(){if(A&&A.movedTo)throw Qe({type:"error",title:"Aquest compte ha sigut migrat",text:"Operaci no permesa "}),new Error("account moved")}const my=["title"],hy={key:0,class:"ti ti-home"},py={key:1,class:"ti ti-lock"},vy={key:2,ref:"specified",class:"ti ti-mail"},gy=["title"],yy=["title"],wy={style:{"container-type":"inline-size"}},by={key:0,style:{opacity:"0.5"}},_y={key:1},xy={key:0,style:{"margin-top":"8px"}},ky={key:2},Ey={key:0,class:"ti ti-heart-filled",style:{color:"var(--MI_THEME-love)"}},Dy={key:1,class:"ti ti-minus",style:{color:"var(--MI_THEME-accent)"}},Cy={key:2,class:"ti ti-heart"},Ay={key:3,class:"ti ti-plus"},Iy={key:2},za=K({__name:"MkNote",props:{note:{},pinned:{type:Boolean},mock:{type:Boolean,default:!1},withHardMute:{type:Boolean}},emits:["reaction","removeReaction"],setup(e,{emit:t}){const n=e;ct(qe.mock,n.mock);const i=t,o=tt("inTimeline",!1),a=tt("tl_withSensitive",F(!0)),s=tt("inChannel",null),r=tt("currentClip",null);let l=sn(n.note);const f=Ki("note_view_interruptor"),h=F(!1);if(f.length>0){let ye=sn(l);for(const ie of f)try{ye=ie.handler(ye)}catch(Ge){console.error(Ge)}ye==null?h.value=!0:l=ye}const w=Xl(l),u=ua(l)??l,{$note:y,subscribe:g}=L0({note:u,parentNote:l,mock:n.mock}),p=de("rootEl"),m=de("menuButton"),x=de("renoteButton"),k=de("renoteTime"),_=de("reactButton"),C=de("clipButton"),T=de("galleryEl"),R=A&&A.id===l.userId,P=F(!1),L=z(()=>u.text?pn.parse(u.text):null),q=z(()=>L.value?ty(L.value).filter(ye=>u.renote?.url!==ye&&u.renote?.uri!==ye):null),G=Zu(u,q.value??[]),Y=F(u.cw==null&&G),ve=F(ae(u,A?.mutedWords)),ne=F(n.withHardMute&&ae(u,A?.hardMutedWords,!0)),ee=z(()=>D.s.showSoftWordMutedWord),xe=F(null),le=F(!1),ge=D.s.instanceTicker==="always"||D.s.instanceTicker==="remote"&&u.user.instance,Re=z(()=>["public","home"].includes(u.visibility)||u.visibility==="followers"&&u.userId===A?.id),Fe=F(D.s.collapseRenotes&&w&&(A&&(A.id===l.userId||A.id===u.userId)||y.myReaction!=null)),ke=z(()=>({type:"lookup",url:`https://${Oe}/notes/${u.id}`}));function ae(ye,ie,Ge=!1){if(ie!=null){const ut=Mo(ye,A,ie);if(Array.isArray(ut))return Ge?ut.length>0:ut;const Je=ye.reply&&Mo(ye.reply,A,ie);if(Array.isArray(Je))return Ge?Je.length>0:Je;const xt=ye.renote&&Mo(ye.renote,A,ie);if(Array.isArray(xt))return Ge?xt.length>0:xt}return Ge?!1:o&&a.value===!1&&ye.files?.some(ut=>ut.isSensitive)?"sensitiveMute":!1}const Ee={r:()=>{Fe.value||Se()},"e|a|plus":()=>{Fe.value||je()},q:()=>{Fe.value||U()},m:()=>{Fe.value||Ce()},c:()=>{Fe.value||D.s.showClipButtonInNoteFooter&&Ne()},o:()=>{Fe.value||T.value?.openGallery()},"v|enter":()=>{Fe.value?Fe.value=!1:u.cw!=null?P.value=!P.value:G&&(Y.value=!Y.value)},esc:{allowRepeat:!0,callback:()=>_t()},"up|k|shift+tab":{allowRepeat:!0,callback:()=>Xn()},"down|j|tab":{allowRepeat:!0,callback:()=>Ut()}};ct(qe.mfmEmojiReactCallback,ye=>{In("reaction"),se("notes/reactions/create",{noteId:u.id,reaction:ye}).then(()=>{Et.emit(`reacted:${u.id}`,{userId:A.id,reaction:ye})})}),n.mock||(pi(x,async ye=>{const Ge=(await se("notes/renotes",{noteId:u.id,limit:11})).map(Je=>Je.user);if(Ge.length<1||x.value==null)return;const{dispose:ut}=_e(V0,{showing:ye,users:Ge,count:u.renoteCount,anchorElement:x.value},{closed:()=>ut()})}),u.reactionAcceptance==="likeOnly"&&pi(_,async ye=>{const Ge=(await fi("notes/reactions",{noteId:u.id,limit:10,_cacheKey_:y.reactionCount})).map(Je=>Je.user);if(Ge.length<1)return;const{dispose:ut}=_e(Sc,{showing:ye,reaction:"",users:Ge,count:y.reactionCount,anchorElement:_.value},{closed:()=>ut()})}));function U(){ii({openOnRemote:ke.value}),ks();const{menu:ye}=fy({note:l,renoteButton:x,mock:n.mock});Ue(ye,x.value),g()}function Se(){ii({openOnRemote:ke.value}),!n.mock&&Pn({reply:u,channel:u.channel}).then(()=>{et()})}function je(){if(ii({openOnRemote:ke.value}),ks(),u.reactionAcceptance==="likeOnly"){if(In("reaction"),n.mock)return;se("notes/reactions/create",{noteId:u.id,reaction:""}).then(()=>{Et.emit(`reacted:${u.id}`,{userId:A.id,reaction:""})});const ye=_.value;if(ye&&D.s.animation){const ie=ye.getBoundingClientRect(),Ge=ie.left+ye.offsetWidth/2,ut=ie.top+ye.offsetHeight/2,{dispose:Je}=_e(di,{x:Ge,y:ut},{end:()=>Je()})}}else _t(),Bc.show(_.value??null,l,async ye=>{if(!(D.s.confirmOnReact&&(await Ze({type:"question",text:(({emoji})=>("Vols reaccionar amb \""+emoji+"\"?"))({emoji:ye.replace("@.","")})})).canceled)){if(In("reaction"),n.mock){i("reaction",ye),y.reactions[ye]=1,y.reactionCount++,y.myReaction=ye;return}se("notes/reactions/create",{noteId:u.id,reaction:ye}).then(()=>{Et.emit(`reacted:${u.id}`,{userId:A.id,reaction:ye})}),u.text&&u.text.length>100&&Date.now()-new Date(u.createdAt).getTime()<1e3*3&&me("reactWithoutRead")}},()=>{et()})}function X(){const ye=y.myReaction;if(ye){if(n.mock){i("removeReaction",ye);return}se("notes/reactions/delete",{noteId:u.id}).then(()=>{Et.emit(`unreacted:${u.id}`,{userId:A.id,reaction:ye})})}}function be(){y.myReaction==null?je():X()}function Ve(ye){if(!n.mock&&!(ye.target&&Ks(ye.target))&&window.getSelection()?.toString()==="")if(D.s.useReactionPickerForContextMenu)ye.preventDefault(),je();else{const{menu:ie,cleanup:Ge}=bl({note:l,translating:le,translation:xe,currentClip:r?.value});ca(ie,ye).then(et).finally(Ge)}}function Ce(){if(n.mock)return;const{menu:ye,cleanup:ie}=bl({note:l,translating:le,translation:xe,currentClip:r?.value});Ue(ye,m.value).then(et).finally(ie)}async function Ne(){n.mock||Ue(await Nc({note:l,currentClip:r?.value}),C.value).then(et)}function it(){if(n.mock)return;function ye(){return{text:"Anulla l'impuls",icon:"ti ti-trash",danger:!0,action:()=>{se("notes/delete",{noteId:l.id}).then(()=>{yt.emit("noteDeleted",l.id)})}}}const ie={type:"link",text:"Ms informaci sobre l'impuls ",icon:"ti ti-info-circle",to:Wt(l)};R?(ii({openOnRemote:ke.value}),Ue([ie,Wo(l,"Copiar l'enlla de la renota"),{type:"divider"},ye()],k.value)):Ue([ie,Wo(l,"Copiar l'enlla de la renota"),{type:"divider"},jc(l,"Denuncia una renota"),...A?.isModerator||A?.isAdmin?[ye()]:[]],k.value)}function et(){p.value?.focus()}function _t(){p.value?.blur()}function Xn(){Nu(p.value)}function Ut(){ju(p.value)}function Rt(ye,ie){ie<0?i("removeReaction",ye):ie>0&&i("reaction",ye)}return(ye,ie)=>{const Ge=Q("MkAvatar"),ut=Q("MkUserName"),Je=Q("MkA"),xt=Q("I18n"),ma=Q("MkTime"),Gn=Q("Mfm"),ha=Q("MkLoading"),Qn=Ye("user-preview"),pa=Ye("hotkey");return!ne.value&&!h.value&&ve.value===!1?te((c(),v("div",{key:0,ref_key:"rootEl",ref:p,class:J(["xcSej",{xj38T:E(D).s.showNoteActionsOnlyHover,xh0dS:E(D).s.skipNoteRender}]),tabindex:"0"},[E(u).replyId&&!Fe.value?(c(),N(h0,{key:0,note:E(u)?.reply??null,class:"xCFgx"},null,8,["note","class"])):M("",!0),e.pinned?(c(),v("div",{key:1,class:"x1Mlp"},[ie[11]||(ie[11]=b("i",{class:"ti ti-pin"},null,-1)),Z(" "+S("Nota fixada"),1)],2)):M("",!0),E(w)?(c(),v("div",{key:2,class:"xBwhh"},[E(l).channel?(c(),v("div",{key:0,class:"xj6M6",style:$e({background:E(l).channel.color})},null,6)):M("",!0),j(Ge,{class:"xf8ll",user:E(l).user,link:"",preview:""},null,8,["class","user"]),ie[14]||(ie[14]=b("i",{class:"ti ti-repeat",style:{"margin-right":"4px"}},null,-1)),j(xt,{src:"Impulsat per {user}",tag:"span",class:"xzyAJ"},{user:H(()=>[te((c(),N(Je,{class:"x8KMZ",to:E(Dn)(E(l).user)},{default:H(()=>[j(ut,{user:E(l).user},null,8,["user"])]),_:1},8,["class","to"])),[[Qn,E(l).userId]])]),_:1},8,["src","class"]),b("div",{class:"xef7n"},[b("button",{ref_key:"renoteTime",ref:k,class:"xj7Ge _button",onMousedown:ie[0]||(ie[0]=fe(pt=>it(),["prevent"]))},[b("i",{class:"ti ti-dots x7jLz"},null,2),j(ma,{time:E(l).createdAt},null,8,["time"])],34),E(l).visibility!=="public"?(c(),v("span",{key:0,style:{"margin-left":"0.5em"},title:{"public":"Pblic ","publicDescription":"La teva nota la podr veure tothom ","home":"Inici","homeDescription":"Publicar noms a la lnia de temps d'Inici ","followers":"Seguidors","followersDescription":"Fes noms visible per als teus seguidors","specified":"Directe","specifiedDescription":"Fer visible noms per alguns usuaris","disableFederation":"Sense federar","disableFederationDescription":"No enviar a altres servidors"}[E(l).visibility]},[E(l).visibility==="home"?(c(),v("i",hy)):E(l).visibility==="followers"?(c(),v("i",py)):E(l).visibility==="specified"?(c(),v("i",vy,null,512)):M("",!0)],8,my)):M("",!0),E(l).localOnly?(c(),v("span",{key:1,style:{"margin-left":"0.5em"},title:"Sense federar"},[...ie[12]||(ie[12]=[b("i",{class:"ti ti-rocket-off"},null,-1)])],8,gy)):M("",!0),E(l).channel?(c(),v("span",{key:2,style:{"margin-left":"0.5em"},title:E(l).channel.name},[...ie[13]||(ie[13]=[b("i",{class:"ti ti-device-tv"},null,-1)])],8,yy)):M("",!0)],2)],2)):M("",!0),E(w)&&E(l).renote==null?(c(),v("div",{key:3,class:"xEdMK"},S("Publicacions eliminades"),3)):Fe.value?(c(),v("div",{key:4,class:"x22gY"},[j(Ge,{class:"xygrl",user:E(u).user,link:"",preview:""},null,8,["class","user"]),j(Gn,{text:E(gt)(E(u)),plain:!0,nowrap:!0,author:E(u).user,nyaize:"respect",class:"x7Nkr",onClick:ie[1]||(ie[1]=pt=>Fe.value=!1)},null,8,["text","author","class"])],2)):(c(),v("article",{key:5,class:"x5yeR",onContextmenu:fe(Ve,["stop"])},[E(u).channel?(c(),v("div",{key:0,class:"xj6M6",style:$e({background:E(u).channel.color})},null,6)):M("",!0),j(Ge,{class:J(["xrEoV",E(D).s.useStickyIcons?"xBZfi":null]),user:E(u).user,link:!e.mock,preview:!e.mock},null,8,["class","user","link","preview"]),b("div",{class:"xDn7E"},[j(Zs,{note:E(u),mini:!0},null,8,["note"]),E(ge)?(c(),N(Z0,{key:0,host:E(u).user.host,instance:E(u).user.instance},null,8,["host","instance"])):M("",!0),b("div",wy,[E(u).cw!=null?(c(),v("p",{key:0,class:"xmqJ1"},[E(u).cw!=""?(c(),N(Gn,{key:0,text:E(u).cw,author:E(u).user,nyaize:"respect",enableEmojiMenu:!0,enableEmojiMenuReaction:!0},null,8,["text","author"])):M("",!0),j(oa,{modelValue:P.value,"onUpdate:modelValue":ie[2]||(ie[2]=pt=>P.value=pt),text:E(u).text,renote:E(u).renote,files:E(u).files,poll:E(u).poll,style:{margin:"4px 0"}},null,8,["modelValue","text","renote","files","poll"])],2)):M("",!0),te(b("div",{class:J([{xhI9l:Y.value}])},[b("div",{class:"x48yH"},[E(u).isHidden?(c(),v("span",by,"("+S("Privat")+")",1)):M("",!0),E(u).replyId?(c(),N(Je,{key:1,class:"x9PYN",to:`/notes/${E(u).replyId}`},{default:H(()=>[...ie[15]||(ie[15]=[b("i",{class:"ti ti-arrow-back-up"},null,-1)])]),_:1},8,["class","to"])):M("",!0),E(u).text?(c(),N(Gn,{key:2,parsedNodes:L.value,text:E(u).text,author:E(u).user,nyaize:"respect",emojiUrls:E(u).emojis,enableEmojiMenu:!0,enableEmojiMenuReaction:!0,class:"_selectable"},null,8,["parsedNodes","text","author","emojiUrls"])):M("",!0),le.value||xe.value?(c(),v("div",{key:3,class:"xdVKf"},[le.value?(c(),N(ha,{key:0,mini:""})):xe.value?(c(),v("div",_y,[b("b",null,S((({x})=>("Tradut del "+x))({x:xe.value.sourceLang}))+": ",1),j(Gn,{text:xe.value.text,author:E(u).user,nyaize:"respect",emojiUrls:E(u).emojis,class:"_selectable"},null,8,["text","author","emojiUrls"])])):M("",!0)],2)):M("",!0)],2),E(u).files&&E(u).files.length>0?(c(),v("div",xy,[j(nc,{ref_key:"galleryEl",ref:T,mediaList:E(u).files},null,8,["mediaList"])])):M("",!0),E(u).poll?(c(),N(oc,{key:1,noteId:E(u).id,multiple:E(u).poll.multiple,expiresAt:E(u).poll.expiresAt,choices:E(y).pollChoices,author:E(u).user,emojiUrls:E(u).emojis,class:"xhbgE"},null,8,["noteId","multiple","expiresAt","choices","author","emojiUrls","class"])):M("",!0),E(rr)?(c(),v("div",ky,[(c(!0),v(pe,null,ze(q.value,pt=>(c(),N(Rc,{key:pt,url:pt,compact:!0,detail:!1,class:"x2YhS"},null,8,["url","class"]))),128))])):M("",!0),E(u).renoteId?(c(),v("div",{key:3,class:"xnihJ"},[j(ps,{note:E(u)?.renote??null,class:"xChvz"},null,8,["note","class"])],2)):M("",!0),E(G)&&Y.value?(c(),v("button",{key:4,class:"x2bwI _button",onClick:ie[3]||(ie[3]=pt=>Y.value=!1)},[b("span",{class:"x3Iwx"},S("Veure ms"),3)],2)):E(G)&&!Y.value?(c(),v("button",{key:5,class:"xEQOd _button",onClick:ie[4]||(ie[4]=pt=>Y.value=!0)},[b("span",{class:"x2fj3"},S("Mostrar menys"),3)],2)):M("",!0)],2),[[Ft,E(u).cw==null||P.value]]),E(u).channel&&!E(s)?(c(),N(Je,{key:1,class:"xww2J",to:`/channels/${E(u).channel.id}`},{default:H(()=>[ie[16]||(ie[16]=b("i",{class:"ti ti-device-tv"},null,-1)),Z(" "+S(E(u).channel.name),1)]),_:1},8,["class","to"])):M("",!0)]),E(u).reactionAcceptance!=="likeOnly"?(c(),N(N0,{key:1,style:{"margin-top":"6px"},reactions:E(y).reactions,reactionEmojis:E(y).reactionEmojis,myReaction:E(y).myReaction,noteId:E(u).id,maxNumber:16,onMockUpdateMyReaction:Rt},{more:H(()=>[j(Je,{to:`/notes/${E(u).id}/reactions`,class:"xtdbC"},{default:H(()=>[Z(S("Ms"),1)]),_:1},8,["to","class"])]),_:1},8,["reactions","reactionEmojis","myReaction","noteId"])):M("",!0),b("footer",{class:"xhAPG"},[b("button",{class:"xviCy _button",onClick:ie[5]||(ie[5]=pt=>Se())},[ie[17]||(ie[17]=b("i",{class:"ti ti-arrow-back-up"},null,-1)),E(u).repliesCount>0?(c(),v("p",{key:0,class:"xt1qp"},S(E(Ni)(E(u).repliesCount)),3)):M("",!0)],2),Re.value?(c(),v("button",{key:0,ref_key:"renoteButton",ref:x,class:"xviCy _button",onMousedown:ie[6]||(ie[6]=fe(pt=>U(),["prevent"]))},[ie[18]||(ie[18]=b("i",{class:"ti ti-repeat"},null,-1)),E(u).renoteCount>0?(c(),v("p",{key:0,class:"xt1qp"},S(E(Ni)(E(u).renoteCount)),3)):M("",!0)],34)):(c(),v("button",{key:1,class:"xviCy _button",disabled:""},[...ie[19]||(ie[19]=[b("i",{class:"ti ti-ban"},null,-1)])],2)),b("button",{ref_key:"reactButton",ref:_,class:"xviCy _button",onClick:ie[7]||(ie[7]=pt=>be())},[E(u).reactionAcceptance==="likeOnly"&&E(y).myReaction!=null?(c(),v("i",Ey)):E(y).myReaction!=null?(c(),v("i",Dy)):E(u).reactionAcceptance==="likeOnly"?(c(),v("i",Cy)):(c(),v("i",Ay)),(E(u).reactionAcceptance==="likeOnly"||E(D).s.showReactionsCount)&&E(y).reactionCount>0?(c(),v("p",{key:4,class:"xt1qp"},S(E(Ni)(E(y).reactionCount)),3)):M("",!0)],2),E(D).s.showClipButtonInNoteFooter?(c(),v("button",{key:2,ref_key:"clipButton",ref:C,class:"xviCy _button",onMousedown:ie[8]||(ie[8]=fe(pt=>Ne(),["prevent"]))},[...ie[20]||(ie[20]=[b("i",{class:"ti ti-paperclip"},null,-1)])],34)):M("",!0),b("button",{ref_key:"menuButton",ref:m,class:"xviCy _button",onMousedown:ie[9]||(ie[9]=fe(pt=>Ce(),["prevent"]))},[...ie[21]||(ie[21]=[b("i",{class:"ti ti-dots"},null,-1)])],34)],2)],2)],34))],2)),[[pa,Ee]]):!ne.value&&!h.value?(c(),v("div",{key:1,class:"xkYCV",onClick:ie[10]||(ie[10]=pt=>ve.value=!1)},[ve.value==="sensitiveMute"?(c(),N(xt,{key:0,src:"La publicaci de {name} conte material sensible",tag:"small"},{name:H(()=>[te((c(),N(Je,{to:E(Dn)(E(u).user)},{default:H(()=>[j(ut,{user:E(u).user},null,8,["user"])]),_:1},8,["to"])),[[Qn,E(u).userId]])]),_:1},8,["src"])):ee.value!==!0?(c(),N(xt,{key:1,src:"{name} n'ha dit alguna cosa",tag:"small"},{name:H(()=>[te((c(),N(Je,{to:E(Dn)(E(u).user)},{default:H(()=>[j(ut,{user:E(u).user},null,8,["user"])]),_:1},8,["to"])),[[Qn,E(u).userId]])]),_:1},8,["src"])):(c(),N(xt,{key:2,src:"{name} est parlant sobre \"{word}\"",tag:"small"},{name:H(()=>[te((c(),N(Je,{to:E(Dn)(E(u).user)},{default:H(()=>[j(ut,{user:E(u).user},null,8,["user"])]),_:1},8,["to"])),[[Qn,E(u).userId]])]),word:H(()=>[Z(S(Array.isArray(ve.value)?ve.value.map(pt=>Array.isArray(pt)?pt.join():pt).slice(0,3).join(" "):ve.value),1)]),_:1},8,["src"]))],2)):(c(),v("div",Iy))}}});function Jo(e){const t=e.getDate();return`${(e.getMonth()+1).toString()}/${t.toString()}`}function Ty(e,t){if(e==null||t==null)return!1;const n=new Date(e),i=new Date(t);return n.getFullYear()!==i.getFullYear()||n.getMonth()!==i.getMonth()||n.getDate()!==i.getDate()}function xl(e,t){if(e==null||t==null)return null;const n=new Date(e),i=new Date(t);return{prevDate:n,prevText:Jo(n),nextDate:i,nextText:Jo(i)}}function Xx(e){return z(()=>{const t=[];for(let n=0;n<e.value.length;n++){const i=e.value[n],o=new Date(i.createdAt),a=e.value[n+1]?new Date(e.value[n+1].createdAt):null;t.push({id:i.id,type:"item",data:i}),n!==e.value.length-1&&a!=null&&(o.getFullYear()!==a.getFullYear()||o.getMonth()!==a.getMonth()||o.getDate()!==a.getDate())&&t.push({id:`date-${i.id}`,type:"date",prev:o,prevText:Jo(o),next:a,nextText:Jo(a)})}return t})}function Gx(e,t="day"){return z(()=>{const n=[];for(let i=0;i<e.value.length;i++){const o=e.value[i],a=new Date(o.createdAt);e.value[i+1]&&new Date(e.value[i+1].createdAt),(n.length===0||t==="day"&&n[n.length-1].date.getTime()!==a.getTime()||t==="month"&&(n[n.length-1].date.getFullYear()!==a.getFullYear()||n[n.length-1].date.getMonth()!==a.getMonth()))&&n.push({date:a,items:[]}),n[n.length-1].items.push(o)}return n})}const kl=30,Ha=100,Ei=15,El=30;class tn{items;queuedAheadItemsCount=F(0);fetching=F(!0);fetchingOlder=F(!1);fetchingNewer=F(!1);canFetchOlder=F(!1);canFetchNewer=F(!1);canSearch=!1;error=F(!1);endpoint;limit;params;computedParams;initialId=null;initialDate=null;initialDirection;offsetMode;noPaging;searchQuery=F("");searchParamName;canFetchDetection=null;aheadQueue=[];useShallowRef;order;constructor(t,n){this.endpoint=t,this.useShallowRef=n.useShallowRef??!1,this.useShallowRef?this.items=jt([]):this.items=F([]),this.limit=n.limit??Ei,this.params=n.params??{},this.computedParams=n.computedParams??null,this.order=F(n.order??"newest"),this.initialId=n.initialId??null,this.initialDate=n.initialDate??null,this.initialDirection=n.initialDirection??"older",this.canFetchDetection=n.canFetchDetection??null,this.noPaging=n.noPaging??!1,this.offsetMode=n.offsetMode??!1,this.canSearch=n.canSearch??!1,this.searchParamName=n.searchParamName??"search",this.getNewestId=this.getNewestId.bind(this),this.getOldestId=this.getOldestId.bind(this),this.init=this.init.bind(this),this.reload=this.reload.bind(this),this.fetchOlder=this.fetchOlder.bind(this),this.fetchNewer=this.fetchNewer.bind(this),this.unshiftItems=this.unshiftItems.bind(this),this.pushItems=this.pushItems.bind(this),this.prepend=this.prepend.bind(this),this.enqueue=this.enqueue.bind(this),this.releaseQueue=this.releaseQueue.bind(this),this.removeItem=this.removeItem.bind(this),this.updateItem=this.updateItem.bind(this)}getNewestId(){return this.aheadQueue.length>0?this.aheadQueue.map(t=>t.id).sort().at(-1):this.items.value.map(t=>t.id).sort().at(-1)}getOldestId(){return this.items.value.map(t=>t.id).sort().at(0)}async init(){this.items.value=[],this.aheadQueue=[],this.queuedAheadItemsCount.value=0,this.fetching.value=!0;const t={...typeof this.params=="function"?this.params():this.params,...this.computedParams?this.computedParams.value:{},...this.searchQuery.value!=null&&this.searchQuery.value.trim()!==""?{[this.searchParamName]:this.searchQuery.value}:{},limit:this.limit??Ei,allowPartial:!0,...this.initialId==null&&this.initialDate==null&&this.initialDirection==="newer"?{sinceId:"0"}:this.initialDirection==="newer"?{sinceId:this.initialId??void 0,sinceDate:this.initialDate??void 0}:(this.initialId||this.initialDate)&&this.initialDirection==="older"?{untilId:this.initialId??void 0,untilDate:this.initialDate??void 0}:{}},n=await se(this.endpoint,t).catch(i=>(this.error.value=!0,this.fetching.value=!1,null));if(n!=null){(this.initialId||this.initialDate)&&this.initialDirection==="newer"&&n.reverse();for(let i=0;i<n.length;i++){const o=n[i];i===3&&(o._shouldInsertAd_=!0)}this.pushItems(n),this.canFetchDetection==="limit"?n.length<Ei?(this.initialDirection==="older"?this.canFetchOlder:this.canFetchNewer).value=!1:(this.initialDirection==="older"?this.canFetchOlder:this.canFetchNewer).value=!0:(this.canFetchDetection==="safe"||this.canFetchDetection==null)&&(n.length===0||this.noPaging?(this.initialDirection==="older"?this.canFetchOlder:this.canFetchNewer).value=!1:(this.initialDirection==="older"?this.canFetchOlder:this.canFetchNewer).value=!0),this.error.value=!1,this.fetching.value=!1}}reload(){return this.init()}async fetchOlder(){if(!this.canFetchOlder.value||this.fetching.value||this.fetchingOlder.value||this.items.value.length===0)return;this.fetchingOlder.value=!0;const t={...typeof this.params=="function"?this.params():this.params,...this.computedParams?this.computedParams.value:{},...this.searchQuery.value!=null&&this.searchQuery.value.trim()!==""?{[this.searchParamName]:this.searchQuery.value}:{},limit:El,...this.offsetMode?{offset:this.items.value.length}:{untilId:this.getOldestId()}},n=await se(this.endpoint,t).catch(i=>null);if(this.fetchingOlder.value=!1,n!=null){for(let i=0;i<n.length;i++){const o=n[i];i===10&&(o._shouldInsertAd_=!0)}this.order.value==="oldest"?this.unshiftItems(n.toReversed(),!1):this.pushItems(n),this.canFetchDetection==="limit"?n.length<Ei?this.canFetchOlder.value=!1:this.canFetchOlder.value=!0:(this.canFetchDetection==="safe"||this.canFetchDetection==null)&&(n.length===0?this.canFetchOlder.value=!1:this.canFetchOlder.value=!0)}}async fetchNewer(t={}){this.fetchingNewer.value=!0;const n={...typeof this.params=="function"?this.params():this.params,...this.computedParams?this.computedParams.value:{},...this.searchQuery.value!=null&&this.searchQuery.value.trim()!==""?{[this.searchParamName]:this.searchQuery.value}:{},limit:El,...this.offsetMode?{offset:this.items.value.length}:{sinceId:this.getNewestId()}},i=await se(this.endpoint,n).catch(o=>null);if(this.fetchingNewer.value=!1,i==null||i.length===0){this.canFetchNewer.value=!1;return}t.toQueue?(this.aheadQueue.unshift(...i.toReversed()),this.aheadQueue.length>Ha&&(this.aheadQueue=this.aheadQueue.slice(0,Ha)),this.queuedAheadItemsCount.value=this.aheadQueue.length):this.order.value==="oldest"?this.pushItems(i):this.unshiftItems(i.toReversed(),!1),this.canFetchDetection==="limit"&&(i.length<Ei?this.canFetchNewer.value=!1:this.canFetchNewer.value=!0)}trim(t=!0){this.items.value.length>=kl&&(this.canFetchOlder.value=!0),this.items.value=this.items.value.slice(0,kl),this.useShallowRef&&t&&Nt(this.items)}unshiftItems(t,n=!0){t.length!==0&&(this.items.value.unshift(...t.filter(i=>!this.items.value.some(o=>o.id===i.id))),n&&this.trim(!0),this.useShallowRef&&Nt(this.items))}pushItems(t){t.length!==0&&(this.items.value.push(...t),this.useShallowRef&&Nt(this.items))}prepend(t){this.items.value.some(n=>n.id===t.id)||(this.items.value.unshift(t),this.trim(!1),this.useShallowRef&&Nt(this.items))}enqueue(t){this.aheadQueue.unshift(t),this.aheadQueue.length>Ha&&this.aheadQueue.pop(),this.queuedAheadItemsCount.value=this.aheadQueue.length}releaseQueue(){this.aheadQueue.length!==0&&(this.unshiftItems(this.aheadQueue),this.aheadQueue=[],this.queuedAheadItemsCount.value=0)}removeItem(t){const n=this.items.value.findIndex(i=>i.id===t);n!==-1&&(this.items.value.splice(n,1),this.useShallowRef&&Nt(this.items))}updateItem(t,n){const i=this.items.value.findIndex(o=>o.id===t);if(i!==-1){const o=this.items.value[i];this.items.value[i]=n(o),this.useShallowRef&&Nt(this.items)}}}const My={key:"_empty_"},Fy=["data-scroll-anchor"],Sy=["data-scroll-anchor"],Py=["disabled"],Ry={key:0},wo=1e3*10,By=K({__name:"MkStreamingNotesTimeline",props:{src:{},list:{},antenna:{},channel:{},role:{},sound:{type:Boolean,default:!1},customSound:{default:null},withRenotes:{type:Boolean,default:!0},withReplies:{type:Boolean,default:!1},withSensitive:{type:Boolean,default:!0},onlyFiles:{type:Boolean,default:!1}},setup(e,{expose:t}){const n=e;ct("inTimeline",!0),ct("tl_withSensitive",z(()=>n.withSensitive)),ct("inChannel",z(()=>n.src==="channel"));let i;if(n.src==="antenna")i=rt(new tn("antennas/notes",{computedParams:z(()=>({antennaId:n.antenna})),useShallowRef:!0}));else if(n.src==="home")i=rt(new tn("notes/timeline",{computedParams:z(()=>({withRenotes:n.withRenotes,withFiles:n.onlyFiles?!0:void 0})),useShallowRef:!0}));else if(n.src==="local")i=rt(new tn("notes/local-timeline",{computedParams:z(()=>({withRenotes:n.withRenotes,withReplies:n.withReplies,withFiles:n.onlyFiles?!0:void 0})),useShallowRef:!0}));else if(n.src==="social")i=rt(new tn("notes/hybrid-timeline",{computedParams:z(()=>({withRenotes:n.withRenotes,withReplies:n.withReplies,withFiles:n.onlyFiles?!0:void 0})),useShallowRef:!0}));else if(n.src==="global")i=rt(new tn("notes/global-timeline",{computedParams:z(()=>({withRenotes:n.withRenotes,withFiles:n.onlyFiles?!0:void 0})),useShallowRef:!0}));else if(n.src==="mentions")i=rt(new tn("notes/mentions",{useShallowRef:!0}));else if(n.src==="directs")i=rt(new tn("notes/mentions",{params:{visibility:"specified"},useShallowRef:!0}));else if(n.src==="list")i=rt(new tn("notes/user-list-timeline",{computedParams:z(()=>({withRenotes:n.withRenotes,withFiles:n.onlyFiles?!0:void 0,listId:n.list})),useShallowRef:!0}));else if(n.src==="channel")i=rt(new tn("channels/timeline",{computedParams:z(()=>({channelId:n.channel})),useShallowRef:!0}));else if(n.src==="role")i=rt(new tn("roles/notes",{computedParams:z(()=>({roleId:n.role})),useShallowRef:!0}));else throw new Error("Unrecognized timeline type: "+n.src);We(()=>{i.init(),i.computedParams&&oe(i.computedParams,()=>{i.reload()},{immediate:!1,deep:!0})});function o(){if(a==null||r.value==null)return!0;const _=a.scrollTop,C=r.value.offsetTop-a.offsetTop;return _<=C}let a=null;function s(){o()&&i.releaseQueue()}const r=de("rootEl");oe(r,_=>{if(_&&a==null){if(a=wi(_),a==null)return;a.addEventListener("scroll",s,{passive:!0})}},{immediate:!0}),nt(()=>{a&&a.removeEventListener("scroll",s)});const l=l0();let f=!1;oe(l,()=>{l.value==="hidden"?f=!0:(f=!1,o()&&u())});let h=0;const w=D.s.pollingInterval===1?wo*1.5*1.5:D.s.pollingInterval===2?wo*1.5:(D.s.pollingInterval===3,wo);B.s.realtimeMode||(Gs(async()=>{i.fetchNewer({toQueue:!o()||f})},w,{immediate:!1,afterMounted:!0}),nl("notePosted",_=>{i.fetchNewer({toQueue:!o()||f})})),nl("noteDeleted",_=>{i.removeItem(_)});function u(){i.releaseQueue(),Ou(r.value)}function y(_){h++,re.notesPerOneAd>0&&h%re.notesPerOneAd===0&&(_._shouldInsertAd_=!0),o()&&!f?i.prepend(_):i.enqueue(_),n.sound&&(n.customSound?Cc(n.customSound):In(A&&_.userId===A.id?"noteMy":"note"))}const g=B.s.realtimeMode?hi():null,p={antenna:null,homeTimeline:null,localTimeline:null,hybridTimeline:null,globalTimeline:null,main:null,userList:null,channel:null,roleTimeline:null};function m(){if(g!=null){if(n.src==="antenna"){if(n.antenna==null)return;p.antenna=g.useChannel("antenna",{antennaId:n.antenna}),p.antenna.on("note",y)}else if(n.src==="home")p.homeTimeline=g.useChannel("homeTimeline",{withRenotes:n.withRenotes,withFiles:n.onlyFiles?!0:void 0}),p.main=g.useChannel("main"),p.homeTimeline.on("note",y);else if(n.src==="local")p.localTimeline=g.useChannel("localTimeline",{withRenotes:n.withRenotes,withReplies:n.withReplies,withFiles:n.onlyFiles?!0:void 0}),p.localTimeline.on("note",y);else if(n.src==="social")p.hybridTimeline=g.useChannel("hybridTimeline",{withRenotes:n.withRenotes,withReplies:n.withReplies,withFiles:n.onlyFiles?!0:void 0}),p.hybridTimeline.on("note",y);else if(n.src==="global")p.globalTimeline=g.useChannel("globalTimeline",{withRenotes:n.withRenotes,withFiles:n.onlyFiles?!0:void 0}),p.globalTimeline.on("note",y);else if(n.src==="mentions")p.main=g.useChannel("main"),p.main.on("mention",y);else if(n.src==="directs"){const _=C=>{C.visibility==="specified"&&y(C)};p.main=g.useChannel("main"),p.main.on("mention",_)}else if(n.src==="list"){if(n.list==null)return;p.userList=g.useChannel("userList",{withRenotes:n.withRenotes,withFiles:n.onlyFiles?!0:void 0,listId:n.list}),p.userList.on("note",y)}else if(n.src==="channel"){if(n.channel==null)return;p.channel=g.useChannel("channel",{channelId:n.channel}),p.channel.on("note",y)}else if(n.src==="role"){if(n.role==null)return;p.roleTimeline=g.useChannel("roleTimeline",{roleId:n.role}),p.roleTimeline.on("note",y)}}}function x(){for(const _ in p){const C=p[_];C!=null&&(C.dispose(),p[_]=null)}}B.s.realtimeMode&&m(),oe(()=>[n.list,n.antenna,n.channel,n.role,n.withRenotes],()=>{B.s.realtimeMode&&(x(),m())}),oe(()=>n.withSensitive,k),nt(()=>{x()});function k(){return new Promise(_=>{h=0,i.reload().then(()=>{_()})})}return t({reloadTimeline:k}),(_,C)=>{const T=Q("MkLoading"),R=Q("MkError"),P=Q("MkResult"),L=Q("MkAd"),q=Ye("appear");return c(),N(Ct(E(D).s.enablePullToRefresh?f0:"div"),{refresher:()=>k()},{default:H(()=>[E(i).fetching.value?(c(),N(T,{key:0})):E(i).error.value?(c(),N(R,{key:1,onRetry:C[0]||(C[0]=G=>E(i).init())})):E(i).items.value.length===0?(c(),v("div",My,[Ae(_.$slots,"empty",{},()=>[j(P,{type:"empty",text:"Cap nota"},null,8,["text"])])])):(c(),v("div",{key:3,ref_key:"rootEl",ref:r},[E(i).queuedAheadItemsCount.value>0?(c(),v("div",{key:0,class:"xAyqj"},[b("div",{class:"xbNtq"},null,2),b("div",{class:"xiWub"},null,2),b("button",{class:"_button xjmMS",onClick:C[1]||(C[1]=G=>u())},[C[3]||(C[3]=b("i",{class:"ti ti-circle-arrow-up"},null,-1)),Z(" "+S("Notes noves"),1)],2)],2)):M("",!0),(c(),N(Ct(E(D).s.animation?Gi:"div"),{class:"xi81h",enterActiveClass:"x8i36",leaveActiveClass:"xhXb8",enterFromClass:"x7MtE",leaveToClass:"xBYwE",moveClass:"x9PAQ",tag:"div"},{default:H(()=>[(c(!0),v(pe,null,ze(E(i).items.value,(G,Y)=>(c(),v(pe,{key:G.id},[Y>0&&E(Ty)(E(i).items.value[Y-1].createdAt,G.createdAt)?(c(),v("div",{key:0,"data-scroll-anchor":G.id},[b("div",{class:"xpWm6"},[b("span",null,[C[4]||(C[4]=b("i",{class:"ti ti-chevron-up"},null,-1)),Z(" "+S(E(xl)(E(i).items.value[Y-1].createdAt,G.createdAt)?.prevText),1)]),C[6]||(C[6]=b("span",{style:{height:"1em",width:"1px",background:"var(--MI_THEME-divider)"}},null,-1)),b("span",null,[Z(S(E(xl)(E(i).items.value[Y-1].createdAt,G.createdAt)?.nextText)+" ",1),C[5]||(C[5]=b("i",{class:"ti ti-chevron-down"},null,-1))])],2),j(za,{class:"xqOFi",note:G,withHardMute:!0},null,8,["class","note"])],8,Fy)):G._shouldInsertAd_?(c(),v("div",{key:1,"data-scroll-anchor":G.id},[j(za,{class:"xqOFi",note:G,withHardMute:!0},null,8,["class","note"]),b("div",{class:"xc1Wv"},[j(L,{preferForms:["horizontal","horizontal-big"]})],2)],8,Sy)):(c(),N(za,{key:2,class:"xqOFi",note:G,withHardMute:!0,"data-scroll-anchor":G.id},null,8,["class","note","data-scroll-anchor"]))],64))),128))]),_:1},8,["class","enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass","moveClass"])),te((c(),v("button",{key:"_more_",disabled:E(i).fetchingOlder.value,class:"_button xx9tq",onClick:C[2]||(C[2]=(...G)=>E(i).fetchOlder&&E(i).fetchOlder(...G))},[E(i).fetchingOlder.value?(c(),N(T,{key:1,inline:!0})):(c(),v("div",Ry,S("Carregar ms"),1))],10,Py)),[[Ft,E(i).canFetchOlder.value],[q,E(D).s.enableInfiniteScroll?E(i).fetchOlder:null]])],512))]),_:3},8,["refresher"])}}});const Vc=["home","local","social","global"];function Di(e){return Vc.includes(e)}function qa(e){switch(e){case"home":return"ti ti-home";case"local":return"ti ti-planet";case"social":return"ti ti-universe";case"global":return"ti ti-whirl"}}function Es(e){switch(e){case"home":return A!=null;case"local":return A==null&&re.policies.ltlAvailable||A!=null&&A.policies.ltlAvailable;case"social":return A!=null&&A.policies.ltlAvailable;case"global":return A==null&&re.policies.gtlAvailable||A!=null&&A.policies.gtlAvailable;default:return!1}}function Wa(){return Vc.filter(Es)}function Dl(e){return e==="local"||e==="social"}const $y={class:"_spacer",style:{"--MI_SPACER-w":"800px"}},Cl=K({__name:"timeline",setup(e){const t=de("tlComponent"),n=F(Es("local")?"local":"global"),i=z({get:()=>A?B.r.tl.value.src:n.value,set:_=>y(_)}),o=z({get:()=>B.r.tl.value.filter.withRenotes,set:_=>g("withRenotes",_)}),a=F(B.r.tl.value.filter.withReplies?"withReplies":B.r.tl.value.filter.onlyFiles?"onlyFiles":!1),s=z({get:()=>!A||["local","social"].includes(i.value)&&a.value==="onlyFiles"?!1:B.r.tl.value.filter.withReplies,set:_=>g("withReplies",_)}),r=z({get:()=>["local","social"].includes(i.value)&&a.value==="withReplies"?!1:B.r.tl.value.filter.onlyFiles,set:_=>g("onlyFiles",_)});oe([s,r],([_,C])=>{_?a.value="withReplies":C?a.value="onlyFiles":a.value=!1});const l=z({get:()=>B.r.tl.value.filter.withSensitive,set:_=>g("withSensitive",_)}),f=D.model("showFixedPostForm");async function h(_){const C=await $c.fetch(),T=[...C.map(R=>({type:"link",text:R.name,to:`/timeline/list/${R.id}`})),C.length===0?void 0:{type:"divider"},{type:"link",icon:"ti ti-plus",text:"Crear",to:"/my/lists"}];Ue(T.filter(R=>R!=null),_.currentTarget??_.target)}async function w(_){const C=await xs.fetch(),T=[...C.map(R=>({type:"link",text:R.name,indicate:R.hasUnreadNote,to:`/timeline/antenna/${R.id}`})),C.length===0?void 0:{type:"divider"},{type:"link",icon:"ti ti-plus",text:"Crear",to:"/my/antennas"}];Ue(T.filter(R=>R!=null),_.currentTarget??_.target)}async function u(_){const C=await Lc.fetch(),T=[...C.map(R=>{const P=ce.getItemAsJson(`channelLastReadedAt:${R.id}`)??null,L=P&&R.lastNotedAt?Date.parse(R.lastNotedAt)>P:!!(!P&&R.lastNotedAt);return{type:"link",text:R.name,indicate:L,to:`/channels/${R.id}`}}),C.length===0?void 0:{type:"divider"},{type:"link",icon:"ti ti-plus",text:"Crear",to:"/channels/new"}];Ue(T.filter(R=>R!=null),_.currentTarget??_.target)}function y(_){const C=$o({src:_},B.s.tl);if(_.startsWith("userList:")){const T=_.substring(9);C.userList=D.r.pinnedUserLists.value.find(R=>R.id===T)??null}B.set("tl",C),["local","global"].includes(_)&&(n.value=_)}function g(_,C){if(_!=="withReplies"||A){const T=$o({filter:{[_]:C}},B.s.tl);B.set("tl",T)}}function p(){Di(i.value)&&!Es(i.value)&&(i.value=Wa()[0])}We(()=>{p()}),$n(()=>{p()});const m=z(()=>{const _=[{icon:"ti ti-dots",text:"Opcions",handler:C=>{const T=[];T.push({type:"switch",icon:"ti ti-repeat",text:"Mostrar impulsos",ref:o}),Di(i.value)&&Dl(i.value)&&T.push({type:"switch",icon:"ti ti-messages",text:"Mostrar les respostes a altres a la lnia de temps",ref:s,disabled:r}),T.push({type:"switch",icon:"ti ti-eye-exclamation",text:"Incloure notes amb fitxers sensibles",ref:l},{type:"switch",icon:"ti ti-photo",text:"Noms notes amb adjunts",ref:r,disabled:Di(i.value)&&Dl(i.value)?s:!1},{type:"divider"},{type:"switch",text:"Mostrar el formulari per escriure a l'inici de la lnia de temps",ref:f}),Ue(T,C.currentTarget??C.target)}}];return Yn==="desktop"&&_.unshift({icon:"ti ti-refresh",text:"Actualitzar",handler:C=>{t.value?.reloadTimeline()}}),_}),x=z(()=>[...D.r.pinnedUserLists.value.map(_=>({key:"list:"+_.id,title:_.name,icon:"ti ti-star",iconOnly:!0})),...Wa().map(_=>({key:_,title:{"home":"Inici","local":"Local","social":"Social","global":"Global"}[_],icon:qa(_),iconOnly:!0})),{icon:"ti ti-list",title:"Llistes",iconOnly:!0,onClick:h},{icon:"ti ti-antenna",title:"Antena",iconOnly:!0,onClick:w},{icon:"ti ti-device-tv",title:"Canals",iconOnly:!0,onClick:u}]),k=z(()=>[...Wa().map(_=>({key:_,title:{"home":"Inici","local":"Local","social":"Social","global":"Global"}[_],icon:qa(_),iconOnly:!0}))]);return xc(()=>({title:"Lnia de temps",icon:Di(i.value)?qa(i.value):"ti ti-home"})),(_,C)=>{const T=Q("MkTip"),R=Q("PageWithHeader");return c(),N(R,{tab:i.value,"onUpdate:tab":C[0]||(C[0]=P=>i.value=P),actions:m.value,tabs:E(A)?x.value:k.value,swipable:!0,displayMyAvatar:!0,canOmitTitle:!0},{default:H(()=>[b("div",$y,[E(Di)(i.value)?(c(),N(T,{key:0,k:`tl.${i.value}`,style:{"margin-bottom":"var(--MI-margin)"}},{default:H(()=>[Z(S({"home":"A la lnia de temps d'Inici pots veure les notes dels usuaris que segueixes.","local":"A la lnia de temps Local pots veure les notes de tots els usuaris d'aquest servidor.","social":"La lnia de temps Social mostren les notes de les lnies de temps d'Inici i Local.","global":"A la lnia de temps Global pots veure les notes de tots els servidors connectats."}[i.value]),1)]),_:1},8,["k"])):M("",!0),E(D).r.showFixedPostForm.value?(c(),N(yc,{key:1,class:"xq7ec _panel",fixed:"",style:{"margin-bottom":"var(--MI-margin)"}},null,8,["class"])):M("",!0),(c(),N(By,{ref_key:"tlComponent",ref:t,key:i.value+o.value+s.value+r.value+l.value,class:"xjptQ",src:i.value.split(":")[0],list:i.value.split(":")[1],withRenotes:o.value,withReplies:s.value,withSensitive:l.value,onlyFiles:r.value,sound:!0},null,8,["class","src","list","withRenotes","withReplies","withSensitive","onlyFiles"]))])]),_:1},8,["tab","actions","tabs"])}}});const V=e=>he({loader:e,loadingComponent:ra,errorComponent:r0});function bo(...e){return A?.policies.chatAvailability!=="unavailable"?V(...e):V(()=>I(()=>import("./3iSoGi4ic-CGoH_5Rh.js"),__vite__mapDeps([154,4,3,2,5,6]),import.meta.url))}const Ly=[{name:"index",path:"/",component:A?Cl:V(()=>I(()=>import("./3iSoGi4ic-URuTZv_d.js"),__vite__mapDeps([155,3,2,4,156,70,71,116,117,118,119,157,24,25,158,159,95,96,97,98,99,5,6,100,106,107,160,161,162,163,164]),import.meta.url))},{path:"/timeline",component:Cl},{path:"/@:username/pages/:pageName(*)",component:V(()=>I(()=>import("./3iSoGi4ic-BHC0zHFd.js").then(e=>e.p),__vite__mapDeps([165,2,3,166,4,167,29,168,139,140,141,142,169,11,12,170,171,172]),import.meta.url))},{path:"/@:acct/following",component:V(()=>I(()=>import("./3iSoGi4ic-D-u_0ZZO.js"),__vite__mapDeps([173,2,174,175,176,3,4,177,178,139,140,141,142,179,5,6]),import.meta.url))},{path:"/@:acct/followers",component:V(()=>I(()=>import("./3iSoGi4ic-ZwrQNIU9.js"),__vite__mapDeps([180,2,174,175,176,3,4,177,178,139,140,141,142,179,5,6]),import.meta.url))},{name:"user",path:"/@:acct/:page?",component:V(()=>I(()=>import("./3iSoGi4ic-CAapp7tp.js"),__vite__mapDeps([181,4,3,2,182,5,6]),import.meta.url))},{name:"note",path:"/notes/:noteId/:initialTab?",component:V(()=>I(()=>import("./3iSoGi4ic-a-oDSyyf.js"),__vite__mapDeps([183,2,3,166,4,167,29,168,139,140,141,142,169,184,185,186,187,188,189,190,182,5,6,191]),import.meta.url))},{name:"list",path:"/list/:listId",component:V(()=>I(()=>import("./3iSoGi4ic-BeQZPIQv.js"),__vite__mapDeps([192,4,3,2,167,29,168,5,6,193]),import.meta.url))},{path:"/clips/:clipId",component:V(()=>I(()=>import("./3iSoGi4ic-DyEXmobD.js"),__vite__mapDeps([194,3,184,139,2,4,140,141,142,185,182,5,6,195]),import.meta.url))},{path:"/chat",component:bo(()=>I(()=>import("./3iSoGi4ic-BxIoM1hP.js"),__vite__mapDeps([196,197,2,3,4,198,199,200,201,202,87,88,70,71,203,204,5,6,205]),import.meta.url)),loginRequired:!0},{path:"/chat/user/:userId",component:bo(()=>I(()=>import("./3iSoGi4ic-CddAdY7K.js"),__vite__mapDeps([206,2,197,3,4,198,199,200,201,202,167,29,168,68,69,5,6,207]),import.meta.url)),loginRequired:!0},{path:"/chat/room/:roomId",component:bo(()=>I(()=>import("./3iSoGi4ic-CddAdY7K.js"),__vite__mapDeps([206,2,197,3,4,198,199,200,201,202,167,29,168,68,69,5,6,207]),import.meta.url)),loginRequired:!0},{path:"/chat/messages/:messageId",component:bo(()=>I(()=>import("./3iSoGi4ic-BYe7Kr4L.js"),__vite__mapDeps([208,197,2,3,4,198,199,200,5,6]),import.meta.url)),loginRequired:!0},{path:"/instance-info/:host",component:V(()=>I(()=>import("./3iSoGi4ic-BmbtN6Hh.js"),__vite__mapDeps([209,210,161,2,162,211,188,212,213,214,215,216,217,218,219,220,4,3,167,29,168,139,140,141,142,68,69,5,6,221]),import.meta.url))},{name:"settings",path:"/settings",component:V(()=>I(()=>import("./3iSoGi4ic-NWHBjAyM.js"),__vite__mapDeps([222,4,3,2,223,224,225,5,6,226]),import.meta.url)),loginRequired:!0,children:[{path:"/profile",name:"profile",component:V(()=>I(()=>import("./3iSoGi4ic-C4BbINx0.js"),__vite__mapDeps([227,228,2,229,70,71,126,127,217,218,4,3,68,69,5,6,230]),import.meta.url))},{path:"/avatar-decoration",name:"avatarDecoration",component:V(()=>I(()=>import("./3iSoGi4ic-CtZFI3ph.js"),__vite__mapDeps([231,2,4,3,120,121,5,6,232]),import.meta.url))},{path:"/privacy",name:"privacy",component:V(()=>I(()=>import("./3iSoGi4ic-CKbToE4N.js"),__vite__mapDeps([233,219,2,220,4,3,126,127,234,235,236,237,5,6]),import.meta.url))},{path:"/emoji-palette",name:"emoji-palette",component:V(()=>I(()=>import("./3iSoGi4ic-DMLFIveo.js"),__vite__mapDeps([238,89,2,4,3,70,71,236,237,116,117,118,119,219,220,239,240,5,6,241]),import.meta.url))},{path:"/drive",name:"drive",component:V(()=>I(()=>import("./3iSoGi4ic-9QPBHd0s.js"),__vite__mapDeps([242,124,125,3,115,114,4,2,5,6,70,71,131,217,218,219,220,228,229,210,161,162,211,188,212,213,214,239,240,236,237,243]),import.meta.url))},{path:"/drive/cleaner",name:"drive",component:V(()=>I(()=>import("./3iSoGi4ic-Cx2COe6D.js"),__vite__mapDeps([244,2,139,4,3,140,141,142,103,5,6,245]),import.meta.url))},{path:"/notifications",name:"notifications",component:V(()=>I(()=>import("./3iSoGi4ic-DbWJN266.js"),__vite__mapDeps([246,72,4,3,2,217,218,219,220,70,71,247,236,237,5,6]),import.meta.url))},{path:"/email",name:"email",component:V(()=>I(()=>import("./3iSoGi4ic-C8D1f6QU.js"),__vite__mapDeps([248,219,2,220,234,235,4,3,5,6]),import.meta.url))},{path:"/security",name:"security",component:V(()=>I(()=>import("./3iSoGi4ic-Dcgi7mBa.js"),__vite__mapDeps([249,97,219,2,220,70,71,4,3,126,127,139,140,141,142,236,237,5,6,250]),import.meta.url))},{path:"/preferences",name:"preferences",component:V(()=>I(()=>import("./3iSoGi4ic-CBS9K6fQ.js"),__vite__mapDeps([251,3,116,117,2,118,119,120,121,70,71,234,235,217,218,4,239,240,236,237,252,5,6]),import.meta.url))},{path:"/theme/install",name:"theme",component:V(()=>I(()=>import("./3iSoGi4ic-DWFfFw4N.js"),__vite__mapDeps([253,254,2,4,3,255,5,6,256,257]),import.meta.url))},{path:"/theme/manage",name:"theme",component:V(()=>I(()=>import("./3iSoGi4ic-B-GERHIA.js"),__vite__mapDeps([258,68,2,4,3,69,5,6]),import.meta.url))},{path:"/theme",name:"theme",component:V(()=>I(()=>import("./3iSoGi4ic-Bleof7Tk.js"),__vite__mapDeps([259,2,3,219,220,217,218,70,71,4,5,6,260]),import.meta.url))},{path:"/navbar",name:"navbar",component:V(()=>I(()=>import("./3iSoGi4ic-Dmp4grLJ.js"),__vite__mapDeps([261,116,117,2,118,119,126,127,11,4,3,12,239,240,5,6,262]),import.meta.url))},{path:"/statusbar",name:"statusbar",component:V(()=>I(()=>import("./3iSoGi4ic-CyYdojz9.js"),__vite__mapDeps([263,116,117,2,118,119,120,121,4,3,70,71,5,6]),import.meta.url))},{path:"/sounds",name:"sounds",component:V(()=>I(()=>import("./3iSoGi4ic-CuonzE3m.js"),__vite__mapDeps([264,120,2,121,4,3,219,220,70,71,239,240,236,237,5,6,265]),import.meta.url))},{path:"/plugin/install",name:"plugin",component:V(()=>I(()=>import("./3iSoGi4ic-CXZTAQyH.js"),__vite__mapDeps([266,254,2,4,3,255,5,6,256,257]),import.meta.url))},{path:"/plugin",name:"plugin",component:V(()=>I(()=>import("./3iSoGi4ic-DIPZerol.js"),__vite__mapDeps([267,217,2,218,219,220,70,71,236,237,4,3,5,6,268]),import.meta.url))},{path:"/account-data",name:"account-data",component:V(()=>I(()=>import("./3iSoGi4ic-A8iqpEr4.js"),__vite__mapDeps([269,70,2,71,4,3,236,237,5,6,270]),import.meta.url))},{path:"/mute-block",name:"mute-block",component:V(()=>I(()=>import("./3iSoGi4ic-C_jtyMqd.js"),__vite__mapDeps([271,4,3,2,68,69,139,140,141,142,167,29,168,70,71,236,237,252,5,6,272]),import.meta.url))},{path:"/connect",name:"connect",component:V(()=>I(()=>import("./3iSoGi4ic-B-Njh0xb.js"),__vite__mapDeps([273,139,2,4,3,140,141,142,219,220,217,218,236,237,70,71,5,6]),import.meta.url))},{path:"/apps",name:"connect",component:V(()=>I(()=>import("./3iSoGi4ic-CZLQ9mhp.js"),__vite__mapDeps([274,139,2,4,3,140,141,142,70,71,5,6,275]),import.meta.url))},{path:"/webhook/edit/:webhookId",name:"connect",component:V(()=>I(()=>import("./3iSoGi4ic-tVDA3eO8.js"),__vite__mapDeps([276,219,2,220,4,3,5,6,277]),import.meta.url))},{path:"/webhook/new",name:"connect",component:V(()=>I(()=>import("./3iSoGi4ic-f_j9ws41.js"),__vite__mapDeps([278,219,2,220,4,3,5,6]),import.meta.url))},{path:"/deck",name:"deck",component:V(()=>I(()=>import("./3iSoGi4ic-BVlMKZQY.js"),__vite__mapDeps([279,116,117,2,118,119,120,121,4,3,239,240,252,5,6]),import.meta.url))},{path:"/custom-css",name:"preferences",component:V(()=>I(()=>import("./3iSoGi4ic-DAkLPjCW.js"),__vite__mapDeps([280,254,2,4,3,255,5,6,256,257]),import.meta.url))},{path:"/profiles",name:"profiles",component:V(()=>I(()=>import("./3iSoGi4ic-DUxM-p7P.js"),__vite__mapDeps([281,70,2,71,4,3,5,6]),import.meta.url))},{path:"/accounts",name:"profile",component:V(()=>I(()=>import("./3iSoGi4ic-VsCT76Ke.js"),__vite__mapDeps([282,2,4,3,167,29,168,5,6,283]),import.meta.url))},{path:"/other",name:"other",component:V(()=>I(()=>import("./3iSoGi4ic-D_1qArCf.js"),__vite__mapDeps([284,70,2,71,175,176,3,4,177,178,217,218,126,127,225,285,286,252,5,6,287]),import.meta.url))},{path:"/",component:V(()=>I(()=>import("./3iSoGi4ic-DQHmg0_N.js"),__vite__mapDeps([288,2]),import.meta.url))}]},{path:"/reset-password/:token?",component:V(()=>I(()=>import("./3iSoGi4ic-CGgV3R_Q.js"),__vite__mapDeps([289,4,3,2,5,6]),import.meta.url))},{path:"/signup-complete/:code",component:V(()=>I(()=>import("./3iSoGi4ic-CbDT_kpf.js"),__vite__mapDeps([290,2,4,3,5,6,291]),import.meta.url))},{path:"/verify-email/:code",component:V(()=>I(()=>import("./3iSoGi4ic-GaBJpSod.js"),__vite__mapDeps([292,2,4,3,5,6,293]),import.meta.url))},{path:"/announcements",component:V(()=>I(()=>import("./3iSoGi4ic-CoHQybN7.js"),__vite__mapDeps([294,139,2,4,3,140,141,142,5,6,295]),import.meta.url))},{path:"/announcements/:announcementId",component:V(()=>I(()=>import("./3iSoGi4ic-Dx40Qa9F.js"),__vite__mapDeps([296,2,4,3,5,6,297]),import.meta.url))},{path:"/about",component:V(()=>I(()=>import("./3iSoGi4ic-B4XBlAYR.js"),__vite__mapDeps([298,4,3,2,5,6]),import.meta.url)),hash:"initialTab"},{path:"/contact",component:V(()=>I(()=>import("./3iSoGi4ic-BgR2J6yA.js"),__vite__mapDeps([299,4,3,2,70,71,5,6]),import.meta.url))},{path:"/about-misskey",component:V(()=>I(()=>import("./3iSoGi4ic-DP9OWZQX.js"),__vite__mapDeps([300,3,217,2,218,219,220,301,4,5,6,302]),import.meta.url))},{path:"/invite",name:"invite",component:V(()=>I(()=>import("./3iSoGi4ic-C8L21-Ti.js"),__vite__mapDeps([303,4,3,2,139,140,141,142,304,70,71,305,5,6]),import.meta.url))},{path:"/ads",component:V(()=>I(()=>import("./3iSoGi4ic-CebCGKo5.js"),__vite__mapDeps([306,4,3,2,5,6]),import.meta.url))},{path:"/theme-editor",component:V(()=>I(()=>import("./3iSoGi4ic-0Fiqewa4.js"),__vite__mapDeps([307,3,254,2,4,255,5,6,256,257,68,69,70,71,308]),import.meta.url)),loginRequired:!0},{path:"/roles/:roleId",component:V(()=>I(()=>import("./3iSoGi4ic-kLAq1-Bl.js"),__vite__mapDeps([309,310,175,176,3,4,2,177,178,139,140,141,142,311,5,6]),import.meta.url))},{path:"/user-tags/:tag",component:V(()=>I(()=>import("./3iSoGi4ic-CujOTmdf.js"),__vite__mapDeps([312,310,175,176,3,4,2,177,178,139,140,141,142,311,5,6]),import.meta.url))},{path:"/explore",component:V(()=>I(()=>import("./3iSoGi4ic-BgVq4n3Q.js"),__vite__mapDeps([313,184,139,2,4,3,140,141,142,185,314,315,310,175,176,177,178,311,201,202,285,286,5,6]),import.meta.url)),hash:"initialTab"},{path:"/search",component:V(()=>I(()=>import("./3iSoGi4ic-CbtqwA2C.js"),__vite__mapDeps([316,4,3,2,5,6]),import.meta.url)),query:{q:"query",userId:"userId",username:"username",host:"host",channel:"channel",type:"type",origin:"origin"}},{path:"/authorize-follow",redirect:"/lookup",loginRequired:!0},{path:"/authorize_interaction",redirect:"/lookup",loginRequired:!0},{path:"/lookup",component:V(()=>I(()=>import("./3iSoGi4ic-6u9HiKZD.js"),__vite__mapDeps([317,4,3,2,5,6]),import.meta.url)),loginRequired:!0},{path:"/share",component:V(()=>I(()=>import("./3iSoGi4ic-B-Gau2qz.js"),__vite__mapDeps([318,72,4,3,2,5,6]),import.meta.url)),loginRequired:!0},{path:"/api-console",component:V(()=>I(()=>import("./3iSoGi4ic-D_V3EEd4.js"),__vite__mapDeps([319,68,2,4,3,69,5,6]),import.meta.url)),loginRequired:!0},{path:"/scratchpad",component:V(()=>I(()=>import("./3iSoGi4ic-BFpKLJnA.js"),__vite__mapDeps([320,58,59,60,61,62,11,2,4,3,12,68,69,254,255,5,6,256,257,63,67,70,71,72,73,321]),import.meta.url))},{path:"/preview",component:V(()=>I(()=>import("./3iSoGi4ic-DZflf8bO.js"),__vite__mapDeps([322,3,4,2,117,118,5,6,323]),import.meta.url))},{path:"/auth/:token",component:V(()=>I(()=>import("./3iSoGi4ic-2cx5bJor.js"),__vite__mapDeps([324,4,3,2,96,97,98,99,5,6,325]),import.meta.url))},{path:"/miauth/:session",component:V(()=>I(()=>import("./3iSoGi4ic-D_iezsNB.js"),__vite__mapDeps([326,72,327,2,4,3,328,5,6,329]),import.meta.url)),query:{callback:"callback",name:"name",icon:"icon",permission:"permission"}},{path:"/oauth/authorize",component:V(()=>I(()=>import("./3iSoGi4ic-BDsr-ac4.js"),__vite__mapDeps([330,72,327,2,4,3,328,5,6,331]),import.meta.url))},{path:"/tags/:tag",component:V(()=>I(()=>import("./3iSoGi4ic-ns5i5dTH.js"),__vite__mapDeps([332,184,139,2,4,3,140,141,142,185,5,6,333]),import.meta.url))},{path:"/pages/new",component:V(()=>I(()=>import("./3iSoGi4ic-BYMYX2cv.js"),__vite__mapDeps([334,3,2,4,166,167,29,168,139,140,141,142,169,5,6,335]),import.meta.url)),loginRequired:!0},{path:"/pages/edit/:initPageId",component:V(()=>I(()=>import("./3iSoGi4ic-BYMYX2cv.js"),__vite__mapDeps([334,3,2,4,166,167,29,168,139,140,141,142,169,5,6,335]),import.meta.url)),loginRequired:!0},{path:"/pages",component:V(()=>I(()=>import("./3iSoGi4ic-DQY5_NQ3.js"),__vite__mapDeps([336,170,2,171,139,4,3,140,141,142,5,6]),import.meta.url))},{path:"/play/:id/edit",component:V(()=>I(()=>import("./3iSoGi4ic-BJlAbDXZ.js"),__vite__mapDeps([337,58,59,60,61,4,3,2,68,69,254,255,5,6,256,257,338]),import.meta.url)),loginRequired:!0},{path:"/play/new",component:V(()=>I(()=>import("./3iSoGi4ic-BJlAbDXZ.js"),__vite__mapDeps([337,58,59,60,61,4,3,2,68,69,254,255,5,6,256,257,338]),import.meta.url)),loginRequired:!0},{path:"/play/:id",component:V(()=>I(()=>import("./3iSoGi4ic-CCRU40NK.js"),__vite__mapDeps([339,2,58,59,60,61,3,4,67,68,69,70,71,72,63,73,5,6,340]),import.meta.url))},{path:"/play",component:V(()=>I(()=>import("./3iSoGi4ic-B3iAgDk3.js"),__vite__mapDeps([341,342,2,343,139,4,3,140,141,142,5,6]),import.meta.url))},{path:"/gallery/:postId/edit",component:V(()=>I(()=>import("./3iSoGi4ic-DBLCb-tv.js"),__vite__mapDeps([344,68,2,4,3,69,5,6,345]),import.meta.url)),loginRequired:!0},{path:"/gallery/new",component:V(()=>I(()=>import("./3iSoGi4ic-DBLCb-tv.js"),__vite__mapDeps([344,68,2,4,3,69,5,6,345]),import.meta.url)),loginRequired:!0},{path:"/gallery/:postId",component:V(()=>I(()=>import("./3iSoGi4ic-CxCKNdV_.js"),__vite__mapDeps([346,2,3,11,4,12,139,140,141,142,347,348,5,6,349]),import.meta.url))},{path:"/gallery",component:V(()=>I(()=>import("./3iSoGi4ic-B5N0pgVO.js"),__vite__mapDeps([350,201,2,202,139,4,3,140,141,142,347,348,5,6,351]),import.meta.url))},{path:"/channels/:channelId/edit",component:V(()=>I(()=>import("./3iSoGi4ic-xm7VghdF.js"),__vite__mapDeps([352,353,2,354,4,3,70,71,68,69,5,6,355]),import.meta.url)),loginRequired:!0},{path:"/channels/new",component:V(()=>I(()=>import("./3iSoGi4ic-xm7VghdF.js"),__vite__mapDeps([352,353,2,354,4,3,70,71,68,69,5,6,355]),import.meta.url)),loginRequired:!0},{path:"/channels/:channelId",component:V(()=>I(()=>import("./3iSoGi4ic-Bq217cR7.js"),__vite__mapDeps([356,3,4,2,184,139,140,141,142,185,201,202,5,6,357]),import.meta.url))},{path:"/channels",component:V(()=>I(()=>import("./3iSoGi4ic-Cae8Uk4L.js"),__vite__mapDeps([358,4,3,2,139,140,141,142,116,117,118,119,201,202,5,6,359]),import.meta.url))},{path:"/custom-emojis-manager",component:V(()=>I(()=>import("./3iSoGi4ic-DlK6bKlv.js"),__vite__mapDeps([360,139,2,4,3,140,141,142,361,362,228,229,5,6,363]),import.meta.url))},{path:"/avatar-decorations",name:"avatarDecorations",component:V(()=>I(()=>import("./3iSoGi4ic-7qs7j5r4.js"),__vite__mapDeps([364,4,3,2,5,6,365]),import.meta.url))},{path:"/registry/keys/:domain/:path(*)?",component:V(()=>I(()=>import("./3iSoGi4ic-D5E2dNcA.js"),__vite__mapDeps([366,4,3,2,217,218,219,220,228,229,5,6]),import.meta.url))},{path:"/registry/value/:domain/:path(*)?",component:V(()=>I(()=>import("./3iSoGi4ic-BBq1k81Y.js"),__vite__mapDeps([367,4,3,2,254,255,5,6,256,257,228,229]),import.meta.url))},{path:"/registry",component:V(()=>I(()=>import("./3iSoGi4ic-DFkOKWK3.js"),__vite__mapDeps([368,4,3,2,217,218,219,220,5,6]),import.meta.url))},{path:"/install-extentions",redirect:"/install-extensions",loginRequired:!0},{path:"/install-extensions",component:V(()=>I(()=>import("./3iSoGi4ic-DMGpXLgJ.js"),__vite__mapDeps([369,228,2,229,70,71,4,3,219,220,5,6,370]),import.meta.url)),loginRequired:!0},{path:"/admin/user/:userId",component:V(Kt?()=>I(()=>import("./3iSoGi4ic-Cc7RbAcS.js"),__vite__mapDeps([371,3,210,161,2,162,211,188,212,213,214,215,216,68,4,69,217,218,219,220,70,71,372,139,140,141,142,373,285,286,5,6,374]),import.meta.url):()=>I(()=>import("./3iSoGi4ic-CGoH_5Rh.js"),__vite__mapDeps([154,4,3,2,5,6]),import.meta.url))},{path:"/admin/file/:fileId",component:V(Kt?()=>I(()=>import("./3iSoGi4ic-CytB5RiD.js"),__vite__mapDeps([375,215,2,216,219,220,167,29,168,4,3,5,6,376]),import.meta.url):()=>I(()=>import("./3iSoGi4ic-CGoH_5Rh.js"),__vite__mapDeps([154,4,3,2,5,6]),import.meta.url))},{path:"/admin",component:V(Kt?()=>I(()=>import("./3iSoGi4ic-CUVK8dT_.js"),__vite__mapDeps([377,4,3,2,223,224,378,5,6,379]),import.meta.url):()=>I(()=>import("./3iSoGi4ic-CGoH_5Rh.js"),__vite__mapDeps([154,4,3,2,5,6]),import.meta.url)),children:[{path:"/overview",name:"overview",component:V(()=>I(()=>import("./3iSoGi4ic-BZCXIYTc.js"),__vite__mapDeps([380,2,161,162,4,3,381,29,382,211,167,168,160,383,384,201,202,5,6,385]),import.meta.url))},{path:"/users",name:"users",component:V(()=>I(()=>import("./3iSoGi4ic-D23NmGRE.js"),__vite__mapDeps([386,139,2,4,3,140,141,142,378,167,29,168,188,5,6,387]),import.meta.url))},{path:"/emojis",name:"emojis",component:V(()=>I(()=>import("./3iSoGi4ic-DlK6bKlv.js"),__vite__mapDeps([360,139,2,4,3,140,141,142,361,362,228,229,5,6,363]),import.meta.url))},{path:"/emojis2",name:"emojis2",component:V(()=>I(()=>import("./3iSoGi4ic-D8UJCZq8.js").then(e=>e.c),__vite__mapDeps([388,4,3,2,361,362,70,71,389]),import.meta.url))},{path:"/avatar-decorations",name:"avatarDecorations",component:V(()=>I(()=>import("./3iSoGi4ic-7qs7j5r4.js"),__vite__mapDeps([364,4,3,2,5,6,365]),import.meta.url))},{path:"/federation-job-queue",name:"federationJobQueue",component:V(()=>I(()=>import("./3iSoGi4ic-D79-Jr0i.js"),__vite__mapDeps([390,161,2,162,211,4,3,70,71,5,6,391]),import.meta.url))},{path:"/job-queue",name:"jobQueue",component:V(()=>I(()=>import("./3iSoGi4ic-uyL0VY4c.js"),__vite__mapDeps([392,72,161,2,162,211,4,3,70,71,254,255,5,6,256,257,393,394,53,395]),import.meta.url))},{path:"/files",name:"files",component:V(()=>I(()=>import("./3iSoGi4ic-DBx_n1YO.js"),__vite__mapDeps([396,372,139,2,4,3,140,141,142,188,373,378,5,6]),import.meta.url))},{path:"/federation",name:"federation",component:V(()=>I(()=>import("./3iSoGi4ic-DNCKijjw.js"),__vite__mapDeps([397,139,2,4,3,140,141,142,381,29,382,228,229,5,6,398]),import.meta.url))},{path:"/announcements",name:"announcements",component:V(()=>I(()=>import("./3iSoGi4ic-CNDEVYRH.js"),__vite__mapDeps([399,116,117,2,118,119,4,3,70,71,68,69,5,6]),import.meta.url))},{path:"/ads",name:"ads",component:V(()=>I(()=>import("./3iSoGi4ic-CfLE66D2.js"),__vite__mapDeps([400,68,2,4,3,69,116,117,118,119,70,71,228,229,5,6,401]),import.meta.url))},{path:"/roles/:id/edit",name:"roles",component:V(()=>I(()=>import("./3iSoGi4ic-CCPzcPEu.js"),__vite__mapDeps([402,403,72,4,3,2,353,354,68,69,70,71,120,121,126,127,404,5,6,405]),import.meta.url))},{path:"/roles/new",name:"roles",component:V(()=>I(()=>import("./3iSoGi4ic-CCPzcPEu.js"),__vite__mapDeps([402,403,72,4,3,2,353,354,68,69,70,71,120,121,126,127,404,5,6,405]),import.meta.url))},{path:"/roles/:id",name:"roles",component:V(()=>I(()=>import("./3iSoGi4ic-C-bNmuwy.js"),__vite__mapDeps([406,403,72,4,3,2,353,354,68,69,70,71,120,121,126,127,404,167,29,168,139,140,141,142,5,6,407]),import.meta.url))},{path:"/roles",name:"roles",component:V(()=>I(()=>import("./3iSoGi4ic-DyDRZHSV.js"),__vite__mapDeps([408,70,2,71,120,121,285,4,3,286,201,202,68,69,5,6]),import.meta.url))},{path:"/database",name:"database",component:V(()=>I(()=>import("./3iSoGi4ic-CRtTGSxn.js"),__vite__mapDeps([409,4,3,2,5,6]),import.meta.url))},{path:"/abuses",name:"abuses",component:V(()=>I(()=>import("./3iSoGi4ic-Cz_N528Z.js"),__vite__mapDeps([410,139,2,4,3,140,141,142,70,71,68,69,5,6,411]),import.meta.url))},{path:"/modlog",name:"modlog",component:V(()=>I(()=>import("./3iSoGi4ic--zfDsnvy.js"),__vite__mapDeps([412,72,2,4,3,70,71,393,394,140,141,5,6,413]),import.meta.url))},{path:"/settings",name:"settings",component:V(()=>I(()=>import("./3iSoGi4ic-B1WGHlFG.js"),__vite__mapDeps([414,68,2,4,3,69,228,229,70,71,415,416,116,117,118,119,5,6,417]),import.meta.url))},{path:"/branding",name:"branding",component:V(()=>I(()=>import("./3iSoGi4ic-DUJsmIb_.js"),__vite__mapDeps([418,3,68,2,4,69,353,354,116,117,118,119,5,6,419]),import.meta.url))},{path:"/moderation",name:"moderation",component:V(()=>I(()=>import("./3iSoGi4ic-D_CkSiQB.js"),__vite__mapDeps([420,4,3,2,70,71,68,69,5,6,421]),import.meta.url))},{path:"/email-settings",name:"email-settings",component:V(()=>I(()=>import("./3iSoGi4ic-ClvNE5e8.js"),__vite__mapDeps([422,228,2,229,219,220,4,3,5,6,423]),import.meta.url))},{path:"/object-storage",name:"object-storage",component:V(()=>I(()=>import("./3iSoGi4ic-L8gFzNrz.js"),__vite__mapDeps([424,228,2,229,4,3,5,6,425]),import.meta.url))},{path:"/security",name:"security",component:V(()=>I(()=>import("./3iSoGi4ic-DqmMtA9_.js"),__vite__mapDeps([426,116,117,2,118,119,126,127,4,3,415,416,70,71,120,121,68,69,5,6,427]),import.meta.url))},{path:"/relays",name:"relays",component:V(()=>I(()=>import("./3iSoGi4ic-CN190prK.js"),__vite__mapDeps([428,4,3,2,5,6,429]),import.meta.url))},{path:"/external-services",name:"external-services",component:V(()=>I(()=>import("./3iSoGi4ic-WcPguy1a.js"),__vite__mapDeps([430,4,3,2,70,71,5,6]),import.meta.url))},{path:"/performance",name:"performance",component:V(()=>I(()=>import("./3iSoGi4ic-CUO11S9I.js"),__vite__mapDeps([431,4,3,2,70,71,415,416,5,6]),import.meta.url))},{path:"/invites",name:"invites",component:V(()=>I(()=>import("./3iSoGi4ic-me0QhZ1-.js"),__vite__mapDeps([432,4,3,2,70,71,139,140,141,142,304,305,5,6,433]),import.meta.url))},{path:"/abuse-report-notification-recipient",name:"abuse-report-notification-recipient",component:V(()=>I(()=>import("./3iSoGi4ic-DLCHT8hS.js").then(e=>e.n),__vite__mapDeps([434,4,3,2,435]),import.meta.url))},{path:"/system-webhook",name:"system-webhook",component:V(()=>I(()=>import("./3iSoGi4ic-BaSVjItj.js"),__vite__mapDeps([436,70,2,71,4,3,219,220,437,5,6,438]),import.meta.url))},{path:"/",component:V(()=>I(()=>import("./3iSoGi4ic-DQHmg0_N.js"),__vite__mapDeps([288,2]),import.meta.url))}]},{path:"/my/notifications",component:V(()=>I(()=>import("./3iSoGi4ic-Tq0pbOJD.js"),__vite__mapDeps([439,72,15,2,4,3,16,184,139,140,141,142,185,5,6,440]),import.meta.url)),loginRequired:!0},{path:"/my/favorites",component:V(()=>I(()=>import("./3iSoGi4ic-H5ttdcjt.js"),__vite__mapDeps([441,139,2,4,3,140,141,142,5,6,442]),import.meta.url)),loginRequired:!0},{path:"/my/achievements",component:V(()=>I(()=>import("./3iSoGi4ic--Td5hOgx.js"),__vite__mapDeps([443,444,4,3,2,445,5,6]),import.meta.url)),loginRequired:!0},{path:"/my/drive/folder/:folder",component:V(()=>I(()=>import("./3iSoGi4ic-DFl1OlvJ.js"),__vite__mapDeps([446,102,2,4,3,103,104,5,6]),import.meta.url)),loginRequired:!0},{path:"/my/drive",component:V(()=>I(()=>import("./3iSoGi4ic-DFl1OlvJ.js"),__vite__mapDeps([446,102,2,4,3,103,104,5,6]),import.meta.url)),loginRequired:!0},{path:"/my/drive/file/:fileId",component:V(()=>I(()=>import("./3iSoGi4ic-BXTzuw9N.js"),__vite__mapDeps([447,4,3,2,5,6]),import.meta.url)),loginRequired:!0},{path:"/my/follow-requests",component:V(()=>I(()=>import("./3iSoGi4ic-KwBPQBcQ.js"),__vite__mapDeps([448,139,2,4,3,140,141,142,5,6,449]),import.meta.url)),loginRequired:!0},{path:"/my/lists/:listId",component:V(()=>I(()=>import("./3iSoGi4ic-BtBpfLhD.js"),__vite__mapDeps([450,4,3,2,167,29,168,70,71,139,140,141,142,5,6,451]),import.meta.url)),loginRequired:!0},{path:"/my/lists",component:V(()=>I(()=>import("./3iSoGi4ic-DgbjUbxv.js"),__vite__mapDeps([452,453,2,4,3,5,6,454]),import.meta.url)),loginRequired:!0},{path:"/my/clips",component:V(()=>I(()=>import("./3iSoGi4ic-SvghYmFQ.js"),__vite__mapDeps([455,139,2,4,3,140,141,142,189,190,5,6]),import.meta.url)),loginRequired:!0},{path:"/my/antennas/create",component:V(()=>I(()=>import("./3iSoGi4ic-Cs85pORt.js"),__vite__mapDeps([456,4,3,2,457,68,69,458,5,6]),import.meta.url)),loginRequired:!0},{path:"/my/antennas/:antennaId",component:V(()=>I(()=>import("./3iSoGi4ic-i8eexrsO.js"),__vite__mapDeps([459,457,68,2,4,3,69,458,5,6]),import.meta.url)),loginRequired:!0},{path:"/my/antennas",component:V(()=>I(()=>import("./3iSoGi4ic-Fk3j1ou2.js"),__vite__mapDeps([460,4,3,2,5,6,461]),import.meta.url)),loginRequired:!0},{path:"/timeline/list/:listId",component:V(()=>I(()=>import("./3iSoGi4ic-DAF70st9.js"),__vite__mapDeps([462,4,3,2,5,6,463]),import.meta.url)),loginRequired:!0},{path:"/timeline/antenna/:antennaId",component:V(()=>I(()=>import("./3iSoGi4ic-Cm9BVSd4.js"),__vite__mapDeps([464,4,3,2,5,6,465]),import.meta.url)),loginRequired:!0},{path:"/clicker",component:V(()=>I(()=>import("./3iSoGi4ic-Bhk5gLgV.js"),__vite__mapDeps([466,80,81,2,82,83,3,4,5,6]),import.meta.url)),loginRequired:!0},{path:"/games",component:V(()=>I(()=>import("./3iSoGi4ic-DPCuxcnO.js"),__vite__mapDeps([467,468,469,4,3,2,5,6,470]),import.meta.url)),loginRequired:!1},{path:"/bubble-game",component:V(()=>I(()=>import("./3iSoGi4ic-CV33vZEB.js"),__vite__mapDeps([471,2,468,301,59,60,61,3,160,81,82,4,120,121,5,6,472]),import.meta.url)),loginRequired:!0},{path:"/reversi",component:V(()=>I(()=>import("./3iSoGi4ic-CfFGiCzY.js"),__vite__mapDeps([473,469,70,2,71,4,3,139,140,141,142,5,6,474]),import.meta.url)),loginRequired:!1},{path:"/reversi/g/:gameId",component:V(()=>I(()=>import("./3iSoGi4ic-D6q9bG--.js"),__vite__mapDeps([475,4,3,2,116,117,118,119,70,71,469,476,5,6,477]),import.meta.url)),loginRequired:!1},{path:"/qr",component:V(()=>I(()=>import("./3iSoGi4ic-BRNhSciN.js"),__vite__mapDeps([478,125,3,158,4,2,203,204,5,6,479]),import.meta.url)),loginRequired:!0},{path:"/debug",component:V(()=>I(()=>import("./3iSoGi4ic-Dz35qlw9.js"),__vite__mapDeps([480,4,3,2,5,6]),import.meta.url)),loginRequired:!1},{path:"/redirect-test",redirect:A?`@${A.username}`:"/",loginRequired:!0},{path:"/:(*)",component:V(()=>I(()=>import("./3iSoGi4ic-CGoH_5Rh.js"),__vite__mapDeps([154,4,3,2,5,6]),import.meta.url))}];function Ci(e){try{return decodeURIComponent(e)}catch{return e}}function Al(e){let t=e.path;if(e.params){for(const n in e.params){const i=e.params[n],o=new RegExp(`:${n}(\\?)?`,"g");t=t.replace(o,i?encodeURIComponent(i):"")}t=t.replace(/\/:\w+\?(?=\/|$)/g,"")}if(e.query){const n=new URLSearchParams(e.query).toString();n&&(t+="?"+n)}return e.hash&&(t+="#"+encodeURIComponent(e.hash)),t}function Oy(e){const t=[];e=e.substring(1);for(const n of e.split("/"))if(n.includes(":")){const i=n.substring(0,n.indexOf(":")),o=n.substring(n.indexOf(":")+1),a=o.includes("(*)"),s=o.endsWith("?");t.push({name:o.replace("(*)","").replace("?",""),startsWith:i!==""?i:void 0,wildcard:a,optional:s})}else n.length!==0&&t.push(n);return t}class Ny extends wn{routes;current;currentRef;currentRoute;currentFullPath;isLoggedIn;notFoundPageComponent;redirectCount=0;navHook=null;constructor(t,n,i,o){super(),this.routes=t,this.current=this.resolve(n),this.currentRef=jt(this.current),this.currentRoute=jt(this.current.route),this.currentFullPath=n,this.isLoggedIn=i,this.notFoundPageComponent=o}init(){const t=this.navigate(this.currentFullPath,!1);this.emit("replace",{fullPath:t._parsedRoute.fullPath})}resolve(t){let n=t,i=null,o=null;n[0]==="/"&&(n=n.substring(1)),n.includes("#")&&(o=n.substring(n.indexOf("#")+1),n=n.substring(0,n.indexOf("#"))),n.includes("?")&&(i=n.substring(n.indexOf("?")+1),n=n.substring(0,n.indexOf("?")));const a={fullPath:t,queryString:i,hash:o};function s(l,f){e:for(const h of l){let w=[...f];const u=new Map;t:for(const y of Oy(h.path))if(typeof y=="string")if(y===w[0])w.shift();else continue e;else{if(w[0]==null&&!y.optional)continue e;if(y.wildcard){w.length!==0&&(u.set(y.name,Ci(w.join("/"))),w=[]);break t}else if(y.startsWith){if(w[0]==null||!w[0].startsWith(y.startsWith))continue e;u.set(y.name,Ci(w[0].substring(y.startsWith.length))),w.shift()}else w[0]&&u.set(y.name,Ci(w[0])),w.shift()}if(w.length===0){if(h.children){const y=s(h.children,[]);if(y)return{route:h,props:u,child:y,_parsedRoute:a};continue e}if(h.hash!=null&&o!=null&&u.set(h.hash,Ci(o)),h.query!=null&&i!=null){const y=[...new URLSearchParams(i).entries()].reduce((g,p)=>({...g,[p[0]]:p[1]}),{});for(const g in h.query){const p=h.query[g];y[g]&&u.set(p,Ci(y[g]))}}return{route:h,props:u,_parsedRoute:a}}else if(h.children){const y=s(h.children,w);if(y)return{route:h,props:u,child:y,_parsedRoute:a};continue e}else continue e}return null}const r=n.split("/").filter(l=>l.length!==0);return s(this.routes,r)}navigate(t,n=!0,i=!1){const o=this.currentFullPath;this.currentFullPath=t;const a=this.resolve(this.currentFullPath);if(a==null)throw new Error("no route found for: "+t);for(let s=a;s;s=s.child)if("redirect"in s.route){let r;if(typeof s.route.redirect=="function"?r=s.route.redirect(s.props):r=s.route.redirect+(s._parsedRoute.queryString?"?"+s._parsedRoute.queryString:"")+(s._parsedRoute.hash?"#"+s._parsedRoute.hash:""),i&&this.redirectCount++>10)throw new Error("redirect loop detected");return this.navigate(r,n,!0)}return a.route.loginRequired&&!this.isLoggedIn&&"component"in a.route&&(a.route.component=this.notFoundPageComponent,a.props.set("showLoginPopup",!0)),this.current=a,this.currentRef.value=a,this.currentRoute.value=a.route,n&&a.route.path!=="/:(*)"&&this.emit("change",{beforeFullPath:o,fullPath:t,resolved:a}),this.redirectCount=0,{...a,redirected:i}}getCurrentFullPath(){return this.currentFullPath}push(t,n,i){const o=Al({path:t,params:n?.params,query:n?.query,hash:n?.hash});this.pushByPath(o,i)}replace(t,n){const i=Al({path:t,params:n?.params,query:n?.query,hash:n?.hash});this.replaceByPath(i)}pushByPath(t,n){const i=this.currentFullPath;if(t===i){this.emit("same");return}if(this.navHook&&this.navHook(t,n??void 0))return;const o=this.navigate(t);o.route.path==="/:(*)"?window.location.href=t:this.emit("push",{beforeFullPath:i,fullPath:o._parsedRoute.fullPath,route:o.route,props:o.props})}replaceByPath(t){const n=this.navigate(t);this.emit("replace",{fullPath:n._parsedRoute.fullPath})}useListener(t,n){this.addListener(t,n),Bn(()=>{this.removeListener(t,n)})}}class jy{analytics;constructor(t){t&&(this.analytics=t)}setAnalytics(t){if(this.analytics)throw new Error("Analytics instance already exists.");this.analytics=t}identify(...t){return this.analytics?.identify(...t)??Promise.resolve()}track(...t){return this.analytics?.track(...t)??Promise.resolve()}page(...t){return this.analytics?.page(...t)??Promise.resolve()}user(...t){return this.analytics?.user(...t)??Promise.resolve()}reset(...t){return this.analytics?.reset(...t)??Promise.resolve()}ready(...t){return this.analytics?.ready(...t)??(function(){})}on(...t){return this.analytics?.on(...t)??(function(){})}once(...t){return this.analytics?.once(...t)??(function(){})}getState(...t){return this.analytics?.getState(...t)??Promise.resolve()}get storage(){return this.analytics?.storage??{getItem:()=>null,setItem:()=>{},removeItem:()=>{}}}get plugins(){return this.analytics?.plugins??{enable:(t,n)=>Promise.resolve(n?n():void 0),disable:(t,n)=>Promise.resolve(n?n():void 0)}}}const vi=new jy;async function Vy(e){if(!e.googleAnalyticsMeasurementId)return;const{default:t}=await I(async()=>{const{default:i}=await import("./3iSoGi4ic-BE2A-qwO.js");return{default:i}},[],import.meta.url),n=[];if(e.googleAnalyticsMeasurementId){const{default:i}=await I(async()=>{const{default:o}=await import("./3iSoGi4ic-hbV7jHHJ.js");return{default:o}},[],import.meta.url);n.push(i({measurementIds:[e.googleAnalyticsMeasurementId],debug:!1}))}vi.setAnalytics(t({app:"misskey",version:"2025.12.2",debug:!1,plugins:n}))}function Uc(e){return new Ny(Ly,e,!!A,V(()=>I(()=>import("./3iSoGi4ic-CGoH_5Rh.js"),__vite__mapDeps([154,4,3,2,5,6]),import.meta.url)))}const Pt=Uc(window.location.pathname+window.location.search+window.location.hash);window.addEventListener("popstate",e=>{Pt.replaceByPath(window.location.pathname+window.location.search+window.location.hash)});Pt.addListener("push",e=>{window.history.pushState({},"",e.fullPath)});Pt.addListener("replace",e=>{window.history.replaceState({},"",e.fullPath)});Pt.addListener("change",e=>{vi.page({path:e.fullPath,title:e.fullPath})});Pt.init();function vr(){return tt(qe.router,null)??Pt}const Uy=K({__name:"MkPageWindow",props:{initialPath:{}},emits:["closed"],setup(e,{expose:t,emit:n}){const i=e,o=n,a=Uc(i.initialPath),s=F(null),r=de("windowEl"),l=F([{path:a.getCurrentFullPath()}]),f=z(()=>l.value.length>1?[{icon:"ti ti-arrow-left",title:"Tornar",onClick:p}]:[]),h=z(()=>[{icon:"ti ti-reload",title:"Actualitzar",onClick:m},{icon:"ti ti-player-eject",title:"Mostrar a la pgina ",onClick:k}]),w=F(0);function u(C){const T=C.split("#")[1];return T??null}const y=F(u(i.initialPath));a.addListener("push",C=>{l.value.push({path:C.fullPath})}),a.addListener("replace",C=>{l.value.pop(),l.value.push({path:C.fullPath})}),a.addListener("change",C=>{y.value=u(C.fullPath),vi.page({path:C.fullPath,title:C.fullPath})}),a.init(),ct(qe.router,a),ct(qe.inAppSearchMarkerId,y),kc(C=>{const T=C();s.value=T}),Ec(s),ct("shouldOmitHeaderTitle",!0),ct("shouldHeaderThin",!0);const g=z(()=>[{icon:"ti ti-player-eject",text:"Mostrar a la pgina ",action:k},{icon:"ti ti-window-maximize",text:"Finestra emergent",action:_},{icon:"ti ti-external-link",text:"Obre a una pestanya nova",action:()=>{window.open(ht+a.getCurrentFullPath(),"_blank","noopener"),r.value?.close()}},{icon:"ti ti-link",text:"Copia l'enlla",action:()=>{lt(ht+a.getCurrentFullPath())}}]);function p(){l.value.pop(),a.replaceByPath(l.value.at(-1).path)}function m(){w.value++}function x(){r.value?.close()}function k(){Pt.pushByPath(a.getCurrentFullPath(),"forcePage"),r.value?.close()}function _(){Xg(a.getCurrentFullPath(),r.value?.$el),r.value?.close()}return We(()=>{vi.page({path:i.initialPath,title:i.initialPath}),Ka.value++,Ka.value>=3&&me("open3windows")}),nt(()=>{Ka.value--}),t({close:x}),(C,T)=>{const R=Q("StackingRouterView");return c(),N(Yg,{ref_key:"windowEl",ref:r,initialWidth:500,initialHeight:500,canResize:!0,closeButton:!0,buttonsLeft:f.value,buttonsRight:h.value,contextmenu:g.value,onClosed:T[0]||(T[0]=P=>o("closed"))},{header:H(()=>[s.value?(c(),v(pe,{key:0},[s.value.icon?(c(),v("i",{key:0,class:J(s.value.icon),style:{"margin-right":"0.5em"}},null,2)):M("",!0),b("span",null,S(s.value.title),1)],64)):M("",!0)]),default:H(()=>[b("div",{class:"xyMov _forceShrinkSpacer"},[E(D).s["experimental.stackingRouterView"]?(c(),N(R,{key:w.value.toString()+":stacking",router:E(a)},null,8,["router"])):(c(),N(wc,{key:w.value.toString()+":non-stacking",router:E(a)},null,8,["router"]))],2)]),_:1},8,["buttonsLeft","buttonsRight","contextmenu"])}}});const zy={style:{padding:"16px 24px"}},Hy=K({__name:"MkToast",props:{message:{}},emits:["closed"],setup(e,{emit:t}){const n=t,i=Ln("high"),o=F(!0);return We(()=>{window.setTimeout(()=>{o.value=!1},4e3)}),(a,s)=>(c(),v("div",null,[j(St,{enterActiveClass:E(D).s.animation?"xAk08":"",leaveActiveClass:E(D).s.animation?"xoHyk":"",enterFromClass:E(D).s.animation?"xt2qE":"",leaveToClass:E(D).s.animation?"xaiPV":"",appear:"",onAfterLeave:s[0]||(s[0]=r=>n("closed"))},{default:H(()=>[o.value?(c(),v("div",{key:0,class:"_acrylic x5ckv",style:$e({zIndex:E(i)})},[b("div",zy,S(e.message),1)],6)):M("",!0)]),_:1},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass"])]))}});const qy=["textContent"],Wy=["textContent"],_i=K({__name:"MkDialog",props:{type:{default:"info"},title:{},text:{},input:{},select:{},icon:{},actions:{},showOkButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!1},cancelableByBgClick:{type:Boolean,default:!0},okText:{},cancelText:{}},emits:["done","closed"],setup(e,{emit:t}){const n=e,i=t,o=de("modal"),a=F(n.input?.default??null),s=z(()=>{if(n.input){if(n.input.minLength&&(a.value==null||a.value.length<n.input.minLength))return"charactersBelow";if(n.input.maxLength&&a.value&&a.value.length>n.input.maxLength)return"charactersExceeded"}return null}),{def:r,model:l}=hs({items:z(()=>n.select?.items??[]),initialValue:n.select?.default??null});function f(y,g){i("done",{canceled:y,result:g}),o.value?.close()}async function h(){if(!n.showOkButton)return;const y=n.input?a.value:n.select?l.value:!0;f(!1,y)}function w(){f(!0)}function u(y){y.key==="Enter"&&s.value===null&&(y.preventDefault(),y.stopPropagation(),h())}return(y,g)=>{const p=Q("MkSystemIcon"),m=Q("MkLoading"),x=Q("Mfm");return c(),N(no,{ref_key:"modal",ref:o,preferType:"dialog",zPriority:"high",onClick:g[2]||(g[2]=k=>f(!0)),onClosed:g[3]||(g[3]=k=>i("closed")),onEsc:g[4]||(g[4]=k=>w())},{default:H(()=>[b("div",{class:"xa5A4"},[e.icon?(c(),v("div",{key:0,class:"xd7w2"},[b("i",{class:J(e.icon)},null,2)],2)):!e.input&&!e.select?(c(),v("div",{key:1,class:"xd7w2"},[e.type==="success"?(c(),N(p,{key:0,class:"xyPAY",style:{width:"45px"},type:"success"},null,8,["class"])):e.type==="error"?(c(),N(p,{key:1,class:"xyPAY",style:{width:"45px"},type:"error"},null,8,["class"])):e.type==="warning"?(c(),N(p,{key:2,class:"xyPAY",style:{width:"45px"},type:"warn"},null,8,["class"])):e.type==="info"?(c(),N(p,{key:3,class:"xyPAY",style:{width:"45px"},type:"info"},null,8,["class"])):e.type==="question"?(c(),N(p,{key:4,class:"xyPAY",style:{width:"45px"},type:"question"},null,8,["class"])):e.type==="waiting"?(c(),N(m,{key:5,class:"xyPAY",em:!0},null,8,["class"])):M("",!0)],2)):M("",!0),e.title?(c(),v("header",{key:2,class:"xorK6 _selectable"},[j(x,{text:e.title},null,8,["text"])],2)):M("",!0),e.text?(c(),v("div",{key:3,class:"xtrPf _selectable"},[j(x,{text:e.text},null,8,["text"])],2)):M("",!0),e.input?(c(),N(Ti,{key:4,modelValue:a.value,"onUpdate:modelValue":g[0]||(g[0]=k=>a.value=k),autofocus:"",type:e.input.type||"text",placeholder:e.input.placeholder||void 0,autocomplete:e.input.autocomplete,onKeydown:u},Qd({caption:H(()=>[s.value==="charactersExceeded"?(c(),v("span",{key:0,textContent:S((({current,max})=>("Has arribat al mxim de carcters! Actualment s "+current+" de "+max))({current:a.value?.length??0,max:e.input.maxLength??"NaN"}))},null,8,qy)):s.value==="charactersBelow"?(c(),v("span",{key:1,textContent:S((({current,min})=>("Ets per sota del mnim de carcters! Actualment s "+current+" de "+min))({current:a.value?.length??0,min:e.input.minLength??"NaN"}))},null,8,Wy)):M("",!0)]),_:2},[e.input.type==="password"?{name:"prefix",fn:H(()=>[g[5]||(g[5]=b("i",{class:"ti ti-lock"},null,-1))]),key:"0"}:void 0]),1032,["modelValue","type","placeholder","autocomplete"])):M("",!0),e.select?(c(),N(fs,{key:5,modelValue:E(l),"onUpdate:modelValue":g[1]||(g[1]=k=>Za(l)?l.value=k:null),items:E(r),autofocus:""},null,8,["modelValue","items"])):M("",!0),(e.showOkButton||e.showCancelButton)&&!e.actions?(c(),v("div",{key:6,class:"xDuoJ"},[e.showOkButton?(c(),N(mt,{key:0,"data-cy-modal-dialog-ok":"",inline:"",primary:"",rounded:"",autofocus:!e.input&&!e.select,disabled:s.value!=null,onClick:h},{default:H(()=>[Z(S(e.okText??(e.showCancelButton||e.input||e.select?"OK":"D'acord ")),1)]),_:1},8,["autofocus","disabled"])):M("",!0),e.showCancelButton||e.input||e.select?(c(),N(mt,{key:1,"data-cy-modal-dialog-cancel":"",inline:"",rounded:"",onClick:w},{default:H(()=>[Z(S(e.cancelText??"Cancellar"),1)]),_:1})):M("",!0)],2)):M("",!0),e.actions?(c(),v("div",{key:7,class:"xDuoJ"},[(c(!0),v(pe,null,ze(e.actions,k=>(c(),N(mt,{key:k.text,inline:"",rounded:"",primary:k.primary,danger:k.danger,onClick:()=>{k.callback(),o.value?.close()}},{default:H(()=>[Z(S(k.text),1)]),_:2},1032,["primary","danger","onClick"]))),128))],2)):M("",!0)],2)]),_:1},512)}}});const Jy=["href","target","rel","download"],Ky=["onClick"],Yy=["disabled","onClick"],Xy=["disabled","onMouseenter","onKeydown","onClick"],Gy=["onClick"],Qy=["onMouseenter","onKeydown","onClick"],Zy=["onClick"],ew={key:0},Ja=new WeakMap,zc=K({__name:"MkMenu",props:{items:{},asDrawer:{type:Boolean},align:{},width:{},maxHeight:{}},emits:["close","hide"],setup(e,{emit:t}){const n=he(()=>I(()=>import("./3iSoGi4ic-cMuyXnWh.js"),__vite__mapDeps([481,2,3,4,5,6,482]),import.meta.url)),i=e,o=t,a=Mn,s=tt("isNestingMenu",!1),r=de("itemsEl"),l=F(),f=de("child"),h={"up|k|shift+tab":{allowRepeat:!0,callback:()=>q()},"down|j|tab":{allowRepeat:!0,callback:()=>G()},esc:{allowRepeat:!0,callback:()=>P(!1)}},w=F();let u=Mn||i.asDrawer;oe(()=>i.items,()=>{const le=[...i.items].filter(ge=>ge!==void 0);for(let ge=0;ge<le.length;ge++){const Re=le[ge];"then"in Re&&(le[ge]={type:"pending"},Re.then(Fe=>{l.value?.[ge]&&(l.value[ge]=Fe)}))}l.value=le},{immediate:!0});const y=F(),g=jt();function p(){y.value=null,w.value=null}function m(){p(),P(!0)}let x=null;function k(){x=window.setTimeout(()=>{p()},300)}function _(){x&&window.clearTimeout(x)}async function C(le,ge){const Re=Object.keys(le.options).map(Fe=>{const ke=le.options[Fe];return{type:"radioOption",text:Fe,action:()=>{le.ref=ke},active:z(()=>le.ref===ke)}});i.asDrawer?(Ue(Re,ge.currentTarget??ge.target).finally(()=>{P(!1)}),o("hide")):(g.value=ge.currentTarget??ge.target,y.value=Re,w.value=le)}async function T(le,ge){ge.stopPropagation();const Re=await(async()=>Ja.has(le)?Ja.get(le):typeof le.children=="function"?Promise.resolve(le.children()):le.children)();Ja.set(le,Re),i.asDrawer?(Ue(Re,ge.currentTarget??ge.target).finally(()=>{P(!1)}),o("hide")):(g.value=ge.currentTarget??ge.target,y.value=Re,w.value=le)}function R(le,ge,Re=!0){le(ge),Re&&P(!0)}function P(le=!1){xe(),Be(()=>{p(),o("close",le)})}function L(le){le.disabled!==void 0&&(typeof le.disabled=="boolean"?le.disabled:le.disabled.value)||(le.ref=!le.ref)}function q(){if(ee||!r.value?.contains(window.document.activeElement))return;const le=Array.from(r.value.children).filter(ri),ge=le.findIndex(ke=>ke===window.document.activeElement),Re=ge!==-1&&ge!==0?ge-1:le.length-1;(le.at(Re)??r.value).focus()}function G(){if(ee||!r.value?.contains(window.document.activeElement))return;const le=Array.from(r.value.children).filter(ri),ge=le.findIndex(ke=>ke===window.document.activeElement),Re=ge!==-1&&ge!==le.length-1?ge+1:0;(le.at(Re)??r.value).focus()}const Y=le=>{ee||r.value?.parentElement?.contains(us(le.target))||Be(()=>{r.value!=null&&ri(r.value)&&(r.value.focus({preventScroll:!0}),Be(()=>G()))})},ve=le=>{ee||g.value?.contains(us(le.target))||f.value?.checkHit(le)||p()},ne=()=>{s||window.document.addEventListener("focusin",Y,{passive:!0}),window.document.addEventListener("mousedown",ve,{passive:!0})};let ee=!1;const xe=()=>{ee=!0,s||window.document.removeEventListener("focusin",Y),window.document.removeEventListener("mousedown",ve)};return We(()=>{ne(),s||Be(()=>r.value?.focus({preventScroll:!0}))}),Bn(()=>{xe()}),(le,ge)=>{const Re=Q("MkEllipsis"),Fe=Q("MkAvatar"),ke=Q("MkA"),ae=Q("MkUserName"),Ee=Ye("hotkey");return c(),v("div",{role:"menu",class:J({x7rzo:!0,xkCzm:e.align==="center",xqTmZ:E(a),xoBDM:e.asDrawer,xBCwC:e.width!=null}),onFocusinPassive:fe(()=>{},["stop"])},[te((c(),v("div",{ref_key:"itemsEl",ref:r,tabindex:"0",class:"_popup _shadow xinY1",style:$e({width:e.width&&!e.asDrawer?`${e.width}px`:"",maxHeight:e.maxHeight?`min(${e.maxHeight}px, calc(100dvh - 32px))`:"calc(100dvh - 32px)"}),onKeydown:fe(()=>{},["stop"]),onContextmenu:fe(()=>{},["self","prevent"])},[(c(!0),v(pe,null,ze(l.value??[],U=>(c(),v(pe,null,[U.type==="divider"?(c(),v("div",{key:0,role:"separator",tabindex:"-1",class:"xzo34"},null,2)):U.type==="label"?(c(),v("div",{key:1,role:"menuitem",tabindex:"-1",class:"xpxDN"},[b("span",null,S(U.text),1)],2)):U.type==="pending"?(c(),v("span",{key:2,role:"menuitem",tabindex:"0",class:"xbLwJ xunvs"},[b("span",null,[j(Re)])],2)):U.type==="component"?(c(),v("div",{key:3,role:"menuitem",tabindex:"-1",class:""},[(c(),N(Ct(U.component),Xt({ref_for:!0},U.props),null,16))],2)):U.type==="link"?(c(),N(ke,{key:4,role:"menuitem",tabindex:"0",class:"_button xunvs",to:U.to,onClickPassive:ge[0]||(ge[0]=Se=>P(!0)),onMouseenterPassive:k,onMouseleavePassive:_},{default:H(()=>[U.icon?(c(),v("i",{key:0,class:J(["ti-fw",["xh8pZ",U.icon]])},null,2)):M("",!0),U.avatar?(c(),N(Fe,{key:1,user:U.avatar,class:"xw5W9"},null,8,["user","class"])):M("",!0),b("div",{class:"xD1rz"},[b("div",{class:"xwnRi"},[b("div",{class:"xgh84"},S(U.text),3),U.caption?(c(),v("div",{key:0,class:"xhJ9v"},S(U.caption),3)):M("",!0)],2),U.indicate?(c(),v("span",{key:0,class:"x853c _blink"},[...ge[2]||(ge[2]=[b("i",{class:"_indicatorCircle"},null,-1)])],2)):M("",!0)],2)]),_:2},1032,["class","to"])):U.type==="a"?(c(),v("a",{key:5,role:"menuitem",tabindex:"0",class:"_button xunvs",href:U.href,target:U.target,rel:U.target==="_blank"?"noopener noreferrer":void 0,download:U.download,onClickPassive:ge[1]||(ge[1]=Se=>P(!0)),onMouseenterPassive:k,onMouseleavePassive:_},[U.icon?(c(),v("i",{key:0,class:J(["ti-fw",["xh8pZ",U.icon]])},null,2)):M("",!0),b("div",{class:"xD1rz"},[b("div",{class:"xwnRi"},[b("div",{class:"xgh84"},S(U.text),3),U.caption?(c(),v("div",{key:0,class:"xhJ9v"},S(U.caption),3)):M("",!0)],2),U.indicate?(c(),v("span",{key:0,class:"x853c _blink"},[...ge[3]||(ge[3]=[b("i",{class:"_indicatorCircle"},null,-1)])],2)):M("",!0)],2)],42,Jy)):U.type==="user"?(c(),v("button",{key:6,role:"menuitem",tabindex:"0",class:J(["_button","xunvs",{x3tcY:U.active}]),onClick:fe(Se=>U.active?P(!1):R(U.action,Se),["prevent"]),onMouseenterPassive:k,onMouseleavePassive:_},[j(Fe,{user:U.user,class:"xw5W9"},null,8,["user","class"]),j(ae,{user:U.user},null,8,["user"]),U.indicate?(c(),v("div",{key:0,class:"xD1rz"},[b("span",{class:"x853c _blink"},[...ge[4]||(ge[4]=[b("i",{class:"_indicatorCircle"},null,-1)])],2)],2)):M("",!0)],42,Ky)):U.type==="switch"?(c(),v("button",{key:7,role:"menuitemcheckbox",tabindex:"0",class:"_button xunvs",disabled:E(U.disabled),onClick:fe(Se=>L(U),["prevent"]),onMouseenterPassive:k,onMouseleavePassive:_},[U.icon?(c(),v("i",{key:0,class:J(["ti-fw",["xh8pZ",U.icon]])},null,2)):(c(),N(ms,{key:1,class:"xEbZQ",checked:U.ref,disabled:U.disabled,onToggle:Se=>L(U)},null,8,["class","checked","disabled","onToggle"])),b("div",{class:"xD1rz"},[b("div",{class:J(["xwnRi",{xzElu:!U.icon}])},[b("div",{class:"xgh84"},S(U.text),3),U.caption?(c(),v("div",{key:0,class:"xhJ9v"},S(U.caption),3)):M("",!0)],2),U.icon?(c(),N(ms,{key:0,class:"xEbZQ xzypW",checked:U.ref,disabled:U.disabled,onToggle:Se=>L(U)},null,8,["class","checked","disabled","onToggle"])):M("",!0)],2)],42,Yy)):U.type==="radio"?(c(),v("button",{key:8,role:"menuitem",tabindex:"0",class:J(["_button","xunvs","xlXev",{x3tcY:w.value===U}]),disabled:E(U.disabled),onMouseenter:fe(Se=>E(u)?null:C(U,Se),["prevent"]),onKeydown:Bo(fe(Se=>E(u)?null:C(U,Se),["prevent"]),["enter"]),onClick:fe(Se=>E(u)?C(U,Se):null,["prevent"])},[U.icon?(c(),v("i",{key:0,class:J(["ti-fw",["xh8pZ",U.icon]]),style:{"pointer-events":"none"}},null,2)):M("",!0),b("div",{class:"xD1rz"},[b("div",{class:"xwnRi",style:{"pointer-events":"none"}},[b("div",{class:"xgh84"},S(U.text),3),U.caption?(c(),v("div",{key:0,class:"xhJ9v"},S(U.caption),3)):M("",!0)],2),b("span",{class:"xzypW",style:{"pointer-events":"none"}},[...ge[5]||(ge[5]=[b("i",{class:"ti ti-chevron-right ti-fw"},null,-1)])],2)],2)],42,Xy)):U.type==="radioOption"?(c(),v("button",{key:9,role:"menuitemradio",tabindex:"0",class:J(["_button","xunvs","x3wP5",{x3tcY:E(U.active)}]),onClick:fe(Se=>E(U.active)?null:R(U.action,Se,!1),["prevent"]),onMouseenterPassive:k,onMouseleavePassive:_},[b("div",{class:"xh8pZ"},[b("span",{class:J(["xkpm0",{x5sBw:E(U.active)}])},null,2)],2),b("div",{class:"xD1rz"},[b("div",{class:"xwnRi"},[b("div",{class:"xgh84"},S(U.text),3),U.caption?(c(),v("div",{key:0,class:"xhJ9v"},S(U.caption),3)):M("",!0)],2)],2)],42,Gy)):U.type==="parent"?(c(),v("button",{key:10,role:"menuitem",tabindex:"0",class:J(["_button","xunvs","xlXev",{x3tcY:w.value===U}]),onMouseenter:fe(Se=>E(u)?null:T(U,Se),["prevent"]),onKeydown:Bo(fe(Se=>E(u)?null:T(U,Se),["prevent"]),["enter"]),onClick:fe(Se=>E(u)?T(U,Se):null,["prevent"])},[U.icon?(c(),v("i",{key:0,class:J(["ti-fw",["xh8pZ",U.icon]]),style:{"pointer-events":"none"}},null,2)):M("",!0),b("div",{class:"xD1rz"},[b("div",{class:"xwnRi",style:{"pointer-events":"none"}},[b("div",{class:"xgh84"},S(U.text),3),U.caption?(c(),v("div",{key:0,class:"xhJ9v"},S(U.caption),3)):M("",!0)],2),b("span",{class:"xzypW",style:{"pointer-events":"none"}},[...ge[6]||(ge[6]=[b("i",{class:"ti ti-chevron-right ti-fw"},null,-1)])],2)],2)],42,Qy)):(c(),v("button",{key:11,role:"menuitem",tabindex:"0",class:J(["_button","xunvs",{xlW0E:U.danger,x3tcY:E(U.active)}]),onClick:fe(Se=>E(U.active)?P(!1):R(U.action,Se),["prevent"]),onMouseenterPassive:k,onMouseleavePassive:_},[U.icon?(c(),v("i",{key:0,class:J(["ti-fw",["xh8pZ",U.icon]])},null,2)):M("",!0),U.avatar?(c(),N(Fe,{key:1,user:U.avatar,class:"xw5W9"},null,8,["user","class"])):M("",!0),b("div",{class:"xD1rz"},[b("div",{class:"xwnRi"},[b("div",{class:"xgh84"},S(U.text),3),U.caption?(c(),v("div",{key:0,class:"xhJ9v"},S(U.caption),3)):M("",!0)],2),U.indicate?(c(),v("span",{key:0,class:"x853c _blink"},[...ge[7]||(ge[7]=[b("i",{class:"_indicatorCircle"},null,-1)])],2)):M("",!0)],2)],42,Zy))],64))),256)),l.value==null||l.value.length===0?(c(),v("span",{key:0,tabindex:"-1",class:"x6Ns0 xunvs"},[b("span",null,S("Res"),1)],2)):M("",!0)],38)),[[Ee,h]]),y.value?(c(),v("div",ew,[j(E(n),{ref_key:"child",ref:f,items:y.value,anchorElement:g.value,rootElement:r.value,onActioned:m,onClosed:p},null,8,["items","anchorElement","rootElement"])])):M("",!0)],34)}}});const tw=K({__name:"MkPopupMenu",props:{items:{},align:{},width:{},anchorElement:{},returnFocusTo:{}},emits:["closed","closing"],setup(e,{emit:t}){const n=t,i=de("modal"),o=F(!0),a=F(!1);function s(){w()}function r(){n("closing")}function l(){w(),a.value&&n("closed")}function f(){a.value||n("closed")}function h(){o.value=!1,a.value=!0,i.value?.close()}function w(){o.value=!1,i.value?.close()}return(u,y)=>(c(),N(no,{ref_key:"modal",ref:i,manualShowing:o.value,zPriority:"high",anchorElement:e.anchorElement,transparentBg:!0,returnFocusTo:e.returnFocusTo,onClick:s,onClose:r,onClosed:f},{default:H(({type:g,maxHeight:p})=>[j(zc,{items:e.items,align:e.align,width:e.width,"max-height":p,asDrawer:g==="drawer",returnFocusTo:e.returnFocusTo,class:J({xhVuk:g==="drawer"}),onClose:l,onHide:h},null,8,["items","align","width","max-height","asDrawer","returnFocusTo","class"])]),_:1},8,["manualShowing","anchorElement","returnFocusTo"]))}});const _o=16,nw=K({__name:"MkContextMenu",props:{items:{},ev:{}},emits:["closed"],setup(e,{emit:t}){const n=e,i=t,o=de("rootEl"),a=F(Ln("high"));We(()=>{let r=n.ev.pageX+1,l=n.ev.pageY+1;const f=o.value.offsetWidth,h=o.value.offsetHeight;r+f-window.scrollX>=window.innerWidth-_o&&(r=window.innerWidth-_o-f+window.scrollX),l+h-window.scrollY>=window.innerHeight-_o&&(l=window.innerHeight-_o-h+window.scrollY),l<0&&(l=0),r<0&&(r=0),o.value&&(o.value.style.top=`${l}px`,o.value.style.left=`${r}px`),window.document.body.addEventListener("mousedown",s)}),Bn(()=>{window.document.body.removeEventListener("mousedown",s)});function s(r){!bc(o.value,r.target)&&o.value!==r.target&&i("closed")}return(r,l)=>(c(),N(St,{appear:"",enterActiveClass:E(D).s.animation?"xlU4G":"",leaveActiveClass:E(D).s.animation?"xms3Z":"",enterFromClass:E(D).s.animation?"xg6wD":"",leaveToClass:E(D).s.animation?"xl6Jd":""},{default:H(()=>[b("div",{ref_key:"rootEl",ref:o,class:"xsGnU",style:$e({zIndex:a.value}),onContextmenu:fe(()=>{},["prevent","stop"])},[j(zc,{items:e.items,align:"left",onClose:l[0]||(l[0]=f=>i("closed"))},null,8,["items"])],38)]),_:1},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass"]))}});const Ka=F(0),Xe=(e,t,n,i)=>{const o=se(e,t,n);return gr(o,null,async a=>{let s,r=a.message+`
`+a.id;if(a.code==="INTERNAL_ERROR"){s="Error intern del servidor",r="El servidor ha fallat de manera inexplicable.";const l=new Date().toISOString(),{result:f}=await Cs({type:"error",title:s,text:r,actions:[{value:"ok",text:"D'acord ",primary:!0},{value:"copy",text:"Copiar la informaci de l'error "}]});f==="copy"&&lt(`Endpoint: ${e}
Info: ${JSON.stringify(a.info)}
Date: ${l}`);return}else a.code==="RATE_LIMIT_EXCEEDED"?(s="Temporalment no disponible",r="Aquesta acci no es pot dur a terme temporalment per arribar al seu lmit d'execuci. Pots esperar una mica i tornar-ho a intentar."):a.code==="INVALID_PARAM"?(s="Parmetres incorrectes ",r="Els parmetres demanats no sn correctes. Normalment aix es deu a un error, per tamb pot ser a alguna entrada excedint els lmits o similar."):a.code==="ROLE_PERMISSION_DENIED"?(s="Operaci no permesa ",r="Aquest compte no t suficients permisos per dur a terme aquesta acci "):a.code.startsWith("TOO_MANY")?(s="Has arribat al mxim de creacions",r=`${"Error"}: ${a.id}`):a.message.startsWith("Unexpected token")?(s="Resposta del servidor invlida ",r="No es pot contactar amb el servidor o potser es troba fora de lnia per manteniment. Provar-ho de nou ms tard."):i&&i[a.id]!=null&&(s=i[a.id].title,r=i[a.id].text);Qe({type:"error",title:s,text:r})}),o};function gr(e,t,n,i){const o=F(!0),a=F(!1);e.then(r=>{t?(o.value=!1,t(r)):(a.value=!0,window.setTimeout(()=>{o.value=!1},1e3))}).catch(r=>{o.value=!1,n?n(r):Qe({type:"error",text:r})});const{dispose:s}=_e(sa,{success:a,showing:o,text:i},{closed:()=>s()});return e}let Hc=0;const Jn=F([]),Il={veryLow:5e5,low:1e6,middle:2e6,high:3e6};function Ln(e="low"){return Il[e]+=100,Il[e]}function _e(e,t,n={}){rt(e);const i=++Hc,o=()=>{window.setTimeout(()=>{Jn.value=Jn.value.filter(s=>s.id!==i)},0)},a={component:e,props:t,events:n,id:i};return Jn.value.push(a),{dispose:o}}async function bt(e,t,n={}){let i,o=()=>{};const a=window.setTimeout(()=>{o=so()},100);try{i=await e}catch(f){throw window.clearTimeout(a),o(),Qe({type:"error",title:"S'ha produt un error",text:"CODE: ASYNC_COMP_LOAD_FAIL"}),f}window.clearTimeout(a),o(),rt(i);const s=++Hc,r=()=>{window.setTimeout(()=>{Jn.value=Jn.value.filter(f=>f.id!==s)},0)},l={component:i,props:t,events:n,id:s};return Jn.value.push(l),{dispose:r}}function Ds(e){const{dispose:t}=_e(Uy,{initialPath:e},{closed:()=>t()})}function So(e){const{dispose:t}=_e(Hy,{message:e},{closed:()=>t()})}function Qe(e){return new Promise(t=>{const{dispose:n}=_e(_i,e,{done:()=>{t()},closed:()=>n()})})}function Ze(e){return new Promise(t=>{const{dispose:n}=_e(_i,{...e,showCancelButton:!0},{done:i=>{t(i||{canceled:!0})},closed:()=>n()})})}function Cs(e){return new Promise(t=>{const{dispose:n}=_e(_i,{...e,actions:e.actions.map(i=>({text:i.text,primary:i.primary,danger:i.danger,callback:()=>{t({canceled:!1,result:i.value})}}))},{done:i=>{t(i||{canceled:!0})},closed:()=>n()})})}function ao(e){return new Promise(t=>{const{dispose:n}=_e(_i,{title:e.title,text:e.text,input:{type:e.type,placeholder:e.placeholder,autocomplete:e.autocomplete,default:e.default??null,minLength:e.minLength,maxLength:e.maxLength}},{done:i=>{t(i||{canceled:!0})},closed:()=>n()})})}function iw(e){return new Promise(t=>{const{dispose:n}=_e(_i,{title:e.title,text:e.text,input:{type:"datetime-local",placeholder:e.placeholder,default:e.default??null}},{done:i=>{t(i!=null&&i.result!=null?{result:new Date(i.result),canceled:!1}:{result:void 0,canceled:!0})},closed:()=>n()})})}function Qx(){return new Promise(e=>{const{dispose:t}=_e(he(()=>I(()=>import("./3iSoGi4ic-DyvsvArS.js"),__vite__mapDeps([483,2,4,3,5,6]),import.meta.url)),{},{done:n=>{e(n?{canceled:!1,result:n}:{canceled:!0,result:void 0})},closed:()=>t()})})}function Xi(e){return new Promise(t=>{const{dispose:n}=_e(_i,{title:e.title,text:e.text,select:{items:e.items.filter(i=>i!==void 0),default:e.default??null}},{done:i=>{t(i||{canceled:!0})},closed:()=>n()})})}function yr(){return new Promise(e=>{const t=F(!0);window.setTimeout(()=>{t.value=!1},1e3);const{dispose:n}=_e(sa,{success:!0,showing:t},{done:()=>e(),closed:()=>n()})})}function so(e={}){window.document.body.setAttribute("inert","true");const t=F(!0),n=F(!1);function i(a={}){a.success?(n.value=!0,window.setTimeout(()=>{t.value=!1},1e3)):t.value=!1}const{dispose:o}=_e(sa,{success:n,showing:t,text:e.text},{closed:()=>{window.document.body.removeAttribute("inert"),o()}});return i}function wr(e,t){return new Promise(n=>{const{dispose:i}=_e(he(()=>I(()=>import("./3iSoGi4ic-DMWORv73.js"),__vite__mapDeps([484,68,2,4,3,69,120,121,116,117,118,119,5,6,485]),import.meta.url)),{title:e,form:t},{done:o=>{n(o)},closed:()=>i()})})}async function Tl(e={}){return new Promise(t=>{const{dispose:n}=_e(he(()=>I(()=>import("./3iSoGi4ic-CjR-qMRT.js"),__vite__mapDeps([486,3,228,2,229,4,5,6,487]),import.meta.url)),{includeSelf:e.includeSelf,localOnly:e.localOnly},{ok:i=>{t(i)},closed:()=>n()})})}async function Zx(e){return new Promise(t=>{const{dispose:n}=_e(he(()=>I(()=>import("./3iSoGi4ic-u8tflNKs.js"),__vite__mapDeps([488,4,3,2,285,286,5,6,489]),import.meta.url)),e,{done:i=>{t({canceled:!1,result:i})},close:()=>{t({canceled:!0,result:void 0})},closed:()=>n()})})}async function e2(e,t){return new Promise(n=>{const{dispose:i}=_e(he(()=>I(()=>import("./3iSoGi4ic-XqpIfYXr.js"),__vite__mapDeps([108,2,4,3,5,6,109]),import.meta.url)),{anchorElement:e,...t},{done:o=>{n(o)},closed:()=>i()})})}async function ow(e,t){return new Promise(n=>{const{dispose:i}=_e(he(()=>I(()=>import("./3iSoGi4ic-CD8_GPQu.js"),__vite__mapDeps([490,2,4,3,5,6,491]),import.meta.url)),{imageFile:e,aspectRatio:t.aspectRatio},{ok:o=>{n(o)},closed:()=>i()})})}function Ue(e,t,n){t instanceof HTMLElement||(t=null);let i=Fn(t)??Fn(window.document.activeElement);return new Promise(o=>Be(()=>{const{dispose:a}=_e(tw,{items:e.filter(s=>s!=null),anchorElement:t,width:n?.width,align:n?.align,returnFocusTo:i},{closed:()=>{o(),a(),i=null},closing:()=>{n?.onClosing?.()}})}))}function ca(e,t){if(D.s.contextMenu==="native"||D.s.contextMenu==="appWithShift"&&!t.shiftKey)return Promise.resolve();let n=Fn(t.currentTarget??t.target)??Fn(window.document.activeElement);return t.preventDefault(),new Promise(i=>Be(()=>{const{dispose:o}=_e(nw,{items:e,ev:t},{closed:()=>{i(),o(),n!=null&&(zi(n,!0,!1),n=null)}})}))}function Pn(e={}){return ii({openOnRemote:e.initialText||e.initialNote?{type:"share",params:{text:e.initialText??e.initialNote?.text??"",visibility:e.initialVisibility??e.initialNote?.visibility??"public",localOnly:e.initialLocalOnly||e.initialNote?.localOnly?"1":"0"}}:void 0}),ks(),new Promise(t=>{const{dispose:n}=_e(Vg,e,{closed:()=>{t(),n()}})})}const t2=new wn;function qc(e={}){return new Promise((t,n)=>{const i=window.document.createElement("input");i.type="file",i.multiple=e.multiple??!1,i.onchange=()=>{if(!i.files)return t([]);t(Array.from(i.files)),window.__misskey_input_ref__=null},window.__misskey_input_ref__=i,i.click()})}function aw(e,t){return new Promise(async(n,i)=>{if(e.length===0)return i();const{dispose:o}=await bt(I(()=>import("./3iSoGi4ic-BkIl54Z9.js"),__vite__mapDeps([492,4,3,2,5,6,493]),import.meta.url).then(a=>a.default),{files:rt(e),folderId:t?.folderId,multiple:t?.multiple,features:t?.features},{done:a=>{if(a.length===0)return i();n(a)},closed:()=>o()})})}const n2=F(0);class sw{el;user;showTimer=null;hideTimer=null;checkTimer=null;promise=null;constructor(t,n){this.el=t,this.user=n,this.show=this.show.bind(this),this.close=this.close.bind(this),this.onMouseover=this.onMouseover.bind(this),this.onMouseleave=this.onMouseleave.bind(this),this.onClick=this.onClick.bind(this),this.attach=this.attach.bind(this),this.detach=this.detach.bind(this),this.attach()}show(){if(!window.document.body.contains(this.el)||this.promise)return;const t=F(!0),{dispose:n}=_e(he(()=>I(()=>import("./3iSoGi4ic-B2A0dt7S.js"),__vite__mapDeps([494,2,176,3,4,177,5,6,495]),import.meta.url)),{showing:t,q:this.user,source:this.el},{mouseover:()=>{this.hideTimer&&window.clearTimeout(this.hideTimer)},mouseleave:()=>{this.showTimer&&window.clearTimeout(this.showTimer),this.hideTimer=window.setTimeout(this.close,500)},closed:()=>n()});this.promise={cancel:()=>{t.value=!1}},this.checkTimer=window.setInterval(()=>{window.document.body.contains(this.el)||(this.showTimer&&window.clearTimeout(this.showTimer),this.hideTimer&&window.clearTimeout(this.hideTimer),this.close())},1e3)}close(){this.promise&&(this.checkTimer&&window.clearInterval(this.checkTimer),this.promise.cancel(),this.promise=null)}onMouseover(){this.showTimer&&window.clearTimeout(this.showTimer),this.hideTimer&&window.clearTimeout(this.hideTimer),this.showTimer=window.setTimeout(this.show,500)}onMouseleave(){this.showTimer&&window.clearTimeout(this.showTimer),this.hideTimer&&window.clearTimeout(this.hideTimer),this.hideTimer=window.setTimeout(this.close,500)}onClick(){this.showTimer&&window.clearTimeout(this.showTimer),this.close()}attach(){this.el.addEventListener("mouseover",this.onMouseover),this.el.addEventListener("mouseleave",this.onMouseleave),this.el.addEventListener("click",this.onClick)}detach(){this.el.removeEventListener("mouseover",this.onMouseover),this.el.removeEventListener("mouseleave",this.onMouseleave),this.el.removeEventListener("click",this.onClick)}}const Ml={mounted(e,t){t.value!=null&&(Mn||(e._userPreviewDirective_={preview:new sw(e,t.value)}))},unmounted(e,t){if(t.value==null)return;const n=e._userPreviewDirective_;n?.preview.detach()}},Po=new Map;function As(e){const t=Po.get(e),n=e.clientHeight,i=e.clientWidth;if(t){if(!n){t.intersection||(t.intersection=new IntersectionObserver(o=>{o.some(a=>a.isIntersecting)&&As(e)})),t.intersection.observe(e);return}t.intersection&&(t.intersection.disconnect(),delete t.intersection),t.fn(i,n)}}const rw={mounted(e,t){const n=new ResizeObserver((i,o)=>{As(e)});n.observe(e),Po.set(e,{resize:n,fn:t.value}),As(e)},unmounted(e,t){t.value(0,0);const n=Po.get(e);n&&(n.resize.disconnect(),n.intersection&&n.intersection.disconnect(),Po.delete(e))}},lw={mounted(e,t){t.value!==!1&&D.s.animation&&e.addEventListener("click",()=>{const n=e.getBoundingClientRect(),i=n.left+e.offsetWidth/2,o=n.top+e.offsetHeight/2,{dispose:a}=_e(di,{x:i,y:o},{end:()=>a()})})}},uw=Mn?"touchstart":"mouseenter",cw=Mn?"touchend":"mouseleave",dw={mounted(e,t){const n=t.modifiers.noDelay?0:100,i=e._tooltipDirective_={};i.text=t.value,i._close=null,i.showTimer=null,i.hideTimer=null,i.checkTimer=null,i.close=()=>{i._close&&(i.checkTimer&&window.clearInterval(i.checkTimer),i._close(),i._close=null)},t.arg==="dialog"&&e.addEventListener("click",o=>{if(t.value!=null)return o.preventDefault(),o.stopPropagation(),Qe({type:"info",text:t.value}),!1}),i.show=()=>{if(!window.document.body.contains(e)||i._close||i.text==null)return;const o=F(!0),{dispose:a}=_e(he(()=>I(()=>Promise.resolve().then(()=>C0),void 0,import.meta.url)),{showing:o,text:i.text,asMfm:t.modifiers.mfm,direction:t.modifiers.left?"left":t.modifiers.right?"right":t.modifiers.top?"top":t.modifiers.bottom?"bottom":"top",anchorElement:e},{closed:()=>a()});i._close=()=>{o.value=!1}},e.addEventListener("selectstart",o=>{o.preventDefault()}),e.addEventListener(uw,o=>{i.showTimer&&window.clearTimeout(i.showTimer),i.hideTimer&&window.clearTimeout(i.hideTimer),n===0?i.show():i.showTimer=window.setTimeout(i.show,n)},{passive:!0}),e.addEventListener(cw,()=>{i.showTimer&&window.clearTimeout(i.showTimer),i.hideTimer&&window.clearTimeout(i.hideTimer),n===0?i.close():i.hideTimer=window.setTimeout(i.close,n)},{passive:!0}),e.addEventListener("click",()=>{i.showTimer&&window.clearTimeout(i.showTimer),i.close()})},updated(e,t){const n=e._tooltipDirective_;n!=null&&(n.text=t.value)},unmounted(e){const t=e._tooltipDirective_;t!=null&&(t.showTimer&&window.clearTimeout(t.showTimer),t.hideTimer&&window.clearTimeout(t.hideTimer),t.checkTimer&&window.clearTimeout(t.checkTimer),t.close())}},fw={esc:"Escape",enter:"Enter",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",plus:["+",";"]},mw=["ctrl","alt","shift"],hw=["input","textarea"];let _n=null;const Wc=(e,t=hw)=>{const n=pw(e);return i=>{if(!("pswp"in window&&window.pswp!=null)&&!(window.document.activeElement!=null&&(t.includes(window.document.activeElement.tagName.toLowerCase())||Fn(window.document.activeElement)?.isContentEditable)))for(const o of n)ww(i,o)&&(i.preventDefault(),i.stopPropagation(),o.callback(i),bw(i,o.callback))}},pw=e=>Object.entries(e).map(([t,n])=>{const i=vw(t),o=gw(n),a=yw(n);return{patterns:i,callback:o,options:a}}),vw=e=>e.split("|").map(t=>{const n=t.split("+").map(Is),i=_w(n.findLast(r=>!mw.includes(r))),o=n.includes("ctrl"),a=n.includes("alt"),s=n.includes("shift");return{which:i,ctrl:o,alt:a,shift:s}}),gw=e=>typeof e=="object"?e.callback:e,yw=e=>{const t={allowRepeat:!1};if(typeof e=="object"){const{callback:n,...i}=e;return{...{...t,...i}}}return{...t}},ww=(e,t)=>{const{patterns:n,options:i,callback:o}=t;if(e.repeat&&!i.allowRepeat)return!1;const a=e.key.toLowerCase();return n.some(({which:s,ctrl:r,shift:l,alt:f})=>!(i.allowRepeat===!1&&_n!=null&&_n.which.includes(a)&&_n.ctrl===r&&_n.alt===f&&_n.shift===l&&_n.callback===o||!s.includes(a)||r!==(e.ctrlKey||e.metaKey)||f!==e.altKey||l!==e.shiftKey))};let Ya=null;const bw=(e,t)=>{Ya!=null&&window.clearTimeout(Ya),_n={which:[e.key.toLowerCase()],ctrl:e.ctrlKey||e.metaKey,alt:e.altKey,shift:e.shiftKey,callback:t},Ya=window.setTimeout(()=>{_n=null},500)},_w=e=>{if(e==null)return[];const t=xw(fw,e);return t==null?[e]:typeof t=="string"?[Is(t)]:t.map(Is)},xw=(e,t)=>e[t],Is=e=>e.trim().toLowerCase(),kw={mounted(e,t){e._hotkey_global=t.modifiers.global===!0,e._keyHandler=Wc(t.value),e._hotkey_global?window.document.addEventListener("keydown",e._keyHandler,{passive:!1}):e.addEventListener("keydown",e._keyHandler,{passive:!1})},unmounted(e){e._keyHandler!=null&&(e._hotkey_global?window.document.removeEventListener("keydown",e._keyHandler):e.removeEventListener("keydown",e._keyHandler))}},Ew={mounted(e,t){const n=t.value;if(n==null)return;const i=Xs(1e3,a=>{a.some(s=>s.isIntersecting)&&n()}),o=new IntersectionObserver(i);o.observe(e),e._observer_=o},unmounted(e){e._observer_&&e._observer_.disconnect()}},Dw={beforeMount(e){e.style.opacity="0",e.style.transform="scale(0.9)",e.classList.add("_zoom")},mounted(e){window.setTimeout(()=>{e.style.opacity="1",e.style.transform="none"},1)}},Cw={mounted(e){if(!D.s.animation)return;const t=e.children[0];t!=null&&(t.classList.add("_anime_bounce_standBy"),e.addEventListener("mousedown",()=>{t.classList.remove("_anime_bounce"),t.classList.add("_anime_bounce_standBy"),t.classList.add("_anime_bounce_ready"),t.addEventListener("mouseleave",()=>{t.classList.remove("_anime_bounce_ready")})}),e.addEventListener("click",()=>{t.classList.add("_anime_bounce"),t.classList.remove("_anime_bounce_ready")}),e.addEventListener("animationend",()=>{t.classList.remove("_anime_bounce"),t.classList.add("_anime_bounce_standBy")}))}};function Ko(e){"@babel/helpers - typeof";return Ko=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ko(e)}var Aw=/^\s+/,Iw=/\s+$/;function we(e,t){if(e=e||"",t=t||{},e instanceof we)return e;if(!(this instanceof we))return new we(e,t);var n=Tw(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=Math.round(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=n.ok}we.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(t.r*299+t.g*587+t.b*114)/1e3},getLuminance:function(){var t=this.toRgb(),n,i,o,a,s,r;return n=t.r/255,i=t.g/255,o=t.b/255,n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),i<=.03928?s=i/12.92:s=Math.pow((i+.055)/1.055,2.4),o<=.03928?r=o/12.92:r=Math.pow((o+.055)/1.055,2.4),.2126*a+.7152*s+.0722*r},setAlpha:function(t){return this._a=Jc(t),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var t=Sl(this._r,this._g,this._b);return{h:t.h*360,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=Sl(this._r,this._g,this._b),n=Math.round(t.h*360),i=Math.round(t.s*100),o=Math.round(t.v*100);return this._a==1?"hsv("+n+", "+i+"%, "+o+"%)":"hsva("+n+", "+i+"%, "+o+"%, "+this._roundA+")"},toHsl:function(){var t=Fl(this._r,this._g,this._b);return{h:t.h*360,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=Fl(this._r,this._g,this._b),n=Math.round(t.h*360),i=Math.round(t.s*100),o=Math.round(t.l*100);return this._a==1?"hsl("+n+", "+i+"%, "+o+"%)":"hsla("+n+", "+i+"%, "+o+"%, "+this._roundA+")"},toHex:function(t){return Pl(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return Pw(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(st(this._r,255)*100)+"%",g:Math.round(st(this._g,255)*100)+"%",b:Math.round(st(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(st(this._r,255)*100)+"%, "+Math.round(st(this._g,255)*100)+"%, "+Math.round(st(this._b,255)*100)+"%)":"rgba("+Math.round(st(this._r,255)*100)+"%, "+Math.round(st(this._g,255)*100)+"%, "+Math.round(st(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:qw[Pl(this._r,this._g,this._b,!0)]||!1},toFilter:function(t){var n="#"+Rl(this._r,this._g,this._b,this._a),i=n,o=this._gradientType?"GradientType = 1, ":"";if(t){var a=we(t);i="#"+Rl(a._r,a._g,a._b,a._a)}return"progid:DXImageTransform.Microsoft.gradient("+o+"startColorstr="+n+",endColorstr="+i+")"},toString:function(t){var n=!!t;t=t||this._format;var i=!1,o=this._a<1&&this._a>=0,a=!n&&o&&(t==="hex"||t==="hex6"||t==="hex3"||t==="hex4"||t==="hex8"||t==="name");return a?t==="name"&&this._a===0?this.toName():this.toRgbString():(t==="rgb"&&(i=this.toRgbString()),t==="prgb"&&(i=this.toPercentageRgbString()),(t==="hex"||t==="hex6")&&(i=this.toHexString()),t==="hex3"&&(i=this.toHexString(!0)),t==="hex4"&&(i=this.toHex8String(!0)),t==="hex8"&&(i=this.toHex8String()),t==="name"&&(i=this.toName()),t==="hsl"&&(i=this.toHslString()),t==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},clone:function(){return we(this.toString())},_applyModification:function(t,n){var i=t.apply(null,[this].concat([].slice.call(n)));return this._r=i._r,this._g=i._g,this._b=i._b,this.setAlpha(i._a),this},lighten:function(){return this._applyModification(Lw,arguments)},brighten:function(){return this._applyModification(Ow,arguments)},darken:function(){return this._applyModification(Nw,arguments)},desaturate:function(){return this._applyModification(Rw,arguments)},saturate:function(){return this._applyModification(Bw,arguments)},greyscale:function(){return this._applyModification($w,arguments)},spin:function(){return this._applyModification(jw,arguments)},_applyCombination:function(t,n){return t.apply(null,[this].concat([].slice.call(n)))},analogous:function(){return this._applyCombination(zw,arguments)},complement:function(){return this._applyCombination(Vw,arguments)},monochromatic:function(){return this._applyCombination(Hw,arguments)},splitcomplement:function(){return this._applyCombination(Uw,arguments)},triad:function(){return this._applyCombination(Bl,[3])},tetrad:function(){return this._applyCombination(Bl,[4])}};we.fromRatio=function(e,t){if(Ko(e)=="object"){var n={};for(var i in e)e.hasOwnProperty(i)&&(i==="a"?n[i]=e[i]:n[i]=Mi(e[i]));e=n}return we(e,t)};function Tw(e){var t={r:0,g:0,b:0},n=1,i=null,o=null,a=null,s=!1,r=!1;return typeof e=="string"&&(e=Yw(e)),Ko(e)=="object"&&(ln(e.r)&&ln(e.g)&&ln(e.b)?(t=Mw(e.r,e.g,e.b),s=!0,r=String(e.r).substr(-1)==="%"?"prgb":"rgb"):ln(e.h)&&ln(e.s)&&ln(e.v)?(i=Mi(e.s),o=Mi(e.v),t=Sw(e.h,i,o),s=!0,r="hsv"):ln(e.h)&&ln(e.s)&&ln(e.l)&&(i=Mi(e.s),a=Mi(e.l),t=Fw(e.h,i,a),s=!0,r="hsl"),e.hasOwnProperty("a")&&(n=e.a)),n=Jc(n),{ok:s,format:e.format||r,r:Math.min(255,Math.max(t.r,0)),g:Math.min(255,Math.max(t.g,0)),b:Math.min(255,Math.max(t.b,0)),a:n}}function Mw(e,t,n){return{r:st(e,255)*255,g:st(t,255)*255,b:st(n,255)*255}}function Fl(e,t,n){e=st(e,255),t=st(t,255),n=st(n,255);var i=Math.max(e,t,n),o=Math.min(e,t,n),a,s,r=(i+o)/2;if(i==o)a=s=0;else{var l=i-o;switch(s=r>.5?l/(2-i-o):l/(i+o),i){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4;break}a/=6}return{h:a,s,l:r}}function Fw(e,t,n){var i,o,a;e=st(e,360),t=st(t,100),n=st(n,100);function s(f,h,w){return w<0&&(w+=1),w>1&&(w-=1),w<1/6?f+(h-f)*6*w:w<1/2?h:w<2/3?f+(h-f)*(2/3-w)*6:f}if(t===0)i=o=a=n;else{var r=n<.5?n*(1+t):n+t-n*t,l=2*n-r;i=s(l,r,e+1/3),o=s(l,r,e),a=s(l,r,e-1/3)}return{r:i*255,g:o*255,b:a*255}}function Sl(e,t,n){e=st(e,255),t=st(t,255),n=st(n,255);var i=Math.max(e,t,n),o=Math.min(e,t,n),a,s,r=i,l=i-o;if(s=i===0?0:l/i,i==o)a=0;else{switch(i){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4;break}a/=6}return{h:a,s,v:r}}function Sw(e,t,n){e=st(e,360)*6,t=st(t,100),n=st(n,100);var i=Math.floor(e),o=e-i,a=n*(1-t),s=n*(1-o*t),r=n*(1-(1-o)*t),l=i%6,f=[n,s,a,a,r,n][l],h=[r,n,n,s,a,a][l],w=[a,a,r,n,n,s][l];return{r:f*255,g:h*255,b:w*255}}function Pl(e,t,n,i){var o=[Jt(Math.round(e).toString(16)),Jt(Math.round(t).toString(16)),Jt(Math.round(n).toString(16))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0):o.join("")}function Pw(e,t,n,i,o){var a=[Jt(Math.round(e).toString(16)),Jt(Math.round(t).toString(16)),Jt(Math.round(n).toString(16)),Jt(Kc(i))];return o&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)&&a[3].charAt(0)==a[3].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function Rl(e,t,n,i){var o=[Jt(Kc(i)),Jt(Math.round(e).toString(16)),Jt(Math.round(t).toString(16)),Jt(Math.round(n).toString(16))];return o.join("")}we.equals=function(e,t){return!e||!t?!1:we(e).toRgbString()==we(t).toRgbString()};we.random=function(){return we.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function Rw(e,t){t=t===0?0:t||10;var n=we(e).toHsl();return n.s-=t/100,n.s=da(n.s),we(n)}function Bw(e,t){t=t===0?0:t||10;var n=we(e).toHsl();return n.s+=t/100,n.s=da(n.s),we(n)}function $w(e){return we(e).desaturate(100)}function Lw(e,t){t=t===0?0:t||10;var n=we(e).toHsl();return n.l+=t/100,n.l=da(n.l),we(n)}function Ow(e,t){t=t===0?0:t||10;var n=we(e).toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(t/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(t/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(t/100)))),we(n)}function Nw(e,t){t=t===0?0:t||10;var n=we(e).toHsl();return n.l-=t/100,n.l=da(n.l),we(n)}function jw(e,t){var n=we(e).toHsl(),i=(n.h+t)%360;return n.h=i<0?360+i:i,we(n)}function Vw(e){var t=we(e).toHsl();return t.h=(t.h+180)%360,we(t)}function Bl(e,t){if(isNaN(t)||t<=0)throw new Error("Argument to polyad must be a positive number");for(var n=we(e).toHsl(),i=[we(e)],o=360/t,a=1;a<t;a++)i.push(we({h:(n.h+a*o)%360,s:n.s,l:n.l}));return i}function Uw(e){var t=we(e).toHsl(),n=t.h;return[we(e),we({h:(n+72)%360,s:t.s,l:t.l}),we({h:(n+216)%360,s:t.s,l:t.l})]}function zw(e,t,n){t=t||6,n=n||30;var i=we(e).toHsl(),o=360/n,a=[we(e)];for(i.h=(i.h-(o*t>>1)+720)%360;--t;)i.h=(i.h+o)%360,a.push(we(i));return a}function Hw(e,t){t=t||6;for(var n=we(e).toHsv(),i=n.h,o=n.s,a=n.v,s=[],r=1/t;t--;)s.push(we({h:i,s:o,v:a})),a=(a+r)%1;return s}we.mix=function(e,t,n){n=n===0?0:n||50;var i=we(e).toRgb(),o=we(t).toRgb(),a=n/100,s={r:(o.r-i.r)*a+i.r,g:(o.g-i.g)*a+i.g,b:(o.b-i.b)*a+i.b,a:(o.a-i.a)*a+i.a};return we(s)};we.readability=function(e,t){var n=we(e),i=we(t);return(Math.max(n.getLuminance(),i.getLuminance())+.05)/(Math.min(n.getLuminance(),i.getLuminance())+.05)};we.isReadable=function(e,t,n){var i=we.readability(e,t),o,a;switch(a=!1,o=Xw(n),o.level+o.size){case"AAsmall":case"AAAlarge":a=i>=4.5;break;case"AAlarge":a=i>=3;break;case"AAAsmall":a=i>=7;break}return a};we.mostReadable=function(e,t,n){var i=null,o=0,a,s,r,l;n=n||{},s=n.includeFallbackColors,r=n.level,l=n.size;for(var f=0;f<t.length;f++)a=we.readability(e,t[f]),a>o&&(o=a,i=we(t[f]));return we.isReadable(e,i,{level:r,size:l})||!s?i:(n.includeFallbackColors=!1,we.mostReadable(e,["#fff","#000"],n))};var Ts=we.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},qw=we.hexNames=Ww(Ts);function Ww(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Jc(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function st(e,t){Jw(e)&&(e="100%");var n=Kw(e);return e=Math.min(t,Math.max(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function da(e){return Math.min(1,Math.max(0,e))}function Lt(e){return parseInt(e,16)}function Jw(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function Kw(e){return typeof e=="string"&&e.indexOf("%")!=-1}function Jt(e){return e.length==1?"0"+e:""+e}function Mi(e){return e<=1&&(e=e*100+"%"),e}function Kc(e){return Math.round(parseFloat(e)*255).toString(16)}function $l(e){return Lt(e)/255}var qt=(function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",o="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{CSS_UNIT:new RegExp(n),rgb:new RegExp("rgb"+i),rgba:new RegExp("rgba"+o),hsl:new RegExp("hsl"+i),hsla:new RegExp("hsla"+o),hsv:new RegExp("hsv"+i),hsva:new RegExp("hsva"+o),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}})();function ln(e){return!!qt.CSS_UNIT.exec(e)}function Yw(e){e=e.replace(Aw,"").replace(Iw,"").toLowerCase();var t=!1;if(Ts[e])e=Ts[e],t=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=qt.rgb.exec(e))?{r:n[1],g:n[2],b:n[3]}:(n=qt.rgba.exec(e))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=qt.hsl.exec(e))?{h:n[1],s:n[2],l:n[3]}:(n=qt.hsla.exec(e))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=qt.hsv.exec(e))?{h:n[1],s:n[2],v:n[3]}:(n=qt.hsva.exec(e))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=qt.hex8.exec(e))?{r:Lt(n[1]),g:Lt(n[2]),b:Lt(n[3]),a:$l(n[4]),format:t?"name":"hex8"}:(n=qt.hex6.exec(e))?{r:Lt(n[1]),g:Lt(n[2]),b:Lt(n[3]),format:t?"name":"hex"}:(n=qt.hex4.exec(e))?{r:Lt(n[1]+""+n[1]),g:Lt(n[2]+""+n[2]),b:Lt(n[3]+""+n[3]),a:$l(n[4]+""+n[4]),format:t?"name":"hex8"}:(n=qt.hex3.exec(e))?{r:Lt(n[1]+""+n[1]),g:Lt(n[2]+""+n[2]),b:Lt(n[3]+""+n[3]),format:t?"name":"hex"}:!1}function Xw(e){var t,n;return e=e||{level:"AA",size:"small"},t=(e.level||"AA").toUpperCase(),n=(e.size||"small").toLowerCase(),t!=="AA"&&t!=="AAA"&&(t="AA"),n!=="small"&&n!=="large"&&(n="small"),{level:t,size:n}}const fa=e=>{if(e==null)return null;const{backgroundColor:t}=window.getComputedStyle(e);return t&&we(t).getAlpha()!==0?t:fa(e.parentElement)},Gw={mounted(e){const t=fa(e.parentElement)??"transparent",n=getComputedStyle(window.document.documentElement).getPropertyValue("--MI_THEME-panel");t===n?e.style.backgroundColor="var(--MI_THEME-bg)":e.style.backgroundColor="var(--MI_THEME-panel)"}},Ll=new WeakMap,Qw={mounted(e){function t(){const n=fa(e.parentElement)??"transparent",i=window.getComputedStyle(e).backgroundColor;n===i?e.style.borderColor="var(--MI_THEME-divider)":e.style.borderColor=i}Ll.set(e,t),t(),yt.on("themeChanged",t)},unmounted(e){yt.off("themeChanged",Ll.get(e))}},Zw={mounted(e){const t=fa(e.parentElement)??"transparent",n=window.getComputedStyle(e).backgroundColor;t===n?e.style.backgroundColor="var(--MI_THEME-bg)":e.style.backgroundColor=n}};function eb(e){for(const[t,n]of Object.entries(tb))e.directive(t,n)}const tb={userPreview:Ml,"user-preview":Ml,"get-size":rw,ripple:lw,tooltip:dw,hotkey:kw,appear:Ew,anim:Dw,"click-anime":Cw,panel:Gw,"adaptive-border":Qw,"adaptive-bg":Zw},nb={key:0},Yc=K({__name:"MkUrl",props:{url:{},rel:{},showUrlPreview:{type:Boolean,default:!0},navigationBehavior:{}},setup(e){function t(p){try{return decodeURIComponent(p)}catch{return p}}const n=e,i=er(n.url,ht),o=i!==n.url,a=new URL(n.url);if(!["http:","https:"].includes(a.protocol))throw new Error("invalid url");const s=F();n.showUrlPreview&&rr.value&&pi(s,p=>{const{dispose:m}=_e(he(()=>I(()=>import("./3iSoGi4ic-DNhx-gkC.js"),__vite__mapDeps([144,2,3,4,5,6,145]),import.meta.url)),{showing:p,url:n.url,anchorElement:s.value instanceof HTMLElement?s.value:s.value?.$el},{closed:()=>m()})});const r=a.protocol,l=kn(a.hostname),f=a.port,h=t(a.pathname),w=t(a.search),u=t(a.hash),y=o?"to":"href",g=o?null:"_blank";return(p,m)=>(c(),N(Ct(o?"MkA":"a"),Zi({ref_key:"el",ref:s,class:["xxhr0","_link"],[E(y)||""]:E(i),rel:e.rel??"nofollow noopener",target:E(g),behavior:n.navigationBehavior,onContextmenu:fe(()=>{},["stop"])}),{default:H(()=>[o?M("",!0):(c(),v(pe,{key:0},[b("span",{class:"xkUmz"},S(E(r))+"//",3),b("span",{class:"xCaDo"},S(E(l)),3),E(f)!=""?(c(),v("span",nb,":"+S(E(f)),1)):M("",!0)],64)),E(h)==="/"&&o?(c(),v("span",{key:1,class:"xxROy"},S(E(l)),3)):M("",!0),E(h)!=""?(c(),v("span",{key:2,class:"xEycU"},S(o?E(h).substring(1):E(h)),3)):M("",!0),b("span",{class:"xcFJE"},S(E(w)),3),b("span",{class:"xx5Ft"},S(E(u)),3),E(g)==="_blank"?(c(),v("i",{key:3,class:"xBRDw ti ti-external-link"},null,2)):M("",!0)]),_:1},16,["class","rel","target","behavior"]))}});const ib=["title"],Xc=K({__name:"MkTime",props:{time:{},origin:{default:null},mode:{default:"relative"},colored:{type:Boolean}},setup(e){const t=e;function n(h){try{return h instanceof Date?h:new Date(h)}catch{return{getTime:()=>NaN}}}const i=t.time==null?NaN:n(t.time).getTime(),o=Number.isNaN(i),a=o?"Res":_u.format(i),s=ic(),r=z(()=>t.origin?t.origin.getTime():s.value),l=z(()=>(r.value-i)/1e3),f=z(()=>t.mode==="absolute"?"":o?"Res":l.value>=31536e3?(({n})=>("Fa "+n+" anys"))({n:Math.round(l.value/31536e3).toString()}):l.value>=2592e3?(({n})=>("Fa "+n+" mesos"))({n:Math.round(l.value/2592e3).toString()}):l.value>=604800?(({n})=>("Fa "+n+" setmanes"))({n:Math.round(l.value/604800).toString()}):l.value>=86400?(({n})=>("Fa "+n+" dies"))({n:Math.round(l.value/86400).toString()}):l.value>=3600?(({n})=>("Fa "+n+" hores"))({n:Math.round(l.value/3600).toString()}):l.value>=60?(({n})=>("Fa "+n+" minuts"))({n:(~~(l.value/60)).toString()}):l.value>=10?(({n})=>("Fa "+n+" segons"))({n:(~~(l.value%60)).toString()}):l.value>=-3?"Ara mateix":l.value<-31536e3?(({n})=>("En "+n+" anys"))({n:Math.round(-l.value/31536e3).toString()}):l.value<-2592e3?(({n})=>("En "+n+" mesos"))({n:Math.round(-l.value/2592e3).toString()}):l.value<-604800?(({n})=>("En "+n+" setmanes"))({n:Math.round(-l.value/604800).toString()}):l.value<-86400?(({n})=>("En "+n+" dies"))({n:Math.round(-l.value/86400).toString()}):l.value<-3600?(({n})=>("En "+n+" hores"))({n:Math.round(-l.value/3600).toString()}):l.value<-60?(({n})=>("En "+n+" minuts"))({n:(~~(-l.value/60)).toString()}):(({n})=>("En "+n+" segons"))({n:(~~(-l.value%60)).toString()}));return(h,w)=>(c(),v("time",{title:E(a),class:J({x82N4:e.colored&&l.value>3600*24*90,xf65g:e.colored&&l.value>3600*24*180})},[E(o)?(c(),v(pe,{key:0},[Z(S("Res"),1)],64)):e.mode==="relative"?(c(),v(pe,{key:1},[Z(S(f.value),1)],64)):e.mode==="absolute"?(c(),v(pe,{key:2},[Z(S(E(a)),1)],64)):e.mode==="detail"?(c(),v(pe,{key:3},[Z(S(E(a))+" ("+S(f.value)+")",1)],64)):M("",!0)],10,ib))}});const ob=["src"],ab=K({__name:"MkMention",props:{username:{},host:{},navigationBehavior:{}},setup(e){const t=e,n=t.host===Oe?`@${t.username}`:`@${t.username}@${kn(t.host)}`,i=`/${n}`,o=A&&`@${t.username}@${kn(t.host)}`===`@${A.username}@${kn(Oe)}`.toLowerCase(),a=z(()=>D.s.disableShowingAnimatedImages||D.s.dataSaver.avatar?qi(`/avatar/@${t.username}@${t.host}`):`/avatar/@${t.username}@${t.host}`);return(s,r)=>{const l=Q("MkA"),f=Ye("user-preview");return te((c(),N(l,{class:J(["x6gsV",{xuRbo:E(o)}]),to:i,behavior:e.navigationBehavior},{default:H(()=>[b("img",{class:"xdJCj",src:a.value,alt:""},null,10,ob),b("span",null,[b("span",null,"@"+S(e.username),1),e.host!=E(Oe)?(c(),v("span",{key:0,class:"x4Wga"},"@"+S(E(kn)(e.host)),3)):M("",!0)])]),_:1},8,["class","behavior"])),[[f,E(n)]])}}});const Gc="https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-CaOQ0uLg.png",sb="/twemoji",rb="/fluent-emoji";function Qc(e){let t=Array.from(e,i=>i.codePointAt(0)?.toString(16));t.includes("200d")||(t=t.filter(i=>i!=="fe0f")),t=t.filter(i=>i&&i.length);const n=t.join("-");return`${sb}/${n}.svg`}function lb(e){let t=Array.from(e,i=>i.codePointAt(0)?.toString(16));if(t[0]?.startsWith("1f1"))return Qc(e);t.includes("200d")||(t=t.filter(i=>i!=="fe0f")),t=t.filter(i=>i!=null&&i.length>0);const n=t.map(i=>i.padStart(4,"0")).join("-");return`${rb}/${n}.png`}const ub=["alt"],cb=["src","alt"],db=["alt"],Zc=K({__name:"MkEmoji",props:{emoji:{},menu:{type:Boolean},menuReaction:{type:Boolean},ignoreMuted:{type:Boolean}},setup(e){const t=e,n=tt(qe.mfmEmojiReactCallback,null),i=D.s.emojiStyle==="twemoji"?Qc:lb,o=z(()=>D.s.emojiStyle==="native"),a=z(()=>i(t.emoji)),s=z(()=>y0(t.emoji)),r=pr(t.emoji),l=z(()=>r.value&&!t.ignoreMuted);function f(y){y.target.title=Mc(t.emoji)}function h(){Ze({type:"question",title:(({x})=>("Silenciar "+x))({x:t.emoji})}).then(({canceled:y})=>{y||mr(t.emoji)})}function w(){Ze({type:"question",title:(({x})=>("Deixar de silenciar "+x))({x:t.emoji})}).then(({canceled:y})=>{y||hr(t.emoji)})}function u(y){if(t.menu){const g=[];g.push({type:"label",text:t.emoji},{text:"Copiar",icon:"ti ti-copy",action:()=>{lt(t.emoji)}}),t.menuReaction&&n&&g.push({text:"Afegeix una reacci ",icon:"ti ti-plus",action:()=>{n(t.emoji)}}),g.push({type:"divider"},r.value?{text:"Deixar de silenciar emojis",icon:"ti ti-mood-smile",action:()=>{w()}}:{text:"Silenciar emojis",icon:"ti ti-mood-off",action:()=>{h()}}),Ue(g,y.currentTarget??y.target)}}return(y,g)=>l.value?(c(),v("img",{key:0,class:"xagin",src:Gc,alt:t.emoji,decoding:"async",onPointerenter:f,onClick:u},null,42,ub)):o.value?(c(),v("span",{key:2,alt:t.emoji,onPointerenter:f,onClick:u},S(s.value),41,db)):(c(),v("img",{key:1,class:"xagin",src:a.value,alt:t.emoji,decoding:"async",onPointerenter:f,onClick:u},null,42,cb))}});const fb="https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Cqq1W_WT.png",mb=["title"],hb=["title"],pb={key:2},vb=["src","alt","title"],Ms=K({__name:"MkCustomEmoji",props:{name:{},normal:{type:Boolean},noStyle:{type:Boolean},host:{},url:{},useOriginalSize:{type:Boolean},menu:{type:Boolean},menuReaction:{type:Boolean},fallbackToImage:{type:Boolean},ignoreMuted:{type:Boolean}},setup(e){const t=e,n=tt(qe.mfmEmojiReactCallback),i=z(()=>(t.name[0]===":"?t.name.substring(1,t.name.length-1):t.name).replace("@.","")),o=z(()=>!t.host&&(i.value.endsWith("@.")||!i.value.includes("@"))),a=la(t),s=pr(a),r=z(()=>!t.ignoreMuted&&s.value),l=z(()=>t.url?t.url:o.value?Wn.get(i.value)?.url??null:t.host?`/emoji/${i.value}@${t.host}.webp`:`/emoji/${i.value}.webp`),f=z(()=>{if(l.value==null)return;const m=l.value.startsWith("/emoji/")||t.useOriginalSize&&o.value?l.value:Up(l.value,t.useOriginalSize?void 0:"emoji",!1,!0);return D.s.disableShowingAnimatedImages?qi(m):m}),h=z(()=>`:${i.value}:`),w=F(f.value==null);function u(m){if(t.menu){const x=[];x.push({type:"label",text:`:${t.name}:`}),o.value&&x.push({text:"Copiar",icon:"ti ti-copy",action:()=>{lt(`:${t.name}:`)}}),t.menuReaction&&n&&x.push({text:"Afegeix una reacci ",icon:"ti ti-plus",action:()=>{n(`:${t.name}:`)}}),o.value&&x.push({type:"divider"},{text:"Informaci",icon:"ti ti-info-circle",action:async()=>{const{dispose:k}=_e(Fc,{emoji:await fi("emoji",{name:i.value})},{closed:()=>k()})}}),s.value?x.push({text:"Deixar de silenciar emojis",icon:"ti ti-mood-smile",action:async()=>{await p()}}):x.push({text:"Silenciar emojis",icon:"ti ti-mood-off",action:async()=>{await g()}}),(A?.isModerator??A?.isAdmin)&&o.value&&x.push({text:"Editar",icon:"ti ti-pencil",action:async()=>{await y(t.name)}}),Ue(x,m.currentTarget??m.target)}}async function y(m){const x=await se("emoji",{name:m}),{dispose:k}=await bt(I(()=>import("./3iSoGi4ic-Cg14mz44.js"),__vite__mapDeps([496,70,2,71,4,3,285,286,5,6,497]),import.meta.url).then(_=>_.default),{emoji:x},{closed:()=>k()})}function g(){const m=o.value?`:${i.value}:`:a;Ze({type:"question",title:(({x})=>("Silenciar "+x))({x:m})}).then(({canceled:x})=>{x||mr(a)})}function p(){const m=o.value?`:${i.value}:`:a;Ze({type:"question",title:(({x})=>("Deixar de silenciar "+x))({x:m})}).then(({canceled:x})=>{x||hr(a)})}return(m,x)=>r.value?(c(),v("img",{key:0,class:J(["xeJ4G",{x5kTm:e.normal,xhB9k:e.noStyle}]),src:Gc,title:h.value,draggable:"false",style:{"-webkit-user-drag":"none"},onClick:u},null,10,mb)):w.value&&e.fallbackToImage?(c(),v("img",{key:1,class:J(["xeJ4G",{x5kTm:e.normal,xhB9k:e.noStyle}]),src:fb,title:h.value,draggable:"false",style:{"-webkit-user-drag":"none"}},null,10,hb)):w.value?(c(),v("span",pb,":"+S(i.value)+":",1)):(c(),v("img",{key:3,class:J(["xeJ4G",{x5kTm:e.normal,xhB9k:e.noStyle}]),src:f.value,alt:h.value,title:h.value,decoding:"async",draggable:"false",onError:x[0]||(x[0]=k=>w.value=!0),onLoad:x[1]||(x[1]=k=>w.value=!1),onClick:u},null,42,vb))}});const gb=K({__name:"MkCode",props:{code:{},forceShow:{type:Boolean,default:!1},copyButton:{type:Boolean,default:!0},withOuterStyle:{type:Boolean,default:!0},lang:{}},setup(e){const t=e,n=F(t.forceShow===!0?!0:!D.s.dataSaver.code),i=he(()=>I(()=>import("./3iSoGi4ic-DAn693fE.js"),__vite__mapDeps([255,2,3,4,5,6,256]),import.meta.url));function o(){lt(t.code)}return(a,s)=>(c(),v("div",{class:"xtKTk"},[e.copyButton?(c(),v("button",{key:0,class:J([["xEJxC",{x8fn3:e.withOuterStyle}],"_button"]),onClick:o},[...s[1]||(s[1]=[b("i",{class:"ti ti-copy"},null,-1)])],2)):M("",!0),(c(),N(ea,null,{fallback:H(()=>[b("pre",{class:J(["_selectable",["xxaMP",{xk0Fx:e.withOuterStyle}]])},[b("code",{class:"xANNA"},"Loading...",2)],2)]),default:H(()=>[n.value&&e.lang?(c(),N(E(i),{key:0,class:"_selectable",code:e.code,lang:e.lang,withOuterStyle:e.withOuterStyle},null,8,["code","lang","withOuterStyle"])):n.value?(c(),v("pre",{key:1,class:J(["_selectable",["xxaMP",{xk0Fx:e.withOuterStyle}]])},[b("code",{class:"xANNA"},S(e.code),3)],2)):(c(),v("button",{key:2,class:"xvUDZ",onClick:s[0]||(s[0]=r=>n.value=!0)},[b("div",{class:"xzyld"},[b("div",null,[s[2]||(s[2]=b("i",{class:"ti ti-code"},null,-1)),Z(" "+S("Codi"),1)]),b("div",null,S("Fes clic per mostrar"),1)],2)],2))]),_:1}))],2))}});const yb=K({__name:"MkCodeInline",props:{code:{}},setup(e){return(t,n)=>(c(),v("code",{class:"xhJsU"},S(e.code),3))}});const wb=["placeholder"],bb=K({__name:"MkGoogle",props:{q:{}},setup(e){const n=F(e.q),i=()=>{const o=new URLSearchParams;o.append("q",n.value),window.open(`https://www.google.com/search?${o.toString()}`,"_blank","noopener")};return(o,a)=>(c(),v("div",{class:"xe0Us"},[te(b("input",{"onUpdate:modelValue":a[0]||(a[0]=s=>n.value=s),class:"xaIb4",type:"search",placeholder:e.q},null,10,wb),[[Si,n.value]]),b("button",{class:"xj804",onClick:i},[a[1]||(a[1]=b("i",{class:"ti ti-search"},null,-1)),Z(" "+S("Cercar"),1)],2)],2))}});const _b=["width","height","viewBox"],xb=["fill"],kb=K({__name:"MkSparkle",setup(e){const t=F([]),n=de("el"),i=F(0),o=F(0),a=["#FF1493","#00FFFF","#FFE202","#FFE202","#FFE202"];let s=!1,r;return We(()=>{r=new ResizeObserver((f,h)=>{n.value!=null&&(i.value=n.value.offsetWidth+64,o.value=n.value.offsetHeight+64)}),n.value&&r.observe(n.value);const l=()=>{if(s)return;const f=Math.random()*(i.value-64),h=Math.random()*(o.value-64),w=Math.random(),u={id:Dt(),x:f,y:h,size:.2+w/10*3,dur:1e3+w*1e3,color:a[Math.floor(Math.random()*a.length)]};t.value.push(u),window.setTimeout(()=>{t.value=t.value.filter(y=>y.id!==u.id)},u.dur-100),window.setTimeout(()=>{l()},500+Math.random()*500)};l()}),nt(()=>{r&&r.disconnect(),s=!0}),(l,f)=>(c(),v("span",{class:"xx8Ek"},[b("span",{ref_key:"el",ref:n,style:{display:"inline-block"}},[Ae(l.$slots,"default")],512),(c(!0),v(pe,null,ze(t.value,h=>(c(),v("svg",{key:h.id,width:i.value,height:o.value,viewBox:`0 0 ${i.value} ${o.value}`,xmlns:"http://www.w3.org/2000/svg",style:{position:"absolute",top:"-32px",left:"-32px","pointer-events":"none"}},[b("path",{style:$e({"--translateX":h.x+"px","--translateY":h.y+"px","--duration":h.dur+"ms","--size":h.size}),class:"xtxS0",fill:h.color,d:"M29.427,2.011C29.721,0.83 30.782,0 32,0C33.218,0 34.279,0.83 34.573,2.011L39.455,21.646C39.629,22.347 39.991,22.987 40.502,23.498C41.013,24.009 41.653,24.371 42.354,24.545L61.989,29.427C63.17,29.721 64,30.782 64,32C64,33.218 63.17,34.279 61.989,34.573L42.354,39.455C41.653,39.629 41.013,39.991 40.502,40.502C39.991,41.013 39.629,41.653 39.455,42.354L34.573,61.989C34.279,63.17 33.218,64 32,64C30.782,64 29.721,63.17 29.427,61.989L24.545,42.354C24.371,41.653 24.009,41.013 23.498,40.502C22.987,39.991 22.347,39.629 21.646,39.455L2.011,34.573C0.83,34.279 0,33.218 0,32C0,30.782 0.83,29.721 2.011,29.427L21.646,24.545C22.347,24.371 22.987,24.009 23.498,23.498C24.009,22.987 24.371,22.347 24.545,21.646L29.427,2.011Z"},null,14,xb)],8,_b))),128))],2))}});const Eb=["href"],br=K({__name:"MkA",props:{to:{},activeClass:{default:null},behavior:{default:null}},setup(e,{expose:t}){const n=e,i=n.behavior??tt("linkNavigationBehavior",null),o=de("el");t({$el:o});const a=vr(),s=z(()=>{if(n.activeClass==null)return!1;const h=a.resolve(n.to);return h==null?!1:h.route.path===a.currentRoute.value.path?!0:h.route.name==null||a.currentRoute.value.name==null?!1:h.route.name===a.currentRoute.value.name});function r(h){const w=window.getSelection();w&&w.toString()!==""||ca([{type:"label",text:n.to},{icon:"ti ti-app-window",text:"Obrir en una finestra nova",action:()=>{Ds(n.to)}},{icon:"ti ti-player-eject",text:"Mostrar a la pgina ",action:()=>{a.pushByPath(n.to,"forcePage")}},{type:"divider"},{icon:"ti ti-external-link",text:"Obre a una pestanya nova",action:()=>{window.open(n.to,"_blank","noopener")}},{icon:"ti ti-link",text:"Copia l'enlla",action:()=>{lt(`${ht}${n.to}`)}}],h)}function l(){Ds(n.to)}function f(h){if(!(h.metaKey||h.altKey||h.ctrlKey)){if(h.preventDefault(),i==="browser"){window.location.href=n.to;return}if(i==="window"||h.shiftKey)return l();a.pushByPath(n.to,h.ctrlKey?"forcePage":null)}}return(h,w)=>(c(),v("a",{ref_key:"el",ref:o,href:e.to,class:J(s.value?e.activeClass:null),onClick:f,onContextmenu:fe(r,["prevent","stop"])},[Ae(h.$slots,"default")],42,Eb))}});function Vn(e){if(typeof e!="string"||e==="")return null;const t=parseFloat(e);return isNaN(t)?null:t}const Ol=`
display: block;
margin: 8px;
padding: 6px 0 6px 12px;
color: var(--MI_THEME-fg);
border-left: solid 3px var(--MI_THEME-fg);
opacity: 0.7;
`.split(`
`).join(" ");function Db(e,{emit:t}){const n=e.isNote??!0,i=e.nyaize&&e.nyaize==="respect"?e.author?.isCat:!1;if(e.text==null||e.text==="")return;const o=e.parsedNodes??(e.plain?pn.parseSimple:pn.parse)(e.text),a=f=>f==null||typeof f=="boolean"?null:f.match(/^\-?[0-9.]+s$/)?f:null,s=f=>typeof f!="string"?null:f.match(/^[0-9a-f]{3,6}$/i)?f:null,r=D.s.advancedMfm&&D.s.animatedMfm,l=(f,h,w=!1)=>f.map(u=>{switch(u.type){case"text":{let y=u.props.text.replace(/(\r\n|\n|\r)/g,`
`);if(!w&&i&&(y=ya(y)),e.plain)return[y.replace(/\n/g," ")];{const g=[];for(const p of y.split(`
`))g.push(Me("br")),g.push(p);return g.shift(),g}}case"bold":return[Me("b",l(u.children,h))];case"strike":return[Me("del",l(u.children,h))];case"italic":return Me("i",{style:"font-style: oblique;"},l(u.children,h));case"fn":{let y;switch(u.props.name){case"tada":{const g=a(u.props.args.speed)??"1s",p=a(u.props.args.delay)??"0s";y="font-size: 150%;"+(r?`animation: global-tada ${g} linear infinite both; animation-delay: ${p};`:"");break}case"jelly":{const g=a(u.props.args.speed)??"1s",p=a(u.props.args.delay)??"0s";y=r?`animation: mfm-rubberBand ${g} linear infinite both; animation-delay: ${p};`:"";break}case"twitch":{const g=a(u.props.args.speed)??"0.5s",p=a(u.props.args.delay)??"0s";y=r?`animation: mfm-twitch ${g} ease infinite; animation-delay: ${p};`:"";break}case"shake":{const g=a(u.props.args.speed)??"0.5s",p=a(u.props.args.delay)??"0s";y=r?`animation: mfm-shake ${g} ease infinite; animation-delay: ${p};`:"";break}case"spin":{const g=u.props.args.left?"reverse":u.props.args.alternate?"alternate":"normal",p=u.props.args.x?"mfm-spinX":u.props.args.y?"mfm-spinY":"mfm-spin",m=a(u.props.args.speed)??"1.5s",x=a(u.props.args.delay)??"0s";y=r?`animation: ${p} ${m} linear infinite; animation-direction: ${g}; animation-delay: ${x};`:"";break}case"jump":{const g=a(u.props.args.speed)??"0.75s",p=a(u.props.args.delay)??"0s";y=r?`animation: mfm-jump ${g} linear infinite; animation-delay: ${p};`:"";break}case"bounce":{const g=a(u.props.args.speed)??"0.75s",p=a(u.props.args.delay)??"0s";y=r?`animation: mfm-bounce ${g} linear infinite; transform-origin: center bottom; animation-delay: ${p};`:"";break}case"flip":{y=`transform: ${u.props.args.h&&u.props.args.v?"scale(-1, -1)":u.props.args.v?"scaleY(-1)":"scaleX(-1)"};`;break}case"x2":return Me("span",{class:D.s.advancedMfm?"mfm-x2":""},l(u.children,h*2));case"x3":return Me("span",{class:D.s.advancedMfm?"mfm-x3":""},l(u.children,h*3));case"x4":return Me("span",{class:D.s.advancedMfm?"mfm-x4":""},l(u.children,h*4));case"font":{const g=u.props.args.serif?"serif":u.props.args.monospace?"monospace":u.props.args.cursive?"cursive":u.props.args.fantasy?"fantasy":u.props.args.emoji?"emoji":u.props.args.math?"math":null;g&&(y=`font-family: ${g};`);break}case"blur":return Me("span",{class:"_mfm_blur_"},l(u.children,h));case"rainbow":{if(!r)return Me("span",{class:"_mfm_rainbow_fallback_"},l(u.children,h));const g=a(u.props.args.speed)??"1s",p=a(u.props.args.delay)??"0s";y=`animation: mfm-rainbow ${g} linear infinite; animation-delay: ${p};`;break}case"sparkle":return r?Me(kb,{},l(u.children,h)):l(u.children,h);case"rotate":{y=`transform: rotate(${Vn(u.props.args.deg)??90}deg); transform-origin: center center;`;break}case"position":{if(!D.s.advancedMfm)break;const g=Vn(u.props.args.x)??0,p=Vn(u.props.args.y)??0;y=`transform: translateX(${g}em) translateY(${p}em);`;break}case"scale":{if(!D.s.advancedMfm){y="";break}const g=Math.min(Vn(u.props.args.x)??1,5),p=Math.min(Vn(u.props.args.y)??1,5);y=`transform: scale(${g}, ${p});`,h=h*Math.max(g,p);break}case"fg":{let g=s(u.props.args.color);g=g??"f00",y=`color: #${g}; overflow-wrap: anywhere;`;break}case"bg":{let g=s(u.props.args.color);g=g??"f00",y=`background-color: #${g}; overflow-wrap: anywhere;`;break}case"border":{let g=s(u.props.args.color);g=g?`#${g}`:"var(--MI_THEME-accent)";let p=u.props.args.style;(typeof p!="string"||!["hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"].includes(p))&&(p="solid");const m=Vn(u.props.args.width)??1,x=Vn(u.props.args.radius)??0;y=`border: ${m}px ${p} ${g}; border-radius: ${x}px;${u.props.args.noclip?"":" overflow: clip;"}`;break}case"ruby":if(u.children.length===1){const g=u.children[0];let p=g.type==="text"?g.props.text:"";return!w&&i&&(p=ya(p)),Me("ruby",{},[p.split(" ")[0],Me("rt",p.split(" ")[1])])}else{const g=u.children.at(-1);let p=g.type==="text"?g.props.text:"";return!w&&i&&(p=ya(p)),Me("ruby",{},[...l(u.children.slice(0,u.children.length-1),h),Me("rt",p.trim())])}case"unixtime":{const g=u.children[0],p=parseInt(g.type==="text"?g.props.text:"");return Me("span",{style:"display: inline-block; font-size: 90%; border: solid 1px var(--MI_THEME-divider); border-radius: 999px; padding: 4px 10px 4px 6px;"},[Me("i",{class:"ti ti-clock",style:"margin-right: 0.25em;"}),Me(Xc,{key:Math.random(),time:p*1e3,mode:"detail"})])}case"clickable":return Me("span",{onClick(g){g.stopPropagation(),g.preventDefault();const p=typeof u.props.args.ev=="string"?u.props.args.ev:"";t("clickEv",p)}},l(u.children,h))}return y===void 0?Me("span",{},["$[",u.props.name," ",...l(u.children,h),"]"]):Me("span",{style:"display: inline-block; "+y},l(u.children,h))}case"small":return[Me("small",{style:"opacity: 0.7;"},l(u.children,h))];case"center":return[Me("div",{style:"text-align:center;"},l(u.children,h))];case"url":return[Me(Yc,{key:Math.random(),url:u.props.url,rel:"nofollow noopener",navigationBehavior:e.linkNavigationBehavior})];case"link":return[Me(lr,{key:Math.random(),url:u.props.url,rel:"nofollow noopener",navigationBehavior:e.linkNavigationBehavior},l(u.children,h,!0))];case"mention":return[Me(ab,{key:Math.random(),host:(u.props.host==null&&e.author&&e.author.host!=null?e.author.host:u.props.host)??Oe,username:u.props.username,navigationBehavior:e.linkNavigationBehavior})];case"hashtag":return[Me(br,{key:Math.random(),to:n?`/tags/${encodeURIComponent(u.props.hashtag)}`:`/user-tags/${encodeURIComponent(u.props.hashtag)}`,style:"color:var(--MI_THEME-hashtag);",behavior:e.linkNavigationBehavior},`#${u.props.hashtag}`)];case"blockCode":return[Me(gb,{key:Math.random(),code:u.props.code,lang:u.props.lang??void 0})];case"inlineCode":return[Me(yb,{key:Math.random(),code:u.props.code})];case"quote":return e.nowrap?[Me("span",{style:Ol},l(u.children,h,!0))]:[Me("div",{style:Ol},l(u.children,h,!0))];case"emojiCode":return e.author?.host==null?[Me(Ms,{key:Math.random(),name:u.props.name,normal:e.plain,host:null,useOriginalSize:h>=2.5,menu:e.enableEmojiMenu,menuReaction:e.enableEmojiMenuReaction,fallbackToImage:!1})]:e.emojiUrls&&e.emojiUrls[u.props.name]==null?[Me("span",`:${u.props.name}:`)]:[Me(Ms,{key:Math.random(),name:u.props.name,url:e.emojiUrls&&e.emojiUrls[u.props.name],normal:e.plain,host:e.author.host,useOriginalSize:h>=2.5,menu:e.enableEmojiMenu,menuReaction:!1})];case"unicodeEmoji":return[Me(Zc,{key:Math.random(),emoji:u.props.emoji,menu:e.enableEmojiMenu,menuReaction:e.enableEmojiMenuReaction})];case"mathInline":return[Me("code",u.props.formula)];case"mathBlock":return[Me("code",u.props.formula)];case"search":return[Me(bb,{key:Math.random(),q:u.props.query})];case"plain":return[Me("span",l(u.children,h,!0))];default:return console.error("unrecognized ast type:",u.type),[]}}).flat(1/0);return Me("span",{style:e.nowrap?"white-space: pre; word-wrap: normal; overflow: hidden; text-overflow: ellipsis;":"white-space: pre-wrap;"},l(o,e.rootScale??1))}const Cb={key:0,style:{opacity:"0.5"}},Ab=K({__name:"MkAcct",props:{user:{},detail:{type:Boolean}},setup(e){const t=kn(Oe);return(n,i)=>(c(),v("span",null,[b("span",null,"@"+S(e.user.username),1),e.user.host||e.detail?(c(),v("span",Cb,"@"+S(e.user.host||E(t)),1)):M("",!0)]))}}),Ib=K({__name:"MkUserOnlineIndicator",props:{user:{}},setup(e){const t=e,n=z(()=>{switch(t.user.onlineStatus){case"online":return "Connectat";case"active":return "Actiu";case"offline":return "Desconnectat";case"unknown":return "Desconegut"}});return(i,o)=>{const a=Ye("tooltip");return te((c(),v("div",{class:J(["xiuv3",{xoFOX:e.user.onlineStatus==="online",xqniu:e.user.onlineStatus==="active",xsxUh:e.user.onlineStatus==="offline",xfup6:e.user.onlineStatus==="unknown"}])},null,2)),[[a,n.value]])}}});const Tb=["src"],Mb=["src"],Fb=K({__name:"MkAvatar",props:{user:{},target:{default:null},link:{type:Boolean,default:!1},preview:{type:Boolean,default:!1},indicator:{type:Boolean,default:!1},decorations:{default:void 0},forceShowDecoration:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const n=F(D.s.animation),i=F(D.s.squareAvatars),o=e,a=t,s=o.forceShowDecoration||D.s.showAvatarDecorations,r=z(()=>o.link?{to:Dn(o.user),target:o.target}:{}),l=z(()=>D.s.disableShowingAnimatedImages||D.s.dataSaver.avatar?qi(o.user.avatarUrl):o.user.avatarUrl);function f(m){o.link||a("click",m)}function h(m){return D.s.disableShowingAnimatedImages||D.s.dataSaver.avatar?qi(m.url):m.url}function w(m){const x=m.angle??0;return x===0?void 0:`${x*360}deg`}function u(m){const x=m.flipH?-1:1;return x===1?void 0:`${x} 1`}function y(m){const x=m.offsetX??0,k=m.offsetY??0;return x===0&&k===0?void 0:`${x*100}% ${k*100}%`}function g(m){return"blink"in m&&m.blink===!0}const p=F();return oe(()=>o.user.avatarBlurhash,()=>{o.user.avatarBlurhash!=null&&(p.value=Yu(o.user.avatarBlurhash))},{immediate:!0}),(m,x)=>{const k=Ye("user-preview");return te((c(),N(Ct(e.link?br:"span"),Xt(r.value,{class:["_noSelect",["x6tH3",{xtWgn:n.value,xyRmg:e.user.isCat,x9gtQ:i.value}]],style:{color:p.value},title:E(Qs)(e.user),onClick:f}),{default:H(()=>[E(D).s.enableHighQualityImagePlaceholders?(c(),N(Ys,{key:0,class:"xraw1",src:l.value,hash:e.user.avatarBlurhash,cover:!0,onlyAvgColor:!0},null,8,["class","src","hash"])):(c(),v("img",{key:1,class:"xraw1",src:l.value,alt:"",decoding:"async",style:{"pointer-events":"none"}},null,10,Tb)),e.indicator?(c(),N(Ib,{key:2,class:"xa2Cc",user:e.user},null,8,["class","user"])):M("",!0),e.user.isCat?(c(),v("div",{key:3,class:"xbyxl"},[b("div",{class:"xhUxx"},[M("",!0)],2),b("div",{class:"xudJZ"},[M("",!0)],2)],2)):M("",!0),E(s)?(c(!0),v(pe,{key:4},ze(e.decorations??e.user.avatarDecorations,_=>(c(),v("img",{class:J(["x1fJq",{xl1ot:g(_)}]),src:h(_),style:$e([{rotate:w(_),scale:u(_),translate:y(_)},{"-webkit-user-drag":"none"}]),alt:"",draggable:"false"},null,14,Mb))),256)):M("",!0)]),_:1},16,["class","style","title"])),[[k,e.preview?e.user.id:void 0]])}}});const Yo=Symbol(),xo=new ResizeObserver(e=>{const t=[];for(const n of e){const i=n.target[Yo]?n.target:n.target.firstElementChild,o=i[Yo],a=i.parentElement,s=i.getBoundingClientRect().width,r=a.getBoundingClientRect().width;t.push({container:a,transform:`scaleX(${Math.max(o.minScale,Math.min(1,r/s))})`})}for(const n of t)n.container.style.transform=n.transform}),Sb=K({__name:"MkCondensedLine",props:{minScale:{default:0}},setup(e){const t=e,n=F();return oe(n,(i,o)=>{o&&(delete o[Yo],xo.unobserve(o),o.parentElement&&xo.unobserve(o.parentElement)),i&&(i[Yo]=t,xo.observe(i),i.parentElement&&xo.observe(i.parentElement))}),(i,o)=>(c(),v("span",{class:"xhkmR"},[b("span",{ref_key:"content",ref:n,class:"xsu0t",style:$e({maxWidth:`${100/e.minScale}%`})},[Ae(i.$slots,"default")],6)],2))}});const Pb=K({__name:"MkUserName",props:{user:{},nowrap:{type:Boolean,default:!0}},setup(e){return(t,n)=>{const i=Q("Mfm");return c(),N(i,{text:e.user.name??e.user.username,author:e.user,plain:!0,nowrap:e.nowrap,emojiUrls:e.user.emojis},null,8,["text","author","nowrap","emojiUrls"])}}}),Rb=K({__name:"MkEllipsis",props:{static:{type:Boolean,default:!1}},setup(e){return(t,n)=>(c(),v("span",{class:J(["xkGTh",{xAAJG:e.static}])},[b("span",{class:"xcntq"},".",2),b("span",{class:"xcntq"},".",2),b("span",{class:"xcntq"},".",2)],2))}});const Bb=K({__name:"I18n",props:{src:{},tag:{default:"span"},textTag:{}},setup(e){const t=e,n=Zd(),i=z(()=>{let a=t.src;const s=[];for(;;){const r=a.indexOf("{"),l=a.indexOf("}");if(r===-1){s.push(a);break}else r>0&&s.push(a.substring(0,r)),s.push({arg:a.substring(r+1,l)});a=a.substring(l+1)}return s}),o=()=>Me(t.tag,i.value.map(a=>typeof a=="string"?t.textTag?Me(t.textTag,a):a:n[a.arg]()));return(a,s)=>(c(),N(o))}}),$b=K({__name:"NestedRouterView",props:{router:{}},setup(e){const n=e.router??tt(qe.router);if(n==null)throw new Error("no router provided");const i=tt(qe.routerCurrentDepth,0);ct(qe.routerCurrentDepth,i+1);function o(f,h=0){return h===i?f:f.child?o(f.child,h+1):null}const a=o(n.current),s=jt("component"in a.route?a.route.component:ra),r=F(a.props),l=F(n.getCurrentFullPath());return n.useListener("change",({resolved:f})=>{const h=o(f);h==null||"redirect"in h.route||(s.value=h.route.component,r.value=h.props,l.value=n.getCurrentFullPath())}),(f,h)=>{const w=Q("MkLoading");return c(),N(ea,{timeout:0},{fallback:H(()=>[j(w)]),default:H(()=>[(c(),N(Ct(s.value),Xt({key:l.value},Object.fromEntries(r.value)),null,16))]),_:1})}}}),Lb=K({__name:"StackingRouterView",props:{router:{}},setup(e){const n=e.router??tt(qe.router);if(n==null)throw new Error("no router provided");const i=tt(qe.routerCurrentDepth,0);ct(qe.routerCurrentDepth,i+1);const o=jt([{fullPath:n.getCurrentFullPath(),routePath:n.current.route.path,component:"component"in n.current.route?n.current.route.component:ra,props:n.current.props}]);function a(){const r=o.value[o.value.length-1];o.value=[r]}function s(){if(o.value.length<=1)return;const r=o.value[o.value.length-2];o.value=[...o.value.slice(0,o.value.length-1)],n?.replaceByPath(r.fullPath)}return n.useListener("change",({resolved:r})=>{const l=o.value[o.value.length-1],f=r.route.path;if(r==null||"redirect"in r.route||r.route.path===l.routePath&&Mt(r.props,l.props))return;const h=n.getCurrentFullPath();if(o.value.some(w=>w.routePath===f&&Mt(r.props,w.props))){const w=[];for(const u of o.value)if(w.push(u),u.routePath===f&&Mt(r.props,u.props))break;o.value=w;return}o.value=o.value.length>=D.s.numberOfPageCache?[...o.value.slice(1),{fullPath:h,routePath:f,component:r.route.component,props:r.props}]:[...o.value,{fullPath:h,routePath:f,component:r.route.component,props:r.props}]}),n.useListener("replace",({fullPath:r})=>{const l=o.value[o.value.length-1];l.fullPath=r,o.value=[...o.value.slice(0,o.value.length-1),l]}),(r,l)=>{const f=Q("MkLoading");return c(),N(Gi,{enterActiveClass:E(D).s.animation?"xsceQ":"",leaveActiveClass:E(D).s.animation?"x3ud5":"",enterFromClass:E(D).s.animation?"xBQM4":"",leaveToClass:E(D).s.animation?"xexNU":"",moveClass:E(D).s.animation?"x8jTS":"",duration:200,tag:"div",class:"xvZGv"},{default:H(()=>[(c(!0),v(pe,null,ze(o.value,(h,w)=>(c(),v("div",{key:h.fullPath,class:"xA1Ua",style:$e({"--i":w-1})},[w>0?(c(),v("div",{key:0,class:"xnJSE",onClick:l[0]||(l[0]=u=>s())},null,2)):M("",!0),b("div",{class:"xnS8n",onClick:l[2]||(l[2]=fe(u=>s(),["stop"]))},[w>0?(c(),v("div",{key:0,class:"x332l"},[(c(),v("svg",{class:"xDLTE",viewBox:"0 0 24 16"},[...l[3]||(l[3]=[b("g",{transform:"matrix(2.04108e-17,-0.333333,0.222222,1.36072e-17,21.3333,15.9989)"},[b("path",{d:"M23.997,-42C47.903,-23.457 47.997,12 47.997,12L-0.003,12L-0.003,-96C-0.003,-96 0.091,-60.543 23.997,-42Z",style:{fill:"var(--MI_THEME-panel)"}})],-1)])],2)),b("button",{class:"xnzwq _button",onClick:fe(a,["stop"])},[...l[4]||(l[4]=[b("i",{class:"ti ti-rectangle"},null,-1)])],2),b("button",{class:"xnzwq _button",onClick:fe(s,["stop"])},[...l[5]||(l[5]=[b("i",{class:"ti ti-x"},null,-1)])],2)],2)):M("",!0),w>0?(c(),v("div",{key:1,class:"xu4pt"},null,2)):M("",!0),b("div",{class:"xCxew _pageContainer",onClick:l[1]||(l[1]=fe(()=>{},["stop"]))},[(c(),N(ea,{timeout:0},{fallback:H(()=>[j(f)]),default:H(()=>[(c(),N(Ct(h.component),Xt({ref_for:!0},Object.fromEntries(h.props)),null,16))]),_:2},1024))],2)],2)],6))),128))]),_:1},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass","moveClass","class"])}}});const Ob=K({__name:"MkLoading",props:{static:{type:Boolean,default:!1},inline:{type:Boolean,default:!1},colored:{type:Boolean,default:!0},mini:{type:Boolean,default:!1},em:{type:Boolean,default:!1}},setup(e){return(t,n)=>(c(),v("div",{class:J(["x7Mqg",{xDIRy:e.inline,xCV4l:e.colored,xsTcv:e.mini,xAx8H:e.em}])},[b("div",{class:"xECzB"},[(c(),v("svg",{class:"xl0hB xyWIE",viewBox:"0 0 168 168",xmlns:"http://www.w3.org/2000/svg"},[...n[0]||(n[0]=[b("g",{transform:"matrix(1.125,0,0,1.125,12,12)"},[b("circle",{cx:"64",cy:"64",r:"64",style:{fill:"none",stroke:"currentColor","stroke-width":"21.33px"}})],-1)])],2)),(c(),v("svg",{class:J(["xl0hB","xhZ9d",{xFb0N:e.static}]),viewBox:"0 0 168 168",xmlns:"http://www.w3.org/2000/svg"},[...n[1]||(n[1]=[b("g",{transform:"matrix(1.125,0,0,1.125,12,12)"},[b("path",{d:"M128,64C128,28.654 99.346,0 64,0C99.346,0 128,28.654 128,64Z",style:{fill:"none",stroke:"currentColor","stroke-width":"21.33px"}})],-1)])],2))],2)],2))}});const Nb=K({__name:"MkError",emits:["retry"],setup(e,{emit:t}){const n=t;return(i,o)=>{const a=Q("MkResult");return c(),N(a,{type:"error"},{default:H(()=>[j(mt,{class:"xmEJE",rounded:"",onClick:o[0]||(o[0]=()=>n("retry"))},{default:H(()=>[Z(S("Torna-ho a provar"),1)]),_:1},8,["class"])]),_:1})}}});const jb={key:0},Vb={key:1},Ub={key:2},zb={key:0},Hb=K({__name:"MkSuspense",props:{p:{type:Function}},emits:["resolved"],setup(e,{emit:t}){const n=e,i=t,o=F(!0),a=F(!1),s=F(!1),r=F(null),l=F(null),f=()=>{const w=n.p();o.value=!0,a.value=!1,s.value=!1,w.then(u=>{o.value=!1,a.value=!0,r.value=u,i("resolved",u)}),w.catch(u=>{o.value=!1,s.value=!0,l.value=u})};oe(()=>n.p,()=>{f()},{immediate:!0});const h=()=>{f()};return(w,u)=>{const y=Q("MkLoading");return o.value?(c(),v("div",jb,[j(y)])):a.value?(c(),v("div",Vb,[Ae(w.$slots,"default",{result:r.value})])):(c(),v("div",Ub,[b("div",{class:"xn5va"},[Ae(w.$slots,"error",{error:l.value},()=>[b("div",null,[u[0]||(u[0]=b("i",{class:"ti ti-alert-triangle"},null,-1)),Z(" "+S("S'ha produt un error"),1)]),l.value?(c(),v("div",zb,S(JSON.stringify(l.value)),1)):M("",!0),j(mt,{inline:"",style:{"margin-top":"16px"},onClick:h},{default:H(()=>[u[1]||(u[1]=b("i",{class:"ti ti-reload"},null,-1)),Z(" "+S("Torna-ho a provar"),1)]),_:1})])],2)]))}}});const qb={key:0},Wb=["src"],Jb=K({__name:"MkAd",props:{preferForms:{},specify:{}},setup(e){const t=e,n=F(!1),i=()=>{n.value=!n.value},o=()=>{if(t.specify)return t.specify;const f=re.ads.map(p=>B.s.mutedAds.includes(p.id)?{...p,ratio:0}:p);let h=t.preferForms?f.filter(p=>t.preferForms.includes(p.place)):f;h.length===0&&(h=f.filter(p=>p.place==="square"));const w=h.filter(p=>p.ratio===0);if(h=h.filter(p=>p.ratio!==0),h.length===0)return w.length!==0?w[Math.floor(Math.random()*w.length)]:null;const u=h.reduce((p,m)=>p+m.ratio,0),y=Math.random()*u;let g=0;for(const p of h){if(y>=g&&y<=g+p.ratio)return p;g+=p.ratio}return null},a=F(o()),s=z(()=>a.value?.url.startsWith(ht)),r=F(!D.s.forceShowAds&&A&&A.policies.canHideAds&&t.specify==null);function l(){a.value!=null&&(B.s.mutedAds.includes(a.value.id)||(B.push("mutedAds",a.value.id),yr(),a.value=o(),n.value=!1))}return(f,h)=>a.value&&!r.value?(c(),v("div",qb,[n.value?(c(),v("div",{key:1,class:"xv7mu"},[b("div",null,"Ads by "+S(E(Oe)),1),a.value.ratio!==0?(c(),N(mt,{key:0,class:"xlaHL",onClick:l},{default:H(()=>[Z(S("Mostrar menys aquest anunci"),1)]),_:1},8,["class"])):M("",!0),b("button",{class:"_textButton",onClick:i},S("Tornar"),1)],2)):(c(),v("div",{key:0,class:J(["x6MSe",{xuHnP:a.value.place==="square",xnli4:a.value.place==="horizontal",x9AXF:a.value.place==="horizontal-big",xAvxQ:a.value.place==="vertical"}])},[(c(),N(Ct(s.value?"MkA":"a"),Xt({class:"xbe9n"},s.value?{to:a.value.url.substring(E(ht).length)}:{href:a.value.url,rel:"nofollow noopener",target:"_blank"}),{default:H(()=>[b("img",{src:a.value.imageUrl,class:"x3LVL"},null,10,Wb),b("button",{class:"_button xwubl",onClick:fe(i,["prevent","stop"])},[b("i",{class:"xtQ2b ti ti-info-circle"},null,2)],2)]),_:1},16,["class"]))],2))])):M("",!0)}});const Kb=["onMousedown","onClick"],Nl=K({__name:"MkPageHeader.tabs",props:{tabs:{default:()=>[]},tab:{},rootEl:{}},emits:["update:tab","tabClick"],setup(e,{emit:t}){const n=CSS.supports("position-anchor","--anchor-name"),i=`--${Dt()}-currentTab`,o=e,a=t,s=de("el"),r=de("tabHighlightEl"),l={};function f(C){return n?C.key===o.tab?{anchorName:i}:{}:{}}function h(C,T){C.key&&a("update:tab",C.key)}function w(C,T){a("tabClick",C.key),C.onClick&&(T.preventDefault(),T.stopPropagation(),C.onClick(T)),C.key&&a("update:tab",C.key)}function u(){if(n)return;const C=o.tab?l[o.tab]:void 0;if(C&&r.value&&r.value.parentElement){const T=r.value.parentElement.getBoundingClientRect(),R=C.getBoundingClientRect();r.value.style.width=R.width+"px",r.value.style.left=R.left-T.left+r.value.parentElement.scrollLeft+"px"}}function y(C){return C.deltaY!==0&&C.deltaX===0&&(C.preventDefault(),C.stopPropagation(),C.currentTarget.scrollBy({left:C.deltaY,behavior:"instant"})),!1}let g=!1;async function p(C){if(!(C instanceof HTMLElement))return;g=!0;const T=C.getBoundingClientRect().width;C.style.width="0",C.style.paddingLeft="0",C.offsetWidth,C.style.width=`${T}px`,C.style.paddingLeft="",Be(()=>{g=!1}),window.setTimeout(u,170)}function m(C){C instanceof HTMLElement}async function x(C){if(!(C instanceof HTMLElement))return;const T=C.getBoundingClientRect().width;C.style.width=`${T}px`,C.style.paddingLeft="",C.offsetWidth,C.style.width="0",C.style.paddingLeft="0"}function k(C){C instanceof HTMLElement&&(C.style.width="")}let _;return We(()=>{n||(oe([()=>o.tab,()=>o.tabs],()=>{Be(()=>{g||u()})},{immediate:!0}),o.rootEl&&(_=new ResizeObserver(()=>{window.document.body.contains(s.value)&&Be(()=>u())}),_.observe(o.rootEl)))}),nt(()=>{_&&_.disconnect()}),(C,T)=>{const R=Ye("tooltip");return c(),v("div",{ref_key:"el",ref:s,class:"xveNq",style:$e({"--tabAnchorName":i}),onWheel:y},[b("div",{class:"x5vNM"},[(c(!0),v(pe,null,ze(e.tabs,P=>te((c(),v("button",{ref_for:!0,ref:L=>l[P.key]=L,class:J(["_button",["xo5lq",{xj7PE:P.key!=null&&P.key===o.tab,xvOIQ:E(D).s.animation}]]),style:$e(f(P)),onMousedown:L=>h(P),onClick:L=>w(P,L)},[b("div",{class:"xjQuN"},[P.icon?(c(),v("i",{key:0,class:J(["xn4Pz",P.icon])},null,2)):M("",!0),!P.iconOnly||!E(D).s.animation&&P.key===e.tab?(c(),v("div",{key:1,class:"xqAei"},S(P.title),3)):(c(),N(St,{key:2,mode:"in-out",onEnter:p,onAfterEnter:m,onLeave:x,onAfterLeave:k},{default:H(()=>[te(b("div",{class:"xqAei xvOIQ"},S(P.title),3),[[Ft,P.key===e.tab]])]),_:2},1024))],2)],46,Kb)),[[R,P.title,void 0,{noDelay:!0}]])),256))],2),b("div",{ref_key:"tabHighlightEl",ref:r,class:J(["xjgqg",{xvOIQ:E(D).s.animation}])},null,2)],38)}}});const Yb={key:1,class:"_nowrap"},Xb=["onClick"],Gb=K({__name:"MkPageHeader",props:{overridePageMetadata:{},tabs:{default:()=>[]},tab:{},actions:{},thin:{type:Boolean},hideTitle:{type:Boolean},canOmitTitle:{type:Boolean},displayMyAvatar:{type:Boolean}},emits:["update:tab"],setup(e,{emit:t}){const n=e,i=t,o=tt(qe.pageMetadata,F(null)),a=z(()=>n.overridePageMetadata??o.value),s=z(()=>tt("shouldOmitHeaderTitle",!1)||n.hideTitle||n.canOmitTitle&&n.tabs.length>0),r=n.thin||tt("shouldHeaderThin",!1),l=de("el"),f=F(!1),h=z(()=>n.tabs.length>0),w=z(()=>n.actions&&n.actions.length>0),u=z(()=>!s.value||h.value||w.value),y=k=>{k.stopPropagation()},g=()=>{l.value&&Ou(l.value,{behavior:"smooth"})};async function p(k){const _=await or({withExtraOperation:!0});Ue(_,k.currentTarget??k.target)}function m(){g()}let x;return We(()=>{l.value&&l.value.parentElement&&(f.value=l.value.parentElement.offsetWidth<500,x=new ResizeObserver((k,_)=>{l.value&&l.value.parentElement&&window.document.body.contains(l.value)&&(f.value=l.value.parentElement.offsetWidth<500)}),x.observe(l.value.parentElement))}),nt(()=>{x&&x.disconnect()}),(k,_)=>{const C=Q("MkAvatar"),T=Q("MkUserName"),R=Ye("tooltip");return u.value?(c(),v("div",{key:0,ref_key:"el",ref:l,class:"x5oMj"},[b("div",{class:J(["xeHR5",{xxPg1:f.value,xkPjN:E(r)}])},[!E(r)&&f.value&&n.displayMyAvatar&&E(A)?(c(),v("div",{key:0,class:"_button",onClick:p},[j(C,{class:"x3w6Z",user:E(A)},null,8,["class","user"])],2)):!E(r)&&f.value&&!s.value?(c(),v("div",{key:1,class:"xbw4c"},null,2)):M("",!0),a.value?(c(),v(pe,{key:2},[s.value?M("",!0):(c(),v("div",{key:0,class:"xlwg4",onClick:g},[a.value.avatar?(c(),v("div",{key:0,class:"xy0IK"},[j(C,{class:"xxK6k",user:a.value.avatar,indicator:""},null,8,["class","user"])],2)):a.value.icon?(c(),v("i",{key:1,class:J(["xsM5u",a.value.icon])},null,2)):M("",!0),b("div",{class:"_nowrap xfdH7"},[a.value.userName?(c(),N(T,{key:0,user:a.value.userName,nowrap:!0},null,8,["user"])):a.value.title?(c(),v("div",Yb,S(a.value.title),1)):M("",!0),a.value.subtitle?(c(),v("div",{key:2,class:"xpJo5"},S(a.value.subtitle),3)):M("",!0)],2)],2)),!f.value||s.value?(c(),N(Nl,{key:1,class:"xzevE",tab:e.tab,tabs:e.tabs,rootEl:l.value,"onUpdate:tab":_[0]||(_[0]=P=>i("update:tab",P)),onTabClick:m},null,8,["class","tab","tabs","rootEl"])):M("",!0)],64)):M("",!0),!E(r)&&f.value&&!s.value||e.actions&&e.actions.length>0?(c(),v("div",{key:3,class:"xbw4c"},[(c(!0),v(pe,null,ze(e.actions,P=>te((c(),v("button",{class:J(["_button",["x58RN",{xbyfy:P.highlighted}]]),onClick:fe(P.handler,["stop"]),onTouchstart:y},[b("i",{class:J(P.icon)},null,2)],42,Xb)),[[R,P.text,void 0,{noDelay:!0}]])),256))],2)):M("",!0)],2),f.value&&!s.value&&h.value?(c(),v("div",{key:0,class:J(["xjond",{xxPg1:f.value,xkPjN:E(r)}])},[j(Nl,{class:"xzevE",tab:e.tab,tabs:e.tabs,rootEl:l.value,"onUpdate:tab":_[1]||(_[1]=P=>i("update:tab",P)),onTabClick:m},null,8,["class","tab","tabs","rootEl"])],2)):M("",!0)],2)):M("",!0)}}});const Qb=["data-sticky-container-header-height","data-sticky-container-footer-height"],Zb=K({__name:"MkStickyContainer",setup(e,{expose:t}){Qi(y=>({v1b64da5c:s.value+"px",v7bcdb088:f.value+"px"}));const n=de("rootEl"),i=de("headerEl"),o=de("footerEl"),a=F(),s=F(0),r=tt(qe.currentStickyTop,F(0));ct(qe.currentStickyTop,s);const l=F(),f=F(0),h=tt(qe.currentStickyBottom,F(0));ct(qe.currentStickyBottom,f);const w=()=>{i.value!=null&&(s.value=r.value+i.value.offsetHeight,a.value=i.value.offsetHeight.toString()),o.value!=null&&(f.value=h.value+o.value.offsetHeight,l.value=o.value.offsetHeight.toString())},u=new ResizeObserver(()=>{window.setTimeout(()=>{w()},100)});return We(()=>{w(),oe([r,h],w),i.value!=null&&u.observe(i.value),o.value!=null&&u.observe(o.value)}),nt(()=>{u.disconnect()}),t({rootEl:n}),(y,g)=>(c(),v("div",{ref_key:"rootEl",ref:n},[b("div",{ref_key:"headerEl",ref:i,class:"xzVgg"},[Ae(y.$slots,"header")],2),b("div",{class:"xbIyY","data-sticky-container-header-height":a.value,"data-sticky-container-footer-height":l.value},[Ae(y.$slots,"default")],10,Qb),b("div",{ref_key:"footerEl",ref:o,class:"xy5pl"},[Ae(y.$slots,"footer")],2)],512))}});const e_=K({__name:"MkLazy",setup(e){const t=de("rootEl"),n=F(!1),i=new IntersectionObserver(o=>{o.some(a=>a.isIntersecting)&&(n.value=!0)});return We(()=>{Be(()=>{i.observe(t.value)})}),$n(()=>{Be(()=>{i.observe(t.value)})}),Bn(()=>{i.disconnect()}),(o,a)=>(c(),v("div",{ref_key:"rootEl",ref:t,class:"xuz3q"},[n.value?Ae(o.$slots,"default",{key:1}):(c(),v("div",{key:0,class:"xjkxc"},null,2))],2))}});const t_=["src"],n_=["src"],i_=["src"],o_={style:{opacity:"0.7"}},a_=K({__name:"MkResult",props:{type:{},text:{}},setup(e){const t=e;return(n,i)=>{const o=Q("MkSystemIcon");return c(),N(St,{name:E(D).s.animation?"_transition_zoom":"",appear:""},{default:H(()=>[b("div",{class:J([["x7arA",{[void 0]:e.type==="notFound",[void 0]:e.type==="error"}],"_gaps"])},[e.type==="empty"&&E(re).infoImageUrl?(c(),v("img",{key:0,src:E(re).infoImageUrl,draggable:"false",class:"xpZXN"},null,10,t_)):e.type==="empty"?(c(),N(o,{key:1,type:"info",class:"x43wr"},null,8,["class"])):M("",!0),e.type==="notFound"&&E(re).notFoundImageUrl?(c(),v("img",{key:2,src:E(re).notFoundImageUrl,draggable:"false",class:"xpZXN"},null,10,n_)):e.type==="notFound"?(c(),N(o,{key:3,type:"question",class:"x43wr"},null,8,["class"])):M("",!0),e.type==="error"&&E(re).serverErrorImageUrl?(c(),v("img",{key:4,src:E(re).serverErrorImageUrl,draggable:"false",class:"xpZXN"},null,10,i_)):e.type==="error"?(c(),N(o,{key:5,type:"error",class:"x43wr"},null,8,["class"])):M("",!0),b("div",o_,S(t.text??(e.type==="empty"?"No hi ha res per veure aqu ":e.type==="notFound"?"No s'ha trobat":e.type==="error"?"S'ha produt un error":null)),1),Ae(n.$slots,"default")],2)]),_:3},8,["name"])}}});const s_=K({__name:"MkSystemIcon",props:{type:{}},setup(e){return(t,n)=>e.type==="info"?(c(),v("svg",{key:0,class:"xnO9V xuFOw",viewBox:"0 0 160 160"},[b("path",{d:"M80,108L80,72",pathLength:"1",class:"x9394 x5sVh"},null,2),b("path",{d:"M80,52L80,52",class:"x9394 xCZ0N"},null,2),b("circle",{cx:"80",cy:"80",r:"56",pathLength:"1",class:"x9394 x4G3Z"},null,2)],2)):e.type==="question"?(c(),v("svg",{key:1,class:"xnO9V xlkNn",viewBox:"0 0 160 160"},[b("path",{d:"M80,92L79.991,84C88.799,83.98 96,76.962 96,68C96,59.038 88.953,52 79.991,52C71.03,52 64,59.038 64,68",pathLength:"1",class:"x9394 x5sVh"},null,2),b("path",{d:"M80,108L80,108",class:"x9394 xCZ0N"},null,2),b("circle",{cx:"80",cy:"80",r:"56",pathLength:"1",class:"x9394 x4G3Z"},null,2)],2)):e.type==="success"?(c(),v("svg",{key:2,class:"xnO9V xeX0o",viewBox:"0 0 160 160"},[b("path",{d:"M62,80L74,92L98,68",pathLength:"1",class:"x9394 x5sVh"},null,2),b("circle",{cx:"80",cy:"80",r:"56",pathLength:"1",class:"x9394 x4G3Z"},null,2)],2)):e.type==="warn"?(c(),v("svg",{key:3,class:"xnO9V x5W19",viewBox:"0 0 160 160"},[b("path",{d:"M80,64L80,88",pathLength:"1",class:"x9394 x5sVh"},null,2),b("path",{d:"M80,108L80,108",class:"x9394 xCZ0N"},null,2),b("path",{d:"M92,28L144,116C148.709,124.65 144.083,135.82 136,136L24,136C15.917,135.82 11.291,124.65 16,116L68,28C73.498,19.945 86.771,19.945 92,28Z",pathLength:"1",class:"x9394 x5sVh"},null,2)],2)):e.type==="error"?(c(),v("svg",{key:4,class:"xnO9V xDaaX",viewBox:"0 0 160 160"},[b("path",{d:"M63,63L96,96",pathLength:"1",style:{"--duration":"0.3s"},class:"x9394 x5sVh"},null,2),b("path",{d:"M96,63L63,96",pathLength:"1",style:{"--duration":"0.3s","--delay":"0.2s"},class:"x9394 x5sVh"},null,2),b("circle",{cx:"80",cy:"80",r:"56",pathLength:"1",class:"x9394 x4G3Z"},null,2)],2)):e.type==="waiting"?(c(),v("svg",{key:5,class:"xnO9V x5o8B",viewBox:"0 0 160 160"},[b("circle",{cx:"80",cy:"80",r:"56",pathLength:"1",class:"x9394 xhuw7"},null,2),b("circle",{cx:"80",cy:"80",r:"56",style:{opacity:"0.25"},class:"x9394"},null,2)],2)):M("",!0)}});const r_={style:{"font-weight":"bold"}},l_=K({__name:"MkTip",props:{k:{},warn:{type:Boolean,default:!1}},setup(e){const t=e;function n(){ws(t.k)}function i(o){Ue([{icon:"ti ti-bulb-off",text:"Amagar tots els trucs i consells",danger:!0,action:()=>{xg(),yr()}}],o.currentTarget??o.target)}return(o,a)=>E(B).r.tips.value[t.k]?M("",!0):(c(),v("div",{key:0,class:J([["xkMpN",{xqBdg:e.warn}],"_selectable _gaps_s"])},[b("div",r_,[a[1]||(a[1]=b("i",{class:"ti ti-bulb"},null,-1)),Z(" "+S("Trucs i consells")+":",1)]),b("div",null,[Ae(o.$slots,"default")]),b("div",null,[j(mt,{inline:"",primary:"",rounded:"",small:"",onClick:a[0]||(a[0]=s=>n())},{default:H(()=>[a[2]||(a[2]=b("i",{class:"ti ti-check"},null,-1)),Z(" "+S("D'acord "),1)]),_:1}),b("button",{class:"_button",style:{padding:"8px","margin-left":"4px"},onClick:i},[...a[3]||(a[3]=[b("i",{class:"ti ti-dots"},null,-1)])])])],2))}});function u_(e){let t=null,n=!0;oe(e,o=>{if(!o)return;const a=()=>{if(!o||!n)return;if(o.scrollTop<100){t=null;return}const r=o.getBoundingClientRect().height/2,l=o.querySelectorAll("[data-scroll-anchor]");for(let f=l.length-1;f>-1;f--){const h=l[f],w=h.getBoundingClientRect(),u=w.top,y=w.bottom;if(u<=r&&y>=r){t=h.getAttribute("data-scroll-anchor");break}}};o.addEventListener("scroll",Xs(1e3,a),{passive:!0})},{immediate:!0});const i=()=>{if(!t)return;const o=e.value;if(!o)return;const a=o.querySelector(`[data-scroll-anchor="${t}"]`);a&&a.scrollIntoView({behavior:"instant",block:"center",inline:"center"})};gi(()=>{n=!1}),$n(()=>{i(),Be(()=>{i(),window.setTimeout(()=>{i(),n=!0},100)})})}const c_=20,d_=70,f_=120,jl=50,m_=K({__name:"MkSwiper",props:Tn({tabs:{}},{tab:{},tabModifiers:{}}),emits:Tn(["swiped"],["update:tab"]),setup(e,{emit:t}){const n=de("rootEl"),i=Kn(e,"tab"),o=e,a=t,s=z(()=>D.r.enableHorizontalSwipe.value||D.r.animation.value);let r=null,l=null;const f=z(()=>o.tabs.findIndex(_=>_.key===i.value)),h=F(0),w=F(!1);let u=!1,y=null;function g(_){D.r.enableHorizontalSwipe.value&&_.touches.length===1&&(x(_.target)||(r=_.touches[0].screenX,l=_.touches[0].screenY,y=null))}function p(_){if(!D.r.enableHorizontalSwipe.value||_.touches.length!==1||r==null||l==null||u||x(_.target))return;let C=_.touches[0].screenX-r,T=_.touches[0].screenY-l;if(!y){const R=Math.abs(Math.atan2(T,C)*(180/Math.PI));R>90-jl&&R<90+jl?y="vertical":y="horizontal"}if(y==="vertical"){u=!0,h.value=0,Ai.value=!1,window.setTimeout(()=>{w.value=!1},400);return}Math.abs(C)<c_||Math.abs(C)>f_||((f.value===0||o.tabs[f.value-1].onClick)&&(C=Math.min(C,0)),(f.value===o.tabs.length-1||o.tabs[f.value+1].onClick)&&(C=Math.max(C,0)),C!==0&&(Ai.value=!0,w.value=!0,Be(()=>{Math.abs(C-h.value)<1.5||(h.value=C)})))}function m(_){if(u){u=!1;return}if(!D.r.enableHorizontalSwipe.value||_.touches.length!==0||r==null||!Ai.value||x(_.target))return;const C=_.changedTouches[0].screenX-r;Math.abs(C)>d_&&(C>0?o.tabs[f.value-1]&&!o.tabs[f.value-1].onClick&&(i.value=o.tabs[f.value-1].key,a("swiped",o.tabs[f.value-1].key,"right")):o.tabs[f.value+1]&&!o.tabs[f.value+1].onClick&&(i.value=o.tabs[f.value+1].key,a("swiped",o.tabs[f.value+1].key,"left"))),h.value=0,Ai.value=!1,window.setTimeout(()=>{w.value=!1},400),y=null}function x(_){if(["INPUT","TEXTAREA"].includes(_.tagName)||_.isContentEditable||_.scrollWidth>_.clientWidth)return!0;const C=window.getComputedStyle(_);return["absolute","fixed","sticky"].includes(C.position)||["scroll","auto"].includes(C.overflowX)||C.touchAction==="pan-x"?!0:_.parentElement&&_.parentElement!==n.value?x(_.parentElement):!1}const k=F(void 0);return oe(i,(_,C)=>{const T=o.tabs.findIndex(P=>P.key===_),R=o.tabs.findIndex(P=>P.key===C);R>=0&&T>=0&&R<T?k.value="swipeAnimationLeft":k.value="swipeAnimationRight",window.setTimeout(()=>{k.value=void 0},400)}),(_,C)=>(c(),v("div",{ref_key:"rootEl",ref:n,class:J(["x3PCG",{xxHbJ:s.value}]),onTouchstartPassive:g,onTouchmovePassive:p,onTouchendPassive:m},[j(St,{class:J(["xzaI0",{xa3PH:w.value}]),enterActiveClass:"xgkxN",leaveActiveClass:"xoBpq",enterFromClass:k.value==="swipeAnimationLeft"?"xlDKY":"x8aON",leaveToClass:k.value==="swipeAnimationLeft"?"xarAT":"xxDq2",style:$e(`--swipe: ${h.value}px;`)},{default:H(()=>[(c(),v("div",{key:i.value},[Ae(_.$slots,"default")]))]),_:3},8,["class","enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass","style"])],34))}});const h_=["onMousedown","onClick"],p_=K({__name:"MkTabs",props:Tn({tabs:{default:()=>[]},centered:{type:Boolean},tabHighlightUpper:{type:Boolean}},{tab:{},tabModifiers:{}}),emits:Tn(["tabClick"],["update:tab"]),setup(e,{emit:t}){const n=CSS.supports("position-anchor","--anchor-name"),i=`--${Dt()}-currentTab`,o=e,a=t,s=Kn(e,"tab"),r=de("tabHighlightEl"),l={};function f(k){return n?k.key===s.value?{anchorName:i}:{}:{}}function h(k,_){k.key&&(s.value=k.key)}function w(k,_){a("tabClick",k.key),k.onClick&&(_.preventDefault(),_.stopPropagation(),k.onClick(_)),k.key&&(s.value=k.key)}function u(){if(n)return;const k=s.value?l[s.value]:void 0;if(k&&r.value&&r.value.parentElement){const _=r.value.parentElement.getBoundingClientRect(),C=k.getBoundingClientRect();r.value.style.width=C.width+"px",r.value.style.left=C.left-_.left+r.value.parentElement.scrollLeft+"px"}}let y=!1;async function g(k){if(!(k instanceof HTMLElement))return;y=!0;const _=k.getBoundingClientRect().width;k.style.width="0",k.style.paddingLeft="0",k.offsetWidth,k.style.width=`${_}px`,k.style.paddingLeft="",Be(()=>{y=!1}),window.setTimeout(u,170)}function p(k){k instanceof HTMLElement}async function m(k){if(!(k instanceof HTMLElement))return;const _=k.getBoundingClientRect().width;k.style.width=`${_}px`,k.style.paddingLeft="",k.offsetWidth,k.style.width="0",k.style.paddingLeft="0"}function x(k){k instanceof HTMLElement&&(k.style.width="")}return We(()=>{n||oe([s,()=>o.tabs],()=>{Be(()=>{y||u()})},{immediate:!0})}),nt(()=>{}),(k,_)=>{const C=Ye("tooltip");return c(),v("div",{class:J(["xlFgL",{xhfzw:o.centered}]),style:$e({"--tabAnchorName":i})},[b("div",{class:"xgoZI"},[(c(!0),v(pe,null,ze(e.tabs,T=>te((c(),v("button",{ref_for:!0,ref:R=>l[T.key]=R,class:J(["_button",["xwZiO",{xoFlV:T.key!=null&&T.key===s.value,xqJAt:E(D).s.animation}]]),style:$e(f(T)),onMousedown:R=>h(T),onClick:R=>w(T,R)},[b("div",{class:"xeAuo"},[T.icon?(c(),v("i",{key:0,class:J(["xuU4D",T.icon])},null,2)):M("",!0),!T.iconOnly||!E(D).s.animation&&T.key===s.value?(c(),v("div",{key:1,class:"x9yye"},S(T.title),3)):(c(),N(St,{key:2,mode:"in-out",onEnter:g,onAfterEnter:p,onLeave:m,onAfterLeave:x},{default:H(()=>[te(b("div",{class:"x9yye xqJAt"},S(T.title),3),[[Ft,T.key===s.value]])]),_:2},1024))],2)],46,h_)),[[C,T.title,void 0,{noDelay:!0}]])),256))],2),b("div",{ref_key:"tabHighlightEl",ref:r,class:J(["x35G8",{xqJAt:E(D).s.animation,xuFiw:e.tabHighlightUpper}])},null,2)],6)}}});const v_=K({__name:"PageWithHeader",props:Tn({overridePageMetadata:{},tabs:{},tab:{},actions:{},thin:{type:Boolean},hideTitle:{type:Boolean},canOmitTitle:{type:Boolean},displayMyAvatar:{type:Boolean},reversed:{type:Boolean,default:!1},swipable:{type:Boolean,default:!0}},{tab:{},tabModifiers:{}}),emits:["update:tab"],setup(e,{expose:t}){const n=e,i=z(()=>{const{reversed:f,tab:h,...w}=n;return w}),o=z(()=>{const{reversed:f,tabs:h,...w}=n;return w}),a=Kn(e,"tab"),s=de("rootEl");u_(s),vr().useListener("same",()=>{l()});function l(){s.value&&Lu(s.value,{top:0,behavior:"smooth"})}return t({scrollToTop:l}),(f,h)=>{const w=Q("MkPageHeader"),u=Q("MkStickyContainer");return c(),v("div",{ref_key:"rootEl",ref:s,class:J([void 0,e.reversed?"_pageScrollableReversed":"_pageScrollable"])},[j(u,null,{header:H(()=>[E(D).s.showPageTabBarBottom&&(n.tabs?.length??0)>0?(c(),N(w,Zi(Xt({key:0},o.value)),null,16)):(c(),N(w,Xt({key:1,tab:a.value,"onUpdate:tab":h[0]||(h[0]=y=>a.value=y)},i.value),null,16,["tab"]))]),footer:H(()=>[Ae(f.$slots,"footer"),E(D).s.showPageTabBarBottom&&(n.tabs?.length??0)>0?(c(),v("div",{key:0,class:"xpgnN"},[j(p_,{tab:a.value,"onUpdate:tab":h[2]||(h[2]=y=>a.value=y),tabs:n.tabs,centered:!0,tabHighlightUpper:!0},null,8,["tab","tabs"])],2)):M("",!0)]),default:H(()=>[b("div",{class:"xfYNC"},[E(D).s.enableHorizontalSwipe&&e.swipable&&(n.tabs?.length??1)>1?(c(),N(m_,{key:0,tab:a.value,"onUpdate:tab":h[1]||(h[1]=y=>a.value=y),class:"xmahJ",tabs:n.tabs??[]},{default:H(()=>[Ae(f.$slots,"default")]),_:3},8,["tab","class","tabs"])):Ae(f.$slots,"default",{key:1})],2)]),_:3})],2)}}});var g_=`#version 300 es
in vec2 position;uniform vec2 u_scale;out vec2 in_uv;void main(){gl_Position=vec4(position,0.0,1.0);in_uv=position/u_scale;}`,y_=`#version 300 es
precision mediump float;vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec2 mod289(vec2 x){return x-floor(x*(1.0/289.0))*289.0;}vec3 permute(vec3 x){return mod289(((x*34.0)+1.0)*x);}float snoise(vec2 v){const vec4 C=vec4(0.211324865405187,0.366025403784439,-0.577350269189626,0.024390243902439);vec2 i=floor(v+dot(v,C.yy));vec2 x0=v-i+dot(i,C.xx);vec2 i1;i1=(x0.x>x0.y)? vec2(1.0,0.0): vec2(0.0,1.0);vec4 x12=x0.xyxy+C.xxzz;x12.xy-=i1;i=mod289(i);vec3 p=permute(permute(i.y+vec3(0.0,i1.y,1.0))+i.x+vec3(0.0,i1.x,1.0));vec3 m=max(0.5-vec3(dot(x0,x0),dot(x12.xy,x12.xy),dot(x12.zw,x12.zw)),0.0);m=m*m;m=m*m;vec3 x=2.0*fract(p*C.www)-1.0;vec3 h=abs(x)-0.5;vec3 ox=floor(x+0.5);vec3 a0=x-ox;m*=1.79284291400159-0.85373472095314*(a0*a0+h*h);vec3 g;g.x=a0.x*x0.x+h.x*x0.y;g.yz=a0.yz*x12.xz+h.yz*x12.yw;return 130.0*dot(m,g);}in vec2 in_uv;uniform float u_time;uniform vec2 u_resolution;uniform float u_spread;uniform float u_speed;uniform float u_warp;uniform float u_focus;uniform float u_itensity;out vec4 out_color;float circle(in vec2 _pos,in vec2 _origin,in float _radius){float SPREAD=0.7*u_spread;float SPEED=0.00055*u_speed;float WARP=1.5*u_warp;float FOCUS=1.15*u_focus;vec2 dist=_pos-_origin;float distortion=snoise(vec2(_pos.x*1.587*WARP+u_time*SPEED*0.5,_pos.y*1.192*WARP+u_time*SPEED*0.3))*0.5+0.5;float feather=0.01+SPREAD*pow(distortion,FOCUS);return 1.0-smoothstep(_radius-(_radius*feather),_radius+(_radius*feather),dot(dist,dist)*4.0);}void main(){vec3 green=vec3(1.0)-vec3(153.0/255.0,211.0/255.0,221.0/255.0);vec3 purple=vec3(1.0)-vec3(195.0/255.0,165.0/255.0,242.0/255.0);vec3 orange=vec3(1.0)-vec3(255.0/255.0,156.0/255.0,136.0/255.0);float ratio=u_resolution.x/u_resolution.y;vec2 uv=vec2(in_uv.x,in_uv.y/ratio)*0.5+0.5;vec3 color=vec3(0.0);float greenMix=snoise(in_uv*1.31+u_time*0.8*0.00017)*0.5+0.5;float purpleMix=snoise(in_uv*1.26+u_time*0.8*-0.0001)*0.5+0.5;float orangeMix=snoise(in_uv*1.34+u_time*0.8*0.00015)*0.5+0.5;float alphaOne=0.35+0.65*pow(snoise(vec2(u_time*0.00012,uv.x))*0.5+0.5,1.2);float alphaTwo=0.35+0.65*pow(snoise(vec2((u_time+1561.0)*0.00014,uv.x))*0.5+0.5,1.2);float alphaThree=0.35+0.65*pow(snoise(vec2((u_time+3917.0)*0.00013,uv.x))*0.5+0.5,1.2);color+=vec3(circle(uv,vec2(0.22+sin(u_time*0.000201)*0.06,0.80+cos(u_time*0.000151)*0.06),0.15))*alphaOne*(purple*purpleMix+orange*orangeMix);color+=vec3(circle(uv,vec2(0.90+cos(u_time*0.000166)*0.06,0.42+sin(u_time*0.000138)*0.06),0.18))*alphaTwo*(green*greenMix+purple*purpleMix);color+=vec3(circle(uv,vec2(0.19+sin(u_time*0.000112)*0.06,0.25+sin(u_time*0.000192)*0.06),0.09))*alphaThree*(orange*orangeMix);color*=u_itensity+1.0*pow(snoise(vec2(in_uv.y+u_time*0.00013,in_uv.x+u_time*-0.00009))*0.5+0.5,2.0);vec3 inverted=vec3(1.0)-color;out_color=vec4(color,max(max(color.x,color.y),color.z));}`;function Vl(e,t,n){const i=e.createShader(t);if(i==null)throw new Error("falied to create shader");if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw console.error(`falied to compile shader: ${e.getShaderInfoLog(i)}`),e.deleteShader(i),new Error(`falied to compile shader: ${e.getShaderInfoLog(i)}`);return i}function w_(e,t,n){const i=Vl(e,e.VERTEX_SHADER,t),o=Vl(e,e.FRAGMENT_SHADER,n),a=e.createProgram();if(e.attachShader(a,i),e.attachShader(a,o),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw console.error(`failed to init shader: ${e.getProgramInfoLog(a)}`),new Error("failed to init shader");return a}function i2(e){const t=e.createTexture();return e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.bindTexture(e.TEXTURE_2D,null),t}const b_=K({__name:"MkAnimBg",props:{scale:{default:1},focus:{default:1}},setup(e){const t=de("canvasEl"),n=e;let i=null;return We(()=>{const o=t.value;let a=o.offsetWidth,s=o.offsetHeight;o.width=a,o.height=s;const r=o.getContext("webgl2",{premultipliedAlpha:!0});if(r==null)return;const l=r;l.clearColor(0,0,0,0),l.clear(l.COLOR_BUFFER_BIT);const f=l.createBuffer();l.bindBuffer(l.ARRAY_BUFFER,f);const h=w_(l,g_,y_);if(h==null)return;l.useProgram(h);const w=l.getUniformLocation(h,"u_resolution"),u=l.getUniformLocation(h,"u_time"),y=l.getUniformLocation(h,"u_spread"),g=l.getUniformLocation(h,"u_speed"),p=l.getUniformLocation(h,"u_warp"),m=l.getUniformLocation(h,"u_focus"),x=l.getUniformLocation(h,"u_itensity"),k=l.getUniformLocation(h,"u_scale");l.uniform2fv(w,[o.width,o.height]),l.uniform1f(y,1),l.uniform1f(g,1),l.uniform1f(p,1),l.uniform1f(m,n.focus),l.uniform1f(x,.5),l.uniform2fv(k,[n.scale,n.scale]);const _=l.getAttribLocation(h,"position");l.enableVertexAttribArray(_),l.vertexAttribPointer(_,2,l.FLOAT,!1,0,0);const C=[1,1,-1,1,1,-1,-1,-1];l.bufferData(l.ARRAY_BUFFER,new Float32Array(C),l.DYNAMIC_DRAW);{let T=function(R){let P=!1;Math.abs(s-o.offsetHeight)>2&&(s=o.offsetHeight,o.height=s,P=!0),Math.abs(a-o.offsetWidth)>2&&(a=o.offsetWidth,o.width=a,P=!0),P&&l&&(l.uniform2fv(w,[a,s]),l.viewport(0,0,a,s)),l.uniform1f(u,R),l.drawArrays(l.TRIANGLE_STRIP,0,4),i=window.requestAnimationFrame(T)};i=window.requestAnimationFrame(T)}}),nt(()=>{i&&window.cancelAnimationFrame(i)}),(o,a)=>(c(),v("canvas",{ref_key:"canvasEl",ref:t,style:{display:"block",width:"100%",height:"100%","pointer-events":"none"}},null,512))}}),__=K({__name:"PageWithAnimBg",setup(e){return(t,n)=>(c(),v("div",null,[j(b_,{style:{position:"absolute"}}),b("div",{class:"_pageScrollable xwJyN"},[Ae(t.$slots,"default")],2)]))}});const x_=K({__name:"SearchMarker",props:{markerId:{},label:{},icon:{},keywords:{},children:{},inlining:{}},setup(e){const t=e,n=de("root"),i=new MutationObserver(()=>{l()}),o=tt(qe.inAppSearchMarkerId,null),a=z(()=>o?.value??window.location.hash.slice(1)),s=F(t.markerId===a.value),r=z(()=>t.children?.includes(a.value));function l(){if(r.value){const w=window.document.querySelector(`[data-in-app-search-marker-id="${a.value}"]`);s.value=w==null}}oe([a,()=>t.children],()=>{t.children!=null&&t.children.length>0&&l()},{flush:"post"});function f(){l(),s.value&&n.value?.scrollIntoView({behavior:"smooth",block:"center"}),n.value!=null&&i.observe(n.value,{childList:!0,subtree:!0})}function h(){i.disconnect()}return We(f),$n(f),gi(h),Bn(h),(w,u)=>(c(),v("div",{ref:"root",class:J(["x7Bb0",{x45Tr:s.value}])},[Ae(w.$slots,"default",{isParentOfTarget:r.value})],2))}});const k_={};function E_(e,t){return Ae(e.$slots,"default")}const D_=io(k_,[["render",E_]]),C_={};function A_(e,t){return Ae(e.$slots,"default")}const I_=io(C_,[["render",A_]]),T_={};function M_(e,t){return Ae(e.$slots,"default")}const F_=io(T_,[["render",M_]]);function S_(e){for(const[t,n]of Object.entries(P_))e.component(t,n)}const P_={I18n:Bb,RouterView:wc,NestedRouterView:$b,StackingRouterView:Lb,Mfm:Db,MkA:br,MkAcct:Ab,MkAvatar:Fb,MkEmoji:Zc,MkCondensedLine:Sb,MkCustomEmoji:Ms,MkUserName:Pb,MkEllipsis:Rb,MkTime:Xc,MkUrl:Yc,MkLoading:Ob,MkError:Nb,MkSuspense:Hb,MkAd:Jb,MkPageHeader:Gb,MkStickyContainer:Zb,MkLazy:e_,MkResult:a_,MkSystemIcon:s_,MkTip:l_,PageWithHeader:v_,PageWithAnimBg:__,SearchMarker:x_,SearchLabel:D_,SearchText:I_,SearchIcon:F_},R_=(e,t,n)=>{const i=e[t];return i?typeof i=="function"?i():Promise.resolve(i):new Promise((o,a)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+t+(t.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};var ed="light",td="Light",nd="syuilo",id="Default light theme",od="light",ad={accent:"#86b300",accentedBg:":alpha<0.15<@accent",love:"#dd2e44",focus:":alpha<0.3<@accent",bg:"#fff",fg:"#5f5f5f",fgHighlighted:":darken<3<@fg",fgOnAccent:"#fff",fgOnWhite:"#333",divider:"rgba(0, 0, 0, 0.1)",indicator:"@accent",panel:":lighten<3<@bg",panelHighlight:":darken<3<@panel",panelHeaderBg:":lighten<3<@panel",panelHeaderFg:"@fg",panelBorder:'" solid 1px var(--MI_THEME-divider)',windowHeader:":alpha<0.85<@panel",popup:":lighten<3<@panel",shadow:"rgba(0, 0, 0, 0.1)",header:":alpha<0.7<@panel",navBg:"@panel",navFg:"@fg",navActive:"@accent",navIndicator:"@indicator",pageHeaderBg:"@bg",pageHeaderFg:"@fg",link:"#44a4c1",hashtag:"#ff9156",mention:"@accent",mentionMe:"@mention",renote:"#229e82",modalBg:"rgba(0, 0, 0, 0.3)",scrollbarHandle:"rgba(0, 0, 0, 0.2)",scrollbarHandleHover:"rgba(0, 0, 0, 0.4)",dateLabelFg:"@fg",infoBg:"#e5f5ff",infoFg:"#72818a",infoWarnBg:"#fff0db",infoWarnFg:"#8f6e31",folderHeaderBg:"rgba(0, 0, 0, 0.05)",folderHeaderHoverBg:"rgba(0, 0, 0, 0.1)",buttonBg:":darken<5<@panel",buttonHoverBg:":darken<10<@panel",buttonGradateA:"@accent",buttonGradateB:":hue<20<@accent",switchBg:"rgba(0, 0, 0, 0.15)",switchOffBg:"rgba(0, 0, 0, 0.1)",switchOffFg:"@panel",switchOnBg:"@accent",switchOnFg:"@fgOnAccent",inputBorder:"rgba(0, 0, 0, 0.1)",inputBorderHover:"rgba(0, 0, 0, 0.2)",badge:"#31b1ce",messageBg:"@bg",success:"#86b300",error:"#ec4137",warn:"#ecb637",codeString:"#b98710",codeNumber:"#0fbbbb",codeBoolean:"#62b70c",deckBg:":darken<3<@bg",htmlThemeColor:"@bg"},sd={base:"catppuccin-latte"};const _r={id:ed,name:td,author:nd,desc:id,kind:od,props:ad,codeHighlighter:sd},B_=Object.freeze(Object.defineProperty({__proto__:null,author:nd,codeHighlighter:sd,default:_r,desc:id,id:ed,kind:od,name:td,props:ad},Symbol.toStringTag,{value:"Module"}));var rd="dark",ld="Dark",ud="syuilo",cd="Default dark theme",dd="dark",fd={accent:"#86b300",accentedBg:":alpha<0.15<@accent",love:"#dd2e44",focus:":alpha<0.3<@accent",bg:"#000",fg:"#dadada",fgHighlighted:":lighten<3<@fg",fgOnAccent:"#fff",fgOnWhite:"#333",divider:"rgba(255, 255, 255, 0.1)",indicator:"@accent",panel:":lighten<3<@bg",panelHighlight:":lighten<3<@panel",panelHeaderBg:":lighten<3<@panel",panelHeaderFg:"@fg",panelBorder:'" solid 1px var(--MI_THEME-divider)',windowHeader:":alpha<0.85<@panel",popup:":lighten<3<@panel",shadow:"rgba(0, 0, 0, 0.3)",header:":alpha<0.7<@panel",navBg:"@panel",navFg:"@fg",navActive:"@accent",navIndicator:"@indicator",pageHeaderBg:"@bg",pageHeaderFg:"@fg",link:"#44a4c1",hashtag:"#ff9156",mention:"@accent",mentionMe:"@mention",renote:"#229e82",modalBg:"rgba(0, 0, 0, 0.5)",scrollbarHandle:"rgba(255, 255, 255, 0.2)",scrollbarHandleHover:"rgba(255, 255, 255, 0.4)",dateLabelFg:"@fg",infoBg:"#253142",infoFg:"#fff",infoWarnBg:"#42321c",infoWarnFg:"#ffbd3e",folderHeaderBg:"rgba(255, 255, 255, 0.05)",folderHeaderHoverBg:"rgba(255, 255, 255, 0.1)",buttonBg:":lighten<5<@panel",buttonHoverBg:":lighten<10<@panel",buttonGradateA:"@accent",buttonGradateB:":hue<20<@accent",switchBg:"rgba(255, 255, 255, 0.15)",switchOffBg:"rgba(255, 255, 255, 0.1)",switchOffFg:":alpha<0.8<@fg",switchOnBg:"@accentedBg",switchOnFg:"@accent",inputBorder:"rgba(255, 255, 255, 0.1)",inputBorderHover:"rgba(255, 255, 255, 0.2)",badge:"#31b1ce",messageBg:"@bg",success:"#86b300",error:"#ec4137",warn:"#ecb637",codeString:"#ffb675",codeNumber:"#cfff9e",codeBoolean:"#c59eff",deckBg:"#000",htmlThemeColor:"@bg"},md={base:"one-dark-pro"};const hd={id:rd,name:ld,author:ud,desc:cd,kind:dd,props:fd,codeHighlighter:md},$_=Object.freeze(Object.defineProperty({__proto__:null,author:ud,codeHighlighter:md,default:hd,desc:cd,id:rd,kind:dd,name:ld,props:fd},Symbol.toStringTag,{value:"Module"}));var L_=/[\u1680\u2000-\u200A\u202F\u205F\u3000]/,O_=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]/,N_=/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u09FC\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9-\u0AFF\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D00-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF9\u1D00-\u1DF9\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF2D-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDE00-\uDE3E\uDE47\uDE50-\uDE83\uDE86-\uDE99\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD36\uDD3A\uDD3C\uDD3D\uDD3F-\uDD47\uDD50-\uDD59]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/,Xa={Space_Separator:L_,ID_Start:O_,ID_Continue:N_},ft={isSpaceSeparator(e){return typeof e=="string"&&Xa.Space_Separator.test(e)},isIdStartChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="$"||e==="_"||Xa.ID_Start.test(e))},isIdContinueChar(e){return typeof e=="string"&&(e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="$"||e==="_"||e===""||e===""||Xa.ID_Continue.test(e))},isDigit(e){return typeof e=="string"&&/[0-9]/.test(e)},isHexDigit(e){return typeof e=="string"&&/[0-9A-Fa-f]/.test(e)}};let Fs,Tt,fn,Xo,Rn,Yt,wt,xr,ji;var j_=function(t,n){Fs=String(t),Tt="start",fn=[],Xo=0,Rn=1,Yt=0,wt=void 0,xr=void 0,ji=void 0;do wt=V_(),H_[Tt]();while(wt.type!=="eof");return typeof n=="function"?Ss({"":ji},"",n):ji};function Ss(e,t,n){const i=e[t];if(i!=null&&typeof i=="object")if(Array.isArray(i))for(let o=0;o<i.length;o++){const a=String(o),s=Ss(i,a,n);s===void 0?delete i[a]:Object.defineProperty(i,a,{value:s,writable:!0,enumerable:!0,configurable:!0})}else for(const o in i){const a=Ss(i,o,n);a===void 0?delete i[o]:Object.defineProperty(i,o,{value:a,writable:!0,enumerable:!0,configurable:!0})}return n.call(e,t,i)}let Pe,Ie,Fi,cn,Le;function V_(){for(Pe="default",Ie="",Fi=!1,cn=1;;){Le=gn();const e=pd[Pe]();if(e)return e}}function gn(){if(Fs[Xo])return String.fromCodePoint(Fs.codePointAt(Xo))}function W(){const e=gn();return e===`
`?(Rn++,Yt=0):e?Yt+=e.length:Yt++,e&&(Xo+=e.length),e}const pd={default(){switch(Le){case"	":case"\v":case"\f":case" ":case"":case"\uFEFF":case`
`:case"\r":case"\u2028":case"\u2029":W();return;case"/":W(),Pe="comment";return;case void 0:return W(),ot("eof")}if(ft.isSpaceSeparator(Le)){W();return}return pd[Tt]()},comment(){switch(Le){case"*":W(),Pe="multiLineComment";return;case"/":W(),Pe="singleLineComment";return}throw at(W())},multiLineComment(){switch(Le){case"*":W(),Pe="multiLineCommentAsterisk";return;case void 0:throw at(W())}W()},multiLineCommentAsterisk(){switch(Le){case"*":W();return;case"/":W(),Pe="default";return;case void 0:throw at(W())}W(),Pe="multiLineComment"},singleLineComment(){switch(Le){case`
`:case"\r":case"\u2028":case"\u2029":W(),Pe="default";return;case void 0:return W(),ot("eof")}W()},value(){switch(Le){case"{":case"[":return ot("punctuator",W());case"n":return W(),Un("ull"),ot("null",null);case"t":return W(),Un("rue"),ot("boolean",!0);case"f":return W(),Un("alse"),ot("boolean",!1);case"-":case"+":W()==="-"&&(cn=-1),Pe="sign";return;case".":Ie=W(),Pe="decimalPointLeading";return;case"0":Ie=W(),Pe="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ie=W(),Pe="decimalInteger";return;case"I":return W(),Un("nfinity"),ot("numeric",1/0);case"N":return W(),Un("aN"),ot("numeric",NaN);case'"':case"'":Fi=W()==='"',Ie="",Pe="string";return}throw at(W())},identifierNameStartEscape(){if(Le!=="u")throw at(W());W();const e=Ps();switch(e){case"$":case"_":break;default:if(!ft.isIdStartChar(e))throw Ul();break}Ie+=e,Pe="identifierName"},identifierName(){switch(Le){case"$":case"_":case"":case"":Ie+=W();return;case"\\":W(),Pe="identifierNameEscape";return}if(ft.isIdContinueChar(Le)){Ie+=W();return}return ot("identifier",Ie)},identifierNameEscape(){if(Le!=="u")throw at(W());W();const e=Ps();switch(e){case"$":case"_":case"":case"":break;default:if(!ft.isIdContinueChar(e))throw Ul();break}Ie+=e,Pe="identifierName"},sign(){switch(Le){case".":Ie=W(),Pe="decimalPointLeading";return;case"0":Ie=W(),Pe="zero";return;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":Ie=W(),Pe="decimalInteger";return;case"I":return W(),Un("nfinity"),ot("numeric",cn*(1/0));case"N":return W(),Un("aN"),ot("numeric",NaN)}throw at(W())},zero(){switch(Le){case".":Ie+=W(),Pe="decimalPoint";return;case"e":case"E":Ie+=W(),Pe="decimalExponent";return;case"x":case"X":Ie+=W(),Pe="hexadecimal";return}return ot("numeric",cn*0)},decimalInteger(){switch(Le){case".":Ie+=W(),Pe="decimalPoint";return;case"e":case"E":Ie+=W(),Pe="decimalExponent";return}if(ft.isDigit(Le)){Ie+=W();return}return ot("numeric",cn*Number(Ie))},decimalPointLeading(){if(ft.isDigit(Le)){Ie+=W(),Pe="decimalFraction";return}throw at(W())},decimalPoint(){switch(Le){case"e":case"E":Ie+=W(),Pe="decimalExponent";return}if(ft.isDigit(Le)){Ie+=W(),Pe="decimalFraction";return}return ot("numeric",cn*Number(Ie))},decimalFraction(){switch(Le){case"e":case"E":Ie+=W(),Pe="decimalExponent";return}if(ft.isDigit(Le)){Ie+=W();return}return ot("numeric",cn*Number(Ie))},decimalExponent(){switch(Le){case"+":case"-":Ie+=W(),Pe="decimalExponentSign";return}if(ft.isDigit(Le)){Ie+=W(),Pe="decimalExponentInteger";return}throw at(W())},decimalExponentSign(){if(ft.isDigit(Le)){Ie+=W(),Pe="decimalExponentInteger";return}throw at(W())},decimalExponentInteger(){if(ft.isDigit(Le)){Ie+=W();return}return ot("numeric",cn*Number(Ie))},hexadecimal(){if(ft.isHexDigit(Le)){Ie+=W(),Pe="hexadecimalInteger";return}throw at(W())},hexadecimalInteger(){if(ft.isHexDigit(Le)){Ie+=W();return}return ot("numeric",cn*Number(Ie))},string(){switch(Le){case"\\":W(),Ie+=U_();return;case'"':if(Fi)return W(),ot("string",Ie);Ie+=W();return;case"'":if(!Fi)return W(),ot("string",Ie);Ie+=W();return;case`
`:case"\r":throw at(W());case"\u2028":case"\u2029":q_(Le);break;case void 0:throw at(W())}Ie+=W()},start(){switch(Le){case"{":case"[":return ot("punctuator",W())}Pe="value"},beforePropertyName(){switch(Le){case"$":case"_":Ie=W(),Pe="identifierName";return;case"\\":W(),Pe="identifierNameStartEscape";return;case"}":return ot("punctuator",W());case'"':case"'":Fi=W()==='"',Pe="string";return}if(ft.isIdStartChar(Le)){Ie+=W(),Pe="identifierName";return}throw at(W())},afterPropertyName(){if(Le===":")return ot("punctuator",W());throw at(W())},beforePropertyValue(){Pe="value"},afterPropertyValue(){switch(Le){case",":case"}":return ot("punctuator",W())}throw at(W())},beforeArrayValue(){if(Le==="]")return ot("punctuator",W());Pe="value"},afterArrayValue(){switch(Le){case",":case"]":return ot("punctuator",W())}throw at(W())},end(){throw at(W())}};function ot(e,t){return{type:e,value:t,line:Rn,column:Yt}}function Un(e){for(const t of e){if(gn()!==t)throw at(W());W()}}function U_(){switch(gn()){case"b":return W(),"\b";case"f":return W(),"\f";case"n":return W(),`
`;case"r":return W(),"\r";case"t":return W(),"	";case"v":return W(),"\v";case"0":if(W(),ft.isDigit(gn()))throw at(W());return"\0";case"x":return W(),z_();case"u":return W(),Ps();case`
`:case"\u2028":case"\u2029":return W(),"";case"\r":return W(),gn()===`
`&&W(),"";case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":throw at(W());case void 0:throw at(W())}return W()}function z_(){let e="",t=gn();if(!ft.isHexDigit(t)||(e+=W(),t=gn(),!ft.isHexDigit(t)))throw at(W());return e+=W(),String.fromCodePoint(parseInt(e,16))}function Ps(){let e="",t=4;for(;t-- >0;){const n=gn();if(!ft.isHexDigit(n))throw at(W());e+=W()}return String.fromCodePoint(parseInt(e,16))}const H_={start(){if(wt.type==="eof")throw zn();Ga()},beforePropertyName(){switch(wt.type){case"identifier":case"string":xr=wt.value,Tt="afterPropertyName";return;case"punctuator":ko();return;case"eof":throw zn()}},afterPropertyName(){if(wt.type==="eof")throw zn();Tt="beforePropertyValue"},beforePropertyValue(){if(wt.type==="eof")throw zn();Ga()},beforeArrayValue(){if(wt.type==="eof")throw zn();if(wt.type==="punctuator"&&wt.value==="]"){ko();return}Ga()},afterPropertyValue(){if(wt.type==="eof")throw zn();switch(wt.value){case",":Tt="beforePropertyName";return;case"}":ko()}},afterArrayValue(){if(wt.type==="eof")throw zn();switch(wt.value){case",":Tt="beforeArrayValue";return;case"]":ko()}},end(){}};function Ga(){let e;switch(wt.type){case"punctuator":switch(wt.value){case"{":e={};break;case"[":e=[];break}break;case"null":case"boolean":case"numeric":case"string":e=wt.value;break}if(ji===void 0)ji=e;else{const t=fn[fn.length-1];Array.isArray(t)?t.push(e):Object.defineProperty(t,xr,{value:e,writable:!0,enumerable:!0,configurable:!0})}if(e!==null&&typeof e=="object")fn.push(e),Array.isArray(e)?Tt="beforeArrayValue":Tt="beforePropertyName";else{const t=fn[fn.length-1];t==null?Tt="end":Array.isArray(t)?Tt="afterArrayValue":Tt="afterPropertyValue"}}function ko(){fn.pop();const e=fn[fn.length-1];e==null?Tt="end":Array.isArray(e)?Tt="afterArrayValue":Tt="afterPropertyValue"}function at(e){return Go(e===void 0?`JSON5: invalid end of input at ${Rn}:${Yt}`:`JSON5: invalid character '${vd(e)}' at ${Rn}:${Yt}`)}function zn(){return Go(`JSON5: invalid end of input at ${Rn}:${Yt}`)}function Ul(){return Yt-=5,Go(`JSON5: invalid identifier character at ${Rn}:${Yt}`)}function q_(e){console.warn(`JSON5: '${vd(e)}' in strings is not valid ECMAScript; consider escaping`)}function vd(e){const t={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};if(t[e])return t[e];if(e<" "){const n=e.charCodeAt(0).toString(16);return"\\x"+("00"+n).substring(n.length)}return e}function Go(e){const t=new SyntaxError(e);return t.lineNumber=Rn,t.columnNumber=Yt,t}var W_=function(t,n,i){const o=[];let a="",s,r,l="",f;if(n!=null&&typeof n=="object"&&!Array.isArray(n)&&(i=n.space,f=n.quote,n=n.replacer),typeof n=="function")r=n;else if(Array.isArray(n)){s=[];for(const p of n){let m;typeof p=="string"?m=p:(typeof p=="number"||p instanceof String||p instanceof Number)&&(m=String(p)),m!==void 0&&s.indexOf(m)<0&&s.push(m)}}return i instanceof Number?i=Number(i):i instanceof String&&(i=String(i)),typeof i=="number"?i>0&&(i=Math.min(10,Math.floor(i)),l="          ".substr(0,i)):typeof i=="string"&&(l=i.substr(0,10)),h("",{"":t});function h(p,m){let x=m[p];switch(x!=null&&(typeof x.toJSON5=="function"?x=x.toJSON5(p):typeof x.toJSON=="function"&&(x=x.toJSON(p))),r&&(x=r.call(m,p,x)),x instanceof Number?x=Number(x):x instanceof String?x=String(x):x instanceof Boolean&&(x=x.valueOf()),x){case null:return"null";case!0:return"true";case!1:return"false"}if(typeof x=="string")return w(x);if(typeof x=="number")return String(x);if(typeof x=="object")return Array.isArray(x)?g(x):u(x)}function w(p){const m={"'":.1,'"':.2},x={"'":"\\'",'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\v":"\\v","\0":"\\0","\u2028":"\\u2028","\u2029":"\\u2029"};let k="";for(let C=0;C<p.length;C++){const T=p[C];switch(T){case"'":case'"':m[T]++,k+=T;continue;case"\0":if(ft.isDigit(p[C+1])){k+="\\x00";continue}}if(x[T]){k+=x[T];continue}if(T<" "){let R=T.charCodeAt(0).toString(16);k+="\\x"+("00"+R).substring(R.length);continue}k+=T}const _=f||Object.keys(m).reduce((C,T)=>m[C]<m[T]?C:T);return k=k.replace(new RegExp(_,"g"),x[_]),_+k+_}function u(p){if(o.indexOf(p)>=0)throw TypeError("Converting circular structure to JSON5");o.push(p);let m=a;a=a+l;let x=s||Object.keys(p),k=[];for(const C of x){const T=h(C,p);if(T!==void 0){let R=y(C)+":";l!==""&&(R+=" "),R+=T,k.push(R)}}let _;if(k.length===0)_="{}";else{let C;if(l==="")C=k.join(","),_="{"+C+"}";else{let T=`,
`+a;C=k.join(T),_=`{
`+a+C+`,
`+m+"}"}}return o.pop(),a=m,_}function y(p){if(p.length===0)return w(p);const m=String.fromCodePoint(p.codePointAt(0));if(!ft.isIdStartChar(m))return w(p);for(let x=m.length;x<p.length;x++)if(!ft.isIdContinueChar(String.fromCodePoint(p.codePointAt(x))))return w(p);return p}function g(p){if(o.indexOf(p)>=0)throw TypeError("Converting circular structure to JSON5");o.push(p);let m=a;a=a+l;let x=[];for(let _=0;_<p.length;_++){const C=h(String(_),p);x.push(C!==void 0?C:"null")}let k;if(x.length===0)k="[]";else if(l==="")k="["+x.join(",")+"]";else{let _=`,
`+a,C=x.join(_);k=`[
`+a+C+`,
`+m+"]"}return o.pop(),a=m,k}};const J_={parse:j_,stringify:W_};var K_=J_;Object.keys(_r.props).filter(e=>!e.startsWith("X"));const gd=()=>Promise.all(["l-light","l-coffee","l-apricot","l-rainy","l-botanical","l-vivid","l-cherry","l-sushi","l-u0","d-dark","d-persimmon","d-astro","d-future","d-botanical","d-green-lime","d-green-orange","d-cherry","d-ice","d-u0"].map(e=>R_(Object.assign({"../../frontend-shared/themes/_dark.json5":()=>I(()=>Promise.resolve().then(()=>$_),void 0,import.meta.url),"../../frontend-shared/themes/_light.json5":()=>I(()=>Promise.resolve().then(()=>B_),void 0,import.meta.url),"../../frontend-shared/themes/d-astro.json5":()=>I(()=>import("./3iSoGi4ic-BG_HhSFg.js"),[],import.meta.url),"../../frontend-shared/themes/d-botanical.json5":()=>I(()=>import("./3iSoGi4ic-CsBBddrR.js"),[],import.meta.url),"../../frontend-shared/themes/d-cherry.json5":()=>I(()=>import("./3iSoGi4ic-CZ4d1ohW.js"),[],import.meta.url),"../../frontend-shared/themes/d-dark.json5":()=>I(()=>import("./3iSoGi4ic-cH_TpVh8.js"),[],import.meta.url),"../../frontend-shared/themes/d-future.json5":()=>I(()=>import("./3iSoGi4ic-BjDQ_IUT.js"),[],import.meta.url),"../../frontend-shared/themes/d-green-lime.json5":()=>I(()=>Promise.resolve().then(()=>Pf),void 0,import.meta.url),"../../frontend-shared/themes/d-green-orange.json5":()=>I(()=>import("./3iSoGi4ic-CUQQWgfx.js"),[],import.meta.url),"../../frontend-shared/themes/d-ice.json5":()=>I(()=>import("./3iSoGi4ic-B8yte85G.js"),[],import.meta.url),"../../frontend-shared/themes/d-persimmon.json5":()=>I(()=>import("./3iSoGi4ic-C80rEmU8.js"),[],import.meta.url),"../../frontend-shared/themes/d-u0.json5":()=>I(()=>import("./3iSoGi4ic-CnGuHTkn.js"),[],import.meta.url),"../../frontend-shared/themes/l-apricot.json5":()=>I(()=>import("./3iSoGi4ic-BRj-Uxvn.js"),[],import.meta.url),"../../frontend-shared/themes/l-botanical.json5":()=>I(()=>import("./3iSoGi4ic-DSG63HS6.js"),[],import.meta.url),"../../frontend-shared/themes/l-cherry.json5":()=>I(()=>import("./3iSoGi4ic-DGeRjCx8.js"),[],import.meta.url),"../../frontend-shared/themes/l-coffee.json5":()=>I(()=>import("./3iSoGi4ic-yOcX9Xxh.js"),[],import.meta.url),"../../frontend-shared/themes/l-light.json5":()=>I(()=>Promise.resolve().then(()=>Sf),void 0,import.meta.url),"../../frontend-shared/themes/l-rainy.json5":()=>I(()=>import("./3iSoGi4ic-DjDhICZv.js"),[],import.meta.url),"../../frontend-shared/themes/l-sushi.json5":()=>I(()=>import("./3iSoGi4ic-sCHhTkqB.js"),[],import.meta.url),"../../frontend-shared/themes/l-u0.json5":()=>I(()=>import("./3iSoGi4ic-C_J6wqe8.js"),[],import.meta.url),"../../frontend-shared/themes/l-vivid.json5":()=>I(()=>import("./3iSoGi4ic-Bt1VYwtj.js"),[],import.meta.url)}),`../../frontend-shared/themes/${e}.json5`,5).then(({default:t})=>t)));function o2(){const e=F([]);return gd().then(t=>e.value=t),e}function a2(){return D.r.themes}async function Y_(e){if(A==null)return;if((await gd()).some(i=>i.id===e.id))throw new Error("builtin theme");const n=D.s.themes;if(n.some(i=>i.id===e.id))throw new Error("already exists");D.commit("themes",[...n,e])}async function s2(e){if(A==null)return;const t=D.s.themes.filter(n=>n.id!==e.id);D.commit("themes",t)}function Qa(e,t){const n=e.base==="dark"?"dark":"light";window.document.documentElement.dataset.colorScheme=n;const i=sn(e);if(i.base){const a=[_r,hd].find(s=>s.id===i.base);a&&(i.props=Object.assign({},a.props,i.props))}const o=X_(i);for(const a of window.document.head.children)if(a.tagName==="META"&&a.getAttribute("name")==="theme-color"){a.setAttribute("content",o.htmlThemeColor);break}for(const[a,s]of Object.entries(o))window.document.documentElement.style.setProperty(`--MI_THEME-${a}`,s.toString());window.document.documentElement.style.setProperty("color-scheme",n),t&&(ce.setItem("theme",JSON.stringify(o)),ce.setItem("themeId",e.id),ce.setItem("themeCachedVersion",mn),ce.setItem("colorScheme",n)),yt.emit("themeChanging")}let zl=ce.getItem("themeId");function Ro(e,t=!0){if(!(e.id===zl&&ce.getItem("themeCachedVersion")===mn))if(zl=e.id,window.document.startViewTransition!=null&&window.document.visibilityState==="visible"){window.document.documentElement.classList.add("_themeChanging_");try{window.document.startViewTransition(async()=>{Qa(e,t),await Be()}).finished.then(()=>{window.document.documentElement.classList.remove("_themeChanging_"),yt.emit("themeChanged")})}catch(n){console.error(n),window.document.documentElement.classList.remove("_themeChanging_"),Qa(e,t),yt.emit("themeChanged")}}else Qa(e,t),yt.emit("themeChanged")}function X_(e){function t(i){if(i[0]==="@")return t(e.props[i.substring(1)]);if(i[0]==="$")return t(e.props[i]);if(i[0]===":"){const o=i.split("<"),a=o.shift(),s=o.shift();if(a&&s){const r=a.substring(1),l=parseFloat(s),f=t(o.join("<"));switch(r){case"darken":return f.darken(l);case"lighten":return f.lighten(l);case"alpha":return f.setAlpha(l);case"hue":return f.spin(l);case"saturate":return f.saturate(l)}}}return we(i)}const n={};for(const[i,o]of Object.entries(e.props))i.startsWith("$")||(n[i]=o.startsWith('"')?o.replace(/^"\s*/,""):G_(t(o)));return n}function G_(e){return e.toRgbString()}function Q_(e){return!(e.id==null||typeof e.id!="string"||e.name==null||typeof e.name!="string"||e.base==null||!["light","dark"].includes(e.base)||e.props==null||typeof e.props!="object")}function yd(e){let t;try{t=K_.parse(e)}catch{throw new Error("Failed to parse theme json")}if(!Q_(t))throw new Error("This theme is invaild");if(D.s.themes.some(n=>n.id===t.id))throw new Error("This theme is already installed");return t}function r2(e){const t=yd(e);t&&Ro(t,!1)}async function l2(e){const t=yd(e);t&&await Y_(t)}function Z_(){ce.removeItem("theme"),ce.removeItem("themeId"),ce.removeItem("themeCachedVersion")}function e1(){return window.matchMedia("(prefers-color-scheme: dark)").matches}function t1(e){const t=new URL(e);return t.searchParams.delete("loginId"),t.toString()}async function wd(e){const t=await dn("accounts");return t||console.log("Accounts are not recorded"),t.find(n=>n.id===e)}const bd=rt(new Du("deck",{profile:{where:"deviceAccount",default:"default"},columns:{where:"deviceAccount",default:[]},layout:{where:"deviceAccount",default:[]}}));async function _d(e){console.info(`Misskey v${mn}`);let t=!1;const n=ce.getItem("lastVersion");if(n!==mn){ce.setItem("lastVersion",mn);try{n!=null&&$s(mn,n)===1&&(t=!0)}catch{}}Rf({...{"title":"Hi ha hagut en error en carregar","serverError":"Si el problema persisteix desprs d'esperar una mica i recarregar, posa't en contacte amb l'administrador del servidor amb el segent codi d'error.","solution":"Per intentar resoldre el problema pots fer el segent.","solution1":"Actualitza el navegador i el sistema operatiu a l'ltima versi ","solution2":"Desactiva els adblockers","solution3":"Esborra la memria cau del navegador","solution4":"(Navegador Tor) configura dom.webaudio.enabled a true","otherOption":"Altres opcions","otherOption1":"Esborrar la configuraci i la memria cau del client","otherOption2":"Iniciar client senzill","otherOption3":"Iniciar l'eina de reparaci ","otherOption4":"Iniciar Misskey en mode segur"},reload:"Actualitzar"}),window.document.addEventListener("touchend",()=>{},{passive:!0}),window.location.hash==="#pswp"&&window.history.replaceState(null,"",window.location.href.replace("#pswp","")),Lo.addEventListener("message",h=>{h!==null?window.location.href=h:window.location.reload()}),window.document.documentElement.setAttribute("lang",Bs),await B.ready,await bd.ready;const o=Qu();o.then(()=>{ce.setItem("v",re.version)});const s=new URLSearchParams(window.location.search).get("loginId");if(s){const h=t1(window.location.href);if(!A||A.id!==s){const w=await wd(s);w&&await Ji(w.token,h)}window.history.replaceState({misskey:"loginId"},"",h)}D.s.syncDeviceDarkMode&&B.set("darkMode",e1()),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",h=>{D.s.syncDeviceDarkMode&&B.set("darkMode",h.matches)}),ni||(D.s.lightTheme==null&&re.defaultLightTheme!=null&&D.commit("lightTheme",JSON.parse(re.defaultLightTheme)),D.s.darkTheme==null&&re.defaultDarkTheme!=null&&D.commit("darkTheme",JSON.parse(re.defaultDarkTheme))),oe(B.r.darkMode,h=>{const w=h?ni?Bi:D.s.darkTheme??Bi:ni?Ri:D.s.lightTheme??Ri;Ro(w)},{immediate:!0}),window.document.documentElement.dataset.colorScheme=B.s.darkMode?"dark":"light",ni||(oe(D.r.darkTheme,h=>{B.s.darkMode&&Ro(h??Bi)}),oe(D.r.lightTheme,h=>{B.s.darkMode||Ro(h??Ri)})),oe(D.r.overridedDeviceKind,h=>{Hm(h)},{immediate:!0}),oe(D.r.useBlurEffectForModal,h=>{window.document.documentElement.style.setProperty("--MI-modalBgFilter",h?"blur(4px)":"none")},{immediate:!0}),oe(D.r.useBlurEffect,h=>{h?window.document.documentElement.style.removeProperty("--MI-blur"):window.document.documentElement.style.setProperty("--MI-blur","none")},{immediate:!0});const r=()=>window.document.addEventListener("visibilitychange",()=>{window.document.visibilityState==="visible"&&navigator.wakeLock.request("screen")});D.s.keepScreenOn&&"wakeLock"in navigator&&navigator.wakeLock.request("screen").then(r).catch(()=>{window.document.addEventListener("click",()=>navigator.wakeLock.request("screen").then(r),{once:!0})}),D.s.makeEveryTextElementsSelectable&&window.document.documentElement.classList.add("forceSelectableAll"),A&&A.token&&Rv();try{await Pc()}catch{}o.then(async()=>{await Vy(re),A&&vi.identify(A.id),vi.page({path:window.location.pathname})});const l=await e();Bf(l),eb(l),S_(l);const f=(()=>{const h="misskey_app",w=window.document.getElementById(h);if(w)return console.warn("multiple import detected"),w;const u=window.document.createElement("div");return u.id=h,window.document.body.appendChild(u),u})();if(re.sentryForFrontend){const h=await I(()=>import("./3iSoGi4ic-1qktpCT4.js"),[],import.meta.url);h.init({app:l,integrations:[...re.sentryForFrontend.vueIntegration!==void 0?[h.vueIntegration(re.sentryForFrontend.vueIntegration??void 0)]:[],...re.sentryForFrontend.browserTracingIntegration!==void 0?[h.browserTracingIntegration(re.sentryForFrontend.browserTracingIntegration??void 0)]:[],...re.sentryForFrontend.replayIntegration!==void 0?[h.replayIntegration(re.sentryForFrontend.replayIntegration??void 0)]:[]],tracesSampleRate:1,...re.sentryForFrontend.browserTracingIntegration!==void 0?{tracePropagationTargets:[yi]}:{},...re.sentryForFrontend.replayIntegration!==void 0?{replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1}:{},...re.sentryForFrontend.options})}try{await Yv()}catch(h){console.error("Failed to launch plugins:",h)}return l.mount(f),window.onerror=null,window.onunhandledrejection=null,n1(),console.log(`%c${"Advertncia "}`,"color: #f00; background-color: #ff0; font-size: 36px; padding: 4px;"),console.log(`%c${"\"Enganxa qualsevol cosa en aquesta finestra\"  s tot un engany."}`,'color: #f00; font-weight: 900; font-family: "Hiragino Sans W9", "Hiragino Kaku Gothic ProN", sans-serif; font-size: 24px;'),console.log(`%c${"Si posa alguna cosa al seu compte, un usuari malintencionat podria segrestar-la o robar-li les dades."}`,"font-size: 16px; font-weight: 700;"),console.log(`%c${"Si no entens que ests fent %cpara ara mateix i tanca la finestra."}`,"font-size: 16px;","font-size: 20px; font-weight: 700; color: #f00;"),console.log((({link})=>("Per obtenir ms informaci. "+link))({link:"https://misskey-hub.net/docs/for-users/resources/self-xss/"})),{isClientUpdated:t,lastVersion:n,app:l}}function n1(){const e=window.document.getElementById("splash");e&&(e.style.opacity="0",e.style.pointerEvents="none",window.setTimeout(()=>{e.remove()},1e3))}async function i1(){"serviceWorker"in navigator&&(navigator.serviceWorker.register("/sw.js",{scope:"/",type:"classic"}),navigator.serviceWorker.ready.then(e=>{e.active?.postMessage({msg:"initialize",lang:Bs})}))}function o1(){so({text:"Estem migrant la teva configuraci. Si us plau espera un moment... (Tamb pots fer la migraci ms tard, manualment, anant a Preferncies  Altres  Migrar configuraci antiga)"}),B.loaded.then(async()=>{se("i/registry/get",{scope:["client"],key:"themes"}).catch(()=>[]).then(t=>{t.length>0&&D.commit("themes",t)});const e=hn.get("plugins");D.commit("plugins",e.map(t=>{const{id:n,...i}=t;return{...i,config:i.config??{},installId:n}})),D.commit("deck.profile",bd.s.profile),se("i/registry/keys",{scope:["client","deck","profiles"]}).then(async t=>{const n=[];for(const i of t){const o=await se("i/registry/get",{scope:["client","deck","profiles"],key:i});n.push({id:Dt(),name:i,columns:o.columns,layout:o.layout})}D.commit("deck.profiles",n)}),D.commit("lightTheme",hn.get("lightTheme")),D.commit("darkTheme",hn.get("darkTheme")),D.commit("syncDeviceDarkMode",hn.get("syncDeviceDarkMode")),D.commit("emojiPalettes",[{id:"reactions",name:"",emojis:B.s.reactions},{id:"pinnedEmojis",name:"",emojis:B.s.pinnedEmojis}]),D.commit("emojiPaletteForMain","pinnedEmojis"),D.commit("emojiPaletteForReaction","reactions"),D.commit("overridedDeviceKind",B.s.overridedDeviceKind),D.commit("widgets",B.s.widgets),D.commit("keepCw",B.s.keepCw),D.commit("collapseRenotes",B.s.collapseRenotes),D.commit("rememberNoteVisibility",B.s.rememberNoteVisibility),D.commit("uploadFolder",B.s.uploadFolder),D.commit("menu",[...B.s.menu,"chat"]),D.commit("statusbars",B.s.statusbars),D.commit("pinnedUserLists",B.s.pinnedUserLists),D.commit("serverDisconnectedBehavior",B.s.serverDisconnectedBehavior),D.commit("nsfw",B.s.nsfw),D.commit("highlightSensitiveMedia",B.s.highlightSensitiveMedia),D.commit("animation",B.s.animation),D.commit("animatedMfm",B.s.animatedMfm),D.commit("advancedMfm",B.s.advancedMfm),D.commit("showReactionsCount",B.s.showReactionsCount),D.commit("enableQuickAddMfmFunction",B.s.enableQuickAddMfmFunction),D.commit("loadRawImages",B.s.loadRawImages),D.commit("imageNewTab",B.s.imageNewTab),D.commit("disableShowingAnimatedImages",B.s.disableShowingAnimatedImages),D.commit("emojiStyle",B.s.emojiStyle),D.commit("menuStyle",B.s.menuStyle),D.commit("useBlurEffectForModal",B.s.useBlurEffectForModal),D.commit("useBlurEffect",B.s.useBlurEffect),D.commit("showFixedPostForm",B.s.showFixedPostForm),D.commit("showFixedPostFormInChannel",B.s.showFixedPostFormInChannel),D.commit("enableInfiniteScroll",B.s.enableInfiniteScroll),D.commit("useReactionPickerForContextMenu",B.s.useReactionPickerForContextMenu),D.commit("instanceTicker",B.s.instanceTicker),D.commit("emojiPickerScale",B.s.emojiPickerScale),D.commit("emojiPickerWidth",B.s.emojiPickerWidth),D.commit("emojiPickerHeight",B.s.emojiPickerHeight),D.commit("emojiPickerStyle",B.s.emojiPickerStyle),D.commit("reportError",B.s.reportError),D.commit("squareAvatars",B.s.squareAvatars),D.commit("showAvatarDecorations",B.s.showAvatarDecorations),D.commit("numberOfPageCache",B.s.numberOfPageCache),D.commit("showNoteActionsOnlyHover",B.s.showNoteActionsOnlyHover),D.commit("showClipButtonInNoteFooter",B.s.showClipButtonInNoteFooter),D.commit("reactionsDisplaySize",B.s.reactionsDisplaySize),D.commit("limitWidthOfReaction",B.s.limitWidthOfReaction),D.commit("forceShowAds",B.s.forceShowAds),D.commit("aiChanMode",B.s.aiChanMode),D.commit("devMode",B.s.devMode),D.commit("mediaListWithOneImageAppearance",B.s.mediaListWithOneImageAppearance),D.commit("notificationPosition",B.s.notificationPosition),D.commit("notificationStackAxis",B.s.notificationStackAxis),D.commit("enableCondensedLine",B.s.enableCondensedLine),D.commit("keepScreenOn",B.s.keepScreenOn),D.commit("useGroupedNotifications",B.s.useGroupedNotifications),D.commit("dataSaver",{...D.s.dataSaver,media:B.s.dataSaver.media,avatar:B.s.dataSaver.avatar,urlPreviewThumbnail:B.s.dataSaver.urlPreview,code:B.s.dataSaver.code}),D.commit("enableSeasonalScreenEffect",B.s.enableSeasonalScreenEffect),D.commit("enableHorizontalSwipe",B.s.enableHorizontalSwipe),D.commit("useNativeUiForVideoAudioPlayer",B.s.useNativeUIForVideoAudioPlayer),D.commit("keepOriginalFilename",B.s.keepOriginalFilename),D.commit("alwaysConfirmFollow",B.s.alwaysConfirmFollow),D.commit("confirmWhenRevealingSensitiveMedia",B.s.confirmWhenRevealingSensitiveMedia),D.commit("contextMenu",B.s.contextMenu),D.commit("skipNoteRender",B.s.skipNoteRender),D.commit("showSoftWordMutedWord",B.s.showSoftWordMutedWord),D.commit("confirmOnReact",B.s.confirmOnReact),D.commit("defaultFollowWithReplies",B.s.defaultWithReplies),D.commit("sound.masterVolume",B.s.sound_masterVolume),D.commit("sound.notUseSound",B.s.sound_notUseSound),D.commit("sound.useSoundOnlyWhenActive",B.s.sound_useSoundOnlyWhenActive),D.commit("sound.on.note",B.s.sound_note),D.commit("sound.on.noteMy",B.s.sound_noteMy),D.commit("sound.on.notification",B.s.sound_notification),D.commit("sound.on.reaction",B.s.sound_reaction),D.commit("defaultNoteVisibility",B.s.defaultNoteVisibility),D.commit("defaultNoteLocalOnly",B.s.defaultNoteLocalOnly),window.setTimeout(()=>{Gt()},1e4)})}async function a1(){const{isClientUpdated:e,lastVersion:t}=await _d(async()=>{let a=Eo;const s=new URLSearchParams(window.location.search);A||(a="visitor"),s.has("zen")&&(a="zen"),a==="deck"&&D.s["deck.useSimpleUiForNonRootPages"]&&window.location.pathname!=="/"&&(a="zen"),s.has("ui")&&(a=s.get("ui"));let r;switch(a){case"zen":r=await I(()=>import("./3iSoGi4ic-Cdj7iUF7.js"),__vite__mapDeps([498,3,4,2,5,6,499]),import.meta.url).then(l=>l.default);break;case"deck":r=await I(()=>import("./3iSoGi4ic-D7Fzlih-.js"),__vite__mapDeps([500,2,4,3,501,252,502,15,16,503,504,184,139,140,141,142,185,87,88,5,6,505]),import.meta.url).then(l=>l.default);break;case"visitor":r=await I(()=>import("./3iSoGi4ic-DQN9wAE8.js"),__vite__mapDeps([506,3,4,2,159,95,96,97,98,99,5,6,100,106,70,71,107,160,161,162,163,507]),import.meta.url).then(l=>l.default);break;default:r=await I(()=>import("./3iSoGi4ic-LIDlKlio.js"),__vite__mapDeps([508,2,3,501,4,252,502,5,6,509]),import.meta.url).then(l=>l.default);break}return Hl(r)});if(Bc.init(),ar.init(),e&&A){const{dispose:a}=_e(he(()=>I(()=>import("./3iSoGi4ic-CzJS7XdG.js"),__vite__mapDeps([510,3,4,2,476,5,6,511]),import.meta.url)),{},{closed:()=>a()});t&&$s("2025.3.2-alpha.0",t)===1&&(console.log("Preferences migration"),o1())}try{if(D.s.enableSeasonalScreenEffect){const a=new Date().getMonth()+1;if(D.s.hemisphere==="S"){if(a===7||a===8){const s=(await I(async()=>{const{SnowfallEffect:r}=await import("./3iSoGi4ic-CroFNG11.js");return{SnowfallEffect:r}},[],import.meta.url)).SnowfallEffect;new s({}).render()}}else if(a===12||a===1){const s=(await I(async()=>{const{SnowfallEffect:r}=await import("./3iSoGi4ic-CroFNG11.js");return{SnowfallEffect:r}},[],import.meta.url)).SnowfallEffect;new s({}).render()}else if(a===3||a===4){const s=(await I(async()=>{const{SnowfallEffect:r}=await import("./3iSoGi4ic-CroFNG11.js");return{SnowfallEffect:r}},[],import.meta.url)).SnowfallEffect;new s({sakura:!0}).render()}}}catch(a){console.error("Failed to initialise the seasonal screen effect canvas context:",a)}if(A){let a=function(w){const u=w.announcement;if(u.display==="dialog"){const{dispose:y}=_e(he(()=>I(()=>import("./3iSoGi4ic-CsyW_th6.js"),__vite__mapDeps([512,4,3,2,5,6,513]),import.meta.url)),{announcement:u},{closed:()=>y()})}};B.loaded.then(async()=>{if(B.s.accountSetupWizard!==-1){const{dispose:w}=_e(he(()=>I(()=>import("./3iSoGi4ic-Rwe6UwMv.js"),__vite__mapDeps([514,2,3,4,68,69,126,127,70,71,139,140,141,142,247,5,6,515]),import.meta.url)),{},{closed:()=>w()})}});for(const w of(A.unreadAnnouncements??[]).filter(u=>u.display==="dialog")){const{dispose:u}=_e(he(()=>I(()=>import("./3iSoGi4ic-CsyW_th6.js"),__vite__mapDeps([512,4,3,2,5,6,513]),import.meta.url)),{announcement:w},{closed:()=>u()})}A.isDeleted&&Qe({type:"warning",text:"S'est produint l'eliminaci del compte"});const s=new Date,r=s.getMonth()+1,l=s.getDate();if(A.birthday){const w=parseInt(A.birthday.split("-")[1]),u=parseInt(A.birthday.split("-")[2]);r===w&&l===u&&me("loggedInOnBirthday")}r===1&&l===1&&me("loggedInOnNewYearsDay"),A.loggedInDays>=3&&me("login3"),A.loggedInDays>=7&&me("login7"),A.loggedInDays>=15&&me("login15"),A.loggedInDays>=30&&me("login30"),A.loggedInDays>=60&&me("login60"),A.loggedInDays>=100&&me("login100"),A.loggedInDays>=200&&me("login200"),A.loggedInDays>=300&&me("login300"),A.loggedInDays>=400&&me("login400"),A.loggedInDays>=500&&me("login500"),A.loggedInDays>=600&&me("login600"),A.loggedInDays>=700&&me("login700"),A.loggedInDays>=800&&me("login800"),A.loggedInDays>=900&&me("login900"),A.loggedInDays>=1e3&&me("login1000"),A.notesCount>0&&me("notes1"),A.notesCount>=10&&me("notes10"),A.notesCount>=100&&me("notes100"),A.notesCount>=500&&me("notes500"),A.notesCount>=1e3&&me("notes1000"),A.notesCount>=5e3&&me("notes5000"),A.notesCount>=1e4&&me("notes10000"),A.notesCount>=2e4&&me("notes20000"),A.notesCount>=3e4&&me("notes30000"),A.notesCount>=4e4&&me("notes40000"),A.notesCount>=5e4&&me("notes50000"),A.notesCount>=6e4&&me("notes60000"),A.notesCount>=7e4&&me("notes70000"),A.notesCount>=8e4&&me("notes80000"),A.notesCount>=9e4&&me("notes90000"),A.notesCount>=1e5&&me("notes100000"),A.followersCount>0&&me("followers1"),A.followersCount>=10&&me("followers10"),A.followersCount>=50&&me("followers50"),A.followersCount>=100&&me("followers100"),A.followersCount>=300&&me("followers300"),A.followersCount>=500&&me("followers500"),A.followersCount>=1e3&&me("followers1000"),new Date(A.createdAt);const f=new Date(A.createdAt);if(f.setFullYear(f.getFullYear()+3),s>=f)me("passedSinceAccountCreated3"),me("passedSinceAccountCreated2"),me("passedSinceAccountCreated1");else{const w=new Date(A.createdAt);if(w.setFullYear(w.getFullYear()+2),s>=w)me("passedSinceAccountCreated2"),me("passedSinceAccountCreated1");else{const u=new Date(A.createdAt);u.setFullYear(u.getFullYear()+1),s>=u&&me("passedSinceAccountCreated1")}}if(oi.length>=30&&me("collectAchievements30"),!oi.includes("justPlainLucky")){let w=function(){if(window.document.visibilityState!=="visible"){u!=null&&window.clearTimeout(u);return}Math.floor(Math.random()*2e4)===0?me("justPlainLucky"):u=window.setTimeout(w,1e4)},u=null,y=Date.now();window.addEventListener("visibilitychange",()=>{const g=Date.now();window.document.visibilityState==="visible"?g-y<1e3*10?u=window.setTimeout(w,1e3*10):w():u!=null&&(window.clearTimeout(u),u=null),y=g},{passive:!0}),w()}if(oi.includes("client30min")||window.setTimeout(()=>{me("client30min")},1e3*60*30),oi.includes("client60min")||window.setTimeout(()=>{me("client60min")},1e3*60*60),ce.getItem("latestDonationInfoShownAt"),ce.getItem("modifiedVersionMustProminentlyOfferInAgplV3Section13Read")!=="true"&&re.repositoryUrl!=="https://github.com/misskey-dev/misskey"){const{dispose:w}=_e(he(()=>I(()=>import("./3iSoGi4ic-DxysGAqY.js"),__vite__mapDeps([516,2,3,4,5,6,517]),import.meta.url)),{},{closed:()=>w()})}if(B.s.realtimeMode){const w=hi();let u=!1;w.on("_disconnected_",async()=>{if(D.s.serverDisconnectedBehavior==="reload")window.location.reload();else if(D.s.serverDisconnectedBehavior==="dialog"){if(u)return;u=!0;const{canceled:g}=await Ze({type:"warning",title:"Desconnectat pel servidor",text:"Vols recarregar?"});u=!1,g||window.location.reload()}}),w.on("emojiAdded",g=>{I0(g.emoji)}),w.on("emojiUpdated",g=>{T0(g.emojis)}),w.on("emojiDeleted",g=>{M0(g.emojis)}),w.on("announcementCreated",a);const y=rt(w.useChannel("main",null,"System"));y.on("meUpdated",g=>{xi(g)}),y.on("readAllNotifications",()=>{xi({hasUnreadNotification:!1,unreadNotificationsCount:0})}),y.on("unreadNotification",()=>{const g=(A?.unreadNotificationsCount??0)+1;xi({hasUnreadNotification:!0,unreadNotificationsCount:g})}),y.on("newChatMessage",()=>{xi({hasUnreadChatMessages:!0}),In("chatMessage")}),y.on("readAllAnnouncements",()=>{xi({hasUnreadAnnouncement:!1})}),y.on("announcementCreated",a)}}let n=0,i=null;const o={"p|n":()=>{A!=null&&Pn()},d:()=>{B.set("darkMode",!B.s.darkMode)},s:()=>{Pt.push("/search")},g:{callback:()=>{n++,n>=5?(ce.setItem("isSafeMode","true"),Gt()):(i!=null&&window.clearTimeout(i),i=window.setTimeout(()=>{n=0},300))},allowRepeat:!0}};window.document.addEventListener("keydown",Wc(o),{passive:!1}),i1()}function s1(){navigator.serviceWorker.addEventListener("message",async e=>{if(e.data.type==="order"){if(e.data.loginId&&e.data.loginId!==A?.id)return wd(e.data.loginId).then(t=>{if(t)return Ji(t.token,e.data.url)});switch(e.data.order){case"post":{const t=sn(e.data.options);return t.reply&&(t.reply=await se("notes/show",{noteId:t.reply.id})),t.renote&&(t.renote=await se("notes/show",{noteId:t.renote.id})),Pn(t)}case"push":return Pt.currentRoute.value.path===e.data.url?window.scroll({top:0,behavior:"smooth"}):Pt.pushByPath(e.data.url);default:return}}})}const r1=["src"],l1={key:0,class:"ti ti-plus"},u1={key:1,class:"ti ti-clock"},c1={key:2,class:"ti ti-check"},d1={key:3,class:"ti ti-repeat"},f1={key:4,class:"ti ti-arrow-back-up"},m1={key:5,class:"ti ti-at"},h1={key:6,class:"ti ti-quote"},p1={key:7,class:"ti ti-chart-arrows"},v1={key:8,class:"ti ti-send"},g1={key:9,class:"ti ti-alert-triangle"},y1={key:10,class:"ti ti-medal"},w1={key:11,class:"ti ti-archive"},b1={key:12,class:"ti ti-login-2"},_1={key:13,class:"ti ti-key"},x1={key:14,class:"ti ti-messages"},k1=["src"],E1={key:1,class:"ti ti-badges"},D1={key:0},C1={key:1},A1={key:2},I1={key:3},T1={key:4},M1={key:5},F1={key:6},S1={key:7},P1={key:8},R1={key:9},B1={key:10},$1={key:12},L1={key:13},O1={key:14},N1={key:15},j1={key:18},V1={key:19},U1=K({__name:"MkNotification",props:{notification:{},withTime:{type:Boolean,default:!1},full:{type:Boolean,default:!1}},setup(e){const t=Ls(),n=e,i={antenna:"Antena",blocking:"Usuaris bloquejats",clip:"Retalls",customEmoji:"Emojis personalitzats",favorite:"Favorits",following:"Segueixes ",muting:"Usuaris silenciats",note:"Notes",userList:"Llistes"},o=F(!1),a=()=>{"user"in n.notification&&(o.value=!0,se("following/requests/accept",{userId:n.notification.user.id}))},s=()=>{"user"in n.notification&&(o.value=!0,se("following/requests/reject",{userId:n.notification.user.id}))};function r(l){return l.type!=="reaction:grouped"?0:new Set(l.reactions.map(f=>f.user.id)).size}return(l,f)=>{const h=Q("MkAvatar"),w=Q("MkUserName"),u=Q("MkA"),y=Q("MkTime"),g=Q("Mfm"),p=Ye("user-preview");return c(),v("div",{class:"x9Bba"},[b("div",{class:"xwUec"},[["pollEnded","note"].includes(e.notification.type)&&"note"in e.notification?(c(),N(h,{key:0,class:"xlX0H",user:e.notification.note.user,link:"",preview:""},null,8,["class","user"])):["roleAssigned","achievementEarned","exportCompleted","login","createToken","scheduledNotePosted","scheduledNotePostFailed"].includes(e.notification.type)?(c(),N(h,{key:1,class:"xlX0H",user:E(t),link:"",preview:""},null,8,["class","user"])):e.notification.type==="reaction:grouped"&&e.notification.note.reactionAcceptance==="likeOnly"?(c(),v("div",{key:2,class:"xlX0H xzgzR"},[...f[2]||(f[2]=[b("i",{class:"ti ti-heart",style:{"line-height":"1"}},null,-1)])],2)):e.notification.type==="reaction:grouped"?(c(),v("div",{key:3,class:"xlX0H xat0T"},[...f[3]||(f[3]=[b("i",{class:"ti ti-plus",style:{"line-height":"1"}},null,-1)])],2)):e.notification.type==="renote:grouped"?(c(),v("div",{key:4,class:"xlX0H xhnfP"},[...f[4]||(f[4]=[b("i",{class:"ti ti-repeat",style:{"line-height":"1"}},null,-1)])],2)):"user"in e.notification?(c(),N(h,{key:5,class:"xlX0H",user:e.notification.user,link:"",preview:""},null,8,["class","user"])):"icon"in e.notification&&e.notification.icon!=null?(c(),v("img",{key:6,class:"xlX0H x4fon",src:e.notification.icon,alt:""},null,10,r1)):M("",!0),b("div",{class:J(["xAV2R",{xrsWF:e.notification.type==="follow",xs0lq:e.notification.type==="followRequestAccepted",xeJpD:e.notification.type==="receiveFollowRequest",xpz4J:e.notification.type==="renote",x3wBU:e.notification.type==="reply",xaGn2:e.notification.type==="mention",xxWPs:e.notification.type==="quote",xyZo0:e.notification.type==="pollEnded",xkK42:e.notification.type==="scheduledNotePosted",xfc9O:e.notification.type==="scheduledNotePostFailed",xbTJI:e.notification.type==="achievementEarned",xlZy2:e.notification.type==="exportCompleted",xe8a4:e.notification.type==="login",x4sHQ:e.notification.type==="createToken",xqYy8:e.notification.type==="chatRoomInvitationReceived",xevB7:e.notification.type==="roleAssigned"&&e.notification.role.iconUrl==null}])},[e.notification.type==="follow"?(c(),v("i",l1)):e.notification.type==="receiveFollowRequest"?(c(),v("i",u1)):e.notification.type==="followRequestAccepted"?(c(),v("i",c1)):e.notification.type==="renote"?(c(),v("i",d1)):e.notification.type==="reply"?(c(),v("i",f1)):e.notification.type==="mention"?(c(),v("i",m1)):e.notification.type==="quote"?(c(),v("i",h1)):e.notification.type==="pollEnded"?(c(),v("i",p1)):e.notification.type==="scheduledNotePosted"?(c(),v("i",v1)):e.notification.type==="scheduledNotePostFailed"?(c(),v("i",g1)):e.notification.type==="achievementEarned"?(c(),v("i",y1)):e.notification.type==="exportCompleted"?(c(),v("i",w1)):e.notification.type==="login"?(c(),v("i",b1)):e.notification.type==="createToken"?(c(),v("i",_1)):e.notification.type==="chatRoomInvitationReceived"?(c(),v("i",x1)):e.notification.type==="roleAssigned"?(c(),v(pe,{key:15},[e.notification.role.iconUrl?(c(),v("img",{key:0,style:{height:"1.3em","vertical-align":"-22%"},src:e.notification.role.iconUrl,alt:""},null,8,k1)):(c(),v("i",E1))],64)):e.notification.type==="reaction"?(c(),N(Yi,{key:16,withTooltip:!0,reaction:e.notification.reaction.replace(/^:(\w+):$/,":$1@.:"),noStyle:!0,style:{width:"100%",height:"100% !important","object-fit":"contain"}},null,8,["reaction"])):M("",!0)],2)],2),b("div",{class:"xkPP6"},[b("header",{class:"xEPBi"},[e.notification.type==="pollEnded"?(c(),v("span",D1,S("Ja pots veure els resultats de l'enquesta "),1)):e.notification.type==="scheduledNotePosted"?(c(),v("span",C1,S("Una nota programada ha sigut publicada"),1)):e.notification.type==="scheduledNotePostFailed"?(c(),v("span",A1,S("Ha fallat la publicaci d'una nota programada"),1)):e.notification.type==="note"?(c(),v("span",I1,[Z(S("Nota nova")+": ",1),j(w,{user:e.notification.note.user},null,8,["user"])])):e.notification.type==="roleAssigned"?(c(),v("span",T1,S("Rol assignat "),1)):e.notification.type==="chatRoomInvitationReceived"?(c(),v("span",M1,S("T'han invitat a una sala de xat"),1)):e.notification.type==="achievementEarned"?(c(),v("span",F1,S("Aconseguiment desblocat"),1)):e.notification.type==="login"?(c(),v("span",S1,S("Alg ha iniciat sessi "),1)):e.notification.type==="createToken"?(c(),v("span",P1,S("Token d'accs generat"),1)):e.notification.type==="test"?(c(),v("span",R1,S("Notificaci de prova"),1)):e.notification.type==="exportCompleted"?(c(),v("span",B1,S((({x})=>("Completada l'exportaci de "+x))({x:i[e.notification.exportedEntity]})),1)):e.notification.type==="follow"||e.notification.type==="mention"||e.notification.type==="reply"||e.notification.type==="renote"||e.notification.type==="quote"||e.notification.type==="reaction"||e.notification.type==="receiveFollowRequest"||e.notification.type==="followRequestAccepted"?te((c(),N(u,{key:11,class:"x4ZLV",to:E(Dn)(e.notification.user)},{default:H(()=>[j(w,{user:e.notification.user},null,8,["user"])]),_:1},8,["class","to"])),[[p,e.notification.user.id]]):e.notification.type==="reaction:grouped"&&e.notification.note.reactionAcceptance==="likeOnly"?(c(),v("span",$1,S((({n})=>("A "+n+" usuaris els hi agrada la teva nota"))({n:r(e.notification)})),1)):e.notification.type==="reaction:grouped"?(c(),v("span",L1,S((({n})=>("Han reaccionat "+n+" usuaris"))({n:r(e.notification)})),1)):e.notification.type==="renote:grouped"?(c(),v("span",O1,S((({n})=>("L'han impulsat "+n+" usuaris"))({n:e.notification.users.length})),1)):e.notification.type==="app"?(c(),v("span",N1,S(e.notification.header),1)):M("",!0),e.withTime?(c(),N(y,{key:16,time:e.notification.createdAt,class:"xtktr"},null,8,["time","class"])):M("",!0)],2),b("div",null,[e.notification.type==="reaction"||e.notification.type==="reaction:grouped"?(c(),N(u,{key:0,class:"xi4PS",to:E(Wt)(e.notification.note),title:E(gt)(e.notification.note)},{default:H(()=>[b("i",{class:"ti ti-quote x4jMg"},null,2),j(g,{text:E(gt)(e.notification.note),plain:!0,nowrap:!0,author:e.notification.note.user},null,8,["text","author"]),b("i",{class:"ti ti-quote x4jMg"},null,2)]),_:1},8,["class","to","title"])):e.notification.type==="renote"||e.notification.type==="renote:grouped"?(c(),N(u,{key:1,class:"xi4PS",to:E(Wt)(e.notification.note),title:E(gt)(e.notification.note.renote)},{default:H(()=>[b("i",{class:"ti ti-quote x4jMg"},null,2),j(g,{text:E(gt)(e.notification.note.renote),plain:!0,nowrap:!0,author:e.notification.note.renote?.user},null,8,["text","author"]),b("i",{class:"ti ti-quote x4jMg"},null,2)]),_:1},8,["class","to","title"])):e.notification.type==="reply"?(c(),N(u,{key:2,class:"xi4PS",to:E(Wt)(e.notification.note),title:E(gt)(e.notification.note)},{default:H(()=>[j(g,{text:E(gt)(e.notification.note),plain:!0,nowrap:!0,author:e.notification.note.user},null,8,["text","author"])]),_:1},8,["class","to","title"])):e.notification.type==="mention"?(c(),N(u,{key:3,class:"xi4PS",to:E(Wt)(e.notification.note),title:E(gt)(e.notification.note)},{default:H(()=>[j(g,{text:E(gt)(e.notification.note),plain:!0,nowrap:!0,author:e.notification.note.user},null,8,["text","author"])]),_:1},8,["class","to","title"])):e.notification.type==="quote"?(c(),N(u,{key:4,class:"xi4PS",to:E(Wt)(e.notification.note),title:E(gt)(e.notification.note)},{default:H(()=>[j(g,{text:E(gt)(e.notification.note),plain:!0,nowrap:!0,author:e.notification.note.user},null,8,["text","author"])]),_:1},8,["class","to","title"])):e.notification.type==="note"?(c(),N(u,{key:5,class:"xi4PS",to:E(Wt)(e.notification.note),title:E(gt)(e.notification.note)},{default:H(()=>[j(g,{text:E(gt)(e.notification.note),plain:!0,nowrap:!0,author:e.notification.note.user},null,8,["text","author"])]),_:1},8,["class","to","title"])):e.notification.type==="pollEnded"?(c(),N(u,{key:6,class:"xi4PS",to:E(Wt)(e.notification.note),title:E(gt)(e.notification.note)},{default:H(()=>[b("i",{class:"ti ti-quote x4jMg"},null,2),j(g,{text:E(gt)(e.notification.note),plain:!0,nowrap:!0,author:e.notification.note.user},null,8,["text","author"]),b("i",{class:"ti ti-quote x4jMg"},null,2)]),_:1},8,["class","to","title"])):e.notification.type==="scheduledNotePosted"?(c(),N(u,{key:7,class:"xi4PS",to:E(Wt)(e.notification.note),title:E(gt)(e.notification.note)},{default:H(()=>[b("i",{class:"ti ti-quote x4jMg"},null,2),j(g,{text:E(gt)(e.notification.note),plain:!0,nowrap:!0,author:e.notification.note.user},null,8,["text","author"]),b("i",{class:"ti ti-quote x4jMg"},null,2)]),_:1},8,["class","to","title"])):e.notification.type==="roleAssigned"?(c(),v("div",{key:8,class:"xi4PS"},S(e.notification.role.name),3)):e.notification.type==="chatRoomInvitationReceived"?(c(),v("div",{key:9,class:"xi4PS"},S(e.notification.invitation.room.name),3)):e.notification.type==="achievementEarned"?(c(),N(u,{key:10,class:"xi4PS",to:"/my/achievements"},{default:H(()=>[Z(S({"_notes1":{"title":"Aqu, configurant el meu msky","description":"Publica la teva primera Nota","flavor":"Passa-t'ho b fent servir Miskey!"},"_notes10":{"title":"Algunes notes","description":"Publica 10 notes"},"_notes100":{"title":"Un pil de notes","description":"Publica 100 notes"},"_notes500":{"title":"Cobert de notes","description":"Publica 500 notes"},"_notes1000":{"title":"Un pil de notes","description":"1 000 notes publicades"},"_notes5000":{"title":"Desbordament de notes","description":"5 000 notes publicades"},"_notes10000":{"title":"Supernota","description":"10 000 notes publicades"},"_notes20000":{"title":"Necessito... Ms... Notes!","description":"20 000 notes publicades"},"_notes30000":{"title":"Notes notes notes!","description":"30 000 notes publicades"},"_notes40000":{"title":"Fbrica de notes","description":"40 000 notes publicades"},"_notes50000":{"title":"Planeta de notes","description":"50 000 notes publicades"},"_notes60000":{"title":"Qusar de notes","description":"60 000 notes publicades"},"_notes70000":{"title":"Forat negre de notes","description":"70 000 notes publicades"},"_notes80000":{"title":"Galxia de notes","description":"80 000 notes publicades"},"_notes90000":{"title":"Univers de notes","description":"90 000 notes publicades"},"_notes100000":{"title":"ALL YOUR NOTE ARE BELONG TO US","description":"100 000 notes publicades","flavor":"Segur que tens moltes coses a dir?"},"_login3":{"title":"Principiant I","description":"Vas iniciar sessi fa tres dies","flavor":"Des d'avui diguem Misskist"},"_login7":{"title":"Principiant II","description":"Vas iniciar sessi fa set dies","flavor":"Ja saps com va funcionant tot?"},"_login15":{"title":"Principiant III","description":"Vas iniciar sessi fa quinze dies"},"_login30":{"title":"Misskist I","description":"Vas iniciar sessi fa trenta dies"},"_login60":{"title":"Misskist II","description":"Vas iniciar sessi fa seixanta dies"},"_login100":{"title":"Misskist III","description":"Vas iniciar sessi fa cent dies","flavor":"Misskist violent"},"_login200":{"title":"Regular I","description":"Vas iniciar sessi fa dos-cents dies"},"_login300":{"title":"Regular II","description":"Vas iniciar sessi fa tres-cents dies"},"_login400":{"title":"Regular III","description":"Vas iniciar sessi fa quatre-cents dies"},"_login500":{"title":"Expert I","description":"Vas iniciar sessi fa cinc-cents dies","flavor":"Amics, he dit massa vegades que soc un amant de les notes"},"_login600":{"title":"Expert II","description":"Vas iniciar sessi fa sis-cents dies"},"_login700":{"title":"Expert III","description":"Vas iniciar sessi fa set-cents dies"},"_login800":{"title":"Mestre de les Notes I","description":"Vas iniciar sessi fa vuit-cents dies "},"_login900":{"title":"Mestre de les Notes II","description":"Vas iniciar sessi fa nou-cents dies"},"_login1000":{"title":"Mestre de les Notes III","description":"Vas iniciar sessi fa mil dies","flavor":"Grcies per fer servir MissKey!"},"_noteClipped1":{"title":"He de retallar-te!","description":"Retalla la teva primera nota"},"_noteFavorited1":{"title":"Quan miro les estrelles","description":"La primera vegada que vaig registrar el meu favorit"},"_myNoteFavorited1":{"title":"Vull una estrella","description":"La meva nota va ser registrada com favorita per una de les altres persones"},"_profileFilled":{"title":"Estic a punt","description":"Vaig fer la configuraci de perfil"},"_markedAsCat":{"title":"Soc un gat","description":"He establert el meu compte com si fos un Gat","flavor":"Encara no tinc nom"},"_following1":{"title":"s el meu primer seguiment","description":"s la primera vegada que et segueixo"},"_following10":{"title":"Segueix-me... Segueix-me...","description":"Seguir 10 usuaris"},"_following50":{"title":"Molts amics","description":"Seguir 50 comptes"},"_following100":{"title":"100 amics","description":"Segueixes 100 comptes"},"_following300":{"title":"Sobrecrrega d'amics","description":"Segueixes 300 comptes"},"_followers1":{"title":"Primer seguidor","description":"1 seguidor guanyat"},"_followers10":{"title":"Segueix-me!","description":"10 seguidors guanyats"},"_followers50":{"title":"Venen en manada","description":"50 seguidors guanyats"},"_followers100":{"title":"Popular","description":"100 seguidors guanyats"},"_followers300":{"title":"Si us plau, d'un en un!","description":"300 seguidors guanyats"},"_followers500":{"title":"Torre de rdio","description":"500 seguidors guanyats"},"_followers1000":{"title":"Influenciador","description":"1 000 seguidors guanyats"},"_collectAchievements30":{"title":"Colleccionista d'xits ","description":"Desbloqueja 30 assoliments"},"_viewAchievements3min":{"title":"M'agraden els xits ","description":"Mira la teva llista d'assoliments durant ms de 3 minuts"},"_iLoveMisskey":{"title":"Estimo Misskey","description":"Publica \"I  #Misskey\"","flavor":"L'equip de desenvolupament de Misskey agraeix el vostre suport!"},"_foundTreasure":{"title":"A la Recerca del Tresor","description":"Has trobat el tresor amagat"},"_client30min":{"title":"Parem una estona","description":"Mantingues obert Misskey per 30 minuts"},"_client60min":{"title":"A totes amb Misskey","description":"Mantingues Misskey obert per 60 minuts"},"_noteDeletedWithin1min":{"title":"No et preocupis","description":"Esborra una nota al minut de publicar-la"},"_postedAtLateNight":{"title":"Nocturn","description":"Publica una nota a altes hores de la nit ","flavor":"s hora d'anar a dormir."},"_postedAt0min0sec":{"title":"Rellotge xerraire","description":"Publica una nota a les 0:00","flavor":"Tic tac, tic tac, tic tac, DING!"},"_selfQuote":{"title":"Autoreferncia ","description":"Cita una nota teva"},"_htl20npm":{"title":"Lnia de temps fluida","description":"La teva lnia de temps va a ms de 20npm (notes per minut)"},"_viewInstanceChart":{"title":"Analista ","description":"Mira els grfics de la teva instncia "},"_outputHelloWorldOnScratchpad":{"title":"Hola, mn!","description":"Escriu \"hola, mn\" al bloc de notes"},"_open3windows":{"title":"Multi finestres","description":"I va obrir ms de tres finestres"},"_driveFolderCircularReference":{"title":"Consulteu la secci de bucle","description":"Intenta crear carpetes recursives al Disc"},"_reactWithoutRead":{"title":"De veritat has llegit aix?","description":"Reaccions a una nota de ms de 100 carcters publicada fa menys de 3 segons "},"_clickedClickHere":{"title":"Fer clic","description":"Has fet clic aqu "},"_justPlainLucky":{"title":"Ha sigut sort","description":"Oportunitat de guanyar-lo amb una probabilitat d'un 0.005% cada 10 segons"},"_setNameToSyuilo":{"title":"soc millor","description":"Posat \"siuylo\" com a nom"},"_passedSinceAccountCreated1":{"title":"Primer aniversari","description":"Ja ha passat un any d'en que vas crear el teu compte"},"_passedSinceAccountCreated2":{"title":"Segon aniversari","description":"Ja han passat dos anys d'en que vas crear el teu compte"},"_passedSinceAccountCreated3":{"title":"Tres anys","description":"Ja han passat tres anys d'en que vas crear el teu compte"},"_loggedInOnBirthday":{"title":"Felicitats!","description":"T'has identificat el dia del teu aniversari"},"_loggedInOnNewYearsDay":{"title":"Bon any nou!","description":"T'has identificat el primer dia de l'any ","flavor":"A per un altre any memorable a la teva instncia   "},"_cookieClicked":{"title":"Un joc en qu fas clic a les galetes","description":"Pica galetes","flavor":"Espera, ets al lloc web correcte?"},"_brainDiver":{"title":"Busseja Ments","description":"Publica un enlla al Busseja Ments","flavor":"Misskey-Misskey La-Tu-Ma"},"_smashTestNotificationButton":{"title":"Sobrecrrega de proves","description":"Envia moltes notificacions de prova en un perode de temps molt curt"},"_tutorialCompleted":{"title":"Diploma del Curs Elemental de Misskey","description":"Has completat el tutorial"},"_bubbleGameExplodingHead":{"title":"","description":"L'objecte ms gran del joc de la bombolla "},"_bubbleGameDoubleExplodingHead":{"title":"Doble ","description":"Dos dels objectes ms grans del joc de la bombolla al mateix temps","flavor":"Pots emplenar una carmanyola com aquesta  una mica"}}["_"+e.notification.achievement].title),1)]),_:1},8,["class"])):e.notification.type==="exportCompleted"?(c(),N(u,{key:11,class:"xi4PS",to:`/my/drive/file/${e.notification.fileId}`},{default:H(()=>[Z(S("Mostrar fitxer"),1)]),_:1},8,["class","to"])):e.notification.type==="createToken"?(c(),N(u,{key:12,class:"xi4PS",to:"/settings/apps"},{default:H(()=>[j(g,{text:(({text})=>("Si no saps qu s, esborra el token des de "+text+"."))({text:"Administrar claus de seguretat d'accs "})},null,8,["text"])]),_:1},8,["class"])):e.notification.type==="follow"?(c(),v("span",{key:13,class:"xi4PS",style:{opacity:"0.6"}},S("t'ha seguit"),3)):e.notification.type==="followRequestAccepted"?(c(),v(pe,{key:14},[b("div",{class:"xi4PS",style:{opacity:"0.6"}},S("Sollicitud de seguiment acceptada"),3),e.notification.message?(c(),v("div",{key:0,class:"xi4PS",style:{opacity:"0.6","font-style":"oblique"}},[b("i",{class:"ti ti-quote x4jMg"},null,2),b("span",null,S(e.notification.message),1),b("i",{class:"ti ti-quote x4jMg"},null,2)],2)):M("",!0)],64)):e.notification.type==="receiveFollowRequest"?(c(),v(pe,{key:15},[b("span",{class:"xi4PS",style:{opacity:"0.6"}},S("Has rebut una sollicitud de seguiment"),3),e.full&&!o.value?(c(),v("div",{key:0,class:"xC3zn"},[j(mt,{class:"xwj0z",rounded:"",primary:"",onClick:f[0]||(f[0]=m=>a())},{default:H(()=>[f[5]||(f[5]=b("i",{class:"ti ti-check"},null,-1)),Z(" "+S("Acceptar"),1)]),_:1},8,["class"]),j(mt,{class:"xwj0z",rounded:"",danger:"",onClick:f[1]||(f[1]=m=>s())},{default:H(()=>[f[6]||(f[6]=b("i",{class:"ti ti-x"},null,-1)),Z(" "+S("Denega"),1)]),_:1},8,["class"])],2)):M("",!0)],64)):e.notification.type==="test"?(c(),v("span",{key:16,class:"xi4PS"},S("Les notificacions s veure'n aix "),3)):e.notification.type==="app"?(c(),v("span",{key:17,class:"xi4PS"},[j(g,{text:e.notification.body,nowrap:!1},null,8,["text"])],2)):M("",!0),e.notification.type==="reaction:grouped"?(c(),v("div",j1,[(c(!0),v(pe,null,ze(e.notification.reactions,m=>(c(),v("div",{key:m.user.id+m.reaction,class:"xENB4"},[j(h,{class:"xdYXp",user:m.user,link:"",preview:""},null,8,["class","user"]),b("div",{class:"x1z66"},[j(Yi,{withTooltip:!0,reaction:m.reaction.replace(/^:(\w+):$/,":$1@.:"),noStyle:!0,style:{width:"100%",height:"100% !important","object-fit":"contain"}},null,8,["reaction"])],2)],2))),128))])):e.notification.type==="renote:grouped"?(c(),v("div",V1,[(c(!0),v(pe,null,ze(e.notification.users,m=>(c(),v("div",{key:m.id,class:"xENB4"},[j(h,{class:"xdYXp",user:m,link:"",preview:""},null,8,["class","user"])],2))),128))])):M("",!0)])],2)],2)}}});const z1=K({__name:"notification",props:{notification:{}},setup(e){return(t,n)=>(c(),v("div",{class:"x7tOU"},[j(U1,{notification:e.notification,class:"notification _acrylic",full:!1},null,8,["notification"])],2))}});function xd(){const e=[{type:"link",to:"/scratchpad",text:"Bloc de proves",icon:"ti ti-terminal-2"},{type:"link",to:"/api-console",text:"API Console",icon:"ti ti-terminal-2"},{type:"link",to:"/clicker",text:"",icon:"ti ti-cookie"}];return A&&(A.isAdmin||A.policies.canManageCustomEmojis)&&e.push({type:"link",to:"/custom-emojis-manager",text:"Gestiona els emojis personalitzats",icon:"ti ti-icons"}),A&&(A.isAdmin||A.policies.canManageAvatarDecorations)&&e.push({type:"link",to:"/avatar-decorations",text:"Gestiona les decoracions dels avatars ",icon:"ti ti-sparkles"}),e}function Rs(e){const t=[];t.push({text:re.name??Oe,type:"label"},{type:"link",text:"Informaci del fitxer d'installaci",icon:"ti ti-info-circle",to:"/about"},{type:"link",text:"Emojis personalitzats",icon:"ti ti-icons",to:"/about#emojis"}),re.federation!=="none"&&t.push({type:"link",text:"Federaci",icon:"ti ti-whirl",to:"/about#federation"}),t.push({type:"link",text:"Grfics",icon:"ti ti-chart-line",to:"/about#charts"},{type:"divider"},{type:"link",text:"Publicitat ",icon:"ti ti-ad",to:"/ads"}),A&&(A.isAdmin||A.policies.canInvite)&&re.disableRegistration&&t.push({type:"link",to:"/invite",text:"Convida",icon:"ti ti-user-plus"}),t.push({type:"parent",text:"Eines",icon:"ti ti-tool",children:xd()},{type:"divider"},{type:"link",text:"Contacte",icon:"ti ti-help-circle",to:"/contact"}),re.impressumUrl&&t.push({type:"a",text:"Impressum",icon:"ti ti-file-invoice",href:re.impressumUrl,target:"_blank"}),re.tosUrl&&t.push({type:"a",text:"Condicions d's",icon:"ti ti-notebook",href:re.tosUrl,target:"_blank"}),re.privacyPolicyUrl&&t.push({type:"a",text:"Poltica de privacitat",icon:"ti ti-shield-lock",href:re.privacyPolicyUrl,target:"_blank"}),(re.impressumUrl!=null||re.tosUrl!=null||re.privacyPolicyUrl!=null)&&t.push({type:"divider"}),t.push({type:"a",text:"Documentaci",icon:"ti ti-bulb",href:"https://misskey-hub.net/docs/for-users/",target:"_blank"}),A&&t.push({text:"Comenar tutorial",icon:"ti ti-presentation",action:async()=>{const{dispose:n}=await bt(I(()=>import("./3iSoGi4ic-DjjNifUs.js"),__vite__mapDeps([518,2,3,4,219,220,70,71,5,6,519]),import.meta.url).then(i=>i.default),{},{closed:()=>n()})}}),t.push({type:"link",text:"Quant a Misskey",to:"/about-misskey"}),Ue(t,e.currentTarget??e.target,{align:"left"})}function H1(e){Ue(xd(),e.currentTarget??e.target,{align:"left"})}async function q1(){so(),ce.removeItem("instance"),ce.removeItem("instanceCachedAt"),ce.removeItem("emojis"),ce.removeItem("lastEmojisFetchedAt"),Z_(),await fi("clear-browser-cache",{}).catch(()=>{}),await Qu(!0),await Pc(!0),Gt()}async function W1(e){const t=Pt,{canceled:n,result:i}=await ao({title:"Cerca"}),o=i?i.trim():"";if(!(n||o.length<=1)){if(o.startsWith("@")&&!o.includes(" ")){t.pushByPath(`/${o}`);return}if(o.startsWith("#")){t.push("/tags/:tag",{params:{tag:o.substring(1)}});return}if(o.startsWith("https://")){const a=await J1(o);a.type==="User"?t.push("/@:acct/:page?",{params:{acct:Qs(a.object)}}):a.type==="Note"&&t.push("/notes/:noteId/:initialTab?",{params:{noteId:a.object.id}});return}}}async function J1(e){const t=se("ap/show",{uri:e});return gr(t,null,n=>{let i="S'ha produt un error",o=n.message+`
`+n.id;switch(n.id){case"974b799e-1a29-4889-b706-18d4dd93e266":i="No es pot establir connexi amb aquest servidor",o="s possible que s'hagi desactivat la comunicaci amb aquest servidor o que hagi estat bloquejat.\nPosa't en contacte amb l'administrador del servidor.";break;case"1a5eab56-e47b-48c2-8d5e-217b897d70db":i="L'adrea s incorrecte",o="Hi ha un problema amb l'adrea introduda; comprova que no hagis escrit carcters que no es puguin fer servir.";break;case"81b539cf-4f57-4b29-bc98-032c33c0792e":i="La sollicitud a fallat",o="La comunicaci amb aquest servidor a fallat. s possible que l'altre servidor no funcioni. Comprova tamb que no has posat una adrea no vlida o inexistent.";break;case"70193c39-54f3-4813-82f0-70a680f7495b":i="La resposta no s correcta ",o="Hem pogut comunicar-nos amb aquest servidor, per les dades rebudes no sn correctes.";break;case"dc94d745-1262-4e63-a17d-fecaa57efc82":i="No s'ha trobat",o="No es pot trobar el recurs sollicitat, si us plau comprova l'adrea una altra vegada.";break}Qe({type:"error",title:i,text:o})},"Cercant al Fediverse..."),await t}const At=Qo({notifications:{title:"Notificacions",icon:"ti ti-bell",show:z(()=>A!=null),indicated:z(()=>A!=null&&A.hasUnreadNotification),indicateValue:z(()=>!A||A.unreadNotificationsCount===0?"":A.unreadNotificationsCount>99?"99+":A.unreadNotificationsCount.toString()),to:"/my/notifications"},drive:{title:"Disc",icon:"ti ti-cloud",show:z(()=>A!=null),to:"/my/drive"},followRequests:{title:"Peticions de seguiment",icon:"ti ti-user-plus",indicated:z(()=>A!=null&&A.hasPendingReceivedFollowRequest),to:"/my/follow-requests"},explore:{title:"Explora",icon:"ti ti-hash",to:"/explore"},announcements:{title:"Avisos",icon:"ti ti-speakerphone",indicated:z(()=>A!=null&&A.hasUnreadAnnouncement),to:"/announcements"},search:{title:"Cercar",icon:"ti ti-search",to:"/search"},lookup:{title:"Cerca",icon:"ti ti-world-search",action:e=>{W1()}},qr:{title:"Codi QR",icon:"ti ti-qrcode",show:z(()=>A!=null),to:"/qr"},lists:{title:"Llistes",icon:"ti ti-list",show:z(()=>A!=null),to:"/my/lists"},antennas:{title:"Antena",icon:"ti ti-antenna",show:z(()=>A!=null),to:"/my/antennas"},favorites:{title:"Favorits",icon:"ti ti-star",show:z(()=>A!=null),to:"/my/favorites"},pages:{title:"Pgines",icon:"ti ti-news",to:"/pages"},play:{title:"Play",icon:"ti ti-player-play",to:"/play"},gallery:{title:"Galeria",icon:"ti ti-icons",to:"/gallery"},clips:{title:"Retalls",icon:"ti ti-paperclip",show:z(()=>A!=null),to:"/my/clips"},channels:{title:"Canals",icon:"ti ti-device-tv",to:"/channels"},chat:{title:"Missatge",icon:"ti ti-messages",to:"/chat",show:z(()=>A!=null&&A.policies.chatAvailability!=="unavailable"),indicated:z(()=>A!=null&&A.hasUnreadChatMessages)},achievements:{title:"Assoliments",icon:"ti ti-medal",show:z(()=>A!=null),to:"/my/achievements"},games:{title:"Misskey Games",icon:"ti ti-device-gamepad",to:"/games"},ui:{title:"Canviar la interfcie",icon:"ti ti-devices",action:e=>{Ue([{text:"Per defecte",active:Eo==="default"||Eo===null,action:()=>{ce.setItem("ui","default"),Gt()}},{text:"Escriptori",active:Eo==="deck",action:()=>{ce.setItem("ui","deck"),Gt()}}],e.currentTarget??e.target)}},about:{title:"Informaci",icon:"ti ti-info-circle",action:e=>{Rs(e)}},tools:{title:"Eines",icon:"ti ti-tool",action:e=>{H1(e)}},reload:{title:"Actualitzar",icon:"ti ti-refresh",action:e=>{window.location.reload()}},profile:{title:"Perfil",icon:"ti ti-user",show:z(()=>A!=null),to:`/@${A?.username}`},cacheClear:{title:"Esborra la memria cau",icon:"ti ti-trash",action:e=>{q1()}}}),K1=["src"],Y1={key:0,class:"ti ti-bolt ti-fw"},X1={key:1,class:"ti ti-bolt-off ti-fw"},G1={key:1,class:"_indicatorCircle"},Q1={key:0,class:"ti ti-bolt ti-fw"},Z1={key:1,class:"ti ti-bolt-off ti-fw"},ex=K({__name:"navbar",props:{showWidgetButton:{type:Boolean},asDrawer:{type:Boolean}},emits:["widgetButtonClick"],setup(e,{emit:t}){const n=vr(),i=e,o=t,a=F(!i.asDrawer&&window.innerWidth<=1279),s=z(()=>!i.asDrawer&&(a.value||B.r.menuDisplay.value==="sideIcon")),r=z(()=>{for(const g in At)if(!D.r.menu.value.includes(g)&&At[g].indicated)return!0;return!1});function l(){a.value=window.innerWidth<=1279}window.addEventListener("resize",l),oe(B.r.menuDisplay,()=>{l()});function f(){window.document.startViewTransition&&D.s.animation?window.document.startViewTransition(()=>{B.set("menuDisplay",s.value?"sideFull":"sideIcon")}):B.set("menuDisplay",s.value?"sideFull":"sideIcon")}function h(g){Ue([{type:"label",text:"Mode en temps real"},{text:B.s.realtimeMode?"Desactivar":"Activar",icon:B.s.realtimeMode?"ti ti-bolt-off":"ti ti-bolt",action:()=>{B.set("realtimeMode",!B.s.realtimeMode),window.location.reload()}}],g.currentTarget??g.target)}async function w(g){const p=await or({withExtraOperation:!0});Ue(p,g.currentTarget??g.target)}async function u(g){const p=Fn(g.currentTarget??g.target);if(!p)return;const{dispose:m}=await bt(I(()=>import("./3iSoGi4ic-BwkXEOuW.js"),__vite__mapDeps([520,2,3,4,5,6,521]),import.meta.url).then(x=>x.default),{anchorElement:p},{closed:()=>m()})}function y(){n.push("/settings/navbar")}return(g,p)=>{const m=Q("MkA"),x=Q("MkAvatar"),k=Q("MkAcct"),_=Ye("tooltip");return c(),v("div",{class:J(["xryhL",{xghTi:s.value}])},[b("div",{class:"xRtfX"},[b("div",{class:"xof4K"},[te((c(),v("button",{class:"_button x50Ky",onClick:p[0]||(p[0]=(...C)=>E(Rs)&&E(Rs)(...C))},[b("img",{src:E(re).iconUrl||"/favicon.ico",alt:"",class:"xrr1h",style:{viewTransitionName:"navbar-serverIcon"}},null,10,K1)],2)),[[_,E(re).name??"Instncia ",void 0,{noDelay:!0,right:!0}]]),s.value?M("",!0):te((c(),v("button",{key:0,class:J(["_button",["xym01",E(B).r.realtimeMode.value?"xuSau":null]]),onClick:h},[E(B).r.realtimeMode.value?(c(),v("i",Y1)):(c(),v("i",X1))],2)),[[_,"Mode en temps real",void 0,{noDelay:!0,right:!0}]]),!s.value&&e.showWidgetButton?te((c(),v("button",{key:1,class:"_button xs7X3",onClick:p[1]||(p[1]=()=>o("widgetButtonClick"))},[...p[4]||(p[4]=[b("i",{class:"ti ti-apps ti-fw"},null,-1)])],2)),[[_,"Ginys",void 0,{noDelay:!0,right:!0}]]):M("",!0)],2),b("div",{class:"xzlUW"},[te((c(),N(m,{class:"x6KaV",activeClass:"x7vS5",to:"/",exact:""},{default:H(()=>[b("i",{class:"xriyS ti ti-home ti-fw",style:{viewTransitionName:"navbar-homeIcon"}},null,2),b("span",{class:"xbyif"},S("Lnia de temps"),3)]),_:1},8,["class","activeClass"])),[[_,"Lnia de temps",void 0,{noDelay:!0,right:!0}]]),(c(!0),v(pe,null,ze(E(D).r.menu.value,C=>(c(),v(pe,null,[C==="-"?(c(),v("div",{key:0,class:"xClhx"},null,2)):E(At)[C]&&E(At)[C].show!==!1?te((c(),N(Ct(E(At)[C].to?"MkA":"button"),Xt({key:1,class:["_button",["x6KaV",{x7vS5:E(At)[C].active}]],activeClass:"x7vS5",to:E(At)[C].to},ql(E(At)[C].action?{click:E(At)[C].action}:{})),{default:H(()=>[b("i",{class:J(["ti-fw",["xriyS",E(At)[C].icon]]),style:$e({viewTransitionName:"navbar-item-"+C})},null,6),b("span",{class:"xbyif"},S(E(At)[C].title),3),E(At)[C].indicated?(c(),v("span",{key:0,class:"xxiU7 _blink"},[E(At)[C].indicateValue?(c(),v("span",{key:0,class:"_indicateCounter x5ESe"},S(E(At)[C].indicateValue),3)):(c(),v("i",G1))],2)):M("",!0)]),_:2},1040,["class","activeClass","to"])),[[_,E(At)[C].title,void 0,{noDelay:!0,right:!0}]]):M("",!0)],64))),256)),b("div",{class:"xClhx"},null,2),E(A)!=null&&(E(A).isAdmin||E(A).isModerator)?te((c(),N(m,{key:0,class:"x6KaV",activeClass:"x7vS5",to:"/admin"},{default:H(()=>[b("i",{class:"xriyS ti ti-dashboard ti-fw",style:{viewTransitionName:"navbar-controlPanel"}},null,2),b("span",{class:"xbyif"},S("Tauler de control"),3)]),_:1},8,["class","activeClass"])),[[_,"Tauler de control",void 0,{noDelay:!0,right:!0}]]):M("",!0),b("button",{class:"_button x6KaV",onClick:u},[b("i",{class:"xriyS ti ti-grid-dots ti-fw",style:{viewTransitionName:"navbar-more"}},null,2),b("span",{class:"xbyif"},S("Ms"),3),r.value?(c(),v("span",{key:0,class:"xxiU7 _blink"},[...p[5]||(p[5]=[b("i",{class:"_indicatorCircle"},null,-1)])],2)):M("",!0)],2),te((c(),N(m,{class:"x6KaV",activeClass:"x7vS5",to:"/settings"},{default:H(()=>[b("i",{class:"xriyS ti ti-settings ti-fw",style:{viewTransitionName:"navbar-settings"}},null,2),b("span",{class:"xbyif"},S("Preferncies"),3)]),_:1},8,["class","activeClass"])),[[_,"Preferncies",void 0,{noDelay:!0,right:!0}]])],2),b("div",{class:"xmctl"},[s.value&&e.showWidgetButton?te((c(),v("button",{key:0,class:"_button xs7X3",onClick:p[2]||(p[2]=()=>o("widgetButtonClick"))},[...p[6]||(p[6]=[b("i",{class:"ti ti-apps ti-fw"},null,-1)])],2)),[[_,"Ginys",void 0,{noDelay:!0,right:!0}]]):M("",!0),s.value?te((c(),v("button",{key:1,class:J(["_button",["xym01",E(B).r.realtimeMode.value?"xuSau":null]]),onClick:h},[E(B).r.realtimeMode.value?(c(),v("i",Q1)):(c(),v("i",Z1))],2)),[[_,"Mode en temps real",void 0,{noDelay:!0,right:!0}]]):M("",!0),te((c(),v("button",{class:"_button xplJN","data-cy-open-post-form":"",onClick:p[3]||(p[3]=()=>{Pn()})},[b("i",{class:"ti ti-pencil ti-fw xCl1K"},null,2),b("span",{class:"xk41P"},S("Nota"),3)],2)),[[_,"Nota",void 0,{noDelay:!0,right:!0}]]),E(A)!=null?te((c(),v("button",{key:2,class:"_button xcE14",onClick:w},[j(x,{user:E(A),class:"xwq2R",style:{viewTransitionName:"navbar-avatar"}},null,8,["user","class"]),j(k,{class:"_nowrap xhQPk",user:E(A)},null,8,["class","user"])],2)),[[_,`${"Compte"}: @${E(A).username}`,void 0,{noDelay:!0,right:!0}]]):M("",!0)],2)],2),!a.value&&E(D).r.showNavbarSubButtons.value?(c(),v("div",{key:0,class:"x3coK"},[b("div",{class:"xxbHy"},[(c(),v("svg",{viewBox:"0 0 16 64",class:"xDXk7"},[...p[7]||(p[7]=[b("g",{transform:"matrix(0.333333,0,0,0.222222,0.000895785,21.3333)"},[b("path",{d:"M47.488,7.995C47.79,10.11 47.943,12.266 47.943,14.429C47.997,26.989 47.997,84 47.997,84C47.997,84 44.018,118.246 23.997,133.5C-0.374,152.07 -0.003,192 -0.003,192L-0.003,-96C-0.003,-96 0.151,-56.216 23.997,-37.5C40.861,-24.265 46.043,-1.243 47.488,7.995Z",style:{fill:"var(--MI_THEME-navBg)"}})],-1)])],2)),b("button",{class:"_button xo41j",onClick:y},[b("i",{class:"xCW8O ti ti-settings-2"},null,2)],2)],2),i.asDrawer?M("",!0):(c(),v(pe,{key:0},[b("div",{class:"xw0is"},null,2),b("div",{class:"x8IL0"},null,2),b("div",{class:"xxbHy"},[(c(),v("svg",{viewBox:"0 0 16 64",class:"xDXk7"},[...p[8]||(p[8]=[b("g",{transform:"matrix(0.333333,0,0,0.222222,0.000895785,21.3333)"},[b("path",{d:"M47.488,7.995C47.79,10.11 47.943,12.266 47.943,14.429C47.997,26.989 47.997,84 47.997,84C47.997,84 44.018,118.246 23.997,133.5C-0.374,152.07 -0.003,192 -0.003,192L-0.003,-96C-0.003,-96 0.151,-56.216 23.997,-37.5C40.861,-24.265 46.043,-1.243 47.488,7.995Z",style:{fill:"var(--MI_THEME-navBg)"}})],-1)])],2)),b("button",{class:"_button xo41j",onClick:f},[s.value?(c(),v("i",{key:0,class:"ti ti-chevron-right xCW8O"},null,2)):(c(),v("i",{key:1,class:"ti ti-chevron-left xCW8O"},null,2))],2)],2)],64))],2)):M("",!0)],2)}}});const tx={key:0,id:"wait"},nx={key:1,id:"devTicker"},ix={key:2,id:"botWarn"},ox={style:{animation:"dev-ticker-blink 2s infinite"}},ax={key:3,id:"safemodeWarn"},sx={style:{animation:"dev-ticker-blink 2s infinite"}},rx=K({__name:"common",props:{drawerMenuShowing:{type:Boolean},drawerMenuShowingModifiers:{},widgetsShowing:{type:Boolean},widgetsShowingModifiers:{}},emits:["update:drawerMenuShowing","update:widgetsShowing"],setup(e){const t=he(()=>I(()=>import("./3iSoGi4ic-D8yUrXUl.js"),__vite__mapDeps([522,2,4,3,5,6,523]),import.meta.url)),n=he(()=>I(()=>import("./3iSoGi4ic-BBrvJElV.js"),__vite__mapDeps([524,503,2,4,3,504,5,6,525]),import.meta.url)),i=Kn(e,"drawerMenuShowing"),o=Kn(e,"widgetsShowing"),a=!1,s=F([]);function r(f,h=!1){window.document.visibilityState==="visible"&&(!h&&f.type!=="test"&&B.s.realtimeMode&&hi().send("readNotification"),s.value.unshift(f),window.setTimeout(()=>{s.value.length>3&&s.value.pop()},500),window.setTimeout(()=>{s.value=s.value.filter(w=>w.id!==f.id)},6e3)),In("notification")}function l(){ce.removeItem("isSafeMode");const f=new URL(window.location.href);f.searchParams.delete("safemode"),Gt(f.toString())}return A&&(B.s.realtimeMode&&hi().useChannel("main").on("notification",r),yt.on("clientNotification",f=>r(f,!0)),"serviceWorker"in navigator&&s1()),(f,h)=>(c(),v(pe,null,[j(St,{enterActiveClass:E(D).s.animation?"x7qAC":"",leaveActiveClass:E(D).s.animation?"xhGPG":"",enterFromClass:E(D).s.animation?"x5Y1m":"",leaveToClass:E(D).s.animation?"xozga":""},{default:H(()=>[i.value?(c(),v("div",{key:0,class:"xaRBP _modalBg",onClick:h[0]||(h[0]=w=>i.value=!1),onTouchstartPassive:h[1]||(h[1]=w=>i.value=!1)},null,34)):M("",!0)]),_:1},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass"]),j(St,{enterActiveClass:E(D).s.animation?"x4nRt":"",leaveActiveClass:E(D).s.animation?"xdH3w":"",enterFromClass:E(D).s.animation?"x47Ey":"",leaveToClass:E(D).s.animation?"xmzHC":""},{default:H(()=>[i.value?(c(),v("div",{key:0,class:"x6wbo"},[j(ex,{style:{height:"100%"},asDrawer:!0,showWidgetButton:!1})],2)):M("",!0)]),_:1},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass"]),j(St,{enterActiveClass:E(D).s.animation?"x7Mez":"",leaveActiveClass:E(D).s.animation?"xd8y5":"",enterFromClass:E(D).s.animation?"xCogR":"",leaveToClass:E(D).s.animation?"x9Qqm":""},{default:H(()=>[o.value?(c(),v("div",{key:0,class:"xuU9G _modalBg",onClick:h[2]||(h[2]=w=>o.value=!1),onTouchstartPassive:h[3]||(h[3]=w=>o.value=!1)},null,34)):M("",!0)]),_:1},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass"]),j(St,{enterActiveClass:E(D).s.animation?"xbxUu":"",leaveActiveClass:E(D).s.animation?"xDdqY":"",enterFromClass:E(D).s.animation?"xiHl6":"",leaveToClass:E(D).s.animation?"xmDQu":""},{default:H(()=>[o.value?(c(),v("div",{key:0,class:"xa8HC"},[b("button",{class:"_button xEV9p",onClick:h[4]||(h[4]=w=>o.value=!1)},[...h[5]||(h[5]=[b("i",{class:"ti ti-x"},null,-1)])],2),j(E(n))],2)):M("",!0)]),_:1},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass"]),(c(!0),v(pe,null,ze(E(Jn),w=>(c(),N(Ct(w.component),Xt({key:w.id},{ref_for:!0},w.props,ql(w.events)),null,16))),128)),(c(),N(Ct(E(D).s.animation?Gi:"div"),{tag:"div",class:J(["xpjbG",{xAphT:E(D).s.notificationPosition==="leftTop",xjsv5:E(D).s.notificationPosition==="leftBottom",xmeJN:E(D).s.notificationPosition==="rightTop",xqdFD:E(D).s.notificationPosition==="rightBottom",xnpTD:E(D).s.notificationStackAxis==="vertical",xax7e:E(D).s.notificationStackAxis==="horizontal"}]),moveClass:"xyx1x",enterActiveClass:"xnusG",leaveActiveClass:"xgPrw",enterFromClass:"xtbCC",leaveToClass:"xrmR2"},{default:H(()=>[(c(!0),v(pe,null,ze(s.value,w=>(c(),v("div",{key:w.id,class:"xr2R3"},[j(z1,{notification:w},null,8,["notification"])],2))),128))]),_:1},8,["class","moveClass","enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass"])),j(E(t)),E(Vi)>0?(c(),v("div",tx)):M("",!0),E(a)?(c(),v("div",nx,[...h[6]||(h[6]=[b("span",{style:{animation:"dev-ticker-blink 2s infinite"}},"DEV BUILD",-1)])])):M("",!0),E(A)&&E(A).isBot?(c(),v("div",ix,[b("span",ox,S("Identificat com a bot"),1)])):M("",!0),E(ni)?(c(),v("div",ax,[b("span",sx,S("Mode segur activat"),1),h[7]||(h[7]=Z(" ",-1)),b("button",{class:"_textButton",style:{"pointer-events":"all"},onClick:l},S("Desactivar"),1)])):M("",!0)],64))}});const lx=K({__name:"minimum",setup(e){const t=z(()=>Pt.currentRoute.value.name==="index"),n=F(null);return ct(qe.router,Pt),kc(i=>{const o=i();n.value=o,n.value&&(t.value&&n.value.title===es?window.document.title=n.value.title:window.document.title=`${n.value.title} | ${es}`)}),Ec(n),(i,o)=>{const a=Q("RouterView");return c(),v("div",{class:"xxpSa"},[j(a),j(rx)],2)}}});async function ux(){const{isClientUpdated:e}=await _d(async()=>Hl(lx));ar.init()}await I(()=>Promise.resolve({}),__vite__mapDeps([526]),import.meta.url);const cx=["/share","/auth","/miauth","/oauth","/signup-complete","/verify-email","/install-extensions"];cx.some(e=>window.location.pathname===e||window.location.pathname.startsWith(e+"/"))?ux():a1();export{A as $,Qe as A,Hx as B,Ze as C,qe as D,Xi as E,Dl as F,Es as G,By as H,qa as I,se as J,xs as K,Xe as L,mt as M,$c as N,Lc as O,tn as P,Ls as Q,$a as R,ex as S,ia as T,B as U,ws as V,yr as W,rx as X,bg as Y,Yn as Z,io as _,Ec as a,Wl as a$,ce as a0,Km as a1,kx as a2,Gt as a3,kb as a4,no as a5,xi as a6,Ti as a7,qc as a8,ow as a9,Dn as aA,Di as aB,Wa as aC,ic as aD,pv as aE,Gs as aF,l0 as aG,hi as aH,f0 as aI,Ty as aJ,xl as aK,za as aL,U1 as aM,wi as aN,Ou as aO,nl as aP,yx as aQ,$f as aR,hs as aS,Ao as aT,kn as aU,Ji as aV,Ni as aW,Ax as aX,Ix as aY,Mv as aZ,cr as a_,aw as aa,lp as ab,b_ as ac,b0 as ad,Ln as ae,Tx as af,fs as ag,Ob as ah,Vt as ai,Mc as aj,vr as ak,Jx as al,Wn as am,Wx as an,qx as ao,v0 as ap,Mn as aq,_e as ar,di as as,No as at,Ho as au,we as av,wg as aw,Th as ax,ii as ay,xc as az,D as b,Tl as b$,n2 as b0,fa as b1,gr as b2,uc as b3,Kh as b4,Co as b5,Xs as b6,fi as b7,yt as b8,qi as b9,Dx as bA,Xl as bB,ua as bC,L0 as bD,Mo as bE,pi as bF,h0 as bG,Z0 as bH,oc as bI,Rc as bJ,ps as bK,Wt as bL,Yi as bM,ks as bN,fy as bO,In as bP,Et as bQ,Bc as bR,bl as bS,Nc as bT,V0 as bU,Sc as bV,Qs as bW,gx as bX,_u as bY,yo as bZ,Oc as b_,zp as ba,yc as bb,Mx as bc,Sn as bd,Dc as be,Ic as bf,ya as bg,So as bh,vx as bi,me as bj,wx as bk,lr as bl,so as bm,oa as bn,nc as bo,N0 as bp,Up as bq,Qu as br,ty as bs,pn as bt,rr as bu,Ys as bv,Xp as bw,Ki as bx,dy as by,lt as bz,Pn as c,Ro as c$,sl as c0,ar as c1,Xx as c2,Kt as c3,jn as c4,bx as c5,q1 as c6,Fv as c7,xx as c8,Us as c9,$i as cA,Ux as cB,Px as cC,ai as cD,gb as cE,Rx as cF,Xv as cG,Bx as cH,$x as cI,fr as cJ,dr as cK,hr as cL,mr as cM,_x as cN,Jm as cO,ho as cP,Sv as cQ,Bv as cR,$v as cS,ns as cT,o1 as cU,jx as cV,xg as cW,Hs as cX,oi as cY,px as cZ,Y_ as c_,lc as ca,Ms as cb,Zc as cc,e2 as cd,i2 as ce,w_ as cf,Hh as cg,Qx as ch,r2 as ci,yd as cj,l2 as ck,Ri as cl,Bi as cm,_r as cn,hd as co,$o as cp,Ku as cq,a2 as cr,o2 as cs,K_ as ct,s2 as cu,X_ as cv,Ex as cw,Ox as cx,Nx as cy,e1 as cz,bt as d,ny as d0,Yx as d1,$s as d2,Yg as d3,Yc as d4,Kv as d5,p_ as d6,W1 as d7,wn as d8,Wc as d9,ab as dA,Zb as dB,Fc as dC,J1 as dD,C0 as dE,Kx as dF,Zx as da,Av as db,oy as dc,Uc as dd,wc as de,Mt as df,Fx as dg,Sx as dh,Gx as di,m_ as dj,zx as dk,cy as dl,gt as dm,zc as dn,ec as dp,Cx as dq,bc as dr,Qc as ds,lb as dt,E0 as du,Vc as dv,t0 as dw,ly as dx,ay as dy,uy as dz,I as e,or as f,Fn as g,Ue as h,re as i,sn as j,ao as k,Dt as l,Pt as m,At as n,Rs as o,kc as p,t2 as q,ca as r,Lx as s,Zv as t,Qv as u,wr as v,Ks as w,Ds as x,Vx as y,Cc as z};
