import{Q as te,aS as L,az as oe,ab as V,ag as g,R as X,a7 as I,aT as K,i as se,C as ne,J as ue}from"./3iSoGi4ic-DV-GuiCp.js";import{F as Z}from"./3iSoGi4ic-BBsRrkiB.js";import{F as J}from"./3iSoGi4ic-D8UyQ0ea.js";import{M as ie}from"./3iSoGi4ic-CquQT64K.js";import{M as re}from"./3iSoGi4ic-4oa2bN0A.js";import{b as de,a as f,c as w,w as me,z as Q,f as y,i as _,h as e,p as c,B as t,D as n,E as s,t as k,R as z,C as S}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const ve={class:"_gaps_m"},pe={class:"_gaps_m"},fe={class:"_gaps_m"},ce={class:"_gaps_s"},be={class:"_gaps_s"},De=de({__name:"privacy",setup(ke){const v=te(),M=f(v.isLocked),T=f(v.autoAcceptFollowed),A=f(v.noCrawle),C=f(v.preventAiLearning),O=f(v.isExplorable),H=f(v.requireSigninToViewContents??!1),i=f(v.makeNotesFollowersOnlyBefore??null),r=f(v.makeNotesHiddenBefore??null),F=f(v.hideOnlineStatus),x=f(v.publicReactions),{model:D,def:j}=L({items:[{label:"公开",value:"public"},{label:"关注者",value:"followers"},{label:"私密",value:"private"}],initialValue:v.followingVisibility}),{model:B,def:ee}=L({items:[{label:"公开",value:"public"},{label:"关注者",value:"followers"},{label:"私密",value:"private"}],initialValue:v.followersVisibility}),{model:U,def:le}=L({items:[{label:"任何人",value:"everyone"},{label:"仅关注者",value:"followers"},{label:"仅关注的人",value:"following"},{label:"仅相互关注",value:"mutual"},{label:"没有人",value:"none"}],initialValue:v.chatScope}),h=w({get:()=>i.value==null?null:i.value>=0?"absolute":"relative",set(u){u==="relative"?i.value=-604800:u==="absolute"?i.value=Math.floor(Date.now()/1e3):i.value=null}}),Y=[{label:"1 小时",value:-3600},{label:"1天",value:-86400},{label:"3天",value:-259200},{label:"1 周",value:-604800},{label:"1个月",value:-2592e3},{label:"3个月",value:-7776e3},{label:"1 年",value:-31104e3}],R=f(i.value!=null&&i.value<0&&!Y.some(u=>u.value===i.value)),$=w({get:()=>R.value?"custom":i.value,set(u){R.value=u==="custom",u!=="custom"&&(i.value=u)}}),P=w({get:()=>i.value?Math.abs(i.value)/(720*60*60):null,set(u){u!=null&&u>0&&(i.value=-Math.abs(Math.floor(Number(u)))*30*24*60*60)}}),N=w({get:()=>r.value==null?null:r.value>=0?"absolute":"relative",set(u){u==="relative"?r.value=-604800:u==="absolute"?r.value=Math.floor(Date.now()/1e3):r.value=null}}),W=[{label:"1 小时",value:-3600},{label:"1天",value:-86400},{label:"3天",value:-259200},{label:"1 周",value:-604800},{label:"1个月",value:-2592e3},{label:"3个月",value:-7776e3},{label:"1 年",value:-31104e3}],E=f(r.value!=null&&r.value<0&&!W.some(u=>u.value===r.value)),q=w({get:()=>E.value?"custom":r.value,set(u){E.value=u==="custom",u!=="custom"&&(r.value=u)}}),G=w({get:()=>r.value?Math.abs(r.value)/(720*60*60):null,set(u){u!=null&&u>0&&(r.value=-Math.abs(Math.floor(Number(u)))*30*24*60*60)}});me([i,r],()=>{p()});async function ae(u){if(u===!0&&se.federation!=="none"){const{canceled:a}=await ne({type:"warning",text:"理解注意事项后再开启。"});if(a)return}H.value=u,p()}function p(){ue("i/update",{isLocked:!!M.value,autoAcceptFollowed:!!T.value,noCrawle:!!A.value,preventAiLearning:!!C.value,isExplorable:!!O.value,requireSigninToViewContents:!!H.value,makeNotesFollowersOnlyBefore:i.value,makeNotesHiddenBefore:r.value,hideOnlineStatus:!!F.value,publicReactions:!!x.value,followingVisibility:D.value,followersVisibility:B.value,chatScope:U.value})}return w(()=>[]),w(()=>[]),oe(()=>({title:"隐私",icon:"ti ti-lock-open"})),(u,a)=>{const b=Q("SearchText"),m=Q("SearchLabel"),d=Q("SearchMarker");return _(),y(d,{path:"/settings/privacy",label:"隐私",keywords:["privacy"],icon:"ti ti-lock-open",markerId:"2rp9ka5Ht","data-in-app-search-marker-id":"2rp9ka5Ht",children:["BhAQiHogN","4DeWGsPaD","iaM6zUmO9","5Q6uhghzV","6C1TNTmr9","3HiV7Q9u9","izbVlS3rh","fhfOeQYCY","468e8XVmt","7LmVNpBSU","fINiZIxXR"]},{default:e(()=>[c("div",ve,[t(re,{icon:"/client-assets/unlocked_3d.png",color:"#aeff00"},{default:e(()=>[t(b,null,{default:e(()=>[n(s("可在此设置如内容可见性、可发现性、批准关注请求等账户隐私设置。"),1)]),_:1})]),_:1}),t(d,{keywords:["follow","lock"],markerId:"BhAQiHogN","data-in-app-search-marker-id":"BhAQiHogN"},{default:e(()=>[t(V,{modelValue:M.value,"onUpdate:modelValue":[a[0]||(a[0]=o=>M.value=o),a[1]||(a[1]=o=>p())]},{label:e(()=>[t(m,null,{default:e(()=>[n(s("关注请求需要批准"),1)]),_:1})]),caption:e(()=>[t(b,null,{default:e(()=>[n(s("即使启用该功能，只要帖子可见范围不是「仅关注者」，任何人都可以看到您的帖子。"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(ie,{disabled:!M.value},{default:e(()=>[t(d,{keywords:["follow","auto","accept"],markerId:"4DeWGsPaD","data-in-app-search-marker-id":"4DeWGsPaD"},{default:e(()=>[t(V,{modelValue:T.value,"onUpdate:modelValue":[a[2]||(a[2]=o=>T.value=o),a[3]||(a[3]=o=>p())]},{label:e(()=>[t(m,null,{default:e(()=>[n(s("自动允许回关请求"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["disabled"]),t(d,{keywords:["reaction","public"],markerId:"iaM6zUmO9","data-in-app-search-marker-id":"iaM6zUmO9"},{default:e(()=>[t(V,{modelValue:x.value,"onUpdate:modelValue":[a[4]||(a[4]=o=>x.value=o),a[5]||(a[5]=o=>p())]},{label:e(()=>[t(m,null,{default:e(()=>[n(s("将回应设置为公开"),1)]),_:1})]),caption:e(()=>[t(b,null,{default:e(()=>[n(s("将您发表过的回应设置成公开可见。"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{keywords:["following","visibility"],markerId:"5Q6uhghzV","data-in-app-search-marker-id":"5Q6uhghzV"},{default:e(()=>[t(g,{modelValue:k(D),"onUpdate:modelValue":[a[6]||(a[6]=o=>z(D)?D.value=o:null),a[7]||(a[7]=o=>p())],items:k(j)},{label:e(()=>[t(m,null,{default:e(()=>[n(s("关注的人的公开范围"),1)]),_:1})]),_:1},8,["modelValue","items"])]),_:1}),t(d,{keywords:["follower","visibility"],markerId:"6C1TNTmr9","data-in-app-search-marker-id":"6C1TNTmr9"},{default:e(()=>[t(g,{modelValue:k(B),"onUpdate:modelValue":[a[8]||(a[8]=o=>z(B)?B.value=o:null),a[9]||(a[9]=o=>p())],items:k(ee)},{label:e(()=>[t(m,null,{default:e(()=>[n(s("关注者的公开范围"),1)]),_:1})]),_:1},8,["modelValue","items"])]),_:1}),t(d,{keywords:["online","status"],markerId:"3HiV7Q9u9","data-in-app-search-marker-id":"3HiV7Q9u9"},{default:e(()=>[t(V,{modelValue:F.value,"onUpdate:modelValue":[a[10]||(a[10]=o=>F.value=o),a[11]||(a[11]=o=>p())]},{label:e(()=>[t(m,null,{default:e(()=>[n(s("隐藏在线状态"),1)]),_:1})]),caption:e(()=>[t(b,null,{default:e(()=>[n(s("隐藏在线状态后，可能会降低搜索等功能的便利性。"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{keywords:["crawle","index","search"],markerId:"izbVlS3rh","data-in-app-search-marker-id":"izbVlS3rh"},{default:e(()=>[t(V,{modelValue:A.value,"onUpdate:modelValue":[a[12]||(a[12]=o=>A.value=o),a[13]||(a[13]=o=>p())]},{label:e(()=>[t(m,null,{default:e(()=>[n(s("要求搜索引擎不索引该用户"),1)]),_:1})]),caption:e(()=>[t(b,null,{default:e(()=>[n(s("要求搜索引擎不要收录（索引）您的用户页面，帖子，页面等。"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{keywords:["crawle","ai"],markerId:"fhfOeQYCY","data-in-app-search-marker-id":"fhfOeQYCY"},{default:e(()=>[t(V,{modelValue:C.value,"onUpdate:modelValue":[a[14]||(a[14]=o=>C.value=o),a[15]||(a[15]=o=>p())]},{label:e(()=>[t(m,null,{default:e(()=>[n(s("拒绝接受生成式 AI 的学习"),1)]),_:1})]),caption:e(()=>[t(b,null,{default:e(()=>[n(s("要求文章生成 AI 或图像生成 AI 不能够以发布的帖子和图像等内容作为学习对象。这是通过在 HTML 响应中包含 noai 标志来实现的，这不能完全阻止 AI 学习你的发布内容，并不是所有 AI 都会遵守这类请求。"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{keywords:["explore"],markerId:"468e8XVmt","data-in-app-search-marker-id":"468e8XVmt"},{default:e(()=>[t(V,{modelValue:O.value,"onUpdate:modelValue":[a[16]||(a[16]=o=>O.value=o),a[17]||(a[17]=o=>p())]},{label:e(()=>[t(m,null,{default:e(()=>[n(s("使账号可见。"),1)]),_:1})]),caption:e(()=>[t(b,null,{default:e(()=>[n(s("关闭时，账号不会显示在\"发现\"中。"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(d,{keywords:["chat"],markerId:"7LmVNpBSU","data-in-app-search-marker-id":"7LmVNpBSU",children:["7vr04wKol"]},{default:e(()=>[t(Z,null,{label:e(()=>[t(m,null,{default:e(()=>[n(s("私信"),1)]),_:1})]),default:e(()=>[c("div",pe,[k(v).policies.chatAvailability==="unavailable"?(_(),y(X,{key:0},{default:e(()=>[n(s("此服务器或者账户还未开启聊天功能。"),1)]),_:1})):S("",!0),t(d,{keywords:["chat"],markerId:"7vr04wKol","data-in-app-search-marker-id":"7vr04wKol"},{default:e(()=>[t(g,{modelValue:k(U),"onUpdate:modelValue":[a[18]||(a[18]=o=>z(U)?U.value=o:null),a[19]||(a[19]=o=>p())],items:k(le)},{label:e(()=>[t(m,null,{default:e(()=>[n(s("谁可以发起聊天"),1)]),_:1})]),caption:e(()=>[n(s("主动发起聊天时，对方将不受此设置限制。"),1)]),_:1},8,["modelValue","items"])]),_:1})])]),_:1})]),_:1}),t(d,{keywords:["lockdown"],markerId:"fINiZIxXR","data-in-app-search-marker-id":"fINiZIxXR",children:["5RbESWefG","mYT88Dg3I","BRlegmpmV"]},{default:e(()=>[t(Z,null,{label:e(()=>[t(m,null,{default:e(()=>[n(s("锁定"),1)]),_:1})]),default:e(()=>[c("div",fe,[t(d,{keywords:["login","signin"],markerId:"5RbESWefG","data-in-app-search-marker-id":"5RbESWefG"},{default:e(()=>[t(V,{modelValue:H.value,"onUpdate:modelValue":ae},{label:e(()=>[t(m,null,{default:e(()=>[n(s("需要登录才能显示内容"),1)]),_:1})]),caption:e(()=>[c("div",null,s("您发布的所有帖子将变成需要登入后才会显示。有望防止爬虫收集各种信息。"),1),c("div",null,[a[28]||(a[28]=c("i",{class:"ti ti-alert-triangle",style:{color:"var(--MI_THEME-warn)"}},null,-1)),n(" "+s("没有 URL 预览（OGP）、内嵌网页、引用帖子的功能的服务器也将无法显示。"),1)])]),_:1},8,["modelValue"])]),_:1}),t(d,{keywords:["follower"],markerId:"mYT88Dg3I","data-in-app-search-marker-id":"mYT88Dg3I"},{default:e(()=>[t(J,null,{label:e(()=>[t(m,null,{default:e(()=>[n(s("可将过去的帖子设为仅关注者可见"),1)]),_:1})]),caption:e(()=>[c("div",null,[t(b,null,{default:e(()=>[n(s("开启此设定时，超过设定的时间或日期后，帖子将变为仅关注者可见。关闭后帖子的公开状态将恢复成原本的设定。"),1)]),_:1})])]),default:e(()=>[c("div",ce,[t(g,{modelValue:h.value,"onUpdate:modelValue":a[20]||(a[20]=o=>h.value=o),items:[{label:"无",value:null},{label:"超过指定时间的帖子",value:"relative"},{label:"指定日期前的帖子",value:"absolute"}]},null,8,["modelValue","items"]),h.value==="relative"?(_(),y(g,{key:0,modelValue:$.value,"onUpdate:modelValue":a[21]||(a[21]=o=>$.value=o),items:[...Y,{label:"自定义",value:"custom"}]},null,8,["modelValue","items"])):S("",!0),h.value==="relative"&&R.value?(_(),y(I,{key:1,modelValue:P.value,"onUpdate:modelValue":a[22]||(a[22]=o=>P.value=o),type:"number",min:1},{suffix:e(()=>[n(s("个月"),1)]),_:1},8,["modelValue"])):S("",!0),h.value==="absolute"&&i.value!=null?(_(),y(I,{key:2,modelValue:k(K)(new Date(i.value*1e3),"yyyy-MM-dd"),type:"date",manualSave:!0,"onUpdate:modelValue":a[23]||(a[23]=o=>i.value=Math.floor(new Date(o).getTime()/1e3))},null,8,["modelValue"])):S("",!0)])]),_:1})]),_:1}),t(d,{keywords:["hidden"],markerId:"BRlegmpmV","data-in-app-search-marker-id":"BRlegmpmV"},{default:e(()=>[t(J,null,{label:e(()=>[t(m,null,{default:e(()=>[n(s("将过去的帖子设为私密"),1)]),_:1})]),caption:e(()=>[c("div",null,[t(b,null,{default:e(()=>[n(s("开启此设定时，超过设定的时间或日期后，帖子将变为仅自己可见。关闭后帖子的公开状态将恢复成原本的设定。"),1)]),_:1})])]),default:e(()=>[c("div",be,[t(g,{modelValue:N.value,"onUpdate:modelValue":a[24]||(a[24]=o=>N.value=o),items:[{label:"无",value:null},{label:"超过指定时间的帖子",value:"relative"},{label:"指定日期前的帖子",value:"absolute"}]},null,8,["modelValue","items"]),N.value==="relative"?(_(),y(g,{key:0,modelValue:q.value,"onUpdate:modelValue":a[25]||(a[25]=o=>q.value=o),items:[...W,{label:"自定义",value:"custom"}]},null,8,["modelValue","items"])):S("",!0),N.value==="relative"&&E.value?(_(),y(I,{key:1,modelValue:G.value,"onUpdate:modelValue":a[26]||(a[26]=o=>G.value=o),type:"number",min:1},{suffix:e(()=>[n(s("个月"),1)]),_:1},8,["modelValue"])):S("",!0),N.value==="absolute"&&r.value!=null?(_(),y(I,{key:2,modelValue:k(K)(new Date(r.value*1e3),"yyyy-MM-dd"),type:"date",manualSave:!0,"onUpdate:modelValue":a[27]||(a[27]=o=>r.value=Math.floor(new Date(o).getTime()/1e3))},null,8,["modelValue"])):S("",!0)])]),_:1})]),_:1}),t(X,{warn:""},{default:e(()=>[n(s("此限制功能非常简单，在与远程服务器联合等情形时可能不适用。"),1)]),_:1})])]),_:1})]),_:1})])]),_:1},8,["label"])}}});export{De as default};
