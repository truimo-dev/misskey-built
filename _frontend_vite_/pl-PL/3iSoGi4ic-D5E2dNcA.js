import{az as b,c4 as g,M as F,v as x,L as w,ct as B,J as j}from"./3iSoGi4ic-DV-GuiCp.js";import{F as A}from"./3iSoGi4ic-CaDkpGcu.js";import{F as K}from"./3iSoGi4ic-BBsRrkiB.js";import{F as M}from"./3iSoGi4ic-D8X1N6Gw.js";import{b as P,c as d,a as S,w as V,z as E,f as y,i as l,h as e,p as _,B as c,C as N,D as a,E as o,l as D,F as L,A as W}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const $={class:"_spacer",style:{"--MI_SPACER-w":"600px","--MI_SPACER-min":"16px"}},z={class:"_gaps_m"},H={class:"_gaps_s"},X=P({__name:"registry.keys",props:{path:{},domain:{}},setup(v){const s=v,i=d(()=>s.path?s.path.split("/"):[]),p=S([]);function f(){j("i/registry/keys-with-type",{scope:i.value,domain:s.domain==="@"?null:s.domain}).then(n=>{p.value=Object.entries(n).sort((r,m)=>r[0].localeCompare(m[0]))})}async function h(){const{canceled:n,result:r}=await x("Utwórz klucz",{key:{type:"string",label:"Klucz"},value:{type:"string",multiline:!0,label:"Wartość"},scope:{type:"string",label:"Zakres",default:i.value.join("/")}});n||w("i/registry/set",{scope:r.scope.split("/"),key:r.key,value:B.parse(r.value)}).then(()=>{f()})}V(()=>s.path,f,{immediate:!0});const k=d(()=>[]),C=d(()=>[]);return b(()=>({title:"Rejestr",icon:"ti ti-adjustments"})),(n,r)=>{const m=E("PageWithHeader");return l(),y(m,{actions:k.value,tabs:C.value},{default:e(()=>[_("div",$,[_("div",z,[c(M,null,{default:e(()=>[c(g,null,{key:e(()=>[a(o("Domena"),1)]),value:e(()=>[a(o(s.domain==="@"?"System":s.domain.toUpperCase()),1)]),_:1}),c(g,null,{key:e(()=>[a(o("Zakres"),1)]),value:e(()=>[a(o(i.value.join("/")),1)]),_:1})]),_:1}),c(F,{primary:"",onClick:h},{default:e(()=>[a(o("Utwórz klucz"),1)]),_:1}),p.value?(l(),y(K,{key:0},{label:e(()=>[a(o("Klucz"),1)]),default:e(()=>[_("div",H,[(l(!0),D(L,null,W(p.value,u=>(l(),y(A,{to:`/registry/value/${s.domain}/${i.value.join("/")}/${u[0]}`,class:"_monospace"},{suffix:e(()=>[a(o(u[1].toUpperCase()),1)]),default:e(()=>[a(o(u[0]),1)]),_:2},1032,["to"]))),256))])]),_:1})):N("",!0)])])]),_:1},8,["actions","tabs"])}}});export{X as default};
