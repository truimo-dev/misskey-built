import{aH as P,J as H,b9 as S,b as B}from"./3iSoGi4ic-DV-GuiCp.js";import{u as D}from"./3iSoGi4ic-DCTAa4Sx.js";import{M as E}from"./3iSoGi4ic-CC5SbM-1.js";import{b as z,a as p,o as A,z as I,f as c,i as s,h as n,p as u,l as r,F as L,A as U,s as W,D as $,E as G,t as i}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const N={class:""},g="photos",X=z({__name:"WidgetPhotos",props:{widget:{}},emits:["updateProps"],setup(f,{expose:h,emit:w}){const k={showHeader:{type:"boolean",default:!0},transparent:{type:"boolean",default:!1}},a=f,v=w,{widgetProps:o,configure:y}=D(g,k,a,v),l=P().useChannel("main"),t=p([]),d=p(!0),x=e=>{/^image\/.+$/.test(e.type)&&(t.value.unshift(e),t.value.length>9&&t.value.pop())},_=e=>B.s.disableShowingAnimatedImages?S(e.url):e.thumbnailUrl??e.url;return H("drive/stream",{type:"image/*",limit:9}).then(e=>{t.value=e,d.value=!1}),l.on("driveFileCreated",x),A(()=>{l.dispose()}),h({name:g,configure:y,id:a.widget?a.widget.id:null}),(e,m)=>{const C=I("MkLoading");return s(),c(E,{showHeader:i(o).showHeader,naked:i(o).transparent,class:"xwMam mkw-photos","data-transparent":i(o).transparent?!0:null,"data-cy-mkw-photos":""},{icon:n(()=>[...m[0]||(m[0]=[u("i",{class:"ti ti-camera"},null,-1)])]),header:n(()=>[$(G("ZdjÄ™cia"),1)]),default:n(()=>[u("div",N,[d.value?(s(),c(C,{key:0})):(s(),r("div",{key:1,class:"xC97E"},[(s(!0),r(L,null,U(t.value,(b,M)=>(s(),r("div",{key:M,class:"xsGt7",style:W({backgroundImage:`url(${_(b)})`})},null,6))),128))],2))])]),_:1},8,["showHeader","naked","class","data-transparent"])}}});export{X as default};
