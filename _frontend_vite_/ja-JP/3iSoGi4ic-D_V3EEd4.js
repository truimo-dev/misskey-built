import{J as V,az as P,a7 as S,ab as A,M as w,ct as v}from"./3iSoGi4ic-DV-GuiCp.js";import{M as k}from"./3iSoGi4ic-BDF7xMl0.js";import{b as U,a as o,c as g,z as c,f as _,i as f,h as n,p as y,l as B,C as I,B as u,D as r,F as J}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const O={class:"_spacer",style:{"--MI_SPACER-w":"700px"}},T={class:"_gaps_m"},W={class:"_gaps_m"},z={key:0},G=U({__name:"api-console",setup(F){const s=o("{}"),p=o(""),b=o([]),i=o(!1),d=o(""),m=o(!0);V("endpoints").then(t=>{b.value=t});function C(){i.value=!0;const t=v.parse(s.value);V(p.value,t,t.i||(m.value?void 0:null)).then(e=>{i.value=!1,d.value=v.stringify(e,null,2)},e=>{i.value=!1,d.value=v.stringify(e,null,2)})}function M(){V("endpoint",{endpoint:p.value},m.value?void 0:null).then(t=>{if(t==null){s.value="{}";return}const e={};for(const l of t.params)e[l.name]=l.type==="String"?"":l.type==="Number"?0:l.type==="Boolean"?!1:l.type==="Array"?[]:l.type==="Object"?{}:null;s.value=v.stringify(e,null,2)})}const N=g(()=>[]),x=g(()=>[]);return P(()=>({title:"API console",icon:"ti ti-terminal-2"})),(t,e)=>{const l=c("MkEllipsis"),E=c("PageWithHeader");return f(),_(E,{actions:N.value,tabs:x.value},{default:n(()=>[y("div",O,[y("div",T,[y("div",W,[u(S,{modelValue:p.value,"onUpdate:modelValue":[e[0]||(e[0]=a=>p.value=a),e[1]||(e[1]=a=>M())],datalist:b.value},{label:n(()=>[...e[5]||(e[5]=[r("Endpoint",-1)])]),_:1},8,["modelValue","datalist"]),u(k,{modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=a=>s.value=a),code:""},{label:n(()=>[...e[6]||(e[6]=[r("Params (JSON or JSON5)",-1)])]),_:1},8,["modelValue"]),u(A,{modelValue:m.value,"onUpdate:modelValue":e[3]||(e[3]=a=>m.value=a)},{default:n(()=>[...e[7]||(e[7]=[r(" With credential ",-1)])]),_:1},8,["modelValue"]),u(w,{primary:"",disabled:i.value,onClick:C},{default:n(()=>[i.value?(f(),_(l,{key:0})):(f(),B(J,{key:1},[e[8]||(e[8]=y("i",{class:"ti ti-send"},null,-1)),e[9]||(e[9]=r(" Send",-1))],64))]),_:1},8,["disabled"])]),d.value?(f(),B("div",z,[u(k,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=a=>d.value=a),code:"",readonly:"",tall:""},{label:n(()=>[...e[10]||(e[10]=[r("Response",-1)])]),_:1},8,["modelValue"])])):I("",!0)])])]),_:1},8,["actions","tabs"])}}});export{G as default};
