import{a7 as r,ag as f,M as y,d3 as z,da as A}from"./3iSoGi4ic-DV-GuiCp.js";import{M as C}from"./3iSoGi4ic-Fx-BY70c.js";import{M as c,g as R}from"./3iSoGi4ic-D8UJCZq8.js";import{b as w,a as V,c as S,w as q,f as B,i as E,h as t,p as i,B as o,D as s,t as T,E as m}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";import"./3iSoGi4ic-D1MdWo18.js";const j={class:"_spacer"},N={class:"_gaps"},D={class:"_gaps_s"},P=w({__name:"custom-emojis-manager.local.list.search",props:{query:{}},emits:["closed","queryUpdated","sortOrderUpdated","search"],setup(b,{emit:g}){const O=b,n=g,l=V(O.query),v=S(()=>l.value.roles.map(u=>u.name).join(","));q(l,()=>{n("queryUpdated",l.value)},{deep:!0});const p=V([]);function U(u){p.value=u,n("sortOrderUpdated",u)}function k(){n("search")}function M(){l.value.name="",l.value.category="",l.value.aliases="",l.value.type="",l.value.license="",l.value.sensitive=null,l.value.localOnly=null,l.value.updatedAtFrom="",l.value.updatedAtTo="",p.value=[]}async function x(){const u=await A({initialRoleIds:l.value.roles.map(e=>e.id),title:"絵文字に設定されたロールで検索",publicOnly:!0});u.canceled||(l.value.roles=u.result)}return(u,e)=>(E(),B(z,{ref:"uiWindow",initialWidth:400,initialHeight:500,canResize:!0,onClosed:e[10]||(e[10]=a=>n("closed"))},{header:t(()=>[e[11]||(e[11]=i("i",{class:"ti ti-search",style:{"margin-right":"0.5em"}},null,-1)),s(" "+m("検索"),1)]),default:t(()=>[i("div",{class:"x56D2"},[i("div",j,[i("div",N,[i("div",D,[o(r,{modelValue:l.value.name,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value.name=a),type:"search",autocapitalize:"off"},{label:t(()=>[...e[12]||(e[12]=[s("name",-1)])]),_:1},8,["modelValue"]),o(r,{modelValue:l.value.category,"onUpdate:modelValue":e[1]||(e[1]=a=>l.value.category=a),type:"search",autocapitalize:"off"},{label:t(()=>[...e[13]||(e[13]=[s("category",-1)])]),_:1},8,["modelValue"]),o(r,{modelValue:l.value.aliases,"onUpdate:modelValue":e[2]||(e[2]=a=>l.value.aliases=a),type:"search",autocapitalize:"off"},{label:t(()=>[...e[14]||(e[14]=[s("aliases",-1)])]),_:1},8,["modelValue"]),o(r,{modelValue:l.value.type,"onUpdate:modelValue":e[3]||(e[3]=a=>l.value.type=a),type:"search",autocapitalize:"off"},{label:t(()=>[...e[15]||(e[15]=[s("type",-1)])]),_:1},8,["modelValue"]),o(r,{modelValue:l.value.license,"onUpdate:modelValue":e[4]||(e[4]=a=>l.value.license=a),type:"search",autocapitalize:"off"},{label:t(()=>[...e[16]||(e[16]=[s("license",-1)])]),_:1},8,["modelValue"]),o(f,{modelValue:l.value.sensitive,"onUpdate:modelValue":e[5]||(e[5]=a=>l.value.sensitive=a),items:[{label:"-",value:null},{label:"true",value:"true"},{label:"false",value:"false"}]},{label:t(()=>[...e[17]||(e[17]=[s("sensitive",-1)])]),_:1},8,["modelValue"]),o(f,{modelValue:l.value.localOnly,"onUpdate:modelValue":e[6]||(e[6]=a=>l.value.localOnly=a),items:[{label:"-",value:null},{label:"true",value:"true"},{label:"false",value:"false"}]},{label:t(()=>[...e[18]||(e[18]=[s("localOnly",-1)])]),_:1},8,["modelValue"]),o(r,{modelValue:l.value.updatedAtFrom,"onUpdate:modelValue":e[7]||(e[7]=a=>l.value.updatedAtFrom=a),type:"date",autocapitalize:"off"},{label:t(()=>[...e[19]||(e[19]=[s("updatedAt(from)",-1)])]),_:1},8,["modelValue"]),o(r,{modelValue:l.value.updatedAtTo,"onUpdate:modelValue":e[8]||(e[8]=a=>l.value.updatedAtTo=a),type:"date",autocapitalize:"off"},{label:t(()=>[...e[20]||(e[20]=[s("updatedAt(to)",-1)])]),_:1},8,["modelValue"]),o(r,{modelValue:v.value,"onUpdate:modelValue":e[9]||(e[9]=a=>v.value=a),type:"text",readonly:"",autocapitalize:"off",onClick:x},{label:t(()=>[...e[21]||(e[21]=[s("role",-1)])]),suffix:t(()=>[...e[22]||(e[22]=[i("i",{class:"ti ti-pencil"},null,-1)])]),_:1},8,["modelValue"])]),o(C,{spacerMax:8,spacerMin:8},{icon:t(()=>[...e[23]||(e[23]=[i("i",{class:"ti ti-arrows-sort"},null,-1)])]),label:t(()=>[s(m("並び順"),1)]),default:t(()=>[o(c,{baseOrderKeyNames:T(R),currentOrders:p.value,onUpdate:U},null,8,["baseOrderKeyNames","currentOrders"])]),_:1})])]),i("div",{class:"xkL6u"},[o(y,{primary:"",onClick:k},{default:t(()=>[s(m("検索"),1)]),_:1}),o(y,{onClick:M},{default:t(()=>[s(m("リセット"),1)]),_:1})],2)],2)]),_:1},512))}});export{P as default};
