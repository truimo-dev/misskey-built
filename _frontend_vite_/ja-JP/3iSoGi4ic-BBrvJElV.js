import{X as x}from"./3iSoGi4ic-DEXb-RhH.js";import{b as i}from"./3iSoGi4ic-DV-GuiCp.js";import{b as y,c as k,l as o,i as a,B as W,a as b,p as r,D as p,E as u}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const d=b(!1),M=y({__name:"widgets",props:{place:{default:null}},setup(f){const l=f,m=k(()=>l.place===null?i.r.widgets.value:l.place==="left"?i.r.widgets.value.filter(t=>t.place==="left"):i.r.widgets.value.filter(t=>t.place!=="left"));function c(t){i.commit("widgets",[{...t,place:l.place},...i.s.widgets])}function g(t){i.commit("widgets",i.s.widgets.filter(e=>e.id!==t.id))}function w({id:t,data:e}){i.commit("widgets",i.s.widgets.map(s=>s.id===t?{...s,data:e,place:l.place}:s))}function v(t){if(l.place===null){i.commit("widgets",t);return}if(l.place==="left"){i.commit("widgets",[...t.map(e=>({...e,place:"left"})),...i.s.widgets.filter(e=>e.place!=="left"&&!t.some(s=>e.id===s.id))]);return}i.commit("widgets",[...i.s.widgets.filter(e=>e.place==="left"&&!t.some(s=>e.id===s.id)),...t.map(e=>({...e,place:"right"}))])}return(t,e)=>(a(),o("div",null,[W(x,{edit:d.value,widgets:m.value,onAddWidget:c,onRemoveWidget:g,onUpdateWidget:w,onUpdateWidgets:v,onExit:e[0]||(e[0]=s=>d.value=!1)},null,8,["edit","widgets"]),d.value?(a(),o("button",{key:0,class:"_textButton",style:{"font-size":"0.9em"},onClick:e[1]||(e[1]=s=>d.value=!1)},[e[3]||(e[3]=r("i",{class:"ti ti-check"},null,-1)),p(" "+u("編集を終了"),1)])):(a(),o("button",{key:1,class:"_textButton xAyb3","data-cy-widget-edit":"",style:{"font-size":"0.9em"},onClick:e[2]||(e[2]=s=>d.value=!0)},[e[4]||(e[4]=r("i",{class:"ti ti-pencil"},null,-1)),p(" "+u("ウィジェットを編集"),1)],2))]))}});export{M as default};
