import{b as $,cJ as ue,cK as re,M as Y,ab as se,h as q,C as de,cL as ce,cd as me,cM as pe,Q as ne,R as G,J as fe,A as ke,P as Q,az as _e,i as ve,aA as X,L as V}from"./3iSoGi4ic-DV-GuiCp.js";import{b as L,a as j,z as x,l as f,i as m,p as l,B as t,F as D,A,g as F,f as R,t as v,h as e,D as u,E as r,w as Z,m as K,c as ee,R as ge,C as U}from"./3iSoGi4ic-D0mTJ0Mu.js";import{M as le}from"./3iSoGi4ic-BDF7xMl0.js";import{M as z}from"./3iSoGi4ic-CdSqfJMx.js";import{M as O}from"./3iSoGi4ic-Cj3FgKaq.js";import{M as S}from"./3iSoGi4ic-Fx-BY70c.js";import{M as Me}from"./3iSoGi4ic-4oa2bN0A.js";import{a as be}from"./3iSoGi4ic-CNyaLqcm.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";import"./3iSoGi4ic-Dv7rS4og.js";import"./3iSoGi4ic-CS6W3O_2.js";const xe={class:"_gaps_m"},ye=["onClick"],he=L({__name:"mute-block.emoji-mute",setup(W){const w=$.model("mutingEmojis");function M(d){return d.currentTarget??d.target}function y(d){me(M(d),{showPinned:!1}).then(a=>{a&&pe(a)})}function B(d,a){const b=[{type:"label",text:a},{text:"Unmute emoji",icon:"ti ti-mood-off",action:()=>p(a)}];q(b,d.currentTarget??d.target)}function p(d){de({type:"question",title:(({x})=>("Unmute "+x))({x:d})}).then(({canceled:a})=>{a||ce(d)})}const i=j($.isSyncEnabled("mutingEmojis"));function k(d){d?$.enableSync("mutingEmojis").then(a=>{a!=null&&a.enabled&&(i.value=!0)}):($.disableSync("mutingEmojis"),i.value=!1)}return(d,a)=>{const b=x("MkCustomEmoji"),I=x("MkEmoji"),_=x("SearchLabel"),P=x("SearchMarker");return m(),f("div",xe,[l("div",{class:"xqMMh"},[(m(!0),f(D,null,A(v(w),g=>(m(),f("div",{key:`emojiMute-${g}`,class:"xq4g7",onClick:T=>B(T,g)},[g.startsWith(":")?(m(),R(b,{key:0,name:v(re)(g),host:v(ue)(g),normal:!0,menu:!1,menuReaction:!1,ignoreMuted:!0},null,8,["name","host"])):(m(),R(I,{key:1,emoji:g,menu:!1,menuReaction:!1,ignoreMuted:!0},null,8,["emoji"]))],10,ye))),128))],2),t(Y,{primary:"",inline:"",onClick:y},{default:e(()=>[a[0]||(a[0]=l("i",{class:"ti ti-plus"},null,-1)),u(" "+r("Tambahkan"),1)]),_:1}),a[3]||(a[3]=l("hr",null,null,-1)),t(P,{keywords:["sync","devices"],markerId:"vqMBm3fgB","data-in-app-search-marker-id":"vqMBm3fgB"},{default:e(()=>[t(se,{modelValue:i.value,"onUpdate:modelValue":k},{label:e(()=>[a[1]||(a[1]=l("i",{class:"ti ti-cloud-cog"},null,-1)),a[2]||(a[2]=u()),t(_,null,{default:e(()=>[u(r("Sync between devices"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}});const we={class:"_gaps_m"},Ie=L({__name:"mute-block.instance-mute",setup(W){const w=ne(),M=j(w.mutedInstances.join(`
`)),y=j(!1);async function B(){let p=M.value.trim().split(`
`).map(i=>i.trim()).filter(i=>i);await fe("i/update",{mutedInstances:p}),y.value=!1,M.value=p.join(`
`)}return Z(M,()=>{y.value=!0}),(p,i)=>(m(),f("div",we,[t(G,null,{default:e(()=>[u(r("Sembunyikan note dari instansi terdaftar."),1)]),_:1}),t(le,{modelValue:M.value,"onUpdate:modelValue":i[0]||(i[0]=k=>M.value=k)},{label:e(()=>[u(r("Daftar instansi yang akan dibisukan"),1)]),caption:e(()=>[u(r("Pengaturan ini akan membisukan note/renote apa saja dari instansi yang terdaftar, termasuk pengguna yang membalas pengguna lain dalam instansi yang dibisukan."),1),i[2]||(i[2]=l("br",null,null,-1)),u(r("Pisah dengan baris baru"),1)]),_:1},8,["modelValue"]),t(Y,{primary:"",disabled:!y.value,onClick:i[1]||(i[1]=k=>B())},{default:e(()=>[i[3]||(i[3]=l("i",{class:"ti ti-device-floppy"},null,-1)),u(" "+r("Simpan"),1)]),_:1},8,["disabled"])]))}}),Ce={class:"_gaps_m"},te=L({__name:"mute-block.word-mute",props:{muted:{}},emits:["save"],setup(W,{emit:w}){const M=W,y=w,p=j((d=>d.map(a=>Array.isArray(a)?a.join(" "):a).join(`
`))(M.muted)),i=j(!1);Z(p,()=>{i.value=!0});async function k(){const d=b=>{let I=b.trim().split(`
`).map(_=>_.trim()).filter(_=>_!=="");for(let _=0;_<I.length;_++){const P=I[_],g=P.match(/^\/(.+)\/(.*)$/);if(g)try{new RegExp(g[1],g[2])}catch(T){throw ke({type:"error",title:"Kesalahan ekspresi reguler",text:(({line,tab})=>("Galat terjadi pada baris "+line+" ekspresi reguler dari "+tab+" kata yang dibisukan:"))({tab:"word mute",line:_+1})+`
`+T.toString()}),T}else I[_]=P.split(" ")}return I};let a;try{a=d(p.value)}catch{return}y("save",a),i.value=!1}return(d,a)=>(m(),f("div",Ce,[l("div",null,[t(le,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=b=>p.value=b)},{caption:e(()=>[u(r("Pisahkan dengan spasi untuk kondisi AND. Pisahkan dengan baris baru untuk kondisi OR."),1),a[2]||(a[2]=l("br",null,null,-1)),u(r("Kurung kata kunci dengan garis miring untuk menggunakan ekspresi reguler."),1)]),default:e(()=>[l("span",null,r("Kata yang dibisukan"),1)]),_:1},8,["modelValue"])]),t(Y,{primary:"",inline:"",disabled:!i.value,onClick:a[1]||(a[1]=b=>k())},{default:e(()=>[a[3]||(a[3]=l("i",{class:"ti ti-device-floppy"},null,-1)),u(" "+r("Simpan"),1)]),_:1},8,["disabled"])]))}}),je={class:"_gaps_m"},Ee={class:"_gaps_s"},Se={class:"_gaps_m"},Be={class:"_gaps_m"},Pe={class:"_gaps_s"},Te=["onClick"],Ve=["onClick"],$e={class:"_gaps_s"},We=["onClick"],Ue=["onClick"],qe={key:0},De={key:1},Ae={class:"_gaps_s"},Re=["onClick"],Le=["onClick"],st=L({__name:"mute-block",setup(W){const w=ne(),M=K(new Q("renote-mute/list",{limit:10})),y=K(new Q("mute/list",{limit:10})),B=K(new Q("blocking/list",{limit:10})),p=j([]),i=j([]),k=j([]),d=$.model("showSoftWordMutedWord");Z([d],()=>{be()});async function a(c,s){q([{text:"Batal mematikan renote",icon:"ti ti-x",action:async()=>{await V("renote-mute/delete",{userId:c.id})}}],s.currentTarget??s.target)}async function b(c,s){q([{text:"Hapus bisukan",icon:"ti ti-x",action:async()=>{await V("mute/delete",{userId:c.id})}}],s.currentTarget??s.target)}async function I(c,s){q([{text:"Buka blokir",icon:"ti ti-x",action:async()=>{await V("blocking/delete",{userId:c.id})}}],s.currentTarget??s.target)}async function _(c){p.value.includes(c.id)?p.value=p.value.filter(s=>s!==c.id):p.value.push(c.id)}async function P(c){i.value.includes(c.id)?i.value=i.value.filter(s=>s!==c.id):i.value.push(c.id)}async function g(c){k.value.includes(c.id)?k.value=k.value.filter(s=>s!==c.id):k.value.push(c.id)}async function T(c){await V("i/update",{mutedWords:c})}async function ae(c){await V("i/update",{hardMutedWords:c})}return ee(()=>[]),ee(()=>[]),_e(()=>({title:"Bisukan / Blokir",icon:"ti ti-ban"})),(c,s)=>{const oe=x("SearchText"),h=x("SearchMarker"),ie=x("SearchLabel"),N=x("MkResult"),H=x("MkA"),J=x("MkTime");return m(),R(h,{path:"/settings/mute-block",label:"Bisukan / Blokir",icon:"ti ti-ban",keywords:["mute","block"],markerId:"3icEvyv2D","data-in-app-search-marker-id":"3icEvyv2D",children:["lO3uFTkPN","fMkjL3dK4","cimSzQXN0","gq8rPy3Du","l8kj5x7pb","r3HiuUBM8","vvhhcsyPC"]},{default:e(()=>[l("div",je,[t(Me,{icon:"/client-assets/prohibited_3d.png",color:"#ff2600"},{default:e(()=>[t(oe,null,{default:e(()=>[u(r("You can configure and manage settings to hide content and restrict actions from specific users."),1)]),_:1})]),_:1}),l("div",Ee,[t(h,{label:"Bisukan kata",keywords:["note","word","soft","mute","hide"],markerId:"lO3uFTkPN","data-in-app-search-marker-id":"lO3uFTkPN",children:["5JKaXRqyt"]},{default:e(()=>[t(S,null,{icon:e(()=>[...s[1]||(s[1]=[l("i",{class:"ti ti-message-off"},null,-1)])]),label:e(()=>[u(r("Bisukan kata"),1)]),default:e(()=>[l("div",Se,[t(G,null,{default:e(()=>[u(r("Minimize notes that contain the specified word or phrase. Minimized notes can be displayed by clicking on them."),1)]),_:1}),t(h,{label:"Show muted words",keywords:["show"],markerId:"5JKaXRqyt","data-in-app-search-marker-id":"5JKaXRqyt"},{default:e(()=>[t(se,{modelValue:v(d),"onUpdate:modelValue":s[0]||(s[0]=E=>ge(d)?d.value=E:null)},{default:e(()=>[u(r("Show muted words"),1)]),_:1},8,["modelValue"])]),_:1},8,["label"]),t(te,{muted:v(w).mutedWords,onSave:T},null,8,["muted"])])]),_:1})]),_:1},8,["label"]),t(h,{label:"Pembisuan kata keras",keywords:["note","word","hard","mute","hide"],markerId:"fMkjL3dK4","data-in-app-search-marker-id":"fMkjL3dK4"},{default:e(()=>[t(S,null,{icon:e(()=>[...s[2]||(s[2]=[l("i",{class:"ti ti-message-off"},null,-1)])]),label:e(()=>[u(r("Pembisuan kata keras"),1)]),default:e(()=>[l("div",Be,[t(G,null,{default:e(()=>[u(r("Hide notes that contain the specified word or phrase. Unlike word mute, the note will be completely hidden from view."),1)]),_:1}),t(te,{muted:v(w).hardMutedWords,onSave:ae},null,8,["muted"])])]),_:1})]),_:1},8,["label"]),t(h,{label:"Mute emoji",keywords:["emoji","mute","hide"],markerId:"cimSzQXN0","data-in-app-search-marker-id":"cimSzQXN0"},{default:e(()=>[t(S,null,{icon:e(()=>[...s[3]||(s[3]=[l("i",{class:"ti ti-mood-off"},null,-1)])]),label:e(()=>[u(r("Mute emoji"),1)]),default:e(()=>[t(he)]),_:1})]),_:1},8,["label"]),t(h,{label:"Bisukan instansi",keywords:["note","server","instance","host","federation","mute","hide"],markerId:"gq8rPy3Du","data-in-app-search-marker-id":"gq8rPy3Du"},{default:e(()=>[v(ve).federation!=="none"?(m(),R(S,{key:0},{icon:e(()=>[...s[4]||(s[4]=[l("i",{class:"ti ti-planet-off"},null,-1)])]),label:e(()=>[u(r("Bisukan instansi"),1)]),default:e(()=>[t(Ie)]),_:1})):U("",!0)]),_:1},8,["label"]),t(h,{keywords:["renote","mute","hide","user"],markerId:"l8kj5x7pb","data-in-app-search-marker-id":"l8kj5x7pb"},{default:e(()=>[t(S,null,{icon:e(()=>[...s[5]||(s[5]=[l("i",{class:"ti ti-repeat-off"},null,-1)])]),label:e(()=>[t(ie,null,{default:e(()=>[u(r("Pengguna yang dibisukan")+" ("+r("Renote")+")",1)]),_:1})]),default:e(()=>[t(z,{paginator:v(M),withControl:""},{empty:e(()=>[t(N,{type:"empty",text:"Tidak ada pengguna"},null,8,["text"])]),default:e(({items:E})=>[l("div",Pe,[(m(!0),f(D,null,A(E,o=>(m(),f("div",{key:o.mutee.id,class:F(["x7TV5",{x3Q9d:p.value.includes(o.id)}])},[l("div",{class:"xmdJf"},[t(H,{class:"x1veP",to:v(X)(o.mutee)},{default:e(()=>[t(O,{user:o.mutee},null,8,["user"])]),_:2},1032,["class","to"]),l("button",{class:"_button x1Ij3",onClick:C=>_(o)},[l("i",{class:"xxGgI ti ti-chevron-down"},null,2)],10,Te),l("button",{class:"_button xpHxb",onClick:C=>a(o.mutee,C)},[...s[6]||(s[6]=[l("i",{class:"ti ti-x"},null,-1)])],10,Ve)],2),p.value.includes(o.id)?(m(),f("div",{key:0,class:"x1qE4"},[l("div",null,[s[7]||(s[7]=u("Muted at: ",-1)),t(J,{time:o.createdAt,mode:"detail"},null,8,["time"])])],2)):U("",!0)],2))),128))])]),_:1},8,["paginator"])]),_:1})]),_:1}),t(h,{label:"Pengguna yang dibisukan",keywords:["note","mute","hide","user"],markerId:"r3HiuUBM8","data-in-app-search-marker-id":"r3HiuUBM8"},{default:e(()=>[t(S,null,{icon:e(()=>[...s[8]||(s[8]=[l("i",{class:"ti ti-eye-off"},null,-1)])]),label:e(()=>[u(r("Pengguna yang dibisukan"),1)]),default:e(()=>[t(z,{paginator:v(y),withControl:""},{empty:e(()=>[t(N,{type:"empty",text:"Tidak ada pengguna"},null,8,["text"])]),default:e(({items:E})=>[l("div",$e,[(m(!0),f(D,null,A(E,o=>(m(),f("div",{key:o.mutee.id,class:F(["x7TV5",{x3Q9d:i.value.includes(o.id)}])},[l("div",{class:"xmdJf"},[t(H,{class:"x1veP",to:v(X)(o.mutee)},{default:e(()=>[t(O,{user:o.mutee},null,8,["user"])]),_:2},1032,["class","to"]),l("button",{class:"_button x1Ij3",onClick:C=>P(o)},[l("i",{class:"xxGgI ti ti-chevron-down"},null,2)],10,We),l("button",{class:"_button xpHxb",onClick:C=>b(o.mutee,C)},[...s[9]||(s[9]=[l("i",{class:"ti ti-x"},null,-1)])],10,Ue)],2),i.value.includes(o.id)?(m(),f("div",{key:0,class:"x1qE4"},[l("div",null,[s[10]||(s[10]=u("Muted at: ",-1)),t(J,{time:o.createdAt,mode:"detail"},null,8,["time"])]),o.expiresAt?(m(),f("div",qe,"Period: "+r(new Date(o.expiresAt).toLocaleString()),1)):(m(),f("div",De,"Period: "+r("Selamanya"),1))],2)):U("",!0)],2))),128))])]),_:1},8,["paginator"])]),_:1})]),_:1},8,["label"]),t(h,{label:"Pengguna yang diblokir",keywords:["block","user"],markerId:"vvhhcsyPC","data-in-app-search-marker-id":"vvhhcsyPC"},{default:e(()=>[t(S,null,{icon:e(()=>[...s[11]||(s[11]=[l("i",{class:"ti ti-ban"},null,-1)])]),label:e(()=>[u(r("Pengguna yang diblokir"),1)]),default:e(()=>[t(z,{paginator:v(B),withControl:""},{empty:e(()=>[t(N,{type:"empty",text:"Tidak ada pengguna"},null,8,["text"])]),default:e(({items:E})=>[l("div",Ae,[(m(!0),f(D,null,A(E,o=>(m(),f("div",{key:o.blockee.id,class:F(["x7TV5",{x3Q9d:k.value.includes(o.id)}])},[l("div",{class:"xmdJf"},[t(H,{class:"x1veP",to:v(X)(o.blockee)},{default:e(()=>[t(O,{user:o.blockee},null,8,["user"])]),_:2},1032,["class","to"]),l("button",{class:"_button x1Ij3",onClick:C=>g(o)},[l("i",{class:"xxGgI ti ti-chevron-down"},null,2)],10,Re),l("button",{class:"_button xpHxb",onClick:C=>I(o.blockee,C)},[...s[12]||(s[12]=[l("i",{class:"ti ti-x"},null,-1)])],10,Le)],2),k.value.includes(o.id)?(m(),f("div",{key:0,class:"x1qE4"},[l("div",null,[s[13]||(s[13]=u("Blocked at: ",-1)),t(J,{time:o.createdAt,mode:"detail"},null,8,["time"])])],2)):U("",!0)],2))),128))])]),_:1},8,["paginator"])]),_:1})]),_:1},8,["label"])])])]),_:1},8,["label"])}}});export{st as default};
