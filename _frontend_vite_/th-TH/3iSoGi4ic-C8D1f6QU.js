import{F as N}from"./3iSoGi4ic-BBsRrkiB.js";import{Q as q,az as A,i as b,R as x,a7 as U,ab as d,J as I,ch as R,L as D}from"./3iSoGi4ic-DV-GuiCp.js";import{M as B}from"./3iSoGi4ic-CquQT64K.js";import{b as P,a as r,w as S,e as L,c as T,z as C,f as g,i as E,h as e,p,C as O,B as a,t as u,D as n,E as s,a2 as Y}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const z={class:"_gaps_m"},H={class:"_gaps_m"},J={class:"_gaps_s"},ee=P({__name:"email",setup(Q){const t=q(),c=r(t.email??""),M=m=>{I("i/update",{receiveAnnouncementEmail:m})};async function F(){const m=await R();m.canceled||D("i/update-email",{password:m.result.password,token:m.result.token,email:c.value})}const f=r(t.emailNotificationTypes.includes("mention")),_=r(t.emailNotificationTypes.includes("reply")),v=r(t.emailNotificationTypes.includes("quote")),V=r(t.emailNotificationTypes.includes("follow")),k=r(t.emailNotificationTypes.includes("receiveFollowRequest")),h=()=>{I("i/update",{emailNotificationTypes:[f.value?"mention":null,_.value?"reply":null,v.value?"quote":null,V.value?"follow":null,k.value?"receiveFollowRequest":null].filter(m=>m!=null)})};return S([f,_,v,V,k],()=>{h()}),L(()=>{S(c,()=>{F()})}),T(()=>[]),T(()=>[]),A(()=>({title:"อีเมล",icon:"ti ti-mail"})),(m,i)=>{const w=C("SearchLabel"),y=C("SearchMarker");return E(),g(y,{path:"/settings/email",label:"อีเมล",keywords:["email"],icon:"ti ti-mail",markerId:"3Tcxw4Fwl","data-in-app-search-marker-id":"3Tcxw4Fwl",children:["iIai9O65I","i6cC6oi0m","C1YTinP11"]},{default:e(()=>[p("div",z,[u(b).enableEmail?O("",!0):(E(),g(x,{key:0},{default:e(()=>[n(s("เซิร์ฟเวอร์นี้ไม่รองรับการส่งอีเมล"),1)]),_:1})),a(B,{disabled:!u(b).enableEmail},{default:e(()=>[p("div",H,[a(y,{keywords:["email","address"],markerId:"iIai9O65I","data-in-app-search-marker-id":"iIai9O65I"},{default:e(()=>[a(N,{first:""},{label:e(()=>[a(w,null,{default:e(()=>[n(s("ที่อยู่อีเมล"),1)]),_:1})]),default:e(()=>[a(U,{modelValue:c.value,"onUpdate:modelValue":i[0]||(i[0]=o=>c.value=o),type:"email",manualSave:""},Y({prefix:e(()=>[i[6]||(i[6]=p("i",{class:"ti ti-mail"},null,-1))]),_:2},[u(t).email&&!u(t).emailVerified?{name:"caption",fn:e(()=>[n(s("ได้ส่งอีเมลยืนยันแล้ว กรุณาเข้าลิงก์ที่ระบุในอีเมลเพื่อทำการตั้งค่าให้เสร็จสิ้น"),1)]),key:"0"}:c.value===u(t).email&&u(t).emailVerified?{name:"caption",fn:e(()=>[i[7]||(i[7]=p("i",{class:"ti ti-check",style:{color:"var(--MI_THEME-success)"}},null,-1)),n(" "+s("อีเมลได้รับการยืนยันแล้ว"),1)]),key:"1"}:void 0]),1032,["modelValue"])]),_:1})]),_:1}),a(N,null,{default:e(()=>[a(y,{keywords:["announcement","email"],markerId:"i6cC6oi0m","data-in-app-search-marker-id":"i6cC6oi0m"},{default:e(()=>[a(d,{modelValue:u(t).receiveAnnouncementEmail,"onUpdate:modelValue":M},{label:e(()=>[a(w,null,{default:e(()=>[n(s("รับการแจ้งเตือนจากเซิร์ฟเวอร์นี้"),1)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),a(y,{keywords:["notification","email"],markerId:"C1YTinP11","data-in-app-search-marker-id":"C1YTinP11"},{default:e(()=>[a(N,null,{label:e(()=>[a(w,null,{default:e(()=>[n(s("การแจ้งเตือนทางอีเมล"),1)]),_:1})]),default:e(()=>[p("div",J,[a(d,{modelValue:f.value,"onUpdate:modelValue":i[1]||(i[1]=o=>f.value=o)},{default:e(()=>[n(s("กล่าวถึง"),1)]),_:1},8,["modelValue"]),a(d,{modelValue:_.value,"onUpdate:modelValue":i[2]||(i[2]=o=>_.value=o)},{default:e(()=>[n(s("ตอบกลับ"),1)]),_:1},8,["modelValue"]),a(d,{modelValue:v.value,"onUpdate:modelValue":i[3]||(i[3]=o=>v.value=o)},{default:e(()=>[n(s("อ้างอิง"),1)]),_:1},8,["modelValue"]),a(d,{modelValue:V.value,"onUpdate:modelValue":i[4]||(i[4]=o=>V.value=o)},{default:e(()=>[n(s("กำลังติดตาม"),1)]),_:1},8,["modelValue"]),a(d,{modelValue:k.value,"onUpdate:modelValue":i[5]||(i[5]=o=>k.value=o)},{default:e(()=>[n(s("ได้รับคำร้องขอติดตาม"),1)]),_:1},8,["modelValue"])])]),_:1})]),_:1})])]),_:1},8,["disabled"])])]),_:1},8,["label"])}}});export{ee as default};
