import{b as R,P as ae,Q as le,l as w,i as x,C as J,F as L,A as B,f as S,a2 as j,h as p,D as y,E as g,g as Y,B as k,t as F,p as d,u as K,r as ge,w as Z,e as be,n as ee,o as he,a as te,q as ye}from"./3iSoGi4ic-D0mTJ0Mu.js";import{s as Me,p as Ve,c as we}from"./3iSoGi4ic-BK8Hr_a2.js";import{d as h,I as Ee}from"./3iSoGi4ic-BmLZI3Ia.js";import{s as se}from"./3iSoGi4ic-C0O4p9AH.js";import{ab as Pe,a7 as Se,M as A,bm as oe,A as ze,b as Oe,ad as De,C as Ue,h as ne,l as ie}from"./3iSoGi4ic-DV-GuiCp.js";import{M as $e}from"./3iSoGi4ic-Fx-BY70c.js";import{_ as Ie}from"./3iSoGi4ic-Dz5OvLqt.js";import{M as re}from"./3iSoGi4ic-CSc4cSLM.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-Ddz4upM5.js";import"./3iSoGi4ic-ke9ZaMpT.js";import"./3iSoGi4ic-D98_HDRS.js";import"./3iSoGi4ic-CZYXc2mx.js";var Ce=`#version 300 es
precision mediump float;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;out vec4 out_color;uniform float u_amount;uniform float u_start;uniform bool u_normalize;void main(){int samples=64;float r_strength=1.0;float g_strength=1.5;float b_strength=2.0;vec2 size=vec2(in_resolution.x,in_resolution.y);vec4 accumulator=vec4(0.0);float normalisedValue=length((in_uv-0.5)*2.0);float strength=clamp((normalisedValue-u_start)*(1.0/(1.0 - u_start)),0.0,1.0);vec2 vector=(u_normalize ? normalize(in_uv-vec2(0.5)): in_uv - vec2(0.5));vec2 velocity=vector*strength*u_amount;vec2 rOffset=-vector*strength*(u_amount*r_strength);vec2 gOffset=-vector*strength*(u_amount*g_strength);vec2 bOffset=-vector*strength*(u_amount*b_strength);for(int i=0;i<samples;i++){accumulator.r+=texture(in_texture,in_uv+rOffset).r;rOffset-=velocity/float(samples);accumulator.g+=texture(in_texture,in_uv+gOffset).g;gOffset-=velocity/float(samples);accumulator.b+=texture(in_texture,in_uv+bOffset).b;bOffset-=velocity/float(samples);}out_color=vec4(vec3(accumulator/float(samples)),1.0);}`;const ke=h({shader:Ce,main:({gl:e,u:t,params:n})=>{e.uniform1f(t.amount,n.amount),e.uniform1i(t.normalize,n.normalize?1:0)}}),je={name:"Aberración Cromática",params:{normalize:{label:"Normalización",type:"boolean",default:!1},amount:{label:"Cantidad",type:"number",default:.1,min:0,max:1,step:.01}}},Ye=Object.freeze(Object.defineProperty({__proto__:null,fn:ke,uiDefinition:je},Symbol.toStringTag,{value:"Module"}));var Xe=`#version 300 es
precision mediump float;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform float u_brightness;uniform float u_contrast;uniform float u_hue;uniform float u_lightness;uniform float u_saturation;out vec4 out_color;vec3 rgb2hsl(vec3 c){float maxc=max(max(c.r,c.g),c.b);float minc=min(min(c.r,c.g),c.b);float l=(maxc+minc)*0.5;float s=0.0;float h=0.0;if(maxc!=minc){float d=maxc-minc;s=l>0.5 ? d/(2.0-maxc - minc): d/(maxc+minc);if(maxc==c.r){h=(c.g-c.b)/d+(c.g<c.b ? 6.0 : 0.0);}else if(maxc==c.g){h=(c.b-c.r)/d+2.0;}else{h=(c.r-c.g)/d+4.0;}h/=6.0;}return vec3(h,s,l);}float hue2rgb(float p,float q,float t){if(t<0.0)t+=1.0;if(t>1.0)t-=1.0;if(t<1.0/6.0)return p+(q-p)*6.0*t;if(t<1.0/2.0)return q;if(t<2.0/3.0)return p+(q-p)*(2.0/3.0 - t)*6.0;return p;}vec3 hsl2rgb(vec3 hsl){float r,g,b;float h=hsl.x;float s=hsl.y;float l=hsl.z;if(s==0.0){r=g=b=l;}else{float q=l<0.5 ? l*(1.0+s): l+s-l*s;float p=2.0*l-q;r=hue2rgb(p,q,h+1.0/3.0);g=hue2rgb(p,q,h);b=hue2rgb(p,q,h-1.0/3.0);}return vec3(r,g,b);}void main(){vec4 in_color=texture(in_texture,in_uv);vec3 color=in_color.rgb;color=color*u_brightness;color+=vec3(u_lightness);color=(color-0.5)*u_contrast+0.5;vec3 hsl=rgb2hsl(color);hsl.x=mod(hsl.x+u_hue,1.0);hsl.y=clamp(hsl.y*u_saturation,0.0,1.0);color=hsl2rgb(hsl);out_color=vec4(color,in_color.a);}`;const Te=h({shader:Xe,main:({gl:e,u:t,params:n})=>{e.uniform1f(t.brightness,n.brightness),e.uniform1f(t.contrast,n.contrast),e.uniform1f(t.hue,n.hue/2),e.uniform1f(t.lightness,n.lightness),e.uniform1f(t.saturation,n.saturation)}}),qe={name:"Corrección de Color",params:{lightness:{label:"Brillo",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},contrast:{label:"Contraste",type:"number",default:1,min:0,max:4,step:.01,toViewValue:e=>Math.round(e*100)+"%"},hue:{label:"Tonalidad",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*180)+"°"},brightness:{label:"Luminancia",type:"number",default:1,min:0,max:4,step:.01,toViewValue:e=>Math.round(e*100)+"%"},saturation:{label:"Saturación",type:"number",default:1,min:0,max:4,step:.01,toViewValue:e=>Math.round(e*100)+"%"}}},Le=Object.freeze(Object.defineProperty({__proto__:null,fn:Te,uiDefinition:qe},Symbol.toStringTag,{value:"Module"}));var ue=`#version 300 es
precision mediump float;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform float u_rMax;uniform float u_rMin;uniform float u_gMax;uniform float u_gMin;uniform float u_bMax;uniform float u_bMin;out vec4 out_color;void main(){vec4 in_color=texture(in_texture,in_uv);float r=min(max(in_color.r,u_rMin),u_rMax);float g=min(max(in_color.g,u_gMin),u_gMax);float b=min(max(in_color.b,u_bMin),u_bMax);out_color=vec4(r,g,b,in_color.a);}`;const Ae=h({shader:ue,main:({gl:e,u:t,params:n})=>{e.uniform1f(t.rMax,n.max),e.uniform1f(t.rMin,1+n.min),e.uniform1f(t.gMax,n.max),e.uniform1f(t.gMin,1+n.min),e.uniform1f(t.bMax,n.max),e.uniform1f(t.bMin,1+n.min)}}),He={name:"Ajuste de Tono",params:{max:{label:"Valor máximo",type:"number",default:1,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},min:{label:"Valor mínimo",type:"number",default:-1,min:-1,max:0,step:.01,toViewValue:e=>Math.round(e*100)+"%"}}},We=Object.freeze(Object.defineProperty({__proto__:null,fn:Ae,uiDefinition:He},Symbol.toStringTag,{value:"Module"})),Be=h({shader:ue,main:({gl:e,u:t,params:n})=>{e.uniform1f(t.rMax,n.rMax),e.uniform1f(t.rMin,1+n.rMin),e.uniform1f(t.gMax,n.gMax),e.uniform1f(t.gMin,1+n.gMin),e.uniform1f(t.bMax,n.bMax),e.uniform1f(t.bMin,1+n.bMin)}}),Fe={name:"Ajuste de Tono avanzado",params:{rMax:{label:`${"Valor máximo"} (${"Canal Rojo"})`,type:"number",default:1,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},rMin:{label:`${"Valor mínimo"} (${"Canal Rojo"})`,type:"number",default:-1,min:-1,max:0,step:.01,toViewValue:e=>Math.round(e*100)+"%"},gMax:{label:`${"Valor máximo"} (${"Canal Verde"})`,type:"number",default:1,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},gMin:{label:`${"Valor mínimo"} (${"Canal Verde"})`,type:"number",default:-1,min:-1,max:0,step:.01,toViewValue:e=>Math.round(e*100)+"%"},bMax:{label:`${"Valor máximo"} (${"Canal Azul"})`,type:"number",default:1,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},bMin:{label:`${"Valor mínimo"} (${"Canal Azul"})`,type:"number",default:-1,min:-1,max:0,step:.01,toViewValue:e=>Math.round(e*100)+"%"}}},Re=Object.freeze(Object.defineProperty({__proto__:null,fn:Be,uiDefinition:Fe},Symbol.toStringTag,{value:"Module"}));var Ne=`#version 300 es
precision mediump float;const float PI=3.141592653589793;const float TWO_PI=6.283185307179586;const float HALF_PI=1.5707963267948966;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform float u_phase;uniform float u_frequency;uniform float u_strength;uniform int u_direction;out vec4 out_color;void main(){float v=u_direction==0 ?sin((HALF_PI+(u_phase*PI)-(u_frequency/2.0))+in_uv.y*u_frequency)*u_strength :sin((HALF_PI+(u_phase*PI)-(u_frequency/2.0))+in_uv.x*u_frequency)*u_strength;vec4 in_color=u_direction==0 ?texture(in_texture,vec2(in_uv.x+v,in_uv.y)):texture(in_texture,vec2(in_uv.x,in_uv.y+v));out_color=in_color;}`;const Qe=h({shader:Ne,main:({gl:e,u:t,params:n})=>{e.uniform1f(t.phase,n.phase),e.uniform1f(t.frequency,n.frequency),e.uniform1f(t.strength,n.strength),e.uniform1i(t.direction,n.direction)}}),Ge={name:"Distorsión",params:{direction:{label:"Dirección",type:"number:enum",enum:[{value:0,label:"Horizontal"},{value:1,label:"Vertical"}],default:1},phase:{label:"Fase",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},frequency:{label:"Frecuencia",type:"number",default:30,min:0,max:100,step:.1},strength:{label:"Intensidad",type:"number",default:.05,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"}}},Je=Object.freeze(Object.defineProperty({__proto__:null,fn:Qe,uiDefinition:Ge},Symbol.toStringTag,{value:"Module"}));var Ke=`#version 300 es
precision mediump float;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform int u_amount;uniform float u_shiftStrengths[128];uniform float u_shiftOrigins[128];uniform float u_shiftHeights[128];uniform float u_channelShift;out vec4 out_color;void main(){float v=0.0;for(int i=0;i<u_amount;i++){if(in_uv.y>(u_shiftOrigins[i]-u_shiftHeights[i])&&in_uv.y<(u_shiftOrigins[i]+u_shiftHeights[i])){v+=u_shiftStrengths[i];}}float r=texture(in_texture,vec2(in_uv.x+(v*(1.0+u_channelShift)),in_uv.y)).r;float g=texture(in_texture,vec2(in_uv.x+v,in_uv.y)).g;float b=texture(in_texture,vec2(in_uv.x+(v*(1.0+(u_channelShift/2.0))),in_uv.y)).b;float a=texture(in_texture,vec2(in_uv.x+v,in_uv.y)).a;out_color=vec4(r,g,b,a);}`;const Ze=h({shader:Ke,main:({gl:e,program:t,u:n,params:a})=>{e.uniform1i(n.amount,a.amount),e.uniform1f(n.channelShift,a.channelShift);const c=se(a.seed.toString());for(let v=0;v<a.amount;v++){const i=e.getUniformLocation(t,`u_shiftOrigins[${v.toString()}]`);e.uniform1f(i,c());const s=e.getUniformLocation(t,`u_shiftStrengths[${v.toString()}]`);e.uniform1f(s,(1-c()*2)*a.strength);const _=e.getUniformLocation(t,`u_shiftHeights[${v.toString()}]`);e.uniform1f(_,c()*a.size)}}}),et={name:"Glitch"+": "+"Rasgado de Imagen (Tearing)",params:{amount:{label:"Cantidad",type:"number",default:3,min:1,max:100,step:1},strength:{label:"Intensidad",type:"number",default:.05,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},size:{label:"Tamaño",type:"number",default:.2,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},channelShift:{label:"Desfase",type:"number",default:.5,min:0,max:10,step:.01,toViewValue:e=>Math.round(e*100)+"%"},seed:{label:"Valor de la semilla",type:"seed",default:100}}},tt=Object.freeze(Object.defineProperty({__proto__:null,fn:Ze,uiDefinition:et},Symbol.toStringTag,{value:"Module"}));var ot=`#version 300 es
precision mediump float;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;out vec4 out_color;float getBrightness(vec4 color){return(color.r+color.g+color.b)/3.0;}void main(){vec4 in_color=texture(in_texture,in_uv);float brightness=getBrightness(in_color);out_color=vec4(brightness,brightness,brightness,in_color.a);}`;const nt=h({shader:ot,main:({gl:e,u:t,params:n})=>{}}),it={name:"Blanco y negro",params:{}},rt=Object.freeze(Object.defineProperty({__proto__:null,fn:nt,uiDefinition:it},Symbol.toStringTag,{value:"Module"}));var at=`#version 300 es
precision mediump float;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform bool u_r;uniform bool u_g;uniform bool u_b;out vec4 out_color;void main(){vec4 in_color=texture(in_texture,in_uv);out_color.r=u_r ? 1.0-in_color.r : in_color.r;out_color.g=u_g ? 1.0-in_color.g : in_color.g;out_color.b=u_b ? 1.0-in_color.b : in_color.b;out_color.a=in_color.a;}`;const lt=h({shader:at,main:({gl:e,u:t,params:n})=>{e.uniform1i(t.r,n.r?1:0),e.uniform1i(t.g,n.g?1:0),e.uniform1i(t.b,n.b?1:0)}}),st={name:"Invertir colores",params:{r:{label:"Canal Rojo",type:"boolean",default:!0},g:{label:"Canal Verde",type:"boolean",default:!0},b:{label:"Canal Azul",type:"boolean",default:!0}}},ut=Object.freeze(Object.defineProperty({__proto__:null,fn:lt,uiDefinition:st},Symbol.toStringTag,{value:"Module"}));var ft=`#version 300 es
precision mediump float;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform int u_h;uniform int u_v;out vec4 out_color;void main(){vec2 uv=in_uv;if(u_h==-1&&in_uv.x>0.5){uv.x=1.0-uv.x;}if(u_h==1&&in_uv.x<0.5){uv.x=1.0-uv.x;}if(u_v==-1&&in_uv.y>0.5){uv.y=1.0-uv.y;}if(u_v==1&&in_uv.y<0.5){uv.y=1.0-uv.y;}out_color=texture(in_texture,uv);}`;const ct=h({shader:ft,main:({gl:e,u:t,params:n})=>{e.uniform1i(t.h,n.h),e.uniform1i(t.v,n.v)}}),mt={name:"Espejo",params:{h:{label:"Horizontal",type:"number:enum",enum:[{value:-1,icon:"ti ti-arrow-bar-right"},{value:0,icon:"ti ti-minus-vertical"},{value:1,icon:"ti ti-arrow-bar-left"}],default:-1},v:{label:"Vertical",type:"number:enum",enum:[{value:-1,icon:"ti ti-arrow-bar-down"},{value:0,icon:"ti ti-minus"},{value:1,icon:"ti ti-arrow-bar-up"}],default:0}}},_t=Object.freeze(Object.defineProperty({__proto__:null,fn:ct,uiDefinition:mt},Symbol.toStringTag,{value:"Module"}));var dt=`#version 300 es
precision mediump float;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform float u_r;uniform float u_g;uniform float u_b;out vec4 out_color;void main(){vec4 in_color=texture(in_texture,in_uv);float r=in_color.r<u_r ? 0.0 : 1.0;float g=in_color.g<u_g ? 0.0 : 1.0;float b=in_color.b<u_b ? 0.0 : 1.0;out_color=vec4(r,g,b,in_color.a);}`;const pt=h({shader:dt,main:({gl:e,u:t,params:n})=>{e.uniform1f(t.r,n.r),e.uniform1f(t.g,n.g),e.uniform1f(t.b,n.b)}}),vt={name:"Binarización",params:{r:{label:"Canal Rojo",type:"number",default:.5,min:0,max:1,step:.01},g:{label:"Canal Verde",type:"number",default:.5,min:0,max:1,step:.01},b:{label:"Canal Azul",type:"number",default:.5,min:0,max:1,step:.01}}},xt=Object.freeze(Object.defineProperty({__proto__:null,fn:pt,uiDefinition:vt},Symbol.toStringTag,{value:"Module"}));var gt=`#version 300 es
precision mediump float;vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+10.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)- abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.5-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 105.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform vec2 u_pos;uniform float u_frequency;uniform bool u_thresholdEnabled;uniform float u_threshold;uniform float u_maskSize;uniform bool u_black;out vec4 out_color;void main(){vec4 in_color=texture(in_texture,in_uv);vec2 centeredUv=(in_uv-vec2(0.5,0.5));vec2 uv=centeredUv;float seed=1.0;float time=0.0;vec2 noiseUV=(uv-u_pos)/distance((uv - u_pos),vec2(0.0));float noiseX=(noiseUV.x+seed)*u_frequency;float noiseY=(noiseUV.y+seed)*u_frequency;float noise=(1.0+snoise(vec3(noiseX,noiseY,time)))/2.0;float t=noise;if(u_thresholdEnabled)t=t<u_threshold ? 1.0 : 0.0;float d=distance(uv*vec2(2.0,2.0),u_pos*vec2(2.0,2.0));float mask=d<u_maskSize ? 0.0 :((d-u_maskSize)*(1.0+(u_maskSize*2.0)));out_color=vec4(mix(in_color.r,u_black ? 0.0 : 1.0,t*mask),mix(in_color.g,u_black ? 0.0 : 1.0,t*mask),mix(in_color.b,u_black ? 0.0 : 1.0,t*mask),in_color.a);}`;const bt=h({shader:gt,main:({gl:e,u:t,params:n})=>{e.uniform2f(t.pos,n.x/2,n.y/2),e.uniform1f(t.frequency,n.frequency*n.frequency),e.uniform1i(t.thresholdEnabled,n.smoothing?0:1),e.uniform1f(t.threshold,n.threshold),e.uniform1f(t.maskSize,n.maskSize),e.uniform1i(t.black,n.black?1:0)}}),ht={name:"Líneas de Impacto",params:{x:{label:"Centrar X",type:"number",default:0,min:-1,max:1,step:.01},y:{label:"Centrar Y",type:"number",default:0,min:-1,max:1,step:.01},frequency:{label:"Frecuencia",type:"number",default:5,min:0,max:15,step:.1},smoothing:{label:"Suavizado",caption:"El suavizado y el ancho de línea de zoom no se pueden utilizar juntos.",type:"boolean",default:!1},threshold:{label:"Ancho de línea del zoom",type:"number",default:.5,min:0,max:1,step:.01},maskSize:{label:"Diámetro del centro",type:"number",default:.5,min:0,max:1,step:.01},black:{label:"Cambiar color de las líneas de impacto a negro.",type:"boolean",default:!1}}},yt=Object.freeze(Object.defineProperty({__proto__:null,fn:bt,uiDefinition:ht},Symbol.toStringTag,{value:"Module"}));var Mt=`#version 300 es
precision mediump float;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform int u_amount;uniform float u_shiftStrengths[128];uniform vec2 u_shiftOrigins[128];uniform vec2 u_shiftSizes[128];uniform float u_channelShift;out vec4 out_color;void main(){float aspect_ratio=min(in_resolution.x,in_resolution.y)/max(in_resolution.x,in_resolution.y);float aspect_ratio_x=in_resolution.x>in_resolution.y ? 1.0 : aspect_ratio;float aspect_ratio_y=in_resolution.x<in_resolution.y ? 1.0 : aspect_ratio;float v=0.0;for(int i=0;i<u_amount;i++){if(in_uv.x*aspect_ratio_x>((u_shiftOrigins[i].x*aspect_ratio_x)-u_shiftSizes[i].x)&&in_uv.x*aspect_ratio_x<((u_shiftOrigins[i].x*aspect_ratio_x)+u_shiftSizes[i].x)&&in_uv.y*aspect_ratio_y>((u_shiftOrigins[i].y*aspect_ratio_y)-u_shiftSizes[i].y)&&in_uv.y*aspect_ratio_y<((u_shiftOrigins[i].y*aspect_ratio_y)+u_shiftSizes[i].y)){v+=u_shiftStrengths[i];}}float r=texture(in_texture,vec2(in_uv.x+(v*(1.0+u_channelShift)),in_uv.y)).r;float g=texture(in_texture,vec2(in_uv.x+v,in_uv.y)).g;float b=texture(in_texture,vec2(in_uv.x+(v*(1.0+(u_channelShift/2.0))),in_uv.y)).b;float a=texture(in_texture,vec2(in_uv.x+v,in_uv.y)).a;out_color=vec4(r,g,b,a);}`;const Vt=h({shader:Mt,main:({gl:e,program:t,u:n,params:a})=>{e.uniform1i(n.amount,a.amount),e.uniform1f(n.channelShift,a.channelShift);const c=0,v=se(a.seed.toString());for(let i=0;i<a.amount;i++){const s=e.getUniformLocation(t,`u_shiftOrigins[${i.toString()}]`);e.uniform2f(s,v()*(1+c*2)-c,v()*(1+c*2)-c);const _=e.getUniformLocation(t,`u_shiftStrengths[${i.toString()}]`);e.uniform1f(_,(1-v()*2)*a.strength);const z=e.getUniformLocation(t,`u_shiftSizes[${i.toString()}]`);e.uniform2f(z,a.width,a.height)}}}),wt={name:"Glitch"+": "+"Ruido de Bloque",params:{amount:{label:"Cantidad",type:"number",default:50,min:1,max:100,step:1},strength:{label:"Intensidad",type:"number",default:.05,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},width:{label:"Ancho",type:"number",default:.05,min:.01,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},height:{label:"Altura",type:"number",default:.01,min:.01,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},channelShift:{label:"Desfase",type:"number",default:0,min:0,max:10,step:.01,toViewValue:e=>Math.round(e*100)+"%"},seed:{label:"Valor de la semilla",type:"seed",default:100}}},Et=Object.freeze(Object.defineProperty({__proto__:null,fn:Vt,uiDefinition:wt},Symbol.toStringTag,{value:"Module"}));var Pt=`#version 300 es
precision mediump float;const float PI=3.141592653589793;const float TWO_PI=6.283185307179586;const float HALF_PI=1.5707963267948966;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform vec2 u_offset;uniform vec2 u_scale;uniform bool u_ellipse;uniform float u_angle;uniform vec3 u_color;uniform float u_opacity;out vec4 out_color;void main(){vec4 in_color=texture(in_texture,in_uv);float angle=-(u_angle*PI);vec2 centeredUv=in_uv-vec2(0.5,0.5)- u_offset;vec2 rotatedUV=vec2(centeredUv.x*cos(angle)-centeredUv.y*sin(angle),centeredUv.x*sin(angle)+centeredUv.y*cos(angle))+u_offset;bool isInside=false;if(u_ellipse){vec2 norm=(rotatedUV-u_offset)/u_scale;isInside=dot(norm,norm)<=1.0;}else{isInside=rotatedUV.x>u_offset.x-u_scale.x&&rotatedUV.x<u_offset.x+u_scale.x&&rotatedUV.y>u_offset.y - u_scale.y&&rotatedUV.y<u_offset.y+u_scale.y;}out_color=isInside ? vec4(mix(in_color.r,u_color.r,u_opacity),mix(in_color.g,u_color.g,u_opacity),mix(in_color.b,u_color.b,u_opacity),in_color.a): in_color;}`;const St=h({shader:Pt,main:({gl:e,u:t,params:n})=>{e.uniform2f(t.offset,n.offsetX/2,n.offsetY/2),e.uniform2f(t.scale,n.scaleX/2,n.scaleY/2),e.uniform1i(t.ellipse,n.ellipse?1:0),e.uniform1f(t.angle,n.angle/2),e.uniform3f(t.color,n.color[0],n.color[1],n.color[2]),e.uniform1f(t.opacity,n.opacity)}}),zt={name:"Relleno de color",params:{offsetX:{label:"Posición"+" X",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},offsetY:{label:"Posición"+" Y",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},scaleX:{label:"Tamaño"+" W",type:"number",default:.5,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},scaleY:{label:"Tamaño"+" H",type:"number",default:.5,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},ellipse:{label:"Círculo",type:"boolean",default:!1},angle:{label:"Ángulo",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*90)+"°"},color:{label:"Color",type:"color",default:[1,1,1]},opacity:{label:"Opacidad",type:"number",default:1,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"}}},Ot=Object.freeze(Object.defineProperty({__proto__:null,fn:St,uiDefinition:zt},Symbol.toStringTag,{value:"Module"}));var Dt=`#version 300 es
precision mediump float;const float PI=3.141592653589793;const float TWO_PI=6.283185307179586;const float HALF_PI=1.5707963267948966;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform vec2 u_offset;uniform vec2 u_scale;uniform bool u_ellipse;uniform float u_angle;uniform float u_radius;uniform int u_samples;out vec4 out_color;void main(){float angle=-(u_angle*PI);vec2 centeredUv=in_uv-vec2(0.5,0.5)- u_offset;vec2 rotatedUV=vec2(centeredUv.x*cos(angle)-centeredUv.y*sin(angle),centeredUv.x*sin(angle)+centeredUv.y*cos(angle))+u_offset;bool isInside=false;if(u_ellipse){vec2 norm=(rotatedUV-u_offset)/u_scale;isInside=dot(norm,norm)<=1.0;}else{isInside=rotatedUV.x>u_offset.x-u_scale.x&&rotatedUV.x<u_offset.x+u_scale.x&&rotatedUV.y>u_offset.y - u_scale.y&&rotatedUV.y<u_offset.y+u_scale.y;}if(!isInside){out_color=texture(in_texture,in_uv);return;}vec4 result=vec4(0.0);float totalSamples=0.0;float referenceSize=min(in_resolution.x,in_resolution.y);float normalizedRadius=u_radius/100.0;vec2 blurOffset=vec2(normalizedRadius)/in_resolution*referenceSize;int sampleRadius=int(sqrt(float(u_samples))/2.0);for(int x=-sampleRadius;x<=sampleRadius;x++){for(int y=-sampleRadius;y<=sampleRadius;y++){float normalizedX=float(x)/float(sampleRadius);float normalizedY=float(y)/float(sampleRadius);vec2 offset=vec2(normalizedX,normalizedY)*blurOffset;vec2 sampleUV=in_uv+offset;if(sampleUV.x>=0.0&&sampleUV.x<=1.0&&sampleUV.y>=0.0&&sampleUV.y<=1.0){result+=texture(in_texture,sampleUV);totalSamples+=1.0;}}}out_color=totalSamples>0.0 ? result/totalSamples : texture(in_texture,in_uv);}`;const Ut=h({shader:Dt,main:({gl:e,u:t,params:n})=>{e.uniform2f(t.offset,n.offsetX/2,n.offsetY/2),e.uniform2f(t.scale,n.scaleX/2,n.scaleY/2),e.uniform1i(t.ellipse,n.ellipse?1:0),e.uniform1f(t.angle,n.angle/2),e.uniform1f(t.radius,n.radius),e.uniform1i(t.samples,256)}}),$t={name:"Difuminar",params:{offsetX:{label:"Posición"+" X",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},offsetY:{label:"Posición"+" Y",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},scaleX:{label:"Tamaño"+" W",type:"number",default:.5,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},scaleY:{label:"Tamaño"+" H",type:"number",default:.5,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},ellipse:{label:"Círculo",type:"boolean",default:!1},angle:{label:"Ángulo",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*90)+"°"},radius:{label:"Intensidad",type:"number",default:3,min:0,max:10,step:.5}}},It=Object.freeze(Object.defineProperty({__proto__:null,fn:Ut,uiDefinition:$t},Symbol.toStringTag,{value:"Module"}));var Ct=`#version 300 es
precision mediump float;const float PI=3.141592653589793;const float TWO_PI=6.283185307179586;const float HALF_PI=1.5707963267948966;in vec2 in_uv;uniform sampler2D in_texture;uniform vec2 in_resolution;uniform vec2 u_offset;uniform vec2 u_scale;uniform bool u_ellipse;uniform float u_angle;uniform int u_samples;uniform float u_strength;out vec4 out_color;void main(){if(u_strength<=0.0){out_color=texture(in_texture,in_uv);return;}float angle=-(u_angle*PI);vec2 centeredUv=in_uv-vec2(0.5,0.5)- u_offset;vec2 rotatedUV=vec2(centeredUv.x*cos(angle)-centeredUv.y*sin(angle),centeredUv.x*sin(angle)+centeredUv.y*cos(angle))+u_offset;bool isInside=false;if(u_ellipse){vec2 norm=(rotatedUV-u_offset)/u_scale;isInside=dot(norm,norm)<=1.0;}else{isInside=rotatedUV.x>u_offset.x-u_scale.x&&rotatedUV.x<u_offset.x+u_scale.x&&rotatedUV.y>u_offset.y - u_scale.y&&rotatedUV.y<u_offset.y+u_scale.y;}if(!isInside){out_color=texture(in_texture,in_uv);return;}float dx=u_strength/1.0;float dy=u_strength/1.0;vec2 new_uv=vec2((dx*(floor((in_uv.x-0.5 -(dx/2.0))/dx)+0.5)),(dy*(floor((in_uv.y-0.5 -(dy/2.0))/dy)+0.5)))+vec2(0.5+(dx/2.0),0.5+(dy/2.0));vec4 result=vec4(0.0);float totalSamples=0.0;result+=texture(in_texture,new_uv);totalSamples+=1.0;out_color=totalSamples>0.0 ? result/totalSamples : texture(in_texture,in_uv);}`;const kt=h({shader:Ct,main:({gl:e,u:t,params:n})=>{e.uniform2f(t.offset,n.offsetX/2,n.offsetY/2),e.uniform2f(t.scale,n.scaleX/2,n.scaleY/2),e.uniform1i(t.ellipse,n.ellipse?1:0),e.uniform1f(t.angle,n.angle/2),e.uniform1f(t.strength,n.strength*n.strength),e.uniform1i(t.samples,256)}}),jt={name:"Pixelar",params:{offsetX:{label:"Posición"+" X",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},offsetY:{label:"Posición"+" Y",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},scaleX:{label:"Tamaño"+" W",type:"number",default:.5,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},scaleY:{label:"Tamaño"+" H",type:"number",default:.5,min:0,max:1,step:.01,toViewValue:e=>Math.round(e*100)+"%"},ellipse:{label:"Círculo",type:"boolean",default:!1},angle:{label:"Ángulo",type:"number",default:0,min:-1,max:1,step:.01,toViewValue:e=>Math.round(e*90)+"°"},strength:{label:"Intensidad",type:"number",default:.2,min:0,max:.5,step:.01}}},Yt=Object.freeze(Object.defineProperty({__proto__:null,fn:kt,uiDefinition:jt},Symbol.toStringTag,{value:"Module"})),N={checker:we,chromaticAberration:Ye,colorAdjust:Le,colorClamp:We,colorClampAdvanced:Re,distort:Je,polkadot:Ve,tearing:tt,grayscale:rt,invert:ut,mirror:_t,stripe:Me,threshold:xt,zoomLines:yt,blockNoise:Et,fill:Ot,blur:It,pixelate:Yt};class Xt{canvas=null;compositor;constructor(t){this.canvas=t.canvas,this.compositor=new Ee({canvas:this.canvas,renderWidth:t.renderWidth,renderHeight:t.renderHeight,image:t.image,functions:Object.fromEntries(Object.entries(N).map(([n,a])=>[n,a.fn]))})}async render(t){const n=[];for(const a of t)n.push({id:a.id,functionId:a.fxId,params:a.params});this.compositor.render(n)}changeResolution(t,n){this.compositor.changeResolution(t,n)}destroy(t=!0){this.compositor.destroy(t)}}const Tt={class:"_gaps"},qt=["value"],Lt={key:3},At=R({__name:"MkImageEffectorFxForm",props:ae({paramDefs:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=le(e,"modelValue");function n(c){return`#${c.map(v=>(v*255).toString(16).padStart(2,"0")).join("")}`}function a(c){if(typeof c=="number"||typeof c!="string"||!/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{6})$/.test(c))return null;const v=c.slice(1).match(/[0-9a-fA-F]{2}/g);return v==null?[0,0,0]:v.map(i=>parseInt(i,16)/255)}return(c,v)=>(x(),w("div",Tt,[(x(!0),w(L,null,B(e.paramDefs,(i,s)=>(x(),w("div",{key:s},[i.type==="boolean"?(x(),S(Pe,{key:0,modelValue:t.value[s],"onUpdate:modelValue":_=>t.value[s]=_},j({label:p(()=>[y(g(i.label??s),1)]),_:2},[i.caption!=null?{name:"caption",fn:p(()=>[y(g(i.caption),1)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"])):i.type==="number"?(x(),S(re,{key:1,modelValue:t.value[s],"onUpdate:modelValue":_=>t.value[s]=_,continuousUpdate:"",min:i.min,max:i.max,step:i.step,textConverter:i.toViewValue,onThumbDoubleClicked:()=>{t.value[s]=i.default}},j({label:p(()=>[y(g(i.label??s),1)]),_:2},[i.caption!=null?{name:"caption",fn:p(()=>[y(g(i.caption),1)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue","min","max","step","textConverter","onThumbDoubleClicked"])):i.type==="number:enum"?(x(),S(Ie,{key:2,modelValue:t.value[s],"onUpdate:modelValue":_=>t.value[s]=_},j({label:p(()=>[y(g(i.label??s),1)]),default:p(()=>[(x(!0),w(L,null,B(i.enum,_=>(x(),w("option",{value:_.value},[_.icon?(x(),w("i",{key:0,class:Y(_.icon)},null,2)):(x(),w(L,{key:1},[y(g(_.label),1)],64))],8,qt))),256))]),_:2},[i.caption!=null?{name:"caption",fn:p(()=>[y(g(i.caption),1)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"])):i.type==="seed"?(x(),w("div",Lt,[k(re,{modelValue:t.value[s],"onUpdate:modelValue":_=>t.value[s]=_,continuousUpdate:"",type:"number",min:0,max:1e4,step:1},j({label:p(()=>[y(g(i.label??s),1)]),_:2},[i.caption!=null?{name:"caption",fn:p(()=>[y(g(i.caption),1)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"])])):i.type==="color"?(x(),S(Se,{key:4,modelValue:n(t.value[s]),type:"color","onUpdate:modelValue":_=>{const z=a(_);z!=null&&(t.value[s]=z)}},j({label:p(()=>[y(g(i.label??s),1)]),_:2},[i.caption!=null?{name:"caption",fn:p(()=>[y(g(i.caption),1)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"])):J("",!0)]))),128)),Object.keys(e.paramDefs).length===0?(x(),w("div",{key:0,class:"xlmYQ"},g("No hay opciones configurables disponibles."),3)):J("",!0)]))}});const Ht={class:"_buttons"},Wt=R({__name:"MkImageEffectorDialog.Layer",props:{layer:{required:!0},layerModifiers:{}},emits:ae(["del","swapUp","swapDown"],["update:layer"]),setup(e,{emit:t}){const n=le(e,"layer"),a=N[n.value.fxId];if(a==null)throw new Error(`Unrecognized effect: ${n.value.fxId}`);const c=t;return(v,i)=>(x(),S($e,{defaultOpen:!0,canPage:!1},{label:p(()=>[y(g(F(a).uiDefinition.name),1)]),footer:p(()=>[d("div",Ht,[k(A,{iconOnly:"",onClick:i[0]||(i[0]=s=>c("del"))},{default:p(()=>[...i[4]||(i[4]=[d("i",{class:"ti ti-trash"},null,-1)])]),_:1}),k(A,{iconOnly:"",onClick:i[1]||(i[1]=s=>c("swapUp"))},{default:p(()=>[...i[5]||(i[5]=[d("i",{class:"ti ti-arrow-up"},null,-1)])]),_:1}),k(A,{iconOnly:"",onClick:i[2]||(i[2]=s=>c("swapDown"))},{default:p(()=>[...i[6]||(i[6]=[d("i",{class:"ti ti-arrow-down"},null,-1)])]),_:1})])]),default:p(()=>[k(At,{modelValue:n.value.params,"onUpdate:modelValue":i[3]||(i[3]=s=>n.value.params=s),paramDefs:F(a).uiDefinition.params},null,8,["modelValue","paramDefs"])]),_:1}))}}),Bt={class:"_spacer _gaps"},lo=R({__name:"MkImageEffectorDialog",props:{image:{}},emits:["ok","cancel","closed"],setup(e,{emit:t}){const n=e,a=t,c=K("dialog");async function v(){if(i.length>0){const{canceled:u}=await Ue({type:"warning",text:"¿Ignorar cambios y salir?"});if(u)return}a("cancel"),c.value?.close()}const i=ge([]);Z(i,async()=>{M?.render(i)},{deep:!0});function s(u){ne(Object.entries(N).map(([r,l])=>({text:l.uiDefinition.name,action:()=>{i.push({id:ie(),fxId:r,params:Object.fromEntries(Object.entries(l.uiDefinition.params).map(([m,f])=>[m,f.default]))})}})),u.currentTarget??u.target)}function _(u){const r=i.indexOf(u);r>0&&(i.splice(r,1),i.splice(r-1,0,u))}function z(u){const r=i.indexOf(u);r<i.length-1&&(i.splice(r,1),i.splice(r+1,0,u))}function fe(u){const r=i.indexOf(u);r!==-1&&i.splice(r,1)}const b=K("canvasEl");let M=null,V=null;be(async()=>{if(b.value==null)return;const u=oe();await ee();try{V=await window.createImageBitmap(n.image);const r=1e3,l=1e3;let m=V.width,f=V.height;if(m>r||f>l){const P=Math.min(r/m,l/f);m=Math.floor(m*P),f=Math.floor(f*P)}M=new Xt({canvas:b.value,renderWidth:m,renderHeight:f,image:V}),await M.render(i)}catch(r){console.error(r),ze({type:"error",text:"Error al cargar la imagen"})}u()}),he(()=>{M!=null&&(M.destroy(),M=null),V!=null&&(V.close(),V=null)});async function ce(){if(i.length===0||M==null||V==null||b.value==null){v();return}const u=oe();await ee(),M.changeResolution(V.width,V.height),await M.render(i),b.value.toBlob(r=>{a("ok",new File([r],`image-${Date.now()}.png`,{type:"image/png"})),c.value?.close(),u()},"image/png")}const O=te(!0);Z(O,()=>{M!=null&&(O.value?M.render(i):M.render([]))});const E=te(null);function me(u){ne([{text:"Relleno de color",action:()=>{E.value="fill"}},{text:"Difuminar",action:()=>{E.value="blur"}},{text:"Pixelar",action:()=>{E.value="pixelate"}}],u.currentTarget??u.target)}function _e(u){if(b.value==null||V==null||E.value==null)return;const r=b.value.clientWidth,l=b.value.clientHeight,m=V.width,f=V.height;let P=0,X=0;r/l<m/f?X=l-f*(r/m):P=r-m*(l/f),P/=2,X/=2;let D=u.offsetX-P,U=u.offsetY-X;r/l<m/f?(D=D/(Math.max(r,l)/Math.max(f/m,1)),U=U/(Math.max(r,l)/Math.max(m/f,1))):(D=D/(Math.min(r,l)/Math.max(f/m,1)),U=U/(Math.min(r,l)/Math.max(m/f,1)));const T=ie();E.value==="fill"?i.push({id:T,fxId:"fill",params:{offsetX:0,offsetY:0,scaleX:.1,scaleY:.1,angle:0,opacity:1,color:[1,1,1],ellipse:!1}}):E.value==="blur"?i.push({id:T,fxId:"blur",params:{offsetX:0,offsetY:0,scaleX:.1,scaleY:.1,angle:0,radius:3,ellipse:!1}}):E.value==="pixelate"&&i.push({id:T,fxId:"pixelate",params:{offsetX:0,offsetY:0,scaleX:.1,scaleY:.1,angle:0,strength:.2,ellipse:!1}}),Q(u.offsetX,u.offsetY);function Q(q,de){let $=q-P,I=de-X;r/l<m/f?($=$/(Math.max(r,l)/Math.max(f/m,1)),I=I/(Math.max(r,l)/Math.max(m/f,1))):($=$/(Math.min(r,l)/Math.max(f/m,1)),I=I/(Math.min(r,l)/Math.max(m/f,1)));const pe=Math.abs($-D),ve=Math.abs(I-U),W=i.findIndex(xe=>xe.id===T),C=W!==-1?i[W]:null;C!=null&&(C.params.offsetX=$+D-1,C.params.offsetY=I+U-1,C.params.scaleX=pe,C.params.scaleY=ve,i[W]=C)}function G(q){Q(q.offsetX,q.offsetY)}function H(){b.value?.removeEventListener("pointermove",G),b.value?.removeEventListener("pointerup",H),b.value?.removeEventListener("pointercancel",H),b.value?.releasePointerCapture(u.pointerId),E.value=null}b.value.addEventListener("pointermove",G),b.value.addEventListener("pointerup",H),b.value.setPointerCapture(u.pointerId)}return(u,r)=>(x(),S(De,{ref_key:"dialog",ref:c,width:1e3,height:600,scroll:!1,withOkButton:!0,onClose:r[2]||(r[2]=l=>v()),onOk:r[3]||(r[3]=l=>ce()),onClosed:r[4]||(r[4]=l=>a("closed"))},{header:p(()=>[r[5]||(r[5]=d("i",{class:"ti ti-sparkles"},null,-1)),y(" "+g("Efecto"),1)]),default:p(()=>[d("div",{class:"x1u04"},[d("div",{class:"x4rcj"},[d("div",{class:Y(["xyOJ1",F(Oe).s.animation?"xklR5":null])},[d("canvas",{ref_key:"canvasEl",ref:b,class:"x9YfI",onPointerdown:ye(_e,["prevent","stop"])},null,34),d("div",{class:"x3DpS"},[d("div",{class:"_acrylic x5GIj"},g("Vista previa"),3),d("div",{class:"_acrylic xecoT"},[d("button",{class:Y(["_button",["xscWl",E.value!=null?"xl60Y":null]]),onClick:me},[...r[6]||(r[6]=[d("i",{class:"ti ti-pencil"},null,-1)])],2)],2),d("div",{class:"_acrylic xrO97"},[d("button",{class:Y(["_button",["xscWl",O.value?null:"xl60Y"]]),onClick:r[0]||(r[0]=l=>O.value=!1)},"Before",2),d("button",{class:Y(["_button",["xscWl",O.value?"xl60Y":null]]),onClick:r[1]||(r[1]=l=>O.value=!0)},"After",2)],2)],2)],2),d("div",{class:"xlfUu"},[d("div",Bt,[(x(!0),w(L,null,B(i,(l,m)=>(x(),S(Wt,{key:l.id,layer:i[m],"onUpdate:layer":f=>i[m]=f,onDel:f=>fe(l),onSwapUp:f=>_(l),onSwapDown:f=>z(l)},null,8,["layer","onUpdate:layer","onDel","onSwapUp","onSwapDown"]))),128)),k(A,{rounded:"",primary:"",style:{margin:"0 auto"},onClick:s},{default:p(()=>[r[7]||(r[7]=d("i",{class:"ti ti-plus"},null,-1)),y(" "+g("Añadir Efecto"),1)]),_:1})])],2)],2)],2)]),_:1},512))}});export{lo as default};
