import{b as F,c as l,e as D,w as L,z as f,k as V,f as n,i as a,U as E,t as r,q as I,h as s,p as $,C as g,B as y,l as c,x as w,j as u,v as x,D as M,E as B,T as j}from"./3iSoGi4ic-D0mTJ0Mu.js";import{b as i,aI as J,M as _,w as Q,r as z}from"./3iSoGi4ic-DV-GuiCp.js";import{M as Y}from"./3iSoGi4ic-Dv7rS4og.js";const q={key:"_empty_"},U={key:"_root_",class:"_gaps"},G={key:0},H={key:1},oe=F({__name:"MkPagination",props:{autoLoad:{type:Boolean,default:!0},direction:{default:"down"},pullToRefresh:{type:Boolean,default:!0},withControl:{type:Boolean,default:!1},forceDisableInfiniteScroll:{type:Boolean,default:!1},paginator:{}},setup(t){const e=t,p=l(()=>i.r.enableInfiniteScroll.value&&!e.forceDisableInfiniteScroll);function N(o){o.target&&Q(o.target)||window.getSelection()?.toString()===""&&z([{icon:"ti ti-refresh",text:"Recargar",action:()=>{e.paginator.reload()}}],o)}function b(o){return r(o)}e.autoLoad&&D(()=>{e.paginator.init()}),e.paginator.computedParams&&L(e.paginator.computedParams,()=>{e.paginator.reload()},{immediate:!1,deep:!0});const T=l(()=>e.paginator.order.value==="oldest"?e.paginator.canFetchOlder.value:e.paginator.canFetchNewer.value),O=l(()=>e.paginator.order.value==="oldest"?e.paginator.fetchingOlder.value:e.paginator.fetchingNewer.value);function m(){e.paginator.order.value==="oldest"?e.paginator.fetchOlder():e.paginator.fetchNewer()}const P=l(()=>e.paginator.order.value==="oldest"?e.paginator.canFetchNewer.value:e.paginator.canFetchOlder.value),R=l(()=>e.paginator.order.value==="oldest"?e.paginator.fetchingNewer.value:e.paginator.fetchingOlder.value);function h(){e.paginator.order.value==="oldest"?e.paginator.fetchNewer():e.paginator.fetchOlder()}return(o,k)=>{const d=f("MkLoading"),S=f("MkError"),A=f("MkResult"),C=V("appear");return a(),n(E(r(i).s.enablePullToRefresh&&t.pullToRefresh?J:"div"),{refresher:()=>t.paginator.reload(),onContextmenu:I(N,["prevent","stop"])},{default:s(()=>[$("div",null,[e.withControl?(a(),n(Y,{key:0,paginator:t.paginator,style:{"margin-bottom":"10px"}},null,8,["paginator"])):g("",!0),y(j,{enterActiveClass:r(i).s.animation?"xCNNu":"",leaveActiveClass:r(i).s.animation?"xBRPm":"",enterFromClass:r(i).s.animation?"xn9Co":"",leaveToClass:r(i).s.animation?"xnOjY":"",mode:r(i).s.animation?"out-in":void 0},{default:s(()=>[t.paginator.fetching.value?(a(),n(d,{key:0})):t.paginator.error.value?(a(),n(S,{key:1,onRetry:k[0]||(k[0]=K=>t.paginator.init())})):t.paginator.items.value.length===0?(a(),c("div",q,[w(o.$slots,"empty",{},()=>[y(A,{type:"empty"})])])):(a(),c("div",U,[t.direction==="up"||t.direction==="both"?u((a(),c("div",G,[O.value?(a(),n(d,{key:1})):u((a(),n(_,{key:0,class:"xc3QJ",primary:"",rounded:"",onClick:m},{default:s(()=>[M(B("Ver más"),1)]),_:1},8,["class"])),[[C,p.value?m:null]])],512)),[[x,T.value]]):g("",!0),w(o.$slots,"default",{items:b(t.paginator.items),fetching:t.paginator.fetching.value||t.paginator.fetchingOlder.value}),t.direction==="down"||t.direction==="both"?u((a(),c("div",H,[R.value?(a(),n(d,{key:1})):u((a(),n(_,{key:0,class:"xc3QJ",primary:"",rounded:"",onClick:h},{default:s(()=>[M(B("Ver más"),1)]),_:1},8,["class"])),[[C,p.value?h:null]])],512)),[[x,P.value]]):g("",!0)]))]),_:3},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass","mode"])])]),_:3},40,["refresher"])}}});export{oe as M};
