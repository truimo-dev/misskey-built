const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D6lvPj3q.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DV-GuiCp.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D0mTJ0Mu.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B1GPmOGN.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dty8GuTz.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D98_HDRS.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DZU1WGtr.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-9GwroBN9.css"])))=>i.map(i=>d[i]);
import{i as ee,a7 as te,M as V,e as se,L as p,br as c,aS as le,az as ae,ab as P,ag as ie,C as ne,J as oe}from"./3iSoGi4ic-DV-GuiCp.js";import{M as g}from"./3iSoGi4ic-Fx-BY70c.js";import{b as E,a as _,z as y,f as N,i as O,h as e,B as t,p as n,D as a,E as i,t as D,d as re,ab as de,c as ue,R as me}from"./3iSoGi4ic-D0mTJ0Mu.js";import{M as x}from"./3iSoGi4ic-BDF7xMl0.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const pe={class:"_gaps_m"},ce=["textContent"],ve=["onClick"],_e=E({__name:"server-rules",setup(z){const C=re(()=>se(()=>import("./3iSoGi4ic-D6lvPj3q.js").then(k=>k.v),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url).then(k=>k.default)),f=_(ee.serverRules),d=async()=>{await p("admin/update-meta",{serverRules:f.value}),c(!0)},H=k=>{f.value.splice(k,1)};return(k,o)=>{const U=y("SearchIcon"),I=y("SearchLabel"),w=y("SearchText"),W=y("SearchMarker");return O(),N(W,{markerId:"serverRules",keywords:["rules"]},{default:e(()=>[t(g,null,{icon:e(()=>[t(U,null,{default:e(()=>[...o[4]||(o[4]=[n("i",{class:"ti ti-checkbox"},null,-1)])]),_:1})]),label:e(()=>[t(I,null,{default:e(()=>[a(i("서버 규칙"),1)]),_:1})]),default:e(()=>[n("div",pe,[n("div",null,[t(w,null,{default:e(()=>[a(i("회원 가입 이전에 간단하게 표시할 서버 규칙입니다. 이용 약관의 요약으로 구성하는 것을 추천합니다."),1)]),_:1})]),t(D(C),{modelValue:f.value,"onUpdate:modelValue":o[0]||(o[0]=u=>f.value=u),class:"_gaps_m",itemKey:(u,b)=>b,animation:150,handle:".x1QGu",onStart:o[1]||(o[1]=u=>u.item.classList.add("active")),onEnd:o[2]||(o[2]=u=>u.item.classList.remove("active"))},{item:e(({element:u,index:b})=>[n("div",{class:"x33gF"},[n("div",{class:"xfnVt"},[n("div",{class:"xF3wW",textContent:i(String(b+1))},null,10,ce),n("span",{class:"x1QGu"},[...o[5]||(o[5]=[n("i",{class:"ti ti-menu"},null,-1)])],2),n("button",{class:"_button x9Bp2",onClick:F=>H(b)},[...o[6]||(o[6]=[n("i",{class:"ti ti-x"},null,-1)])],10,ve)],2),t(te,{modelValue:f.value[b],"onUpdate:modelValue":F=>f.value[b]=F},null,8,["modelValue","onUpdate:modelValue"])],2)]),_:1},8,["modelValue","itemKey","handle"]),n("div",{class:"xk5SH"},[t(V,{rounded:"",onClick:o[3]||(o[3]=u=>f.value.push(""))},{default:e(()=>[o[7]||(o[7]=n("i",{class:"ti ti-plus"},null,-1)),a(" "+i("추가"),1)]),_:1}),t(V,{primary:"",rounded:"",onClick:d},{default:e(()=>[o[8]||(o[8]=n("i",{class:"ti ti-check"},null,-1)),a(" "+i("저장"),1)]),_:1})],2)])]),_:1})]),_:1})}}});const fe={class:"_spacer",style:{"--MI_SPACER-w":"700px","--MI_SPACER-min":"16px","--MI_SPACER-max":"32px"}},be={class:"_gaps_m"},Ve={class:"_gaps"},ke={class:"_gaps"},ge={class:"_gaps"},ye={class:"_gaps"},Se={class:"_gaps"},he={class:"_gaps"},xe={class:"_gaps"},Ce={class:"_gaps"},De=E({__name:"moderation",async setup(z){let C,f;const d=([C,f]=de(()=>oe("admin/meta")),C=await C,f(),C),H=_(!d.disableRegistration),k=_(d.emailRequiredForSignup),{model:o,def:U}=le({items:[{label:"모두 공개",value:"all"},{label:"로컬 콘텐츠만 공개하고 리모트 콘텐츠는 비공개",value:"local"},{label:"모두 비공개",value:"none"}],initialValue:d.ugcVisibilityForVisitor}),I=_(d.sensitiveWords.join(`
`)),w=_(d.prohibitedWords.join(`
`)),W=_(d.prohibitedWordsForNameOfUser.join(`
`)),u=_(d.hiddenTags.join(`
`)),b=_(d.preservedUsernames.join(`
`)),F=_(d.blockedHosts.join(`
`)),T=_(d.silencedHosts?.join(`
`)??""),M=_(d.mediaSilencedHosts.join(`
`));async function j(S){if(S){const{canceled:s}=await ne({type:"warning",text:"활성화 하기 전에 주의 사항을 확인했습니다."});if(s)return}H.value=S,p("admin/update-meta",{disableRegistration:!S}).then(()=>{c(!0)})}function B(S){p("admin/update-meta",{emailRequiredForSignup:S}).then(()=>{c(!0)})}function q(S){p("admin/update-meta",{ugcVisibilityForVisitor:S}).then(()=>{c(!0)})}function A(){p("admin/update-meta",{preservedUsernames:b.value.split(`
`)}).then(()=>{c(!0)})}function G(){p("admin/update-meta",{sensitiveWords:I.value.split(`
`)}).then(()=>{c(!0)})}function Y(){p("admin/update-meta",{prohibitedWords:w.value.split(`
`)}).then(()=>{c(!0)})}function L(){p("admin/update-meta",{prohibitedWordsForNameOfUser:W.value.split(`
`)}).then(()=>{c(!0)})}function Q(){p("admin/update-meta",{hiddenTags:u.value.split(`
`)}).then(()=>{c(!0)})}function $(){p("admin/update-meta",{blockedHosts:F.value.split(`
`)||[]}).then(()=>{c(!0)})}function J(){p("admin/update-meta",{silencedHosts:T.value.split(`
`)||[]}).then(()=>{c(!0)})}function X(){p("admin/update-meta",{mediaSilencedHosts:M.value.split(`
`)||[]}).then(()=>{c(!0)})}const K=ue(()=>[]);return ae(()=>({title:"조정",icon:"ti ti-shield"})),(S,s)=>{const v=y("SearchLabel"),R=y("SearchText"),m=y("SearchMarker"),h=y("SearchIcon"),Z=y("PageWithHeader");return O(),N(Z,{tabs:K.value},{default:e(()=>[n("div",fe,[t(m,{path:"/admin/moderation",label:"조정",keywords:["moderation"],icon:"ti ti-shield",inlining:["serverRules"],markerId:"52l4V9NHP","data-in-app-search-marker-id":"52l4V9NHP",children:["8FF1JDiar","4TvP9phlp","cjzWXco6u","7xyFHwqDg","6P1TzwEh1","CYVpdPbBH","nPOrTVt5r","z3d6UTP68","8QvMlybVI","80Dxrtnl4","sYORVrYSk"]},{default:e(()=>[n("div",be,[t(m,{keywords:["open","registration"],markerId:"8FF1JDiar","data-in-app-search-marker-id":"8FF1JDiar"},{default:e(()=>[t(P,{modelValue:H.value,"onUpdate:modelValue":j},{label:e(()=>[t(v,null,{default:e(()=>[a(i("회원 가입을 활성화 하기"),1)]),_:1})]),caption:e(()=>[n("div",null,[t(R,null,{default:e(()=>[a(i("일정 기간동안 모더레이터의 활동이 감지되지 않는 경우, 스팸 방지를 위해 이 설정은 자동으로 꺼집니다."),1)]),_:1})]),n("div",null,[s[10]||(s[10]=n("i",{class:"ti ti-alert-triangle",style:{color:"var(--MI_THEME-warn)"}},null,-1)),s[11]||(s[11]=a()),t(R,null,{default:e(()=>[a(i("회원 가입을 개방하는 것은 리스크가 따릅니다. 서버를 항상 감시할 수 있고, 문제가 발생했을 때 바로 대응할 수 있는 상태에서만 활성화 하는 것을 권장합니다."),1)]),_:1})])]),_:1},8,["modelValue"])]),_:1}),t(m,{keywords:["email","required","signup"],markerId:"4TvP9phlp","data-in-app-search-marker-id":"4TvP9phlp"},{default:e(()=>[t(P,{modelValue:k.value,"onUpdate:modelValue":s[0]||(s[0]=r=>k.value=r),onChange:B},{label:e(()=>[t(v,null,{default:e(()=>[a(i("가입할 때 이메일 주소 입력을 필수로 하기"),1)]),_:1}),a(" ("+i("추천")+")",1)]),_:1},8,["modelValue"])]),_:1}),t(m,{keywords:["ugc","content","visibility","visitor","guest"],markerId:"cjzWXco6u","data-in-app-search-marker-id":"cjzWXco6u"},{default:e(()=>[t(ie,{modelValue:D(o),"onUpdate:modelValue":[s[1]||(s[1]=r=>me(o)?o.value=r:null),q],items:D(U)},{label:e(()=>[t(v,null,{default:e(()=>[a(i("비이용자에 대한 유저 작성 콘텐츠의 공개 범위"),1)]),_:1})]),caption:e(()=>[n("div",null,[t(R,null,{default:e(()=>[a(i("조정을 하기 힘든 부적절한 리모트 콘텐츠 등이 자신의 서버 경유로 의도치 않게 인터넷에 공개되는 문제의 방지 등에 도움을 줍니다."),1)]),_:1})]),n("div",null,[s[12]||(s[12]=n("i",{class:"ti ti-alert-triangle",style:{color:"var(--MI_THEME-warn)"}},null,-1)),s[13]||(s[13]=a()),t(R,null,{default:e(()=>[a(i("서버에서 받은 리모트 콘텐츠를 포함해 서버 내의 모든 콘텐츠를 무조건 인터넷에 공개하는 것에는 위험이 따릅니다. 특히, 분산형 특성에 대해 모르는 열람자에게는 리모트 콘텐츠여도 서버 내에서 작성된 콘텐츠라고 잘못 인식할 수 있기에 주의가 필요합니다."),1)]),_:1})])]),_:1},8,["modelValue","items"])]),_:1}),t(_e),t(m,{keywords:["preserved","usernames"],markerId:"7xyFHwqDg","data-in-app-search-marker-id":"7xyFHwqDg"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[14]||(s[14]=[n("i",{class:"ti ti-lock-star"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("예약한 유저명"),1)]),_:1})]),default:e(()=>[n("div",Ve,[t(x,{modelValue:b.value,"onUpdate:modelValue":s[2]||(s[2]=r=>b.value=r)},{caption:e(()=>[a(i("예약할 유저명을 한 줄에 하나씩 입력합니다. 여기에서 지정한 유저명으로는 계정을 생성할 수 없게 됩니다. 단, 관리자 권한으로 계정을 생성할 때에는 해당되지 않으며, 이미 존재하는 계정도 영향을 받지 않습니다."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:A},{default:e(()=>[a(i("저장"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["sensitive","words"],markerId:"6P1TzwEh1","data-in-app-search-marker-id":"6P1TzwEh1"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[15]||(s[15]=[n("i",{class:"ti ti-message-exclamation"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("민감한 단어"),1)]),_:1})]),default:e(()=>[n("div",ke,[t(x,{modelValue:I.value,"onUpdate:modelValue":s[3]||(s[3]=r=>I.value=r)},{caption:e(()=>[a(i("설정한 단어가 포함된 노트의 공개 범위를 '홈'으로 강제합니다. 개행으로 구분하여 여러 개를 지정할 수 있습니다."),1),s[16]||(s[16]=n("br",null,null,-1)),a(i("공백으로 구분하면 AND 지정이 되며, 키워드를 슬래시로 둘러싸면 정규 표현식이 됩니다."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:G},{default:e(()=>[a(i("저장"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["prohibited","words"],markerId:"CYVpdPbBH","data-in-app-search-marker-id":"CYVpdPbBH"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[17]||(s[17]=[n("i",{class:"ti ti-message-x"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("금지 단어"),1)]),_:1})]),default:e(()=>[n("div",ge,[t(x,{modelValue:w.value,"onUpdate:modelValue":s[4]||(s[4]=r=>w.value=r)},{caption:e(()=>[a(i("설정된 단어가 포함되는 노트를 게시하려고 하면, 오류가 발생하도록 합니다. 줄바꿈으로 구분지어 복수 설정할 수 있습니다."),1),s[18]||(s[18]=n("br",null,null,-1)),a(i("공백으로 구분하면 AND 지정이 되며, 키워드를 슬래시로 둘러싸면 정규 표현식이 됩니다."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:Y},{default:e(()=>[a(i("저장"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["prohibited","name","user"],markerId:"nPOrTVt5r","data-in-app-search-marker-id":"nPOrTVt5r"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[19]||(s[19]=[n("i",{class:"ti ti-user-x"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("금지 단어 (유저명)"),1)]),_:1})]),default:e(()=>[n("div",ye,[t(x,{modelValue:W.value,"onUpdate:modelValue":s[5]||(s[5]=r=>W.value=r)},{caption:e(()=>[a(i("이 목록에 포함되는 키워드가 유저명에 있는 경우, 일반 유저는 이름을 바꿀 수 없습니다. 모더레이터 권한을 가진 유저는 제한 대상에서 제외됩니다."),1),s[20]||(s[20]=n("br",null,null,-1)),a(i("공백으로 구분하면 AND 지정이 되며, 키워드를 슬래시로 둘러싸면 정규 표현식이 됩니다."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:L},{default:e(()=>[a(i("저장"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["hidden","tags","hashtags"],markerId:"z3d6UTP68","data-in-app-search-marker-id":"z3d6UTP68"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[21]||(s[21]=[n("i",{class:"ti ti-eye-off"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("숨긴 해시태그"),1)]),_:1})]),default:e(()=>[n("div",Se,[t(x,{modelValue:u.value,"onUpdate:modelValue":s[6]||(s[6]=r=>u.value=r)},{caption:e(()=>[a(i("설정한 태그를 트렌드에 표시하지 않도록 합니다. 줄 바꿈으로 하나씩 나눠서 설정할 수 있습니다."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:Q},{default:e(()=>[a(i("저장"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["silenced","servers","hosts"],markerId:"8QvMlybVI","data-in-app-search-marker-id":"8QvMlybVI"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[22]||(s[22]=[n("i",{class:"ti ti-eye-off"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("사일런스한 서버"),1)]),_:1})]),default:e(()=>[n("div",he,[t(x,{modelValue:T.value,"onUpdate:modelValue":s[7]||(s[7]=r=>T.value=r)},{caption:e(()=>[a(i("사일런스하려는 서버의 호스트명을 한 줄에 하나씩 입력합니다. 사일런스된 서버에 소속된 유저는 모두 '사일런스'된 상태로 취급되며, 이 서버로부터의 팔로우가 프로필 설정과 무관하게 승인제로 변경되고, 팔로워가 아닌 로컬 유저에게는 멘션할 수 없게 됩니다. 정지된 서버에는 적용되지 않습니다."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:J},{default:e(()=>[a(i("저장"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["media","silenced","servers","hosts"],markerId:"80Dxrtnl4","data-in-app-search-marker-id":"80Dxrtnl4"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[23]||(s[23]=[n("i",{class:"ti ti-eye-off"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("미디어를 사일런스한 서버"),1)]),_:1})]),default:e(()=>[n("div",xe,[t(x,{modelValue:M.value,"onUpdate:modelValue":s[8]||(s[8]=r=>M.value=r)},{caption:e(()=>[a(i("미디어를 사일런스 하려는 서버의 호스트를 한 줄에 하나씩 입력합니다. 미디어가 사일런스된 서버의 유저가 업로드한 파일은 모두 민감한 미디어로 처리되며, 커스텀 이모지를 사용할 수 없게 됩니다. 또한, 차단한 인스턴스에는 적용되지 않습니다."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:X},{default:e(()=>[a(i("저장"),1)]),_:1})])]),_:1})]),_:1}),t(m,{keywords:["blocked","servers","hosts"],markerId:"sYORVrYSk","data-in-app-search-marker-id":"sYORVrYSk"},{default:e(()=>[t(g,null,{icon:e(()=>[t(h,null,{default:e(()=>[...s[24]||(s[24]=[n("i",{class:"ti ti-ban"},null,-1)])]),_:1})]),label:e(()=>[t(v,null,{default:e(()=>[a(i("차단된 서버"),1)]),_:1})]),default:e(()=>[n("div",Ce,[t(x,{modelValue:F.value,"onUpdate:modelValue":s[9]||(s[9]=r=>F.value=r)},{caption:e(()=>[a(i("차단하려는 서버의 호스트 이름을 줄바꿈으로 구분하여 설정합니다. 차단된 인스턴스는 이 인스턴스와 통신할 수 없게 됩니다."),1)]),_:1},8,["modelValue"]),t(V,{primary:"",onClick:$},{default:e(()=>[a(i("저장"),1)]),_:1})])]),_:1})]),_:1})])]),_:1},8,["label"])])]),_:1},8,["tabs"])}}});export{De as default};
