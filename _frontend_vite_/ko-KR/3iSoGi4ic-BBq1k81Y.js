import{az as F,R as N,c4 as d,M as f,ct as y,A as P,C as _,L as k,J as T}from"./3iSoGi4ic-DV-GuiCp.js";import{M as j}from"./3iSoGi4ic--zoJC9Uy.js";import{F as D}from"./3iSoGi4ic-D8X1N6Gw.js";import{b as I,c as p,a as g,w as R,z as h,f as W,i as C,h as e,p as c,B as o,l as z,C as H,D as s,E as i,F as J}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";import"./3iSoGi4ic-DAn693fE.js";import"https://esm.sh/shiki@3.19.0/langs";import"https://esm.sh/shiki@3.19.0/themes";const U={class:"_spacer",style:{"--MI_SPACER-w":"600px","--MI_SPACER-min":"16px"}},K={class:"_gaps_m"},ae=I({__name:"registry.value",props:{path:{},domain:{}},setup(M){const a=M,u=p(()=>a.path.split("/").slice(0,-1)),m=p(()=>a.path.split("/").at(-1)),v=g(null),r=g("");function V(){T("i/registry/get-detail",{scope:u.value,key:m.value,domain:a.domain==="@"?null:a.domain}).then(l=>{v.value=l,r.value=y.stringify(l.value,null,"	")})}async function x(){try{y.parse(r.value)}catch{P({type:"error",text:"올바른 값이 아닙니다."});return}_({type:"warning",text:"저장하시겠습니까?"}).then(({canceled:l})=>{l||k("i/registry/set",{scope:u.value,key:m.value,value:y.parse(r.value),domain:a.domain==="@"?null:a.domain})})}function A(){_({type:"warning",text:"삭제하시겠습니까?"}).then(({canceled:l})=>{l||k("i/registry/remove",{scope:u.value,key:m.value,domain:a.domain==="@"?null:a.domain})})}R(()=>a.path,V,{immediate:!0});const w=p(()=>[]),B=p(()=>[]);return F(()=>({title:"레지스트리",icon:"ti ti-adjustments"})),(l,n)=>{const b=h("MkTime"),E=h("PageWithHeader");return C(),W(E,{actions:w.value,tabs:B.value},{default:e(()=>[c("div",U,[c("div",K,[o(N,{warn:""},{default:e(()=>[s(i("이 설정을 변경하면 계정이 손상될 수 있습니다."),1)]),_:1}),v.value?(C(),z(J,{key:0},[o(D,null,{default:e(()=>[o(d,null,{key:e(()=>[s(i("도메인"),1)]),value:e(()=>[s(i(a.domain==="@"?"시스템":a.domain.toUpperCase()),1)]),_:1}),o(d,null,{key:e(()=>[s(i("범위"),1)]),value:e(()=>[s(i(u.value.join("/")),1)]),_:1}),o(d,null,{key:e(()=>[s(i("키"),1)]),value:e(()=>[s(i(m.value),1)]),_:1})]),_:1}),o(j,{modelValue:r.value,"onUpdate:modelValue":n[0]||(n[0]=S=>r.value=S),lang:"json5"},{label:e(()=>[s(i("값")+" (JSON)",1)]),_:1},8,["modelValue"]),o(f,{primary:"",onClick:x},{default:e(()=>[n[1]||(n[1]=c("i",{class:"ti ti-device-floppy"},null,-1)),s(" "+i("저장"),1)]),_:1}),o(d,null,{key:e(()=>[s(i("수정한 날짜"),1)]),value:e(()=>[o(b,{time:v.value.updatedAt,mode:"detail"},null,8,["time"])]),_:1}),o(f,{danger:"",onClick:A},{default:e(()=>[n[2]||(n[2]=c("i",{class:"ti ti-trash"},null,-1)),s(" "+i("삭제"),1)]),_:1})],64)):H("",!0)])])]),_:1},8,["actions","tabs"])}}});export{ae as default};
