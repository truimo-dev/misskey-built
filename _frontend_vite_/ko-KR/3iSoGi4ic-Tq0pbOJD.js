import{c as m}from"./3iSoGi4ic-DUrJvqB4.js";import{M as N}from"./3iSoGi4ic-BDwuR9EO.js";import{M as p}from"./3iSoGi4ic-mUIS9yQt.js";import{P as d,L as P,az as T,h as C}from"./3iSoGi4ic-DV-GuiCp.js";import{b as M,a as f,c,m as v,z as w,f as B,i as n,h as A,p as I,l as r,C as z,B as u,t as _}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-CdSqfJMx.js";import"./3iSoGi4ic-Dv7rS4og.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const R={class:"_spacer",style:{"--MI_SPACER-w":"800px"}},V={key:0},W={key:1},E={key:2},Q=M({__name:"notifications",setup(H){const i=f("all"),t=f(null),g=c(()=>t.value?m.filter(a=>!t.value.includes(a)):null),h=v(new d("notes/mentions",{limit:10})),y=v(new d("notes/mentions",{limit:10,params:{visibility:"specified"}}));function k(a){const o=m.map(s=>({text:{"all":"전부","note":"유저의 새 글","follow":"팔로잉","mention":"멘션","reply":"답글","renote":"리노트","quote":"인용","reaction":"리액션","pollEnded":"투표가 종료됨","scheduledNotePosted":"예약 게시에 성공했습니다","scheduledNotePostFailed":"예약 게시에 실패했습니다","receiveFollowRequest":"팔로우 요청을 받았을 때","followRequestAccepted":"팔로우 요청이 승인되었을 때","roleAssigned":"역할이 부여됨","chatRoomInvitationReceived":"채팅 룸에 초대받음","achievementEarned":"도전 과제 획득","exportCompleted":"추출을 성공함","login":"로그인","createToken":"액세스 토큰 만들기","test":"알림 테스트","app":"연동된 앱을 통한 알림"}[s],active:(t.value&&t.value.includes(s))??!1,action:()=>{t.value=[s]}})),l=t.value!=null?[{icon:"ti ti-x",text:"지우기",action:()=>{t.value=null}},{type:"divider"},...o]:o;C(l,a.currentTarget??a.target)}const x=c(()=>[i.value==="all"?{text:"필터",icon:"ti ti-filter",highlighted:t.value!=null,handler:k}:void 0,i.value==="all"?{text:"모두 읽은 상태로 표시",icon:"ti ti-check",handler:()=>{P("notifications/mark-all-as-read",{})}}:void 0].filter(a=>a!==void 0)),b=c(()=>[{key:"all",title:"전체",icon:"ti ti-point"},{key:"mentions",title:"받은 멘션",icon:"ti ti-at"},{key:"directNotes",title:"다이렉트 노트",icon:"ti ti-mail"}]);return T(()=>({title:"알림",icon:"ti ti-bell"})),(a,o)=>{const l=w("PageWithHeader");return n(),B(l,{tab:i.value,"onUpdate:tab":o[0]||(o[0]=s=>i.value=s),actions:x.value,tabs:b.value,swipable:!0},{default:A(()=>[I("div",R,[i.value==="all"?(n(),r("div",V,[u(N,{class:"xtfIf",excludeTypes:g.value},null,8,["class","excludeTypes"])])):i.value==="mentions"?(n(),r("div",W,[u(p,{paginator:_(h)},null,8,["paginator"])])):i.value==="directNotes"?(n(),r("div",E,[u(p,{paginator:_(y)},null,8,["paginator"])])):z("",!0)])]),_:1},8,["tab","actions","tabs"])}}});export{Q as default};
