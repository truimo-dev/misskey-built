import{aP as C,aJ as T,aK as f,aL as d}from"./3iSoGi4ic-DV-GuiCp.js";import{M as b}from"./3iSoGi4ic-CdSqfJMx.js";import{b as I,z as h,f as x,i as o,h as g,p as a,l as n,A as N,F as y,t as c,g as i,B as s,C as R,D as k,E as v}from"./3iSoGi4ic-D0mTJ0Mu.js";const D=["data-scroll-anchor"],S=["data-scroll-anchor"],H=I({__name:"MkNotesTimeline",props:{autoLoad:{type:Boolean,default:!0},direction:{default:"down"},pullToRefresh:{type:Boolean,default:!0},withControl:{type:Boolean,default:!0},forceDisableInfiniteScroll:{type:Boolean,default:!1},paginator:{},noGap:{type:Boolean}},setup(e,{expose:A}){const u=e;C("noteDeleted",m=>{u.paginator.removeItem(m)});function M(){return u.paginator.reload()}return A({reload:M}),(m,l)=>{const w=h("MkResult"),p=h("MkAd");return o(),x(b,{paginator:e.paginator,direction:e.direction,autoLoad:e.autoLoad,pullToRefresh:e.pullToRefresh,withControl:e.withControl,forceDisableInfiniteScroll:e.forceDisableInfiniteScroll},{empty:g(()=>[s(w,{type:"empty",text:"無貼文"},null,8,["text"])]),default:g(({items:B})=>[a("div",{class:i(["xlngU",{x8W9R:e.noGap,_gaps:!e.noGap}])},[(o(!0),n(y,null,N(B,(t,r)=>(o(),n(y,{key:t.id},[r>0&&c(T)(e.paginator.items.value[r-1].createdAt,t.createdAt)?(o(),n("div",{key:0,"data-scroll-anchor":t.id,class:i({_gaps:!e.noGap})},[a("div",{class:i(["xoyAo",{x8W9R:e.noGap}])},[a("span",null,[l[0]||(l[0]=a("i",{class:"ti ti-chevron-up"},null,-1)),k(" "+v(c(f)(e.paginator.items.value[r-1].createdAt,t.createdAt)?.prevText),1)]),l[2]||(l[2]=a("span",{style:{height:"1em",width:"1px",background:"var(--MI_THEME-divider)"}},null,-1)),a("span",null,[k(v(c(f)(e.paginator.items.value[r-1].createdAt,t.createdAt)?.nextText)+" ",1),l[1]||(l[1]=a("i",{class:"ti ti-chevron-down"},null,-1))])],2),s(d,{class:"x5Y88",note:t,withHardMute:!0},null,8,["class","note"]),t._shouldInsertAd_?(o(),n("div",{key:0,class:"xsAPm"},[s(p,{preferForms:["horizontal","horizontal-big"]})],2)):R("",!0)],10,D)):t._shouldInsertAd_?(o(),n("div",{key:1,class:i({_gaps:!e.noGap}),"data-scroll-anchor":t.id},[s(d,{class:"x5Y88",note:t,withHardMute:!0},null,8,["class","note"]),a("div",{class:"xsAPm"},[s(p,{preferForms:["horizontal","horizontal-big"]})],2)],10,S)):(o(),x(d,{key:2,class:"x5Y88",note:t,withHardMute:!0,"data-scroll-anchor":t.id},null,8,["class","note","data-scroll-anchor"]))],64))),128))],2)]),_:1},8,["paginator","direction","autoLoad","pullToRefresh","withControl","forceDisableInfiniteScroll"])}}});export{H as M};
