import{az as v,M as p,J as u,m as n,A as C,bX as M,b2 as j}from"./3iSoGi4ic-DV-GuiCp.js";import{b as x,a as A,c as d,z as m,f as B,i as c,h as i,p as T,l as f,B as l,D as h,E as _}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const N={class:"_spacer",style:{"--MI_SPACER-w":"800px"}},P={key:0,class:"_buttonsCenter"},I={key:1,class:"_fullInfo"},z=x({__name:"lookup",setup(W){const r=A("fetching");function w(){const s=new URL(window.location.href).searchParams;let t=s.get("uri")??s.get("acct");if(t==null){r.value="done";return}let o;t.startsWith("https://")?o=u("ap/show",{uri:t}).then(e=>{e.type==="User"?n.replace("/@:acct/:page?",{params:{acct:e.object.host!=null?`${e.object.username}@${e.object.host}`:e.object.username}}):e.type==="Note"?n.replace("/notes/:noteId/:initialTab?",{params:{noteId:e.object.id}}):C({type:"error",text:"Not a user"})}):(t.startsWith("acct:")&&(t=t.slice(5)),o=u("users/show",M(t)).then(e=>{n.replace("/@:acct/:page?",{params:{acct:e.host!=null?`${e.username}@${e.host}`:e.username}})})),j(o,null,null,"從聯邦宇宙取得中...")}function g(){window.close(),window.setTimeout(()=>{window.location.href="/"},100)}function k(){window.location.href="/"}w();const b=d(()=>[]),y=d(()=>[]);return v({title:"查詢",icon:"ti ti-world-search"}),(s,t)=>{const o=m("MkLoading"),e=m("PageWithHeader");return c(),B(e,{actions:b.value,tabs:y.value},{default:i(()=>[T("div",N,[r.value==="done"?(c(),f("div",P,[l(p,{onClick:g},{default:i(()=>[h(_("關閉"),1)]),_:1}),l(p,{onClick:k},{default:i(()=>[h(_("往 Misskey"),1)]),_:1})])):(c(),f("div",I,[l(o)]))])]),_:1},8,["actions","tabs"])}}});export{z as default};
