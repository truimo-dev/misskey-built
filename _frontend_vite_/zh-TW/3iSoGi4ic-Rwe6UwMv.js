const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DjjNifUs.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D0mTJ0Mu.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-B1GPmOGN.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-DV-GuiCp.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Dty8GuTz.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-D98_HDRS.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-DZU1WGtr.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-9GwroBN9.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-BBsRrkiB.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Bk7E6Sgr.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/scripts/3iSoGi4ic-Fx-BY70c.js","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-Dkg-saem.css","https://fastly.jsdelivr.net/gh/truimo-dev/misskey-built@latest/_frontend_vite_/assets/3iSoGi4ic-BAXK1Js7.css"])))=>i.map(i=>d[i]);
import{Q as H,R as P,M as g,a7 as K,a8 as Q,C as E,a9 as X,aa as Y,L as U,J as O,P as D,ab as $,U as w,ac as R,i as F,ad as q,d as Z,e as G}from"./3iSoGi4ic-DV-GuiCp.js";import{b,a as C,w as V,z as M,k as j,l as f,i as u,B as l,h as a,D as i,E as n,t as S,j as J,p as s,s as h,f as I,m as T,F as z,A as L,u as tt,a2 as et,T as st,C as at,n as nt}from"./3iSoGi4ic-D0mTJ0Mu.js";import{h as B}from"./3iSoGi4ic-B1GPmOGN.js";import{M as it}from"./3iSoGi4ic-BDF7xMl0.js";import{F as lt}from"./3iSoGi4ic-D8UyQ0ea.js";import{M as A}from"./3iSoGi4ic-Fx-BY70c.js";import{M as W}from"./3iSoGi4ic-CdSqfJMx.js";import{_ as ot}from"./3iSoGi4ic-1UQoJOkD.js";import"./3iSoGi4ic-D98_HDRS.js";import"./3iSoGi4ic-Dv7rS4og.js";const rt={class:"_gaps"},ut={style:{"margin-top":"16px"}},dt=b({__name:"MkUserSetupDialog.Profile",setup(x){const c=H(),p=C(c.name??""),d=C(c.description??"");V(p,()=>{U("i/update",{name:p.value||null},void 0,{"0b3f9f6a-2f4d-4b1f-9fb4-49d3a2fd7191":{title:"您嘗試更改的名稱包含禁止的字串",text:"名稱中包含禁止使用的字串。 如果您想使用此名稱，請聯絡您的伺服器管理員。"}})}),V(d,()=>{U("i/update",{description:d.value||null})});async function o(_){const m=(await Q({multiple:!1}))[0];let k=m;const{canceled:y}=await E({type:"question",text:"要剪裁圖片嗎？",okText:"裁剪",cancelText:"使用原圖"});y||(k=await X(m,{aspectRatio:1}));const t=(await Y([k],{multiple:!1}))[0],v=await U("i/update",{avatarId:t.id});c.avatarId=v.avatarId,c.avatarUrl=v.avatarUrl}return(_,r)=>{const m=M("MkAvatar"),k=j("adaptive-bg");return u(),f("div",rt,[l(P,null,{default:a(()=>[i(n("這裡的設定可以在之後變更。"),1)]),_:1}),l(lt,null,{label:a(()=>[i(n("大頭貼"),1)]),default:a(()=>[J((u(),f("div",{class:"xnNwG _panel"},[l(m,{class:"x8idh",user:S(c),onClick:o},null,8,["class","user"]),s("div",ut,[l(g,{primary:"",rounded:"",inline:"",onClick:o},{default:a(()=>[i(n("更換大頭貼"),1)]),_:1})])],2)),[[k]])]),_:1}),l(K,{modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=y=>p.value=y),max:30,manualSave:"","data-cy-user-setup-user-name":""},{label:a(()=>[i(n("名字"),1)]),_:1},8,["modelValue"]),l(it,{modelValue:d.value,"onUpdate:modelValue":r[1]||(r[1]=y=>d.value=y),max:500,tall:"",manualSave:"","data-cy-user-setup-user-description":""},{label:a(()=>[i(n("關於我"),1)]),_:1},8,["modelValue"]),l(P,null,{default:a(()=>[i(n("除此之外，還可以在「設定」頁面進行各種設定。之後請確認看看。"),1)]),_:1})])}}});const ct={class:"_panel",style:{position:"relative"}},pt={key:1,style:{opacity:"0.7"}},vt={key:1,style:{opacity:"0.7","text-align":"center"}},N=b({__name:"MkUserSetupDialog.User",props:{user:{}},setup(x){const c=x,p=C(!1);async function d(){p.value=!0,O("following/create",{userId:c.user.id})}return(o,_)=>{const r=M("MkAvatar"),m=M("MkUserName"),k=M("MkAcct"),y=M("Mfm"),t=j("adaptive-bg");return J((u(),f("div",ct,[s("div",{class:"xmKC2",style:h(x.user.bannerUrl?{backgroundImage:`url(${x.user.bannerUrl})`}:"")},null,6),l(r,{class:"x7zQ3",user:x.user,indicator:""},null,8,["class","user"]),s("div",{class:"xcmsO"},[s("div",{class:"xxYLc"},[l(m,{user:x.user,nowrap:!1},null,8,["user"])],2),s("p",{class:"xiVgX"},[l(k,{user:x.user},null,8,["user"])],2)],2),s("div",{class:"x8icC"},[x.user.description?(u(),f("div",{key:0,class:"xzxoW"},[l(y,{text:x.user.description,author:x.user},null,8,["text","author"])],2)):(u(),f("span",pt,n("此使用者尚未自我介紹"),1))],2),s("div",{class:"x8Sip"},[p.value?(u(),f("div",vt,[i(n("追隨中")+" ",1),_[1]||(_[1]=s("i",{class:"ti ti-check"},null,-1))])):(u(),I(g,{key:0,primary:"",gradate:"",rounded:"",full:"",onClick:d},{default:a(()=>[_[0]||(_[0]=s("i",{class:"ti ti-plus"},null,-1)),i(" "+n("追隨"),1)]),_:1}))],2)])),[[t]])}}});const mt={class:"_gaps"},ft={style:{"text-align":"center"}},gt=b({__name:"MkUserSetupDialog.Follow",setup(x){const c=T(new D("pinned-users",{noPaging:!0,limit:10})),p=T(new D("users",{limit:10,noPaging:!0,params:{state:"alive",origin:"local",sort:"+follower"}}));return(d,o)=>(u(),f("div",mt,[s("div",ft,n("為了構築時間軸，試著追隨您感興趣的使用者吧。"),1),l(A,{defaultOpen:!0},{label:a(()=>[i(n("推薦"),1)]),default:a(()=>[l(W,{paginator:S(c)},{default:a(({items:_})=>[s("div",{class:"xv8AK"},[(u(!0),f(z,null,L(_,r=>(u(),I(N,{key:r.id,user:r},null,8,["user"]))),128))],2)]),_:1},8,["paginator"])]),_:1}),l(A,{defaultOpen:!0},{label:a(()=>[i(n("熱門使用者"),1)]),default:a(()=>[l(W,{paginator:S(p)},{default:a(({items:_})=>[s("div",{class:"xv8AK"},[(u(!0),f(z,null,L(_,r=>(u(),I(N,{key:r.id,user:r},null,8,["user"]))),128))],2)]),_:1},8,["paginator"])]),_:1})]))}});const xt={class:"_gaps"},_t=b({__name:"MkUserSetupDialog.Privacy",setup(x){const c=C(!1),p=C(!1),d=C(!1),o=C(!0);return V([c,p,d,o],()=>{O("i/update",{isLocked:!!c.value,hideOnlineStatus:!!p.value,noCrawle:!!d.value,preventAiLearning:!!o.value})}),(_,r)=>(u(),f("div",xt,[l(P,null,{default:a(()=>[i(n("這裡的設定可以在之後變更。"),1)]),_:1}),l(A,null,{label:a(()=>[i(n("追隨需要核准"),1)]),icon:a(()=>[...r[4]||(r[4]=[s("i",{class:"ti ti-lock"},null,-1)])]),suffix:a(()=>[i(n(c.value?"開啟":"關閉"),1)]),default:a(()=>[l($,{modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=m=>c.value=m)},{caption:a(()=>[i(n("即使追隨需要核准，除非你將貼文的可見性設定為 「追隨者」，否則任何人都能看見你的貼文。"),1)]),default:a(()=>[i(n("追隨需要核准"),1)]),_:1},8,["modelValue"])]),_:1}),l(A,null,{label:a(()=>[i(n("隱藏上線狀態"),1)]),icon:a(()=>[...r[5]||(r[5]=[s("i",{class:"ti ti-eye-off"},null,-1)])]),suffix:a(()=>[i(n(p.value?"開啟":"關閉"),1)]),default:a(()=>[l($,{modelValue:p.value,"onUpdate:modelValue":r[1]||(r[1]=m=>p.value=m)},{caption:a(()=>[i(n("隱藏上線狀態後，可能會降低搜尋等功能的便利性。"),1)]),default:a(()=>[i(n("隱藏上線狀態"),1)]),_:1},8,["modelValue"])]),_:1}),l(A,null,{label:a(()=>[i(n("拒絕搜尋引擎索引"),1)]),icon:a(()=>[...r[6]||(r[6]=[s("i",{class:"ti ti-world-x"},null,-1)])]),suffix:a(()=>[i(n(d.value?"開啟":"關閉"),1)]),default:a(()=>[l($,{modelValue:d.value,"onUpdate:modelValue":r[2]||(r[2]=m=>d.value=m)},{caption:a(()=>[i(n("要求網路搜尋引擎不要索引你的個人資料頁、貼文及頁面等。"),1)]),default:a(()=>[i(n("拒絕搜尋引擎索引"),1)]),_:1},8,["modelValue"])]),_:1}),l(A,null,{label:a(()=>[i(n("拒絕接受生成式AI的訓練"),1)]),icon:a(()=>[...r[7]||(r[7]=[s("i",{class:"ti ti-photo-shield"},null,-1)])]),suffix:a(()=>[i(n(o.value?"開啟":"關閉"),1)]),default:a(()=>[l($,{modelValue:o.value,"onUpdate:modelValue":r[3]||(r[3]=m=>o.value=m)},{caption:a(()=>[i(n("要求站外生成式 AI 不使用您發佈的內容訓練模型。此功能會使伺服器於 HTML 回應新增「noai」標籤，而因為要視乎 AI 會否遵守該標籤，所以此功能無法完全阻止所有 AI 使用您的內容。"),1)]),default:a(()=>[i(n("拒絕接受生成式AI的訓練"),1)]),_:1},8,["modelValue"])]),_:1}),l(P,null,{default:a(()=>[i(n("除此之外，還可以在「設定」頁面進行各種設定。之後請確認看看。"),1)]),_:1})]))}}),yt={style:{"overflow-x":"clip"}},kt={class:"_spacer",style:{"--MI_SPACER-min":"20px","--MI_SPACER-max":"28px"}},Ct={class:"_gaps",style:{"text-align":"center"}},St={style:{"font-size":"120%"}},At={key:1,style:{height:"100cqh",overflow:"auto"}},wt={class:"_buttonsCenter"},Mt={key:2,style:{height:"100cqh",overflow:"auto"}},bt={class:"_buttonsCenter"},$t={key:3,style:{height:"100cqh",overflow:"auto"}},Pt={class:"_spacer",style:{"--MI_SPACER-min":"20px","--MI_SPACER-max":"28px"}},Vt={class:"_buttonsCenter"},It={class:"_spacer",style:{"--MI_SPACER-min":"20px","--MI_SPACER-max":"28px"}},Ut={class:"_gaps",style:{"text-align":"center"}},Et={style:{"font-size":"120%"}},Dt={style:{padding:"0 16px"}},Rt={class:"_buttonsCenter",style:{"margin-top":"16px"}},Ft={class:"_spacer",style:{"--MI_SPACER-min":"20px","--MI_SPACER-max":"28px"}},Tt={class:"_gaps",style:{"text-align":"center"}},zt={style:{"font-size":"120%"}},Lt={class:"_buttonsCenter",style:{"margin-top":"16px"}},Bt={class:"_buttonsCenter"},Gt=b({__name:"MkUserSetupDialog",emits:["closed"],setup(x,{emit:c}){const p=c,d=tt("dialog"),o=C(w.s.accountSetupWizard);V(o,()=>{w.set("accountSetupWizard",o.value)});async function _(y){{const{canceled:t}=await E({type:"warning",text:"要略過初始設定嗎？"});if(t)return}d.value?.close(),w.set("accountSetupWizard",-1)}function r(){w.set("accountSetupWizard",-1),d.value?.close()}function m(){r(),nt(async()=>{const{dispose:y}=await Z(G(()=>import("./3iSoGi4ic-DjjNifUs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]),import.meta.url).then(t=>t.default),{initialPage:1},{closed:()=>y()})})}async function k(y){{const{canceled:t}=await E({type:"warning",text:"稍後再重新進行初始設定嗎？"});if(t)return}d.value?.close(),w.set("accountSetupWizard",0)}return(y,t)=>(u(),I(q,{ref_key:"dialog",ref:d,width:500,height:550,"data-cy-user-setup":"",onClose:t[13]||(t[13]=v=>_()),onClosed:t[14]||(t[14]=v=>p("closed"))},et({default:a(()=>[s("div",yt,[s("div",{class:"x4J7d"},[s("div",{class:"xhJL7",style:h({width:`${o.value/5*100}%`})},null,6)],2),l(st,{mode:"out-in",enterActiveClass:"xj8wQ",leaveActiveClass:"xdVJC",enterFromClass:"x2NW5",leaveToClass:"xlBUi"},{default:a(()=>[o.value===0?(u(),f("div",{key:0,class:"xl5eZ"},[l(R,{style:{position:"absolute",top:"0"},scale:1.5}),s("div",kt,[s("div",Ct,[t[20]||(t[20]=s("i",{class:"ti ti-confetti",style:{display:"block",margin:"auto","font-size":"3em",color:"var(--MI_THEME-accent)"}},null,-1)),s("div",St,n("帳戶已建立完成！"),1),s("div",null,n("來進行帳戶的初始設定吧。"),1),l(g,{primary:"",rounded:"",gradate:"",style:{margin:"16px auto 0 auto"},"data-cy-user-setup-continue":"",onClick:t[0]||(t[0]=v=>o.value++)},{default:a(()=>[i(n("個人檔案設定")+" ",1),t[19]||(t[19]=s("i",{class:"ti ti-arrow-right"},null,-1))]),_:1}),l(g,{style:{margin:"0 auto"},transparent:"",rounded:"",onClick:t[1]||(t[1]=v=>k(!0))},{default:a(()=>[i(n("稍後再說"),1)]),_:1})])])],2)):o.value===1?(u(),f("div",At,[s("div",{class:"xuRW9"},[s("div",{class:"_spacer xxHAO",style:{"--MI_SPACER-min":"20px","--MI_SPACER-max":"28px"}},[l(dt)],2),s("div",{class:"xpjtD"},[s("div",wt,[l(g,{rounded:"","data-cy-user-setup-back":"",onClick:t[2]||(t[2]=v=>o.value--)},{default:a(()=>[t[21]||(t[21]=s("i",{class:"ti ti-arrow-left"},null,-1)),i(" "+n("返回"),1)]),_:1}),l(g,{primary:"",rounded:"",gradate:"","data-cy-user-setup-continue":"",onClick:t[3]||(t[3]=v=>o.value++)},{default:a(()=>[i(n("繼續")+" ",1),t[22]||(t[22]=s("i",{class:"ti ti-arrow-right"},null,-1))]),_:1})])],2)],2)])):o.value===2?(u(),f("div",Mt,[s("div",{class:"xuRW9"},[s("div",{class:"_spacer xxHAO",style:{"--MI_SPACER-min":"20px","--MI_SPACER-max":"28px"}},[l(_t)],2),s("div",{class:"xpjtD"},[s("div",bt,[l(g,{rounded:"","data-cy-user-setup-back":"",onClick:t[4]||(t[4]=v=>o.value--)},{default:a(()=>[t[23]||(t[23]=s("i",{class:"ti ti-arrow-left"},null,-1)),i(" "+n("返回"),1)]),_:1}),l(g,{primary:"",rounded:"",gradate:"","data-cy-user-setup-continue":"",onClick:t[5]||(t[5]=v=>o.value++)},{default:a(()=>[i(n("繼續")+" ",1),t[24]||(t[24]=s("i",{class:"ti ti-arrow-right"},null,-1))]),_:1})])],2)],2)])):o.value===3?(u(),f("div",$t,[s("div",Pt,[l(gt)]),s("div",{class:"xpjtD"},[s("div",Vt,[l(g,{rounded:"","data-cy-user-setup-back":"",onClick:t[6]||(t[6]=v=>o.value--)},{default:a(()=>[t[25]||(t[25]=s("i",{class:"ti ti-arrow-left"},null,-1)),i(" "+n("返回"),1)]),_:1}),l(g,{primary:"",rounded:"",gradate:"",style:{},"data-cy-user-setup-continue":"",onClick:t[7]||(t[7]=v=>o.value++)},{default:a(()=>[i(n("繼續")+" ",1),t[26]||(t[26]=s("i",{class:"ti ti-arrow-right"},null,-1))]),_:1})])],2)])):o.value===4?(u(),f("div",{key:4,class:"xl5eZ"},[s("div",It,[s("div",Ut,[t[29]||(t[29]=s("i",{class:"ti ti-bell-ringing-2",style:{display:"block",margin:"auto","font-size":"3em",color:"var(--MI_THEME-accent)"}},null,-1)),s("div",Et,n("推播通知"),1),s("div",Dt,n((({name})=>("啟用推送通知後，就可以在裝置上接收來自 "+name+" 的通知了。"))({name:S(F).name??S(B)})),1),l(ot,{primary:"",showOnlyToRegister:"",style:{margin:"0 auto"}}),s("div",Rt,[l(g,{rounded:"","data-cy-user-setup-back":"",onClick:t[8]||(t[8]=v=>o.value--)},{default:a(()=>[t[27]||(t[27]=s("i",{class:"ti ti-arrow-left"},null,-1)),i(" "+n("返回"),1)]),_:1}),l(g,{primary:"",rounded:"",gradate:"","data-cy-user-setup-continue":"",onClick:t[9]||(t[9]=v=>o.value++)},{default:a(()=>[i(n("繼續")+" ",1),t[28]||(t[28]=s("i",{class:"ti ti-arrow-right"},null,-1))]),_:1})])])])],2)):o.value===5?(u(),f("div",{key:5,class:"xl5eZ"},[l(R,{style:{position:"absolute",top:"0"},scale:1.5}),s("div",Ft,[s("div",Tt,[t[32]||(t[32]=s("i",{class:"ti ti-check",style:{display:"block",margin:"auto","font-size":"3em",color:"var(--MI_THEME-accent)"}},null,-1)),s("div",zt,n("初始設定完成了！"),1),s("div",null,n((({name})=>("您可以繼續學習如何使用"+name+"(Misskey)，也可以就此打住，立即開始使用。"))({name:S(F).name??S(B)})),1),s("div",Lt,[l(g,{rounded:"",primary:"",gradate:"","data-cy-user-setup-continue":"",onClick:t[10]||(t[10]=v=>m())},{default:a(()=>[i(n("開始教學課程")+" ",1),t[30]||(t[30]=s("i",{class:"ti ti-arrow-right"},null,-1))]),_:1})]),s("div",Bt,[l(g,{rounded:"","data-cy-user-setup-back":"",onClick:t[11]||(t[11]=v=>o.value--)},{default:a(()=>[t[31]||(t[31]=s("i",{class:"ti ti-arrow-left"},null,-1)),i(" "+n("返回"),1)]),_:1}),l(g,{rounded:"",primary:"","data-cy-user-setup-continue":"",onClick:t[12]||(t[12]=v=>r())},{default:a(()=>[i(n("關閉"),1)]),_:1})])])])],2)):at("",!0)]),_:1},8,["enterActiveClass","leaveActiveClass","enterFromClass","leaveToClass"])])]),_:2},[o.value===1?{name:"header",fn:a(()=>[t[15]||(t[15]=s("i",{class:"ti ti-user-edit"},null,-1)),i(" "+n("個人檔案設定"),1)]),key:"0"}:o.value===2?{name:"header",fn:a(()=>[t[16]||(t[16]=s("i",{class:"ti ti-lock"},null,-1)),i(" "+n("隱私設定"),1)]),key:"1"}:o.value===3?{name:"header",fn:a(()=>[t[17]||(t[17]=s("i",{class:"ti ti-user-plus"},null,-1)),i(" "+n("追隨"),1)]),key:"2"}:o.value===4?{name:"header",fn:a(()=>[t[18]||(t[18]=s("i",{class:"ti ti-bell-plus"},null,-1)),i(" "+n("推播通知"),1)]),key:"3"}:o.value===5?{name:"header",fn:a(()=>[i(n("完成"),1)]),key:"4"}:{name:"header",fn:a(()=>[i(n("初始設定"),1)]),key:"5"}]),1536))}});export{Gt as default};
