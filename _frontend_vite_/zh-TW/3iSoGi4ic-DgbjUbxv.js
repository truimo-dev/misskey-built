import{Q as T,N as o,az as A,M as N,k as $,L as b}from"./3iSoGi4ic-DV-GuiCp.js";import{_ as I}from"./3iSoGi4ic-BFkjns-m.js";import{b as w,c as d,L as E,z as r,f as p,i as a,h as l,p as n,B as _,C as h,l as g,D as m,E as c,t as P,F as U,A as V}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const z={class:"_spacer",style:{"--MI_SPACER-w":"700px"}},D={class:"_gaps"},F={key:1,class:"_gaps"},R={style:{"margin-bottom":"4px"}},K=w({__name:"index",setup(S){const k=T(),u=d(()=>o.value.value??[]);function i(){o.fetch()}i();async function x(){const{canceled:f,result:s}=await $({title:"輸入清單名稱"});f||s==null||(await b("users/lists/create",{name:s}),o.delete(),i())}const v=d(()=>[{asFullButton:!0,icon:"ti ti-refresh",text:"重新整理",handler:()=>{o.delete(),i()}}]),y=d(()=>[]);return A(()=>({title:"管理清單",icon:"ti ti-list"})),E(()=>{i()}),(f,s)=>{const C=r("MkTip"),L=r("MkResult"),M=r("MkA"),B=r("PageWithHeader");return a(),p(B,{actions:v.value,tabs:y.value},{default:l(()=>[n("div",z,[n("div",D,[_(C,{k:"userLists"},{default:l(()=>[m(c("您可以建立包含任意使用者的清單。建立後的清單可以作為時間軸顯示。\n"),1)]),_:1}),u.value.length===0?(a(),p(L,{key:0,type:"empty"})):h("",!0),_(N,{primary:"",rounded:"",style:{margin:"0 auto"},onClick:x},{default:l(()=>[s[0]||(s[0]=n("i",{class:"ti ti-plus"},null,-1)),m(" "+c("建立清單"),1)]),_:1}),u.value.length>0?(a(),g("div",F,[(a(!0),g(U,null,V(u.value,t=>(a(),p(M,{key:t.id,class:"_panel x7vT0",to:`/timeline/list/${t.id}`},{default:l(()=>[n("div",R,[m(c(t.name)+" ",1),n("span",{class:"xsYsC"},"("+c((({n})=>(n+" 使用者"))({n:`${t.userIds.length}/${P(k).policies.userEachUserListsLimit}`}))+")",3)]),_(I,{userIds:t.userIds,limit:10},null,8,["userIds"])]),_:2},1032,["class","to"]))),128))])):h("",!0)])])]),_:1},8,["actions","tabs"])}}});export{K as default};
