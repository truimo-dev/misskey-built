import{u as G}from"./3iSoGi4ic-DCTAa4Sx.js";import{aD as I,aE as Z}from"./3iSoGi4ic-DV-GuiCp.js";import{b as $,a as o,w as P,l as g,i as f,p as e,g as Q,E as s,t as W,D as u,s as D}from"./3iSoGi4ic-D0mTJ0Mu.js";import"./3iSoGi4ic-B1GPmOGN.js";import"./3iSoGi4ic-D98_HDRS.js";const R={key:0,class:"day"},N="calendar",ae=$({__name:"WidgetCalendar",props:{widget:{}},emits:["updateProps"],setup(E,{expose:M,emit:B}){const H={transparent:{type:"boolean",default:!1}},y=E,X=B,{widgetProps:b,configure:z}=G(N,H,y,X),K=I(),T=o(0),x=o(0),i=o(0),h=o(""),w=o(0),p=o(0),v=o(0),k=o(!1),r=new Date;r.setHours(24,0,0,0);let m=r.getTime(),c=null;function _(l){const a=new Date(l),C=a.getDate(),d=a.getMonth(),n=a.getFullYear();T.value=n,x.value=d+1,i.value=C,h.value=["æ˜ŸæœŸå¤©","æ˜ŸæœŸä¸€","æ˜ŸæœŸäºŒ","æ˜ŸæœŸä¸‰","æ˜ŸæœŸå››","æ˜ŸæœŸäº”","æ˜ŸæœŸå…­"][a.getDay()];const L=a.getTime()-new Date(n,d,C).getTime(),S=1e3*60*60*24,Y=a.getTime()-new Date(n,d,1).getTime(),V=new Date(n,d+1,1).getTime()-new Date(n,d,1).getTime(),A=a.getTime()-new Date(n,0,1).getTime(),F=new Date(n+1,0,1).getTime()-new Date(n,0,1).getTime();v.value=L/S*100,p.value=Y/V*100,w.value=A/F*100,k.value=a.getDay()===0||a.getDay()===6}return P(K,l=>{_(l),m-l<=Z&&(c!=null&&(window.clearTimeout(c),c=null),c=window.setTimeout(()=>{_(m),c=null},m-l))},{immediate:!0}),P(i,()=>{r.setHours(24,0,0,0),m=r.getTime()}),M({name:N,configure:z,id:y.widget?y.widget.id:null}),(l,a)=>(f(),g("div",{class:Q(["xxKsY",{_panel:!W(b).transparent}]),"data-cy-mkw-calendar":""},[e("div",{class:Q(["x7f99",{x7lL3:k.value}])},[e("p",{class:"x3IHP"},[e("span",{class:"x6X5Q"},s((({year})=>(year+" å¹´"))({year:T.value})),3),e("span",{class:"xc7ou"},s((({month})=>(month+" æœˆ"))({month:x.value})),3)],2),x.value===1&&i.value===1?(f(),g("p",R,[u("ðŸŽ‰"+s((({day})=>(day+" æ—¥"))({day:i.value})),1),a[0]||(a[0]=e("span",{style:{display:"inline-block",transform:"scaleX(-1)"}},"ðŸŽ‰",-1))])):(f(),g("p",{key:1,class:"x8NSM"},s((({day})=>(day+" æ—¥"))({day:i.value})),3)),e("p",{class:"x79kE"},s(h.value),3)],2),e("div",{class:"xuaCL"},[e("div",{class:"xnlQQ"},[e("p",{class:"x7zlB"},[u(s("æœ¬æ—¥"),1),e("b",{class:"xlK3Z"},s(v.value.toFixed(1))+"%",3)],2),e("div",{class:"xC61G"},[e("div",{class:"xwd2i",style:D({width:`${v.value}%`})},null,6)],2)],2),e("div",{class:"xnlQQ"},[e("p",{class:"x7zlB"},[u(s("æœ¬æœˆ"),1),e("b",{class:"xlK3Z"},s(p.value.toFixed(1))+"%",3)],2),e("div",{class:"xC61G"},[e("div",{class:"xwd2i",style:D({width:`${p.value}%`})},null,6)],2)],2),e("div",{class:"xnlQQ"},[e("p",{class:"x7zlB"},[u(s("æœ¬å¹´"),1),e("b",{class:"xlK3Z"},s(w.value.toFixed(1))+"%",3)],2),e("div",{class:"xC61G"},[e("div",{class:"xwd2i",style:D({width:`${w.value}%`})},null,6)],2)],2)],2)],2))}});export{ae as default};
