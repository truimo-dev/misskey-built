const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/3iSoGi4ic-PfNRbUzp.css","uk-UA/3iSoGi4ic-BsdmdwE1.js","uk-UA/3iSoGi4ic-D04gTiyu.js","uk-UA/3iSoGi4ic-CPesB5eK.js","uk-UA/3iSoGi4ic-BxeXxkJv.js","uk-UA/3iSoGi4ic-DRDLOV37.js","assets/3iSoGi4ic-Dhs21BEC.css"])))=>i.map(i=>d[i]);
import{c as M,d as I}from"./3iSoGi4ic-BxeXxkJv.js";import{t as T,m as L,p as S,f as x,D as m,s as A,a as F,b as N}from"./3iSoGi4ic-D04gTiyu.js";import{u as C}from"./3iSoGi4ic-CPesB5eK.js";const W="modulepreload",D=function(e){return"/embed_vite/"+e},E={},H=function(t,a,o){let r=Promise.resolve();if(a&&a.length>0){let d=function(i){return Promise.all(i.map(g=>Promise.resolve(g).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),c=s?.nonce||s?.getAttribute("nonce");r=d(a.map(i=>{if(i=D(i),i in E)return;E[i]=!0;const g=i.endsWith(".css"),p=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${i}"]${p}`))return;const l=document.createElement("link");if(l.rel=g?"stylesheet":W,g||(l.as="script"),l.crossOrigin="",l.href=i,c&&l.setAttribute("nonce",c),document.head.appendChild(l),g)return new Promise((_,$)=>{l.addEventListener("load",_),l.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${i}`)))})}))}function n(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return r.then(s=>{for(const c of s||[])c.status==="rejected"&&n(c.reason);return t().catch(n)})};(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function a(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=a(r);fetch(r.href,n)}})();var R="4eea646f-7afa-4645-83e9-83af0333cd37",j="Mi Light",U="syuilo",z="Default light theme",G="light",J={bg:"#f9f9f9",fg:"#676767",fgOnWhite:"@accent",divider:"#e8e8e8",header:":alpha<0.7<@panel",navBg:"#fff",panel:"#fff",mentionMe:"rgb(0, 179, 70)"};const X={id:R,name:j,author:U,desc:z,base:G,props:J};var V="8050783a-7f63-445a-b270-36d0f6ba1677",q="Mi Dark",K="syuilo",Y="Default light theme",Q="dark",Z={bg:"#232323",fg:"rgb(199, 209, 216)",fgHighlighted:"#fff",fgOnWhite:"@accent",divider:"rgba(255, 255, 255, 0.14)",panel:"#2d2d2d",header:":alpha<0.7<@panel",navBg:"#363636",renote:"@accent",mention:"#da6d35",mentionMe:"#d44c4c",hashtag:"#4cb8d4",link:"@accent"};const ee={id:V,name:q,author:K,desc:Y,base:Q,props:Z};class te{serverMetadata;url;constructor(t,a){this.serverMetadata=t,this.url=a}getProxiedImageUrl(t,a,o=!1,r=!1){const n=t.startsWith("http")?new URL(t):new URL(t,this.url);return n.searchParams.set("type",`${a}`),n.searchParams.set("origin",`${o}`),n.searchParams.set("fallback",`${r}`),n.href}getProxiedImageUrlNullable(t,a){return t==null?null:this.getProxiedImageUrl(t,a)}getStaticImageUrl(t){const a=t.startsWith("http")?new URL(t):new URL(t,this.url);return a.searchParams.set("static","1"),a.href}}function re(e){localStorage.setItem("bootloaderLocales",JSON.stringify(e))}var ne="light",ae="Light",oe="syuilo",se="Default light theme",ie="light",ce={accent:"#86b300",accentedBg:":alpha<0.15<@accent",love:"#dd2e44",focus:":alpha<0.3<@accent",bg:"#fff",fg:"#5f5f5f",fgHighlighted:":darken<3<@fg",fgOnAccent:"#fff",fgOnWhite:"#333",divider:"rgba(0, 0, 0, 0.1)",indicator:"@accent",panel:":lighten<3<@bg",panelHighlight:":darken<3<@panel",panelHeaderBg:":lighten<3<@panel",panelHeaderFg:"@fg",panelBorder:'" solid 1px var(--MI_THEME-divider)',windowHeader:":alpha<0.85<@panel",popup:":lighten<3<@panel",shadow:"rgba(0, 0, 0, 0.1)",header:":alpha<0.7<@panel",navBg:"@panel",navFg:"@fg",navActive:"@accent",navIndicator:"@indicator",pageHeaderBg:"@bg",pageHeaderFg:"@fg",link:"#44a4c1",hashtag:"#ff9156",mention:"@accent",mentionMe:"@mention",renote:"#229e82",modalBg:"rgba(0, 0, 0, 0.3)",scrollbarHandle:"rgba(0, 0, 0, 0.2)",scrollbarHandleHover:"rgba(0, 0, 0, 0.4)",dateLabelFg:"@fg",infoBg:"#e5f5ff",infoFg:"#72818a",infoWarnBg:"#fff0db",infoWarnFg:"#8f6e31",folderHeaderBg:"rgba(0, 0, 0, 0.05)",folderHeaderHoverBg:"rgba(0, 0, 0, 0.1)",buttonBg:":darken<5<@panel",buttonHoverBg:":darken<10<@panel",buttonGradateA:"@accent",buttonGradateB:":hue<20<@accent",switchBg:"rgba(0, 0, 0, 0.15)",switchOffBg:"rgba(0, 0, 0, 0.1)",switchOffFg:"@panel",switchOnBg:"@accent",switchOnFg:"@fgOnAccent",inputBorder:"rgba(0, 0, 0, 0.1)",inputBorderHover:"rgba(0, 0, 0, 0.2)",badge:"#31b1ce",messageBg:"@bg",success:"#86b300",error:"#ec4137",warn:"#ecb637",codeString:"#b98710",codeNumber:"#0fbbbb",codeBoolean:"#62b70c",deckBg:":darken<3<@bg",htmlThemeColor:"@bg"},le={base:"catppuccin-latte"};const de={id:ne,name:ae,author:oe,desc:se,kind:ie,props:ce,codeHighlighter:le};var fe="dark",ge="Dark",ue="syuilo",pe="Default dark theme",he="dark",me={accent:"#86b300",accentedBg:":alpha<0.15<@accent",love:"#dd2e44",focus:":alpha<0.3<@accent",bg:"#000",fg:"#dadada",fgHighlighted:":lighten<3<@fg",fgOnAccent:"#fff",fgOnWhite:"#333",divider:"rgba(255, 255, 255, 0.1)",indicator:"@accent",panel:":lighten<3<@bg",panelHighlight:":lighten<3<@panel",panelHeaderBg:":lighten<3<@panel",panelHeaderFg:"@fg",panelBorder:'" solid 1px var(--MI_THEME-divider)',windowHeader:":alpha<0.85<@panel",popup:":lighten<3<@panel",shadow:"rgba(0, 0, 0, 0.3)",header:":alpha<0.7<@panel",navBg:"@panel",navFg:"@fg",navActive:"@accent",navIndicator:"@indicator",pageHeaderBg:"@bg",pageHeaderFg:"@fg",link:"#44a4c1",hashtag:"#ff9156",mention:"@accent",mentionMe:"@mention",renote:"#229e82",modalBg:"rgba(0, 0, 0, 0.5)",scrollbarHandle:"rgba(255, 255, 255, 0.2)",scrollbarHandleHover:"rgba(255, 255, 255, 0.4)",dateLabelFg:"@fg",infoBg:"#253142",infoFg:"#fff",infoWarnBg:"#42321c",infoWarnFg:"#ffbd3e",folderHeaderBg:"rgba(255, 255, 255, 0.05)",folderHeaderHoverBg:"rgba(255, 255, 255, 0.1)",buttonBg:":lighten<5<@panel",buttonHoverBg:":lighten<10<@panel",buttonGradateA:"@accent",buttonGradateB:":hue<20<@accent",switchBg:"rgba(255, 255, 255, 0.15)",switchOffBg:"rgba(255, 255, 255, 0.1)",switchOffFg:":alpha<0.8<@fg",switchOnBg:"@accentedBg",switchOnFg:"@accent",inputBorder:"rgba(255, 255, 255, 0.1)",inputBorderHover:"rgba(255, 255, 255, 0.2)",badge:"#31b1ce",messageBg:"@bg",success:"#86b300",error:"#ec4137",warn:"#ecb637",codeString:"#ffb675",codeNumber:"#cfff9e",codeBoolean:"#c59eff",deckBg:"#000",htmlThemeColor:"@bg"},be={base:"one-dark-pro"};const ve={id:fe,name:ge,author:ue,desc:pe,kind:he,props:me,codeHighlighter:be};let v=null;function we(e){return typeof e=="object"&&e!==null&&"id"in e&&"name"in e&&"author"in e&&"props"in e}function u(e,t=!0){v&&window.clearTimeout(v),window.document.documentElement.classList.add("_themeChanging_"),v=window.setTimeout(()=>{window.document.documentElement.classList.remove("_themeChanging_")},1e3);const a=e.base==="dark"?"dark":"light";window.document.documentElement.dataset.colorScheme=a;const o=JSON.parse(JSON.stringify(e));if(o.base){const n=[de,ve].find(s=>s.id===o.base);n&&(o.props=Object.assign({},n.props,o.props))}const r=ye(o);for(const n of window.document.head.children)if(n.tagName==="META"&&n.getAttribute("name")==="theme-color"){n.setAttribute("content",r.htmlThemeColor);break}for(const[n,s]of Object.entries(r))window.document.documentElement.style.setProperty(`--MI_THEME-${n}`,s.toString())}function ye(e){function t(o){if(o[0]==="@")return t(e.props[o.substring(1)]);if(o[0]==="$")return t(e.props[o]);if(o[0]===":"){const r=o.split("<"),n=r.shift(),s=r.shift();if(n&&s){const c=n.substring(1),d=parseFloat(s),i=t(r.join("<"));switch(c){case"darken":return i.darken(d);case"lighten":return i.lighten(d);case"alpha":return i.setAlpha(d);case"hue":return i.spin(d);case"saturate":return i.saturate(d)}}}return T(o)}const a={};for(const[o,r]of Object.entries(e.props))o.startsWith("$")||(a[o]=r.startsWith('"')?r.replace(/^"\s*/,""):Be(t(r)));return a}function Be(e){return e.toRgbString()}const w=window.document.getElementById("misskey_meta"),ke=w&&w.textContent?JSON.parse(w.textContent):null,b=ke??await L("meta",{detail:!0});await H(()=>Promise.resolve({}),__vite__mapDeps([0]));console.log("Misskey Embed");const Ee=new URLSearchParams(window.location.search),k=S(Ee);function P(e){if(e==null)return null;try{const t=JSON.parse(e);return we(t)?t:null}catch{return null}}const y=P(b.defaultLightTheme)??X,B=P(b.defaultDarkTheme)??ee;k.colorMode==="dark"?u(B):k.colorMode==="light"?u(y):(window.matchMedia("(prefers-color-scheme: dark)").matches?u(B):u(y),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?u(B):u(y)}));re({...{"title":"Failed to load","serverError":"If the problem persists after waiting a moment and reloading, please contact the server administrator with the following Error ID.","solution":"The following may solve the problem.","solution1":"Update your browser and OS to the latest version","solution2":"Disable ad blocker","solution3":"Clear the browser cache","solution4":"Set the dom.webaudio.enabled to true for Tor Browser","otherOption":"Other options","otherOption1":"Delete client settings and cache","otherOption2":"Start the simple client","otherOption3":"Launch the repair tool","otherOption4":"Launch Misskey in safe mode"},reload:"Оновити"});window.document.documentElement.style.maxWidth="500px";function O(e){e.data?.type==="misskey:embedParent:registerIframeId"&&e.data.payload?.iframeId!=null&&(N(e.data.payload.iframeId),window.removeEventListener("message",O))}window.addEventListener("message",O);try{await x()}catch{}const h=M(I(()=>H(()=>import("./3iSoGi4ic-BsdmdwE1.js"),__vite__mapDeps([1,2,3,4,5,6]))));h.provide(m.mediaProxy,new te(b,C));h.provide(m.serverMetadata,b);h.provide(m.serverContext,A);h.provide(m.embedParams,k);const He=(()=>{const e="misskey_app",t=window.document.getElementById(e);if(t)return console.warn("multiple import detected"),t;const a=window.document.createElement("div");return a.id=e,window.document.body.appendChild(a),a})();F("misskey:embed:ready");h.mount(He);window.onerror=null;window.onunhandledrejection=null;Pe();console.log(`%c${"WARNING"}`,"color: #f00; background-color: #ff0; font-size: 36px; padding: 4px;");console.log(`%c${"\"Paste something on this screen\" is all a scam."}`,'color: #f00; font-weight: 900; font-family: "Hiragino Sans W9", "Hiragino Kaku Gothic ProN", sans-serif; font-size: 24px;');console.log(`%c${"If you paste something here, a malicious user could hijack your account or steal your personal information."}`,"font-size: 16px; font-weight: 700;");console.log(`%c${"If you do not understand exactly what you are trying to paste, %cstop working right now and close this window."}`,"font-size: 16px;","font-size: 20px; font-weight: 700; color: #f00;");console.log((({link})=>("For more information, please refer to this. "+link))({link:"https://misskey-hub.net/docs/for-users/resources/self-xss/"}));function Pe(){const e=window.document.getElementById("splash");e&&(e.style.opacity="0",e.style.pointerEvents="none",window.setTimeout(()=>{e.remove()},1e3))}
